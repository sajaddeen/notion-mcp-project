var mo = Object.defineProperty;
var Zs = (n) => {
  throw TypeError(n);
};
var go = (n, e, t) => e in n ? mo(n, e, { enumerable: !0, configurable: !0, writable: !0, value: t }) : n[e] = t;
var x = (n, e, t) => go(n, typeof e != "symbol" ? e + "" : e, t), Er = (n, e, t) => e.has(n) || Zs("Cannot " + t);
var u = (n, e, t) => (Er(n, e, "read from private field"), t ? t.call(n) : e.get(n)), N = (n, e, t) => e.has(n) ? Zs("Cannot add the same private member more than once") : e instanceof WeakSet ? e.add(n) : e.set(n, t), k = (n, e, t, r) => (Er(n, e, "write to private field"), r ? r.call(n, t) : e.set(n, t), t), L = (n, e, t) => (Er(n, e, "access private method"), t);
const qr = {
  version: "0.3.4"
};
async function gs(n) {
  try {
    return [null, await n()];
  } catch (e) {
    return [e, null];
  }
}
function yo(n) {
  const e = Object.values(n).filter((r) => typeof r == "number");
  return Object.entries(n).filter(([r, s]) => e.indexOf(+r) === -1).map(([r, s]) => s);
}
class Ga {
  constructor() {
    this._map = /* @__PURE__ */ new Map(), this._idmap = /* @__PURE__ */ new Map();
  }
  add(e, ...t) {
    const r = t[0];
    if (this._map.set(e, r), r && typeof r == "object" && "id" in r) {
      if (this._idmap.has(r.id))
        throw new Error(`ID ${r.id} already exists in the registry`);
      this._idmap.set(r.id, e);
    }
    return this;
  }
  clear() {
    return this._map = /* @__PURE__ */ new Map(), this._idmap = /* @__PURE__ */ new Map(), this;
  }
  remove(e) {
    const t = this._map.get(e);
    return t && typeof t == "object" && "id" in t && this._idmap.delete(t.id), this._map.delete(e), this;
  }
  get(e) {
    const t = e._zod.parent;
    if (t) {
      const r = { ...this.get(t) ?? {} };
      return delete r.id, { ...r, ...this._map.get(e) };
    }
    return this._map.get(e);
  }
  has(e) {
    return this._map.has(e);
  }
}
function _o() {
  return new Ga();
}
const vo = /* @__PURE__ */ _o();
class qs {
  constructor(e) {
    this.counter = 0, this.metadataRegistry = (e == null ? void 0 : e.metadata) ?? vo, this.target = (e == null ? void 0 : e.target) ?? "draft-2020-12", this.unrepresentable = (e == null ? void 0 : e.unrepresentable) ?? "throw", this.override = (e == null ? void 0 : e.override) ?? (() => {
    }), this.io = (e == null ? void 0 : e.io) ?? "output", this.seen = /* @__PURE__ */ new Map();
  }
  process(e, t = { path: [], schemaPath: [] }) {
    var l, h, g;
    var r;
    const s = e._zod.def, a = {
      guid: "uuid",
      url: "uri",
      datetime: "date-time",
      json_string: "json-string",
      regex: ""
      // do not set
    }, i = this.seen.get(e);
    if (i)
      return i.count++, t.schemaPath.includes(e) && (i.cycle = t.path), i.schema;
    const o = { schema: {}, count: 1, cycle: void 0, path: t.path };
    this.seen.set(e, o);
    const c = (h = (l = e._zod).toJSONSchema) == null ? void 0 : h.call(l);
    if (c)
      o.schema = c;
    else {
      const _ = {
        ...t,
        schemaPath: [...t.schemaPath, e],
        path: t.path
      }, T = e._zod.parent;
      if (T)
        o.ref = T, this.process(T, _), this.seen.get(T).isParent = !0;
      else {
        const y = o.schema;
        switch (s.type) {
          case "string": {
            const m = y;
            m.type = "string";
            const { minimum: I, maximum: w, format: D, patterns: S, contentEncoding: C } = e._zod.bag;
            if (typeof I == "number" && (m.minLength = I), typeof w == "number" && (m.maxLength = w), D && (m.format = a[D] ?? D, m.format === "" && delete m.format), C && (m.contentEncoding = C), S && S.size > 0) {
              const M = [...S];
              M.length === 1 ? m.pattern = M[0].source : M.length > 1 && (o.schema.allOf = [
                ...M.map((W) => ({
                  ...this.target === "draft-7" ? { type: "string" } : {},
                  pattern: W.source
                }))
              ]);
            }
            break;
          }
          case "number": {
            const m = y, { minimum: I, maximum: w, format: D, multipleOf: S, exclusiveMaximum: C, exclusiveMinimum: M } = e._zod.bag;
            typeof D == "string" && D.includes("int") ? m.type = "integer" : m.type = "number", typeof M == "number" && (m.exclusiveMinimum = M), typeof I == "number" && (m.minimum = I, typeof M == "number" && (M >= I ? delete m.minimum : delete m.exclusiveMinimum)), typeof C == "number" && (m.exclusiveMaximum = C), typeof w == "number" && (m.maximum = w, typeof C == "number" && (C <= w ? delete m.maximum : delete m.exclusiveMaximum)), typeof S == "number" && (m.multipleOf = S);
            break;
          }
          case "boolean": {
            const m = y;
            m.type = "boolean";
            break;
          }
          case "bigint": {
            if (this.unrepresentable === "throw")
              throw new Error("BigInt cannot be represented in JSON Schema");
            break;
          }
          case "symbol": {
            if (this.unrepresentable === "throw")
              throw new Error("Symbols cannot be represented in JSON Schema");
            break;
          }
          case "null": {
            y.type = "null";
            break;
          }
          case "any":
            break;
          case "unknown":
            break;
          case "undefined": {
            if (this.unrepresentable === "throw")
              throw new Error("Undefined cannot be represented in JSON Schema");
            break;
          }
          case "void": {
            if (this.unrepresentable === "throw")
              throw new Error("Void cannot be represented in JSON Schema");
            break;
          }
          case "never": {
            y.not = {};
            break;
          }
          case "date": {
            if (this.unrepresentable === "throw")
              throw new Error("Date cannot be represented in JSON Schema");
            break;
          }
          case "array": {
            const m = y, { minimum: I, maximum: w } = e._zod.bag;
            typeof I == "number" && (m.minItems = I), typeof w == "number" && (m.maxItems = w), m.type = "array", m.items = this.process(s.element, { ..._, path: [..._.path, "items"] });
            break;
          }
          case "object": {
            const m = y;
            m.type = "object", m.properties = {};
            const I = s.shape;
            for (const S in I)
              m.properties[S] = this.process(I[S], {
                ..._,
                path: [..._.path, "properties", S]
              });
            const w = new Set(Object.keys(I)), D = new Set([...w].filter((S) => {
              const C = s.shape[S]._zod;
              return this.io === "input" ? C.optin === void 0 : C.optout === void 0;
            }));
            D.size > 0 && (m.required = Array.from(D)), ((g = s.catchall) == null ? void 0 : g._zod.def.type) === "never" ? m.additionalProperties = !1 : s.catchall ? s.catchall && (m.additionalProperties = this.process(s.catchall, {
              ..._,
              path: [..._.path, "additionalProperties"]
            })) : this.io === "output" && (m.additionalProperties = !1);
            break;
          }
          case "union": {
            const m = y;
            m.anyOf = s.options.map((I, w) => this.process(I, {
              ..._,
              path: [..._.path, "anyOf", w]
            }));
            break;
          }
          case "intersection": {
            const m = y, I = this.process(s.left, {
              ..._,
              path: [..._.path, "allOf", 0]
            }), w = this.process(s.right, {
              ..._,
              path: [..._.path, "allOf", 1]
            }), D = (C) => "allOf" in C && Object.keys(C).length === 1, S = [
              ...D(I) ? I.allOf : [I],
              ...D(w) ? w.allOf : [w]
            ];
            m.allOf = S;
            break;
          }
          case "tuple": {
            const m = y;
            m.type = "array";
            const I = s.items.map((S, C) => this.process(S, { ..._, path: [..._.path, "prefixItems", C] }));
            if (this.target === "draft-2020-12" ? m.prefixItems = I : m.items = I, s.rest) {
              const S = this.process(s.rest, {
                ..._,
                path: [..._.path, "items"]
              });
              this.target === "draft-2020-12" ? m.items = S : m.additionalItems = S;
            }
            s.rest && (m.items = this.process(s.rest, {
              ..._,
              path: [..._.path, "items"]
            }));
            const { minimum: w, maximum: D } = e._zod.bag;
            typeof w == "number" && (m.minItems = w), typeof D == "number" && (m.maxItems = D);
            break;
          }
          case "record": {
            const m = y;
            m.type = "object", m.propertyNames = this.process(s.keyType, { ..._, path: [..._.path, "propertyNames"] }), m.additionalProperties = this.process(s.valueType, {
              ..._,
              path: [..._.path, "additionalProperties"]
            });
            break;
          }
          case "map": {
            if (this.unrepresentable === "throw")
              throw new Error("Map cannot be represented in JSON Schema");
            break;
          }
          case "set": {
            if (this.unrepresentable === "throw")
              throw new Error("Set cannot be represented in JSON Schema");
            break;
          }
          case "enum": {
            const m = y, I = yo(s.entries);
            I.every((w) => typeof w == "number") && (m.type = "number"), I.every((w) => typeof w == "string") && (m.type = "string"), m.enum = I;
            break;
          }
          case "literal": {
            const m = y, I = [];
            for (const w of s.values)
              if (w === void 0) {
                if (this.unrepresentable === "throw")
                  throw new Error("Literal `undefined` cannot be represented in JSON Schema");
              } else if (typeof w == "bigint") {
                if (this.unrepresentable === "throw")
                  throw new Error("BigInt literals cannot be represented in JSON Schema");
                I.push(Number(w));
              } else
                I.push(w);
            if (I.length !== 0) if (I.length === 1) {
              const w = I[0];
              m.type = w === null ? "null" : typeof w, m.const = w;
            } else
              I.every((w) => typeof w == "number") && (m.type = "number"), I.every((w) => typeof w == "string") && (m.type = "string"), I.every((w) => typeof w == "boolean") && (m.type = "string"), I.every((w) => w === null) && (m.type = "null"), m.enum = I;
            break;
          }
          case "file": {
            const m = y, I = {
              type: "string",
              format: "binary",
              contentEncoding: "binary"
            }, { minimum: w, maximum: D, mime: S } = e._zod.bag;
            w !== void 0 && (I.minLength = w), D !== void 0 && (I.maxLength = D), S ? S.length === 1 ? (I.contentMediaType = S[0], Object.assign(m, I)) : m.anyOf = S.map((C) => ({ ...I, contentMediaType: C })) : Object.assign(m, I);
            break;
          }
          case "transform": {
            if (this.unrepresentable === "throw")
              throw new Error("Transforms cannot be represented in JSON Schema");
            break;
          }
          case "nullable": {
            const m = this.process(s.innerType, _);
            y.anyOf = [m, { type: "null" }];
            break;
          }
          case "nonoptional": {
            this.process(s.innerType, _), o.ref = s.innerType;
            break;
          }
          case "success": {
            const m = y;
            m.type = "boolean";
            break;
          }
          case "default": {
            this.process(s.innerType, _), o.ref = s.innerType, y.default = JSON.parse(JSON.stringify(s.defaultValue));
            break;
          }
          case "prefault": {
            this.process(s.innerType, _), o.ref = s.innerType, this.io === "input" && (y._prefault = JSON.parse(JSON.stringify(s.defaultValue)));
            break;
          }
          case "catch": {
            this.process(s.innerType, _), o.ref = s.innerType;
            let m;
            try {
              m = s.catchValue(void 0);
            } catch {
              throw new Error("Dynamic catch values are not supported in JSON Schema");
            }
            y.default = m;
            break;
          }
          case "nan": {
            if (this.unrepresentable === "throw")
              throw new Error("NaN cannot be represented in JSON Schema");
            break;
          }
          case "template_literal": {
            const m = y, I = e._zod.pattern;
            if (!I)
              throw new Error("Pattern not found in template literal");
            m.type = "string", m.pattern = I.source;
            break;
          }
          case "pipe": {
            const m = this.io === "input" ? s.in._zod.def.type === "transform" ? s.out : s.in : s.out;
            this.process(m, _), o.ref = m;
            break;
          }
          case "readonly": {
            this.process(s.innerType, _), o.ref = s.innerType, y.readOnly = !0;
            break;
          }
          // passthrough types
          case "promise": {
            this.process(s.innerType, _), o.ref = s.innerType;
            break;
          }
          case "optional": {
            this.process(s.innerType, _), o.ref = s.innerType;
            break;
          }
          case "lazy": {
            const m = e._zod.innerType;
            this.process(m, _), o.ref = m;
            break;
          }
          case "custom": {
            if (this.unrepresentable === "throw")
              throw new Error("Custom types cannot be represented in JSON Schema");
            break;
          }
        }
      }
    }
    const d = this.metadataRegistry.get(e);
    return d && Object.assign(o.schema, d), this.io === "input" && ce(e) && (delete o.schema.examples, delete o.schema.default), this.io === "input" && o.schema._prefault && ((r = o.schema).default ?? (r.default = o.schema._prefault)), delete o.schema._prefault, this.seen.get(e).schema;
  }
  emit(e, t) {
    var f, l, h, g, _, T;
    const r = {
      cycles: (t == null ? void 0 : t.cycles) ?? "ref",
      reused: (t == null ? void 0 : t.reused) ?? "inline",
      // unrepresentable: _params?.unrepresentable ?? "throw",
      // uri: _params?.uri ?? ((id) => `${id}`),
      external: (t == null ? void 0 : t.external) ?? void 0
    }, s = this.seen.get(e);
    if (!s)
      throw new Error("Unprocessed schema. This is a bug in Zod.");
    const a = (y) => {
      var S;
      const m = this.target === "draft-2020-12" ? "$defs" : "definitions";
      if (r.external) {
        const C = (S = r.external.registry.get(y[0])) == null ? void 0 : S.id, M = r.external.uri ?? ((J) => J);
        if (C)
          return { ref: M(C) };
        const W = y[1].defId ?? y[1].schema.id ?? `schema${this.counter++}`;
        return y[1].defId = W, { defId: W, ref: `${M("__shared")}#/${m}/${W}` };
      }
      if (y[1] === s)
        return { ref: "#" };
      const w = `#/${m}/`, D = y[1].schema.id ?? `__schema${this.counter++}`;
      return { defId: D, ref: w + D };
    }, i = (y) => {
      if (y[1].schema.$ref)
        return;
      const m = y[1], { ref: I, defId: w } = a(y);
      m.def = { ...m.schema }, w && (m.defId = w);
      const D = m.schema;
      for (const S in D)
        delete D[S];
      D.$ref = I;
    };
    if (r.cycles === "throw")
      for (const y of this.seen.entries()) {
        const m = y[1];
        if (m.cycle)
          throw new Error(`Cycle detected: #/${(f = m.cycle) == null ? void 0 : f.join("/")}/<root>

Set the \`cycles\` parameter to \`"ref"\` to resolve cyclical schemas with defs.`);
      }
    for (const y of this.seen.entries()) {
      const m = y[1];
      if (e === y[0]) {
        i(y);
        continue;
      }
      if (r.external) {
        const w = (l = r.external.registry.get(y[0])) == null ? void 0 : l.id;
        if (e !== y[0] && w) {
          i(y);
          continue;
        }
      }
      if ((h = this.metadataRegistry.get(y[0])) == null ? void 0 : h.id) {
        i(y);
        continue;
      }
      if (m.cycle) {
        i(y);
        continue;
      }
      if (m.count > 1 && r.reused === "ref") {
        i(y);
        continue;
      }
    }
    const o = (y, m) => {
      const I = this.seen.get(y), w = I.def ?? I.schema, D = { ...w };
      if (I.ref === null)
        return;
      const S = I.ref;
      if (I.ref = null, S) {
        o(S, m);
        const C = this.seen.get(S).schema;
        C.$ref && m.target === "draft-7" ? (w.allOf = w.allOf ?? [], w.allOf.push(C)) : (Object.assign(w, C), Object.assign(w, D));
      }
      I.isParent || this.override({
        zodSchema: y,
        jsonSchema: w,
        path: I.path ?? []
      });
    };
    for (const y of [...this.seen.entries()].reverse())
      o(y[0], { target: this.target });
    const c = {};
    if (this.target === "draft-2020-12" ? c.$schema = "https://json-schema.org/draft/2020-12/schema" : this.target === "draft-7" ? c.$schema = "http://json-schema.org/draft-07/schema#" : console.warn(`Invalid target: ${this.target}`), (g = r.external) != null && g.uri) {
      const y = (_ = r.external.registry.get(e)) == null ? void 0 : _.id;
      if (!y)
        throw new Error("Schema is missing an `id` property");
      c.$id = r.external.uri(y);
    }
    Object.assign(c, s.def);
    const d = ((T = r.external) == null ? void 0 : T.defs) ?? {};
    for (const y of this.seen.entries()) {
      const m = y[1];
      m.def && m.defId && (d[m.defId] = m.def);
    }
    r.external || Object.keys(d).length > 0 && (this.target === "draft-2020-12" ? c.$defs = d : c.definitions = d);
    try {
      return JSON.parse(JSON.stringify(c));
    } catch {
      throw new Error("Error converting schema to JSON.");
    }
  }
}
function wo(n, e) {
  if (n instanceof Ga) {
    const r = new qs(e), s = {};
    for (const o of n._idmap.entries()) {
      const [c, d] = o;
      r.process(d);
    }
    const a = {}, i = {
      registry: n,
      uri: e == null ? void 0 : e.uri,
      defs: s
    };
    for (const o of n._idmap.entries()) {
      const [c, d] = o;
      a[c] = r.emit(d, {
        ...e,
        external: i
      });
    }
    if (Object.keys(s).length > 0) {
      const o = r.target === "draft-2020-12" ? "$defs" : "definitions";
      a.__shared = {
        [o]: s
      };
    }
    return { schemas: a };
  }
  const t = new qs(e);
  return t.process(n), t.emit(n, e);
}
function ce(n, e) {
  const t = e ?? { seen: /* @__PURE__ */ new Set() };
  if (t.seen.has(n))
    return !1;
  t.seen.add(n);
  const s = n._zod.def;
  switch (s.type) {
    case "string":
    case "number":
    case "bigint":
    case "boolean":
    case "date":
    case "symbol":
    case "undefined":
    case "null":
    case "any":
    case "unknown":
    case "never":
    case "void":
    case "literal":
    case "enum":
    case "nan":
    case "file":
    case "template_literal":
      return !1;
    case "array":
      return ce(s.element, t);
    case "object": {
      for (const a in s.shape)
        if (ce(s.shape[a], t))
          return !0;
      return !1;
    }
    case "union": {
      for (const a of s.options)
        if (ce(a, t))
          return !0;
      return !1;
    }
    case "intersection":
      return ce(s.left, t) || ce(s.right, t);
    case "tuple": {
      for (const a of s.items)
        if (ce(a, t))
          return !0;
      return !!(s.rest && ce(s.rest, t));
    }
    case "record":
      return ce(s.keyType, t) || ce(s.valueType, t);
    case "map":
      return ce(s.keyType, t) || ce(s.valueType, t);
    case "set":
      return ce(s.valueType, t);
    // inner types
    case "promise":
    case "optional":
    case "nonoptional":
    case "nullable":
    case "readonly":
      return ce(s.innerType, t);
    case "lazy":
      return ce(s.getter(), t);
    case "default":
      return ce(s.innerType, t);
    case "prefault":
      return ce(s.innerType, t);
    case "custom":
      return !1;
    case "transform":
      return !0;
    case "pipe":
      return ce(s.in, t) || ce(s.out, t);
    case "success":
      return !1;
    case "catch":
      return !1;
  }
  throw new Error(`Unknown schema type: ${s.type}`);
}
function bo(n, e) {
  const t = { ...n };
  return Object.defineProperties(t, {
    $brand: {
      value: "auto-parseable-response-format",
      enumerable: !1
    },
    $parseRaw: {
      value: e,
      enumerable: !1
    }
  }), t;
}
const Io = Symbol("Let zodToJsonSchema decide on which parser to use"), Js = {
  name: void 0,
  $refStrategy: "root",
  effectStrategy: "input",
  pipeStrategy: "all",
  dateStrategy: "format:date-time",
  mapStrategy: "entries",
  nullableStrategy: "from-target",
  removeAdditionalStrategy: "passthrough",
  definitionPath: "definitions",
  target: "jsonSchema7",
  strictUnions: !1,
  errorMessages: !1,
  markdownDescription: !1,
  patternStrategy: "escape",
  applyRegexFlags: !1,
  emailStrategy: "format:email",
  base64Strategy: "contentEncoding:base64",
  nameStrategy: "ref"
}, xo = (n) => typeof n == "string" ? {
  ...Js,
  basePath: ["#"],
  definitions: {},
  name: n
} : {
  ...Js,
  basePath: ["#"],
  definitions: {},
  ...n
}, Jr = (n) => "_def" in n ? n._def : n;
function So(n) {
  if (!n)
    return !0;
  for (const e in n)
    return !1;
  return !0;
}
const To = (n) => {
  const e = xo(n), t = e.name !== void 0 ? [...e.basePath, e.definitionPath, e.name] : e.basePath;
  return {
    ...e,
    currentPath: t,
    propertyPath: void 0,
    seenRefs: /* @__PURE__ */ new Set(),
    seen: new Map(Object.entries(e.definitions).map(([r, s]) => [
      Jr(s),
      {
        def: Jr(s),
        path: [...e.basePath, e.definitionPath, r],
        // Resolution of references will be forced even though seen, so it's ok that the schema is undefined here for now.
        jsonSchema: void 0
      }
    ]))
  };
};
function Va(n, e, t, r) {
  r != null && r.errorMessages && t && (n.errorMessage = {
    ...n.errorMessage,
    [e]: t
  });
}
function X(n, e, t, r, s) {
  n[e] = t, Va(n, e, r, s);
}
var K;
(function(n) {
  n.assertEqual = (s) => {
  };
  function e(s) {
  }
  n.assertIs = e;
  function t(s) {
    throw new Error();
  }
  n.assertNever = t, n.arrayToEnum = (s) => {
    const a = {};
    for (const i of s)
      a[i] = i;
    return a;
  }, n.getValidEnumValues = (s) => {
    const a = n.objectKeys(s).filter((o) => typeof s[s[o]] != "number"), i = {};
    for (const o of a)
      i[o] = s[o];
    return n.objectValues(i);
  }, n.objectValues = (s) => n.objectKeys(s).map(function(a) {
    return s[a];
  }), n.objectKeys = typeof Object.keys == "function" ? (s) => Object.keys(s) : (s) => {
    const a = [];
    for (const i in s)
      Object.prototype.hasOwnProperty.call(s, i) && a.push(i);
    return a;
  }, n.find = (s, a) => {
    for (const i of s)
      if (a(i))
        return i;
  }, n.isInteger = typeof Number.isInteger == "function" ? (s) => Number.isInteger(s) : (s) => typeof s == "number" && Number.isFinite(s) && Math.floor(s) === s;
  function r(s, a = " | ") {
    return s.map((i) => typeof i == "string" ? `'${i}'` : i).join(a);
  }
  n.joinValues = r, n.jsonStringifyReplacer = (s, a) => typeof a == "bigint" ? a.toString() : a;
})(K || (K = {}));
var Bs;
(function(n) {
  n.mergeShapes = (e, t) => ({
    ...e,
    ...t
    // second overwrites first
  });
})(Bs || (Bs = {}));
const P = K.arrayToEnum([
  "string",
  "nan",
  "number",
  "integer",
  "float",
  "boolean",
  "date",
  "bigint",
  "symbol",
  "function",
  "undefined",
  "null",
  "array",
  "object",
  "unknown",
  "promise",
  "void",
  "never",
  "map",
  "set"
]), st = (n) => {
  switch (typeof n) {
    case "undefined":
      return P.undefined;
    case "string":
      return P.string;
    case "number":
      return Number.isNaN(n) ? P.nan : P.number;
    case "boolean":
      return P.boolean;
    case "function":
      return P.function;
    case "bigint":
      return P.bigint;
    case "symbol":
      return P.symbol;
    case "object":
      return Array.isArray(n) ? P.array : n === null ? P.null : n.then && typeof n.then == "function" && n.catch && typeof n.catch == "function" ? P.promise : typeof Map < "u" && n instanceof Map ? P.map : typeof Set < "u" && n instanceof Set ? P.set : typeof Date < "u" && n instanceof Date ? P.date : P.object;
    default:
      return P.unknown;
  }
}, A = K.arrayToEnum([
  "invalid_type",
  "invalid_literal",
  "custom",
  "invalid_union",
  "invalid_union_discriminator",
  "invalid_enum_value",
  "unrecognized_keys",
  "invalid_arguments",
  "invalid_return_type",
  "invalid_date",
  "invalid_string",
  "too_small",
  "too_big",
  "invalid_intersection_types",
  "not_multiple_of",
  "not_finite"
]);
class $e extends Error {
  get errors() {
    return this.issues;
  }
  constructor(e) {
    super(), this.issues = [], this.addIssue = (r) => {
      this.issues = [...this.issues, r];
    }, this.addIssues = (r = []) => {
      this.issues = [...this.issues, ...r];
    };
    const t = new.target.prototype;
    Object.setPrototypeOf ? Object.setPrototypeOf(this, t) : this.__proto__ = t, this.name = "ZodError", this.issues = e;
  }
  format(e) {
    const t = e || function(a) {
      return a.message;
    }, r = { _errors: [] }, s = (a) => {
      for (const i of a.issues)
        if (i.code === "invalid_union")
          i.unionErrors.map(s);
        else if (i.code === "invalid_return_type")
          s(i.returnTypeError);
        else if (i.code === "invalid_arguments")
          s(i.argumentsError);
        else if (i.path.length === 0)
          r._errors.push(t(i));
        else {
          let o = r, c = 0;
          for (; c < i.path.length; ) {
            const d = i.path[c];
            c === i.path.length - 1 ? (o[d] = o[d] || { _errors: [] }, o[d]._errors.push(t(i))) : o[d] = o[d] || { _errors: [] }, o = o[d], c++;
          }
        }
    };
    return s(this), r;
  }
  static assert(e) {
    if (!(e instanceof $e))
      throw new Error(`Not a ZodError: ${e}`);
  }
  toString() {
    return this.message;
  }
  get message() {
    return JSON.stringify(this.issues, K.jsonStringifyReplacer, 2);
  }
  get isEmpty() {
    return this.issues.length === 0;
  }
  flatten(e = (t) => t.message) {
    const t = {}, r = [];
    for (const s of this.issues)
      if (s.path.length > 0) {
        const a = s.path[0];
        t[a] = t[a] || [], t[a].push(e(s));
      } else
        r.push(e(s));
    return { formErrors: r, fieldErrors: t };
  }
  get formErrors() {
    return this.flatten();
  }
}
$e.create = (n) => new $e(n);
const Br = (n, e) => {
  let t;
  switch (n.code) {
    case A.invalid_type:
      n.received === P.undefined ? t = "Required" : t = `Expected ${n.expected}, received ${n.received}`;
      break;
    case A.invalid_literal:
      t = `Invalid literal value, expected ${JSON.stringify(n.expected, K.jsonStringifyReplacer)}`;
      break;
    case A.unrecognized_keys:
      t = `Unrecognized key(s) in object: ${K.joinValues(n.keys, ", ")}`;
      break;
    case A.invalid_union:
      t = "Invalid input";
      break;
    case A.invalid_union_discriminator:
      t = `Invalid discriminator value. Expected ${K.joinValues(n.options)}`;
      break;
    case A.invalid_enum_value:
      t = `Invalid enum value. Expected ${K.joinValues(n.options)}, received '${n.received}'`;
      break;
    case A.invalid_arguments:
      t = "Invalid function arguments";
      break;
    case A.invalid_return_type:
      t = "Invalid function return type";
      break;
    case A.invalid_date:
      t = "Invalid date";
      break;
    case A.invalid_string:
      typeof n.validation == "object" ? "includes" in n.validation ? (t = `Invalid input: must include "${n.validation.includes}"`, typeof n.validation.position == "number" && (t = `${t} at one or more positions greater than or equal to ${n.validation.position}`)) : "startsWith" in n.validation ? t = `Invalid input: must start with "${n.validation.startsWith}"` : "endsWith" in n.validation ? t = `Invalid input: must end with "${n.validation.endsWith}"` : K.assertNever(n.validation) : n.validation !== "regex" ? t = `Invalid ${n.validation}` : t = "Invalid";
      break;
    case A.too_small:
      n.type === "array" ? t = `Array must contain ${n.exact ? "exactly" : n.inclusive ? "at least" : "more than"} ${n.minimum} element(s)` : n.type === "string" ? t = `String must contain ${n.exact ? "exactly" : n.inclusive ? "at least" : "over"} ${n.minimum} character(s)` : n.type === "number" ? t = `Number must be ${n.exact ? "exactly equal to " : n.inclusive ? "greater than or equal to " : "greater than "}${n.minimum}` : n.type === "bigint" ? t = `Number must be ${n.exact ? "exactly equal to " : n.inclusive ? "greater than or equal to " : "greater than "}${n.minimum}` : n.type === "date" ? t = `Date must be ${n.exact ? "exactly equal to " : n.inclusive ? "greater than or equal to " : "greater than "}${new Date(Number(n.minimum))}` : t = "Invalid input";
      break;
    case A.too_big:
      n.type === "array" ? t = `Array must contain ${n.exact ? "exactly" : n.inclusive ? "at most" : "less than"} ${n.maximum} element(s)` : n.type === "string" ? t = `String must contain ${n.exact ? "exactly" : n.inclusive ? "at most" : "under"} ${n.maximum} character(s)` : n.type === "number" ? t = `Number must be ${n.exact ? "exactly" : n.inclusive ? "less than or equal to" : "less than"} ${n.maximum}` : n.type === "bigint" ? t = `BigInt must be ${n.exact ? "exactly" : n.inclusive ? "less than or equal to" : "less than"} ${n.maximum}` : n.type === "date" ? t = `Date must be ${n.exact ? "exactly" : n.inclusive ? "smaller than or equal to" : "smaller than"} ${new Date(Number(n.maximum))}` : t = "Invalid input";
      break;
    case A.custom:
      t = "Invalid input";
      break;
    case A.invalid_intersection_types:
      t = "Intersection results could not be merged";
      break;
    case A.not_multiple_of:
      t = `Number must be a multiple of ${n.multipleOf}`;
      break;
    case A.not_finite:
      t = "Number must be finite";
      break;
    default:
      t = e.defaultError, K.assertNever(n);
  }
  return { message: t };
};
let ko = Br;
function Ao() {
  return ko;
}
const Co = (n) => {
  const { data: e, path: t, errorMaps: r, issueData: s } = n, a = [...t, ...s.path || []], i = {
    ...s,
    path: a
  };
  if (s.message !== void 0)
    return {
      ...s,
      path: a,
      message: s.message
    };
  let o = "";
  const c = r.filter((d) => !!d).slice().reverse();
  for (const d of c)
    o = d(i, { data: e, defaultError: o }).message;
  return {
    ...s,
    path: a,
    message: o
  };
};
function R(n, e) {
  const t = Ao(), r = Co({
    issueData: e,
    data: n.data,
    path: n.path,
    errorMaps: [
      n.common.contextualErrorMap,
      // contextual error map is first priority
      n.schemaErrorMap,
      // then schema-bound map if available
      t,
      // then global override map
      t === Br ? void 0 : Br
      // then global default map
    ].filter((s) => !!s)
  });
  n.common.issues.push(r);
}
class _e {
  constructor() {
    this.value = "valid";
  }
  dirty() {
    this.value === "valid" && (this.value = "dirty");
  }
  abort() {
    this.value !== "aborted" && (this.value = "aborted");
  }
  static mergeArray(e, t) {
    const r = [];
    for (const s of t) {
      if (s.status === "aborted")
        return q;
      s.status === "dirty" && e.dirty(), r.push(s.value);
    }
    return { status: e.value, value: r };
  }
  static async mergeObjectAsync(e, t) {
    const r = [];
    for (const s of t) {
      const a = await s.key, i = await s.value;
      r.push({
        key: a,
        value: i
      });
    }
    return _e.mergeObjectSync(e, r);
  }
  static mergeObjectSync(e, t) {
    const r = {};
    for (const s of t) {
      const { key: a, value: i } = s;
      if (a.status === "aborted" || i.status === "aborted")
        return q;
      a.status === "dirty" && e.dirty(), i.status === "dirty" && e.dirty(), a.value !== "__proto__" && (typeof i.value < "u" || s.alwaysSet) && (r[a.value] = i.value);
    }
    return { status: e.value, value: r };
  }
}
const q = Object.freeze({
  status: "aborted"
}), fn = (n) => ({ status: "dirty", value: n }), Ae = (n) => ({ status: "valid", value: n }), zs = (n) => n.status === "aborted", Gs = (n) => n.status === "dirty", an = (n) => n.status === "valid", rr = (n) => typeof Promise < "u" && n instanceof Promise;
var $;
(function(n) {
  n.errToObj = (e) => typeof e == "string" ? { message: e } : e || {}, n.toString = (e) => typeof e == "string" ? e : e == null ? void 0 : e.message;
})($ || ($ = {}));
class Fe {
  constructor(e, t, r, s) {
    this._cachedPath = [], this.parent = e, this.data = t, this._path = r, this._key = s;
  }
  get path() {
    return this._cachedPath.length || (Array.isArray(this._key) ? this._cachedPath.push(...this._path, ...this._key) : this._cachedPath.push(...this._path, this._key)), this._cachedPath;
  }
}
const Vs = (n, e) => {
  if (an(e))
    return { success: !0, data: e.value };
  if (!n.common.issues.length)
    throw new Error("Validation failed but no issues detected.");
  return {
    success: !1,
    get error() {
      if (this._error)
        return this._error;
      const t = new $e(n.common.issues);
      return this._error = t, this._error;
    }
  };
};
function z(n) {
  if (!n)
    return {};
  const { errorMap: e, invalid_type_error: t, required_error: r, description: s } = n;
  if (e && (t || r))
    throw new Error(`Can't use "invalid_type_error" or "required_error" in conjunction with custom error map.`);
  return e ? { errorMap: e, description: s } : { errorMap: (i, o) => {
    const { message: c } = n;
    return i.code === "invalid_enum_value" ? { message: c ?? o.defaultError } : typeof o.data > "u" ? { message: c ?? r ?? o.defaultError } : i.code !== "invalid_type" ? { message: o.defaultError } : { message: c ?? t ?? o.defaultError };
  }, description: s };
}
class H {
  get description() {
    return this._def.description;
  }
  _getType(e) {
    return st(e.data);
  }
  _getOrReturnCtx(e, t) {
    return t || {
      common: e.parent.common,
      data: e.data,
      parsedType: st(e.data),
      schemaErrorMap: this._def.errorMap,
      path: e.path,
      parent: e.parent
    };
  }
  _processInputParams(e) {
    return {
      status: new _e(),
      ctx: {
        common: e.parent.common,
        data: e.data,
        parsedType: st(e.data),
        schemaErrorMap: this._def.errorMap,
        path: e.path,
        parent: e.parent
      }
    };
  }
  _parseSync(e) {
    const t = this._parse(e);
    if (rr(t))
      throw new Error("Synchronous parse encountered promise.");
    return t;
  }
  _parseAsync(e) {
    const t = this._parse(e);
    return Promise.resolve(t);
  }
  parse(e, t) {
    const r = this.safeParse(e, t);
    if (r.success)
      return r.data;
    throw r.error;
  }
  safeParse(e, t) {
    const r = {
      common: {
        issues: [],
        async: (t == null ? void 0 : t.async) ?? !1,
        contextualErrorMap: t == null ? void 0 : t.errorMap
      },
      path: (t == null ? void 0 : t.path) || [],
      schemaErrorMap: this._def.errorMap,
      parent: null,
      data: e,
      parsedType: st(e)
    }, s = this._parseSync({ data: e, path: r.path, parent: r });
    return Vs(r, s);
  }
  "~validate"(e) {
    var r, s;
    const t = {
      common: {
        issues: [],
        async: !!this["~standard"].async
      },
      path: [],
      schemaErrorMap: this._def.errorMap,
      parent: null,
      data: e,
      parsedType: st(e)
    };
    if (!this["~standard"].async)
      try {
        const a = this._parseSync({ data: e, path: [], parent: t });
        return an(a) ? {
          value: a.value
        } : {
          issues: t.common.issues
        };
      } catch (a) {
        (s = (r = a == null ? void 0 : a.message) == null ? void 0 : r.toLowerCase()) != null && s.includes("encountered") && (this["~standard"].async = !0), t.common = {
          issues: [],
          async: !0
        };
      }
    return this._parseAsync({ data: e, path: [], parent: t }).then((a) => an(a) ? {
      value: a.value
    } : {
      issues: t.common.issues
    });
  }
  async parseAsync(e, t) {
    const r = await this.safeParseAsync(e, t);
    if (r.success)
      return r.data;
    throw r.error;
  }
  async safeParseAsync(e, t) {
    const r = {
      common: {
        issues: [],
        contextualErrorMap: t == null ? void 0 : t.errorMap,
        async: !0
      },
      path: (t == null ? void 0 : t.path) || [],
      schemaErrorMap: this._def.errorMap,
      parent: null,
      data: e,
      parsedType: st(e)
    }, s = this._parse({ data: e, path: r.path, parent: r }), a = await (rr(s) ? s : Promise.resolve(s));
    return Vs(r, a);
  }
  refine(e, t) {
    const r = (s) => typeof t == "string" || typeof t > "u" ? { message: t } : typeof t == "function" ? t(s) : t;
    return this._refinement((s, a) => {
      const i = e(s), o = () => a.addIssue({
        code: A.custom,
        ...r(s)
      });
      return typeof Promise < "u" && i instanceof Promise ? i.then((c) => c ? !0 : (o(), !1)) : i ? !0 : (o(), !1);
    });
  }
  refinement(e, t) {
    return this._refinement((r, s) => e(r) ? !0 : (s.addIssue(typeof t == "function" ? t(r, s) : t), !1));
  }
  _refinement(e) {
    return new Dt({
      schema: this,
      typeName: O.ZodEffects,
      effect: { type: "refinement", refinement: e }
    });
  }
  superRefine(e) {
    return this._refinement(e);
  }
  constructor(e) {
    this.spa = this.safeParseAsync, this._def = e, this.parse = this.parse.bind(this), this.safeParse = this.safeParse.bind(this), this.parseAsync = this.parseAsync.bind(this), this.safeParseAsync = this.safeParseAsync.bind(this), this.spa = this.spa.bind(this), this.refine = this.refine.bind(this), this.refinement = this.refinement.bind(this), this.superRefine = this.superRefine.bind(this), this.optional = this.optional.bind(this), this.nullable = this.nullable.bind(this), this.nullish = this.nullish.bind(this), this.array = this.array.bind(this), this.promise = this.promise.bind(this), this.or = this.or.bind(this), this.and = this.and.bind(this), this.transform = this.transform.bind(this), this.brand = this.brand.bind(this), this.default = this.default.bind(this), this.catch = this.catch.bind(this), this.describe = this.describe.bind(this), this.pipe = this.pipe.bind(this), this.readonly = this.readonly.bind(this), this.isNullable = this.isNullable.bind(this), this.isOptional = this.isOptional.bind(this), this["~standard"] = {
      version: 1,
      vendor: "zod",
      validate: (t) => this["~validate"](t)
    };
  }
  optional() {
    return et.create(this, this._def);
  }
  nullable() {
    return Mt.create(this, this._def);
  }
  nullish() {
    return this.nullable().optional();
  }
  array() {
    return je.create(this);
  }
  promise() {
    return lr.create(this, this._def);
  }
  or(e) {
    return ar.create([this, e], this._def);
  }
  and(e) {
    return ir.create(this, e, this._def);
  }
  transform(e) {
    return new Dt({
      ...z(this._def),
      schema: this,
      typeName: O.ZodEffects,
      effect: { type: "transform", transform: e }
    });
  }
  default(e) {
    const t = typeof e == "function" ? e : () => e;
    return new dr({
      ...z(this._def),
      innerType: this,
      defaultValue: t,
      typeName: O.ZodDefault
    });
  }
  brand() {
    return new Ya({
      typeName: O.ZodBranded,
      type: this,
      ...z(this._def)
    });
  }
  catch(e) {
    const t = typeof e == "function" ? e : () => e;
    return new pr({
      ...z(this._def),
      innerType: this,
      catchValue: t,
      typeName: O.ZodCatch
    });
  }
  describe(e) {
    const t = this.constructor;
    return new t({
      ...this._def,
      description: e
    });
  }
  pipe(e) {
    return _s.create(this, e);
  }
  readonly() {
    return fr.create(this);
  }
  isOptional() {
    return this.safeParse(void 0).success;
  }
  isNullable() {
    return this.safeParse(null).success;
  }
}
const Oo = /^c[^\s-]{8,}$/i, Eo = /^[0-9a-z]+$/, No = /^[0-9A-HJKMNP-TV-Z]{26}$/i, Ro = /^[0-9a-fA-F]{8}\b-[0-9a-fA-F]{4}\b-[0-9a-fA-F]{4}\b-[0-9a-fA-F]{4}\b-[0-9a-fA-F]{12}$/i, Po = /^[a-z0-9_-]{21}$/i, Do = /^[A-Za-z0-9-_]+\.[A-Za-z0-9-_]+\.[A-Za-z0-9-_]*$/, Mo = /^[-+]?P(?!$)(?:(?:[-+]?\d+Y)|(?:[-+]?\d+[.,]\d+Y$))?(?:(?:[-+]?\d+M)|(?:[-+]?\d+[.,]\d+M$))?(?:(?:[-+]?\d+W)|(?:[-+]?\d+[.,]\d+W$))?(?:(?:[-+]?\d+D)|(?:[-+]?\d+[.,]\d+D$))?(?:T(?=[\d+-])(?:(?:[-+]?\d+H)|(?:[-+]?\d+[.,]\d+H$))?(?:(?:[-+]?\d+M)|(?:[-+]?\d+[.,]\d+M$))?(?:[-+]?\d+(?:[.,]\d+)?S)?)??$/, jo = /^(?!\.)(?!.*\.\.)([A-Z0-9_'+\-\.]*)[A-Z0-9_+-]@([A-Z0-9][A-Z0-9\-]*\.)+[A-Z]{2,}$/i, $o = "^(\\p{Extended_Pictographic}|\\p{Emoji_Component})+$";
let Nr;
const Fo = /^(?:(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])\.){3}(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])$/, Lo = /^(?:(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])\.){3}(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])\/(3[0-2]|[12]?[0-9])$/, Uo = /^(([0-9a-fA-F]{1,4}:){7,7}[0-9a-fA-F]{1,4}|([0-9a-fA-F]{1,4}:){1,7}:|([0-9a-fA-F]{1,4}:){1,6}:[0-9a-fA-F]{1,4}|([0-9a-fA-F]{1,4}:){1,5}(:[0-9a-fA-F]{1,4}){1,2}|([0-9a-fA-F]{1,4}:){1,4}(:[0-9a-fA-F]{1,4}){1,3}|([0-9a-fA-F]{1,4}:){1,3}(:[0-9a-fA-F]{1,4}){1,4}|([0-9a-fA-F]{1,4}:){1,2}(:[0-9a-fA-F]{1,4}){1,5}|[0-9a-fA-F]{1,4}:((:[0-9a-fA-F]{1,4}){1,6})|:((:[0-9a-fA-F]{1,4}){1,7}|:)|fe80:(:[0-9a-fA-F]{0,4}){0,4}%[0-9a-zA-Z]{1,}|::(ffff(:0{1,4}){0,1}:){0,1}((25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])\.){3,3}(25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])|([0-9a-fA-F]{1,4}:){1,4}:((25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])\.){3,3}(25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9]))$/, Zo = /^(([0-9a-fA-F]{1,4}:){7,7}[0-9a-fA-F]{1,4}|([0-9a-fA-F]{1,4}:){1,7}:|([0-9a-fA-F]{1,4}:){1,6}:[0-9a-fA-F]{1,4}|([0-9a-fA-F]{1,4}:){1,5}(:[0-9a-fA-F]{1,4}){1,2}|([0-9a-fA-F]{1,4}:){1,4}(:[0-9a-fA-F]{1,4}){1,3}|([0-9a-fA-F]{1,4}:){1,3}(:[0-9a-fA-F]{1,4}){1,4}|([0-9a-fA-F]{1,4}:){1,2}(:[0-9a-fA-F]{1,4}){1,5}|[0-9a-fA-F]{1,4}:((:[0-9a-fA-F]{1,4}){1,6})|:((:[0-9a-fA-F]{1,4}){1,7}|:)|fe80:(:[0-9a-fA-F]{0,4}){0,4}%[0-9a-zA-Z]{1,}|::(ffff(:0{1,4}){0,1}:){0,1}((25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])\.){3,3}(25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])|([0-9a-fA-F]{1,4}:){1,4}:((25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])\.){3,3}(25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9]))\/(12[0-8]|1[01][0-9]|[1-9]?[0-9])$/, qo = /^([0-9a-zA-Z+/]{4})*(([0-9a-zA-Z+/]{2}==)|([0-9a-zA-Z+/]{3}=))?$/, Jo = /^([0-9a-zA-Z-_]{4})*(([0-9a-zA-Z-_]{2}(==)?)|([0-9a-zA-Z-_]{3}(=)?))?$/, Wa = "((\\d\\d[2468][048]|\\d\\d[13579][26]|\\d\\d0[48]|[02468][048]00|[13579][26]00)-02-29|\\d{4}-((0[13578]|1[02])-(0[1-9]|[12]\\d|3[01])|(0[469]|11)-(0[1-9]|[12]\\d|30)|(02)-(0[1-9]|1\\d|2[0-8])))", Bo = new RegExp(`^${Wa}$`);
function Ha(n) {
  let e = "[0-5]\\d";
  n.precision ? e = `${e}\\.\\d{${n.precision}}` : n.precision == null && (e = `${e}(\\.\\d+)?`);
  const t = n.precision ? "+" : "?";
  return `([01]\\d|2[0-3]):[0-5]\\d(:${e})${t}`;
}
function zo(n) {
  return new RegExp(`^${Ha(n)}$`);
}
function Go(n) {
  let e = `${Wa}T${Ha(n)}`;
  const t = [];
  return t.push(n.local ? "Z?" : "Z"), n.offset && t.push("([+-]\\d{2}:?\\d{2})"), e = `${e}(${t.join("|")})`, new RegExp(`^${e}$`);
}
function Vo(n, e) {
  return !!((e === "v4" || !e) && Fo.test(n) || (e === "v6" || !e) && Uo.test(n));
}
function Wo(n, e) {
  if (!Do.test(n))
    return !1;
  try {
    const [t] = n.split(".");
    if (!t)
      return !1;
    const r = t.replace(/-/g, "+").replace(/_/g, "/").padEnd(t.length + (4 - t.length % 4) % 4, "="), s = JSON.parse(atob(r));
    return !(typeof s != "object" || s === null || "typ" in s && (s == null ? void 0 : s.typ) !== "JWT" || !s.alg || e && s.alg !== e);
  } catch {
    return !1;
  }
}
function Ho(n, e) {
  return !!((e === "v4" || !e) && Lo.test(n) || (e === "v6" || !e) && Zo.test(n));
}
class Qe extends H {
  _parse(e) {
    if (this._def.coerce && (e.data = String(e.data)), this._getType(e) !== P.string) {
      const a = this._getOrReturnCtx(e);
      return R(a, {
        code: A.invalid_type,
        expected: P.string,
        received: a.parsedType
      }), q;
    }
    const r = new _e();
    let s;
    for (const a of this._def.checks)
      if (a.kind === "min")
        e.data.length < a.value && (s = this._getOrReturnCtx(e, s), R(s, {
          code: A.too_small,
          minimum: a.value,
          type: "string",
          inclusive: !0,
          exact: !1,
          message: a.message
        }), r.dirty());
      else if (a.kind === "max")
        e.data.length > a.value && (s = this._getOrReturnCtx(e, s), R(s, {
          code: A.too_big,
          maximum: a.value,
          type: "string",
          inclusive: !0,
          exact: !1,
          message: a.message
        }), r.dirty());
      else if (a.kind === "length") {
        const i = e.data.length > a.value, o = e.data.length < a.value;
        (i || o) && (s = this._getOrReturnCtx(e, s), i ? R(s, {
          code: A.too_big,
          maximum: a.value,
          type: "string",
          inclusive: !0,
          exact: !0,
          message: a.message
        }) : o && R(s, {
          code: A.too_small,
          minimum: a.value,
          type: "string",
          inclusive: !0,
          exact: !0,
          message: a.message
        }), r.dirty());
      } else if (a.kind === "email")
        jo.test(e.data) || (s = this._getOrReturnCtx(e, s), R(s, {
          validation: "email",
          code: A.invalid_string,
          message: a.message
        }), r.dirty());
      else if (a.kind === "emoji")
        Nr || (Nr = new RegExp($o, "u")), Nr.test(e.data) || (s = this._getOrReturnCtx(e, s), R(s, {
          validation: "emoji",
          code: A.invalid_string,
          message: a.message
        }), r.dirty());
      else if (a.kind === "uuid")
        Ro.test(e.data) || (s = this._getOrReturnCtx(e, s), R(s, {
          validation: "uuid",
          code: A.invalid_string,
          message: a.message
        }), r.dirty());
      else if (a.kind === "nanoid")
        Po.test(e.data) || (s = this._getOrReturnCtx(e, s), R(s, {
          validation: "nanoid",
          code: A.invalid_string,
          message: a.message
        }), r.dirty());
      else if (a.kind === "cuid")
        Oo.test(e.data) || (s = this._getOrReturnCtx(e, s), R(s, {
          validation: "cuid",
          code: A.invalid_string,
          message: a.message
        }), r.dirty());
      else if (a.kind === "cuid2")
        Eo.test(e.data) || (s = this._getOrReturnCtx(e, s), R(s, {
          validation: "cuid2",
          code: A.invalid_string,
          message: a.message
        }), r.dirty());
      else if (a.kind === "ulid")
        No.test(e.data) || (s = this._getOrReturnCtx(e, s), R(s, {
          validation: "ulid",
          code: A.invalid_string,
          message: a.message
        }), r.dirty());
      else if (a.kind === "url")
        try {
          new URL(e.data);
        } catch {
          s = this._getOrReturnCtx(e, s), R(s, {
            validation: "url",
            code: A.invalid_string,
            message: a.message
          }), r.dirty();
        }
      else a.kind === "regex" ? (a.regex.lastIndex = 0, a.regex.test(e.data) || (s = this._getOrReturnCtx(e, s), R(s, {
        validation: "regex",
        code: A.invalid_string,
        message: a.message
      }), r.dirty())) : a.kind === "trim" ? e.data = e.data.trim() : a.kind === "includes" ? e.data.includes(a.value, a.position) || (s = this._getOrReturnCtx(e, s), R(s, {
        code: A.invalid_string,
        validation: { includes: a.value, position: a.position },
        message: a.message
      }), r.dirty()) : a.kind === "toLowerCase" ? e.data = e.data.toLowerCase() : a.kind === "toUpperCase" ? e.data = e.data.toUpperCase() : a.kind === "startsWith" ? e.data.startsWith(a.value) || (s = this._getOrReturnCtx(e, s), R(s, {
        code: A.invalid_string,
        validation: { startsWith: a.value },
        message: a.message
      }), r.dirty()) : a.kind === "endsWith" ? e.data.endsWith(a.value) || (s = this._getOrReturnCtx(e, s), R(s, {
        code: A.invalid_string,
        validation: { endsWith: a.value },
        message: a.message
      }), r.dirty()) : a.kind === "datetime" ? Go(a).test(e.data) || (s = this._getOrReturnCtx(e, s), R(s, {
        code: A.invalid_string,
        validation: "datetime",
        message: a.message
      }), r.dirty()) : a.kind === "date" ? Bo.test(e.data) || (s = this._getOrReturnCtx(e, s), R(s, {
        code: A.invalid_string,
        validation: "date",
        message: a.message
      }), r.dirty()) : a.kind === "time" ? zo(a).test(e.data) || (s = this._getOrReturnCtx(e, s), R(s, {
        code: A.invalid_string,
        validation: "time",
        message: a.message
      }), r.dirty()) : a.kind === "duration" ? Mo.test(e.data) || (s = this._getOrReturnCtx(e, s), R(s, {
        validation: "duration",
        code: A.invalid_string,
        message: a.message
      }), r.dirty()) : a.kind === "ip" ? Vo(e.data, a.version) || (s = this._getOrReturnCtx(e, s), R(s, {
        validation: "ip",
        code: A.invalid_string,
        message: a.message
      }), r.dirty()) : a.kind === "jwt" ? Wo(e.data, a.alg) || (s = this._getOrReturnCtx(e, s), R(s, {
        validation: "jwt",
        code: A.invalid_string,
        message: a.message
      }), r.dirty()) : a.kind === "cidr" ? Ho(e.data, a.version) || (s = this._getOrReturnCtx(e, s), R(s, {
        validation: "cidr",
        code: A.invalid_string,
        message: a.message
      }), r.dirty()) : a.kind === "base64" ? qo.test(e.data) || (s = this._getOrReturnCtx(e, s), R(s, {
        validation: "base64",
        code: A.invalid_string,
        message: a.message
      }), r.dirty()) : a.kind === "base64url" ? Jo.test(e.data) || (s = this._getOrReturnCtx(e, s), R(s, {
        validation: "base64url",
        code: A.invalid_string,
        message: a.message
      }), r.dirty()) : K.assertNever(a);
    return { status: r.value, value: e.data };
  }
  _regex(e, t, r) {
    return this.refinement((s) => e.test(s), {
      validation: t,
      code: A.invalid_string,
      ...$.errToObj(r)
    });
  }
  _addCheck(e) {
    return new Qe({
      ...this._def,
      checks: [...this._def.checks, e]
    });
  }
  email(e) {
    return this._addCheck({ kind: "email", ...$.errToObj(e) });
  }
  url(e) {
    return this._addCheck({ kind: "url", ...$.errToObj(e) });
  }
  emoji(e) {
    return this._addCheck({ kind: "emoji", ...$.errToObj(e) });
  }
  uuid(e) {
    return this._addCheck({ kind: "uuid", ...$.errToObj(e) });
  }
  nanoid(e) {
    return this._addCheck({ kind: "nanoid", ...$.errToObj(e) });
  }
  cuid(e) {
    return this._addCheck({ kind: "cuid", ...$.errToObj(e) });
  }
  cuid2(e) {
    return this._addCheck({ kind: "cuid2", ...$.errToObj(e) });
  }
  ulid(e) {
    return this._addCheck({ kind: "ulid", ...$.errToObj(e) });
  }
  base64(e) {
    return this._addCheck({ kind: "base64", ...$.errToObj(e) });
  }
  base64url(e) {
    return this._addCheck({
      kind: "base64url",
      ...$.errToObj(e)
    });
  }
  jwt(e) {
    return this._addCheck({ kind: "jwt", ...$.errToObj(e) });
  }
  ip(e) {
    return this._addCheck({ kind: "ip", ...$.errToObj(e) });
  }
  cidr(e) {
    return this._addCheck({ kind: "cidr", ...$.errToObj(e) });
  }
  datetime(e) {
    return typeof e == "string" ? this._addCheck({
      kind: "datetime",
      precision: null,
      offset: !1,
      local: !1,
      message: e
    }) : this._addCheck({
      kind: "datetime",
      precision: typeof (e == null ? void 0 : e.precision) > "u" ? null : e == null ? void 0 : e.precision,
      offset: (e == null ? void 0 : e.offset) ?? !1,
      local: (e == null ? void 0 : e.local) ?? !1,
      ...$.errToObj(e == null ? void 0 : e.message)
    });
  }
  date(e) {
    return this._addCheck({ kind: "date", message: e });
  }
  time(e) {
    return typeof e == "string" ? this._addCheck({
      kind: "time",
      precision: null,
      message: e
    }) : this._addCheck({
      kind: "time",
      precision: typeof (e == null ? void 0 : e.precision) > "u" ? null : e == null ? void 0 : e.precision,
      ...$.errToObj(e == null ? void 0 : e.message)
    });
  }
  duration(e) {
    return this._addCheck({ kind: "duration", ...$.errToObj(e) });
  }
  regex(e, t) {
    return this._addCheck({
      kind: "regex",
      regex: e,
      ...$.errToObj(t)
    });
  }
  includes(e, t) {
    return this._addCheck({
      kind: "includes",
      value: e,
      position: t == null ? void 0 : t.position,
      ...$.errToObj(t == null ? void 0 : t.message)
    });
  }
  startsWith(e, t) {
    return this._addCheck({
      kind: "startsWith",
      value: e,
      ...$.errToObj(t)
    });
  }
  endsWith(e, t) {
    return this._addCheck({
      kind: "endsWith",
      value: e,
      ...$.errToObj(t)
    });
  }
  min(e, t) {
    return this._addCheck({
      kind: "min",
      value: e,
      ...$.errToObj(t)
    });
  }
  max(e, t) {
    return this._addCheck({
      kind: "max",
      value: e,
      ...$.errToObj(t)
    });
  }
  length(e, t) {
    return this._addCheck({
      kind: "length",
      value: e,
      ...$.errToObj(t)
    });
  }
  /**
   * Equivalent to `.min(1)`
   */
  nonempty(e) {
    return this.min(1, $.errToObj(e));
  }
  trim() {
    return new Qe({
      ...this._def,
      checks: [...this._def.checks, { kind: "trim" }]
    });
  }
  toLowerCase() {
    return new Qe({
      ...this._def,
      checks: [...this._def.checks, { kind: "toLowerCase" }]
    });
  }
  toUpperCase() {
    return new Qe({
      ...this._def,
      checks: [...this._def.checks, { kind: "toUpperCase" }]
    });
  }
  get isDatetime() {
    return !!this._def.checks.find((e) => e.kind === "datetime");
  }
  get isDate() {
    return !!this._def.checks.find((e) => e.kind === "date");
  }
  get isTime() {
    return !!this._def.checks.find((e) => e.kind === "time");
  }
  get isDuration() {
    return !!this._def.checks.find((e) => e.kind === "duration");
  }
  get isEmail() {
    return !!this._def.checks.find((e) => e.kind === "email");
  }
  get isURL() {
    return !!this._def.checks.find((e) => e.kind === "url");
  }
  get isEmoji() {
    return !!this._def.checks.find((e) => e.kind === "emoji");
  }
  get isUUID() {
    return !!this._def.checks.find((e) => e.kind === "uuid");
  }
  get isNANOID() {
    return !!this._def.checks.find((e) => e.kind === "nanoid");
  }
  get isCUID() {
    return !!this._def.checks.find((e) => e.kind === "cuid");
  }
  get isCUID2() {
    return !!this._def.checks.find((e) => e.kind === "cuid2");
  }
  get isULID() {
    return !!this._def.checks.find((e) => e.kind === "ulid");
  }
  get isIP() {
    return !!this._def.checks.find((e) => e.kind === "ip");
  }
  get isCIDR() {
    return !!this._def.checks.find((e) => e.kind === "cidr");
  }
  get isBase64() {
    return !!this._def.checks.find((e) => e.kind === "base64");
  }
  get isBase64url() {
    return !!this._def.checks.find((e) => e.kind === "base64url");
  }
  get minLength() {
    let e = null;
    for (const t of this._def.checks)
      t.kind === "min" && (e === null || t.value > e) && (e = t.value);
    return e;
  }
  get maxLength() {
    let e = null;
    for (const t of this._def.checks)
      t.kind === "max" && (e === null || t.value < e) && (e = t.value);
    return e;
  }
}
Qe.create = (n) => new Qe({
  checks: [],
  typeName: O.ZodString,
  coerce: (n == null ? void 0 : n.coerce) ?? !1,
  ...z(n)
});
function Ko(n, e) {
  const t = (n.toString().split(".")[1] || "").length, r = (e.toString().split(".")[1] || "").length, s = t > r ? t : r, a = Number.parseInt(n.toFixed(s).replace(".", "")), i = Number.parseInt(e.toFixed(s).replace(".", ""));
  return a % i / 10 ** s;
}
class on extends H {
  constructor() {
    super(...arguments), this.min = this.gte, this.max = this.lte, this.step = this.multipleOf;
  }
  _parse(e) {
    if (this._def.coerce && (e.data = Number(e.data)), this._getType(e) !== P.number) {
      const a = this._getOrReturnCtx(e);
      return R(a, {
        code: A.invalid_type,
        expected: P.number,
        received: a.parsedType
      }), q;
    }
    let r;
    const s = new _e();
    for (const a of this._def.checks)
      a.kind === "int" ? K.isInteger(e.data) || (r = this._getOrReturnCtx(e, r), R(r, {
        code: A.invalid_type,
        expected: "integer",
        received: "float",
        message: a.message
      }), s.dirty()) : a.kind === "min" ? (a.inclusive ? e.data < a.value : e.data <= a.value) && (r = this._getOrReturnCtx(e, r), R(r, {
        code: A.too_small,
        minimum: a.value,
        type: "number",
        inclusive: a.inclusive,
        exact: !1,
        message: a.message
      }), s.dirty()) : a.kind === "max" ? (a.inclusive ? e.data > a.value : e.data >= a.value) && (r = this._getOrReturnCtx(e, r), R(r, {
        code: A.too_big,
        maximum: a.value,
        type: "number",
        inclusive: a.inclusive,
        exact: !1,
        message: a.message
      }), s.dirty()) : a.kind === "multipleOf" ? Ko(e.data, a.value) !== 0 && (r = this._getOrReturnCtx(e, r), R(r, {
        code: A.not_multiple_of,
        multipleOf: a.value,
        message: a.message
      }), s.dirty()) : a.kind === "finite" ? Number.isFinite(e.data) || (r = this._getOrReturnCtx(e, r), R(r, {
        code: A.not_finite,
        message: a.message
      }), s.dirty()) : K.assertNever(a);
    return { status: s.value, value: e.data };
  }
  gte(e, t) {
    return this.setLimit("min", e, !0, $.toString(t));
  }
  gt(e, t) {
    return this.setLimit("min", e, !1, $.toString(t));
  }
  lte(e, t) {
    return this.setLimit("max", e, !0, $.toString(t));
  }
  lt(e, t) {
    return this.setLimit("max", e, !1, $.toString(t));
  }
  setLimit(e, t, r, s) {
    return new on({
      ...this._def,
      checks: [
        ...this._def.checks,
        {
          kind: e,
          value: t,
          inclusive: r,
          message: $.toString(s)
        }
      ]
    });
  }
  _addCheck(e) {
    return new on({
      ...this._def,
      checks: [...this._def.checks, e]
    });
  }
  int(e) {
    return this._addCheck({
      kind: "int",
      message: $.toString(e)
    });
  }
  positive(e) {
    return this._addCheck({
      kind: "min",
      value: 0,
      inclusive: !1,
      message: $.toString(e)
    });
  }
  negative(e) {
    return this._addCheck({
      kind: "max",
      value: 0,
      inclusive: !1,
      message: $.toString(e)
    });
  }
  nonpositive(e) {
    return this._addCheck({
      kind: "max",
      value: 0,
      inclusive: !0,
      message: $.toString(e)
    });
  }
  nonnegative(e) {
    return this._addCheck({
      kind: "min",
      value: 0,
      inclusive: !0,
      message: $.toString(e)
    });
  }
  multipleOf(e, t) {
    return this._addCheck({
      kind: "multipleOf",
      value: e,
      message: $.toString(t)
    });
  }
  finite(e) {
    return this._addCheck({
      kind: "finite",
      message: $.toString(e)
    });
  }
  safe(e) {
    return this._addCheck({
      kind: "min",
      inclusive: !0,
      value: Number.MIN_SAFE_INTEGER,
      message: $.toString(e)
    })._addCheck({
      kind: "max",
      inclusive: !0,
      value: Number.MAX_SAFE_INTEGER,
      message: $.toString(e)
    });
  }
  get minValue() {
    let e = null;
    for (const t of this._def.checks)
      t.kind === "min" && (e === null || t.value > e) && (e = t.value);
    return e;
  }
  get maxValue() {
    let e = null;
    for (const t of this._def.checks)
      t.kind === "max" && (e === null || t.value < e) && (e = t.value);
    return e;
  }
  get isInt() {
    return !!this._def.checks.find((e) => e.kind === "int" || e.kind === "multipleOf" && K.isInteger(e.value));
  }
  get isFinite() {
    let e = null, t = null;
    for (const r of this._def.checks) {
      if (r.kind === "finite" || r.kind === "int" || r.kind === "multipleOf")
        return !0;
      r.kind === "min" ? (t === null || r.value > t) && (t = r.value) : r.kind === "max" && (e === null || r.value < e) && (e = r.value);
    }
    return Number.isFinite(t) && Number.isFinite(e);
  }
}
on.create = (n) => new on({
  checks: [],
  typeName: O.ZodNumber,
  coerce: (n == null ? void 0 : n.coerce) || !1,
  ...z(n)
});
class vn extends H {
  constructor() {
    super(...arguments), this.min = this.gte, this.max = this.lte;
  }
  _parse(e) {
    if (this._def.coerce)
      try {
        e.data = BigInt(e.data);
      } catch {
        return this._getInvalidInput(e);
      }
    if (this._getType(e) !== P.bigint)
      return this._getInvalidInput(e);
    let r;
    const s = new _e();
    for (const a of this._def.checks)
      a.kind === "min" ? (a.inclusive ? e.data < a.value : e.data <= a.value) && (r = this._getOrReturnCtx(e, r), R(r, {
        code: A.too_small,
        type: "bigint",
        minimum: a.value,
        inclusive: a.inclusive,
        message: a.message
      }), s.dirty()) : a.kind === "max" ? (a.inclusive ? e.data > a.value : e.data >= a.value) && (r = this._getOrReturnCtx(e, r), R(r, {
        code: A.too_big,
        type: "bigint",
        maximum: a.value,
        inclusive: a.inclusive,
        message: a.message
      }), s.dirty()) : a.kind === "multipleOf" ? e.data % a.value !== BigInt(0) && (r = this._getOrReturnCtx(e, r), R(r, {
        code: A.not_multiple_of,
        multipleOf: a.value,
        message: a.message
      }), s.dirty()) : K.assertNever(a);
    return { status: s.value, value: e.data };
  }
  _getInvalidInput(e) {
    const t = this._getOrReturnCtx(e);
    return R(t, {
      code: A.invalid_type,
      expected: P.bigint,
      received: t.parsedType
    }), q;
  }
  gte(e, t) {
    return this.setLimit("min", e, !0, $.toString(t));
  }
  gt(e, t) {
    return this.setLimit("min", e, !1, $.toString(t));
  }
  lte(e, t) {
    return this.setLimit("max", e, !0, $.toString(t));
  }
  lt(e, t) {
    return this.setLimit("max", e, !1, $.toString(t));
  }
  setLimit(e, t, r, s) {
    return new vn({
      ...this._def,
      checks: [
        ...this._def.checks,
        {
          kind: e,
          value: t,
          inclusive: r,
          message: $.toString(s)
        }
      ]
    });
  }
  _addCheck(e) {
    return new vn({
      ...this._def,
      checks: [...this._def.checks, e]
    });
  }
  positive(e) {
    return this._addCheck({
      kind: "min",
      value: BigInt(0),
      inclusive: !1,
      message: $.toString(e)
    });
  }
  negative(e) {
    return this._addCheck({
      kind: "max",
      value: BigInt(0),
      inclusive: !1,
      message: $.toString(e)
    });
  }
  nonpositive(e) {
    return this._addCheck({
      kind: "max",
      value: BigInt(0),
      inclusive: !0,
      message: $.toString(e)
    });
  }
  nonnegative(e) {
    return this._addCheck({
      kind: "min",
      value: BigInt(0),
      inclusive: !0,
      message: $.toString(e)
    });
  }
  multipleOf(e, t) {
    return this._addCheck({
      kind: "multipleOf",
      value: e,
      message: $.toString(t)
    });
  }
  get minValue() {
    let e = null;
    for (const t of this._def.checks)
      t.kind === "min" && (e === null || t.value > e) && (e = t.value);
    return e;
  }
  get maxValue() {
    let e = null;
    for (const t of this._def.checks)
      t.kind === "max" && (e === null || t.value < e) && (e = t.value);
    return e;
  }
}
vn.create = (n) => new vn({
  checks: [],
  typeName: O.ZodBigInt,
  coerce: (n == null ? void 0 : n.coerce) ?? !1,
  ...z(n)
});
class zr extends H {
  _parse(e) {
    if (this._def.coerce && (e.data = !!e.data), this._getType(e) !== P.boolean) {
      const r = this._getOrReturnCtx(e);
      return R(r, {
        code: A.invalid_type,
        expected: P.boolean,
        received: r.parsedType
      }), q;
    }
    return Ae(e.data);
  }
}
zr.create = (n) => new zr({
  typeName: O.ZodBoolean,
  coerce: (n == null ? void 0 : n.coerce) || !1,
  ...z(n)
});
class sr extends H {
  _parse(e) {
    if (this._def.coerce && (e.data = new Date(e.data)), this._getType(e) !== P.date) {
      const a = this._getOrReturnCtx(e);
      return R(a, {
        code: A.invalid_type,
        expected: P.date,
        received: a.parsedType
      }), q;
    }
    if (Number.isNaN(e.data.getTime())) {
      const a = this._getOrReturnCtx(e);
      return R(a, {
        code: A.invalid_date
      }), q;
    }
    const r = new _e();
    let s;
    for (const a of this._def.checks)
      a.kind === "min" ? e.data.getTime() < a.value && (s = this._getOrReturnCtx(e, s), R(s, {
        code: A.too_small,
        message: a.message,
        inclusive: !0,
        exact: !1,
        minimum: a.value,
        type: "date"
      }), r.dirty()) : a.kind === "max" ? e.data.getTime() > a.value && (s = this._getOrReturnCtx(e, s), R(s, {
        code: A.too_big,
        message: a.message,
        inclusive: !0,
        exact: !1,
        maximum: a.value,
        type: "date"
      }), r.dirty()) : K.assertNever(a);
    return {
      status: r.value,
      value: new Date(e.data.getTime())
    };
  }
  _addCheck(e) {
    return new sr({
      ...this._def,
      checks: [...this._def.checks, e]
    });
  }
  min(e, t) {
    return this._addCheck({
      kind: "min",
      value: e.getTime(),
      message: $.toString(t)
    });
  }
  max(e, t) {
    return this._addCheck({
      kind: "max",
      value: e.getTime(),
      message: $.toString(t)
    });
  }
  get minDate() {
    let e = null;
    for (const t of this._def.checks)
      t.kind === "min" && (e === null || t.value > e) && (e = t.value);
    return e != null ? new Date(e) : null;
  }
  get maxDate() {
    let e = null;
    for (const t of this._def.checks)
      t.kind === "max" && (e === null || t.value < e) && (e = t.value);
    return e != null ? new Date(e) : null;
  }
}
sr.create = (n) => new sr({
  checks: [],
  coerce: (n == null ? void 0 : n.coerce) || !1,
  typeName: O.ZodDate,
  ...z(n)
});
class Ws extends H {
  _parse(e) {
    if (this._getType(e) !== P.symbol) {
      const r = this._getOrReturnCtx(e);
      return R(r, {
        code: A.invalid_type,
        expected: P.symbol,
        received: r.parsedType
      }), q;
    }
    return Ae(e.data);
  }
}
Ws.create = (n) => new Ws({
  typeName: O.ZodSymbol,
  ...z(n)
});
class Gr extends H {
  _parse(e) {
    if (this._getType(e) !== P.undefined) {
      const r = this._getOrReturnCtx(e);
      return R(r, {
        code: A.invalid_type,
        expected: P.undefined,
        received: r.parsedType
      }), q;
    }
    return Ae(e.data);
  }
}
Gr.create = (n) => new Gr({
  typeName: O.ZodUndefined,
  ...z(n)
});
class Vr extends H {
  _parse(e) {
    if (this._getType(e) !== P.null) {
      const r = this._getOrReturnCtx(e);
      return R(r, {
        code: A.invalid_type,
        expected: P.null,
        received: r.parsedType
      }), q;
    }
    return Ae(e.data);
  }
}
Vr.create = (n) => new Vr({
  typeName: O.ZodNull,
  ...z(n)
});
class wn extends H {
  constructor() {
    super(...arguments), this._any = !0;
  }
  _parse(e) {
    return Ae(e.data);
  }
}
wn.create = (n) => new wn({
  typeName: O.ZodAny,
  ...z(n)
});
class Hs extends H {
  constructor() {
    super(...arguments), this._unknown = !0;
  }
  _parse(e) {
    return Ae(e.data);
  }
}
Hs.create = (n) => new Hs({
  typeName: O.ZodUnknown,
  ...z(n)
});
class pt extends H {
  _parse(e) {
    const t = this._getOrReturnCtx(e);
    return R(t, {
      code: A.invalid_type,
      expected: P.never,
      received: t.parsedType
    }), q;
  }
}
pt.create = (n) => new pt({
  typeName: O.ZodNever,
  ...z(n)
});
class Ks extends H {
  _parse(e) {
    if (this._getType(e) !== P.undefined) {
      const r = this._getOrReturnCtx(e);
      return R(r, {
        code: A.invalid_type,
        expected: P.void,
        received: r.parsedType
      }), q;
    }
    return Ae(e.data);
  }
}
Ks.create = (n) => new Ks({
  typeName: O.ZodVoid,
  ...z(n)
});
class je extends H {
  _parse(e) {
    const { ctx: t, status: r } = this._processInputParams(e), s = this._def;
    if (t.parsedType !== P.array)
      return R(t, {
        code: A.invalid_type,
        expected: P.array,
        received: t.parsedType
      }), q;
    if (s.exactLength !== null) {
      const i = t.data.length > s.exactLength.value, o = t.data.length < s.exactLength.value;
      (i || o) && (R(t, {
        code: i ? A.too_big : A.too_small,
        minimum: o ? s.exactLength.value : void 0,
        maximum: i ? s.exactLength.value : void 0,
        type: "array",
        inclusive: !0,
        exact: !0,
        message: s.exactLength.message
      }), r.dirty());
    }
    if (s.minLength !== null && t.data.length < s.minLength.value && (R(t, {
      code: A.too_small,
      minimum: s.minLength.value,
      type: "array",
      inclusive: !0,
      exact: !1,
      message: s.minLength.message
    }), r.dirty()), s.maxLength !== null && t.data.length > s.maxLength.value && (R(t, {
      code: A.too_big,
      maximum: s.maxLength.value,
      type: "array",
      inclusive: !0,
      exact: !1,
      message: s.maxLength.message
    }), r.dirty()), t.common.async)
      return Promise.all([...t.data].map((i, o) => s.type._parseAsync(new Fe(t, i, t.path, o)))).then((i) => _e.mergeArray(r, i));
    const a = [...t.data].map((i, o) => s.type._parseSync(new Fe(t, i, t.path, o)));
    return _e.mergeArray(r, a);
  }
  get element() {
    return this._def.type;
  }
  min(e, t) {
    return new je({
      ...this._def,
      minLength: { value: e, message: $.toString(t) }
    });
  }
  max(e, t) {
    return new je({
      ...this._def,
      maxLength: { value: e, message: $.toString(t) }
    });
  }
  length(e, t) {
    return new je({
      ...this._def,
      exactLength: { value: e, message: $.toString(t) }
    });
  }
  nonempty(e) {
    return this.min(1, e);
  }
}
je.create = (n, e) => new je({
  type: n,
  minLength: null,
  maxLength: null,
  exactLength: null,
  typeName: O.ZodArray,
  ...z(e)
});
function Lt(n) {
  if (n instanceof ie) {
    const e = {};
    for (const t in n.shape) {
      const r = n.shape[t];
      e[t] = et.create(Lt(r));
    }
    return new ie({
      ...n._def,
      shape: () => e
    });
  } else return n instanceof je ? new je({
    ...n._def,
    type: Lt(n.element)
  }) : n instanceof et ? et.create(Lt(n.unwrap())) : n instanceof Mt ? Mt.create(Lt(n.unwrap())) : n instanceof Rt ? Rt.create(n.items.map((e) => Lt(e))) : n;
}
class ie extends H {
  constructor() {
    super(...arguments), this._cached = null, this.nonstrict = this.passthrough, this.augment = this.extend;
  }
  _getCached() {
    if (this._cached !== null)
      return this._cached;
    const e = this._def.shape(), t = K.objectKeys(e);
    return this._cached = { shape: e, keys: t }, this._cached;
  }
  _parse(e) {
    if (this._getType(e) !== P.object) {
      const d = this._getOrReturnCtx(e);
      return R(d, {
        code: A.invalid_type,
        expected: P.object,
        received: d.parsedType
      }), q;
    }
    const { status: r, ctx: s } = this._processInputParams(e), { shape: a, keys: i } = this._getCached(), o = [];
    if (!(this._def.catchall instanceof pt && this._def.unknownKeys === "strip"))
      for (const d in s.data)
        i.includes(d) || o.push(d);
    const c = [];
    for (const d of i) {
      const f = a[d], l = s.data[d];
      c.push({
        key: { status: "valid", value: d },
        value: f._parse(new Fe(s, l, s.path, d)),
        alwaysSet: d in s.data
      });
    }
    if (this._def.catchall instanceof pt) {
      const d = this._def.unknownKeys;
      if (d === "passthrough")
        for (const f of o)
          c.push({
            key: { status: "valid", value: f },
            value: { status: "valid", value: s.data[f] }
          });
      else if (d === "strict")
        o.length > 0 && (R(s, {
          code: A.unrecognized_keys,
          keys: o
        }), r.dirty());
      else if (d !== "strip") throw new Error("Internal ZodObject error: invalid unknownKeys value.");
    } else {
      const d = this._def.catchall;
      for (const f of o) {
        const l = s.data[f];
        c.push({
          key: { status: "valid", value: f },
          value: d._parse(
            new Fe(s, l, s.path, f)
            //, ctx.child(key), value, getParsedType(value)
          ),
          alwaysSet: f in s.data
        });
      }
    }
    return s.common.async ? Promise.resolve().then(async () => {
      const d = [];
      for (const f of c) {
        const l = await f.key, h = await f.value;
        d.push({
          key: l,
          value: h,
          alwaysSet: f.alwaysSet
        });
      }
      return d;
    }).then((d) => _e.mergeObjectSync(r, d)) : _e.mergeObjectSync(r, c);
  }
  get shape() {
    return this._def.shape();
  }
  strict(e) {
    return $.errToObj, new ie({
      ...this._def,
      unknownKeys: "strict",
      ...e !== void 0 ? {
        errorMap: (t, r) => {
          var a, i;
          const s = ((i = (a = this._def).errorMap) == null ? void 0 : i.call(a, t, r).message) ?? r.defaultError;
          return t.code === "unrecognized_keys" ? {
            message: $.errToObj(e).message ?? s
          } : {
            message: s
          };
        }
      } : {}
    });
  }
  strip() {
    return new ie({
      ...this._def,
      unknownKeys: "strip"
    });
  }
  passthrough() {
    return new ie({
      ...this._def,
      unknownKeys: "passthrough"
    });
  }
  // const AugmentFactory =
  //   <Def extends ZodObjectDef>(def: Def) =>
  //   <Augmentation extends ZodRawShape>(
  //     augmentation: Augmentation
  //   ): ZodObject<
  //     extendShape<ReturnType<Def["shape"]>, Augmentation>,
  //     Def["unknownKeys"],
  //     Def["catchall"]
  //   > => {
  //     return new ZodObject({
  //       ...def,
  //       shape: () => ({
  //         ...def.shape(),
  //         ...augmentation,
  //       }),
  //     }) as any;
  //   };
  extend(e) {
    return new ie({
      ...this._def,
      shape: () => ({
        ...this._def.shape(),
        ...e
      })
    });
  }
  /**
   * Prior to zod@1.0.12 there was a bug in the
   * inferred type of merged objects. Please
   * upgrade if you are experiencing issues.
   */
  merge(e) {
    return new ie({
      unknownKeys: e._def.unknownKeys,
      catchall: e._def.catchall,
      shape: () => ({
        ...this._def.shape(),
        ...e._def.shape()
      }),
      typeName: O.ZodObject
    });
  }
  // merge<
  //   Incoming extends AnyZodObject,
  //   Augmentation extends Incoming["shape"],
  //   NewOutput extends {
  //     [k in keyof Augmentation | keyof Output]: k extends keyof Augmentation
  //       ? Augmentation[k]["_output"]
  //       : k extends keyof Output
  //       ? Output[k]
  //       : never;
  //   },
  //   NewInput extends {
  //     [k in keyof Augmentation | keyof Input]: k extends keyof Augmentation
  //       ? Augmentation[k]["_input"]
  //       : k extends keyof Input
  //       ? Input[k]
  //       : never;
  //   }
  // >(
  //   merging: Incoming
  // ): ZodObject<
  //   extendShape<T, ReturnType<Incoming["_def"]["shape"]>>,
  //   Incoming["_def"]["unknownKeys"],
  //   Incoming["_def"]["catchall"],
  //   NewOutput,
  //   NewInput
  // > {
  //   const merged: any = new ZodObject({
  //     unknownKeys: merging._def.unknownKeys,
  //     catchall: merging._def.catchall,
  //     shape: () =>
  //       objectUtil.mergeShapes(this._def.shape(), merging._def.shape()),
  //     typeName: ZodFirstPartyTypeKind.ZodObject,
  //   }) as any;
  //   return merged;
  // }
  setKey(e, t) {
    return this.augment({ [e]: t });
  }
  // merge<Incoming extends AnyZodObject>(
  //   merging: Incoming
  // ): //ZodObject<T & Incoming["_shape"], UnknownKeys, Catchall> = (merging) => {
  // ZodObject<
  //   extendShape<T, ReturnType<Incoming["_def"]["shape"]>>,
  //   Incoming["_def"]["unknownKeys"],
  //   Incoming["_def"]["catchall"]
  // > {
  //   // const mergedShape = objectUtil.mergeShapes(
  //   //   this._def.shape(),
  //   //   merging._def.shape()
  //   // );
  //   const merged: any = new ZodObject({
  //     unknownKeys: merging._def.unknownKeys,
  //     catchall: merging._def.catchall,
  //     shape: () =>
  //       objectUtil.mergeShapes(this._def.shape(), merging._def.shape()),
  //     typeName: ZodFirstPartyTypeKind.ZodObject,
  //   }) as any;
  //   return merged;
  // }
  catchall(e) {
    return new ie({
      ...this._def,
      catchall: e
    });
  }
  pick(e) {
    const t = {};
    for (const r of K.objectKeys(e))
      e[r] && this.shape[r] && (t[r] = this.shape[r]);
    return new ie({
      ...this._def,
      shape: () => t
    });
  }
  omit(e) {
    const t = {};
    for (const r of K.objectKeys(this.shape))
      e[r] || (t[r] = this.shape[r]);
    return new ie({
      ...this._def,
      shape: () => t
    });
  }
  /**
   * @deprecated
   */
  deepPartial() {
    return Lt(this);
  }
  partial(e) {
    const t = {};
    for (const r of K.objectKeys(this.shape)) {
      const s = this.shape[r];
      e && !e[r] ? t[r] = s : t[r] = s.optional();
    }
    return new ie({
      ...this._def,
      shape: () => t
    });
  }
  required(e) {
    const t = {};
    for (const r of K.objectKeys(this.shape))
      if (e && !e[r])
        t[r] = this.shape[r];
      else {
        let a = this.shape[r];
        for (; a instanceof et; )
          a = a._def.innerType;
        t[r] = a;
      }
    return new ie({
      ...this._def,
      shape: () => t
    });
  }
  keyof() {
    return Ka(K.objectKeys(this.shape));
  }
}
ie.create = (n, e) => new ie({
  shape: () => n,
  unknownKeys: "strip",
  catchall: pt.create(),
  typeName: O.ZodObject,
  ...z(e)
});
ie.strictCreate = (n, e) => new ie({
  shape: () => n,
  unknownKeys: "strict",
  catchall: pt.create(),
  typeName: O.ZodObject,
  ...z(e)
});
ie.lazycreate = (n, e) => new ie({
  shape: n,
  unknownKeys: "strip",
  catchall: pt.create(),
  typeName: O.ZodObject,
  ...z(e)
});
class ar extends H {
  _parse(e) {
    const { ctx: t } = this._processInputParams(e), r = this._def.options;
    function s(a) {
      for (const o of a)
        if (o.result.status === "valid")
          return o.result;
      for (const o of a)
        if (o.result.status === "dirty")
          return t.common.issues.push(...o.ctx.common.issues), o.result;
      const i = a.map((o) => new $e(o.ctx.common.issues));
      return R(t, {
        code: A.invalid_union,
        unionErrors: i
      }), q;
    }
    if (t.common.async)
      return Promise.all(r.map(async (a) => {
        const i = {
          ...t,
          common: {
            ...t.common,
            issues: []
          },
          parent: null
        };
        return {
          result: await a._parseAsync({
            data: t.data,
            path: t.path,
            parent: i
          }),
          ctx: i
        };
      })).then(s);
    {
      let a;
      const i = [];
      for (const c of r) {
        const d = {
          ...t,
          common: {
            ...t.common,
            issues: []
          },
          parent: null
        }, f = c._parseSync({
          data: t.data,
          path: t.path,
          parent: d
        });
        if (f.status === "valid")
          return f;
        f.status === "dirty" && !a && (a = { result: f, ctx: d }), d.common.issues.length && i.push(d.common.issues);
      }
      if (a)
        return t.common.issues.push(...a.ctx.common.issues), a.result;
      const o = i.map((c) => new $e(c));
      return R(t, {
        code: A.invalid_union,
        unionErrors: o
      }), q;
    }
  }
  get options() {
    return this._def.options;
  }
}
ar.create = (n, e) => new ar({
  options: n,
  typeName: O.ZodUnion,
  ...z(e)
});
const Be = (n) => n instanceof ur ? Be(n.schema) : n instanceof Dt ? Be(n.innerType()) : n instanceof cr ? [n.value] : n instanceof Pt ? n.options : n instanceof Hr ? K.objectValues(n.enum) : n instanceof dr ? Be(n._def.innerType) : n instanceof Gr ? [void 0] : n instanceof Vr ? [null] : n instanceof et ? [void 0, ...Be(n.unwrap())] : n instanceof Mt ? [null, ...Be(n.unwrap())] : n instanceof Ya || n instanceof fr ? Be(n.unwrap()) : n instanceof pr ? Be(n._def.innerType) : [];
class ys extends H {
  _parse(e) {
    const { ctx: t } = this._processInputParams(e);
    if (t.parsedType !== P.object)
      return R(t, {
        code: A.invalid_type,
        expected: P.object,
        received: t.parsedType
      }), q;
    const r = this.discriminator, s = t.data[r], a = this.optionsMap.get(s);
    return a ? t.common.async ? a._parseAsync({
      data: t.data,
      path: t.path,
      parent: t
    }) : a._parseSync({
      data: t.data,
      path: t.path,
      parent: t
    }) : (R(t, {
      code: A.invalid_union_discriminator,
      options: Array.from(this.optionsMap.keys()),
      path: [r]
    }), q);
  }
  get discriminator() {
    return this._def.discriminator;
  }
  get options() {
    return this._def.options;
  }
  get optionsMap() {
    return this._def.optionsMap;
  }
  /**
   * The constructor of the discriminated union schema. Its behaviour is very similar to that of the normal z.union() constructor.
   * However, it only allows a union of objects, all of which need to share a discriminator property. This property must
   * have a different value for each object in the union.
   * @param discriminator the name of the discriminator property
   * @param types an array of object schemas
   * @param params
   */
  static create(e, t, r) {
    const s = /* @__PURE__ */ new Map();
    for (const a of t) {
      const i = Be(a.shape[e]);
      if (!i.length)
        throw new Error(`A discriminator value for key \`${e}\` could not be extracted from all schema options`);
      for (const o of i) {
        if (s.has(o))
          throw new Error(`Discriminator property ${String(e)} has duplicate value ${String(o)}`);
        s.set(o, a);
      }
    }
    return new ys({
      typeName: O.ZodDiscriminatedUnion,
      discriminator: e,
      options: t,
      optionsMap: s,
      ...z(r)
    });
  }
}
function Wr(n, e) {
  const t = st(n), r = st(e);
  if (n === e)
    return { valid: !0, data: n };
  if (t === P.object && r === P.object) {
    const s = K.objectKeys(e), a = K.objectKeys(n).filter((o) => s.indexOf(o) !== -1), i = { ...n, ...e };
    for (const o of a) {
      const c = Wr(n[o], e[o]);
      if (!c.valid)
        return { valid: !1 };
      i[o] = c.data;
    }
    return { valid: !0, data: i };
  } else if (t === P.array && r === P.array) {
    if (n.length !== e.length)
      return { valid: !1 };
    const s = [];
    for (let a = 0; a < n.length; a++) {
      const i = n[a], o = e[a], c = Wr(i, o);
      if (!c.valid)
        return { valid: !1 };
      s.push(c.data);
    }
    return { valid: !0, data: s };
  } else return t === P.date && r === P.date && +n == +e ? { valid: !0, data: n } : { valid: !1 };
}
class ir extends H {
  _parse(e) {
    const { status: t, ctx: r } = this._processInputParams(e), s = (a, i) => {
      if (zs(a) || zs(i))
        return q;
      const o = Wr(a.value, i.value);
      return o.valid ? ((Gs(a) || Gs(i)) && t.dirty(), { status: t.value, value: o.data }) : (R(r, {
        code: A.invalid_intersection_types
      }), q);
    };
    return r.common.async ? Promise.all([
      this._def.left._parseAsync({
        data: r.data,
        path: r.path,
        parent: r
      }),
      this._def.right._parseAsync({
        data: r.data,
        path: r.path,
        parent: r
      })
    ]).then(([a, i]) => s(a, i)) : s(this._def.left._parseSync({
      data: r.data,
      path: r.path,
      parent: r
    }), this._def.right._parseSync({
      data: r.data,
      path: r.path,
      parent: r
    }));
  }
}
ir.create = (n, e, t) => new ir({
  left: n,
  right: e,
  typeName: O.ZodIntersection,
  ...z(t)
});
class Rt extends H {
  _parse(e) {
    const { status: t, ctx: r } = this._processInputParams(e);
    if (r.parsedType !== P.array)
      return R(r, {
        code: A.invalid_type,
        expected: P.array,
        received: r.parsedType
      }), q;
    if (r.data.length < this._def.items.length)
      return R(r, {
        code: A.too_small,
        minimum: this._def.items.length,
        inclusive: !0,
        exact: !1,
        type: "array"
      }), q;
    !this._def.rest && r.data.length > this._def.items.length && (R(r, {
      code: A.too_big,
      maximum: this._def.items.length,
      inclusive: !0,
      exact: !1,
      type: "array"
    }), t.dirty());
    const a = [...r.data].map((i, o) => {
      const c = this._def.items[o] || this._def.rest;
      return c ? c._parse(new Fe(r, i, r.path, o)) : null;
    }).filter((i) => !!i);
    return r.common.async ? Promise.all(a).then((i) => _e.mergeArray(t, i)) : _e.mergeArray(t, a);
  }
  get items() {
    return this._def.items;
  }
  rest(e) {
    return new Rt({
      ...this._def,
      rest: e
    });
  }
}
Rt.create = (n, e) => {
  if (!Array.isArray(n))
    throw new Error("You must pass an array of schemas to z.tuple([ ... ])");
  return new Rt({
    items: n,
    typeName: O.ZodTuple,
    rest: null,
    ...z(e)
  });
};
class or extends H {
  get keySchema() {
    return this._def.keyType;
  }
  get valueSchema() {
    return this._def.valueType;
  }
  _parse(e) {
    const { status: t, ctx: r } = this._processInputParams(e);
    if (r.parsedType !== P.object)
      return R(r, {
        code: A.invalid_type,
        expected: P.object,
        received: r.parsedType
      }), q;
    const s = [], a = this._def.keyType, i = this._def.valueType;
    for (const o in r.data)
      s.push({
        key: a._parse(new Fe(r, o, r.path, o)),
        value: i._parse(new Fe(r, r.data[o], r.path, o)),
        alwaysSet: o in r.data
      });
    return r.common.async ? _e.mergeObjectAsync(t, s) : _e.mergeObjectSync(t, s);
  }
  get element() {
    return this._def.valueType;
  }
  static create(e, t, r) {
    return t instanceof H ? new or({
      keyType: e,
      valueType: t,
      typeName: O.ZodRecord,
      ...z(r)
    }) : new or({
      keyType: Qe.create(),
      valueType: e,
      typeName: O.ZodRecord,
      ...z(t)
    });
  }
}
class Ys extends H {
  get keySchema() {
    return this._def.keyType;
  }
  get valueSchema() {
    return this._def.valueType;
  }
  _parse(e) {
    const { status: t, ctx: r } = this._processInputParams(e);
    if (r.parsedType !== P.map)
      return R(r, {
        code: A.invalid_type,
        expected: P.map,
        received: r.parsedType
      }), q;
    const s = this._def.keyType, a = this._def.valueType, i = [...r.data.entries()].map(([o, c], d) => ({
      key: s._parse(new Fe(r, o, r.path, [d, "key"])),
      value: a._parse(new Fe(r, c, r.path, [d, "value"]))
    }));
    if (r.common.async) {
      const o = /* @__PURE__ */ new Map();
      return Promise.resolve().then(async () => {
        for (const c of i) {
          const d = await c.key, f = await c.value;
          if (d.status === "aborted" || f.status === "aborted")
            return q;
          (d.status === "dirty" || f.status === "dirty") && t.dirty(), o.set(d.value, f.value);
        }
        return { status: t.value, value: o };
      });
    } else {
      const o = /* @__PURE__ */ new Map();
      for (const c of i) {
        const d = c.key, f = c.value;
        if (d.status === "aborted" || f.status === "aborted")
          return q;
        (d.status === "dirty" || f.status === "dirty") && t.dirty(), o.set(d.value, f.value);
      }
      return { status: t.value, value: o };
    }
  }
}
Ys.create = (n, e, t) => new Ys({
  valueType: e,
  keyType: n,
  typeName: O.ZodMap,
  ...z(t)
});
class bn extends H {
  _parse(e) {
    const { status: t, ctx: r } = this._processInputParams(e);
    if (r.parsedType !== P.set)
      return R(r, {
        code: A.invalid_type,
        expected: P.set,
        received: r.parsedType
      }), q;
    const s = this._def;
    s.minSize !== null && r.data.size < s.minSize.value && (R(r, {
      code: A.too_small,
      minimum: s.minSize.value,
      type: "set",
      inclusive: !0,
      exact: !1,
      message: s.minSize.message
    }), t.dirty()), s.maxSize !== null && r.data.size > s.maxSize.value && (R(r, {
      code: A.too_big,
      maximum: s.maxSize.value,
      type: "set",
      inclusive: !0,
      exact: !1,
      message: s.maxSize.message
    }), t.dirty());
    const a = this._def.valueType;
    function i(c) {
      const d = /* @__PURE__ */ new Set();
      for (const f of c) {
        if (f.status === "aborted")
          return q;
        f.status === "dirty" && t.dirty(), d.add(f.value);
      }
      return { status: t.value, value: d };
    }
    const o = [...r.data.values()].map((c, d) => a._parse(new Fe(r, c, r.path, d)));
    return r.common.async ? Promise.all(o).then((c) => i(c)) : i(o);
  }
  min(e, t) {
    return new bn({
      ...this._def,
      minSize: { value: e, message: $.toString(t) }
    });
  }
  max(e, t) {
    return new bn({
      ...this._def,
      maxSize: { value: e, message: $.toString(t) }
    });
  }
  size(e, t) {
    return this.min(e, t).max(e, t);
  }
  nonempty(e) {
    return this.min(1, e);
  }
}
bn.create = (n, e) => new bn({
  valueType: n,
  minSize: null,
  maxSize: null,
  typeName: O.ZodSet,
  ...z(e)
});
class ur extends H {
  get schema() {
    return this._def.getter();
  }
  _parse(e) {
    const { ctx: t } = this._processInputParams(e);
    return this._def.getter()._parse({ data: t.data, path: t.path, parent: t });
  }
}
ur.create = (n, e) => new ur({
  getter: n,
  typeName: O.ZodLazy,
  ...z(e)
});
class cr extends H {
  _parse(e) {
    if (e.data !== this._def.value) {
      const t = this._getOrReturnCtx(e);
      return R(t, {
        received: t.data,
        code: A.invalid_literal,
        expected: this._def.value
      }), q;
    }
    return { status: "valid", value: e.data };
  }
  get value() {
    return this._def.value;
  }
}
cr.create = (n, e) => new cr({
  value: n,
  typeName: O.ZodLiteral,
  ...z(e)
});
function Ka(n, e) {
  return new Pt({
    values: n,
    typeName: O.ZodEnum,
    ...z(e)
  });
}
class Pt extends H {
  _parse(e) {
    if (typeof e.data != "string") {
      const t = this._getOrReturnCtx(e), r = this._def.values;
      return R(t, {
        expected: K.joinValues(r),
        received: t.parsedType,
        code: A.invalid_type
      }), q;
    }
    if (this._cache || (this._cache = new Set(this._def.values)), !this._cache.has(e.data)) {
      const t = this._getOrReturnCtx(e), r = this._def.values;
      return R(t, {
        received: t.data,
        code: A.invalid_enum_value,
        options: r
      }), q;
    }
    return Ae(e.data);
  }
  get options() {
    return this._def.values;
  }
  get enum() {
    const e = {};
    for (const t of this._def.values)
      e[t] = t;
    return e;
  }
  get Values() {
    const e = {};
    for (const t of this._def.values)
      e[t] = t;
    return e;
  }
  get Enum() {
    const e = {};
    for (const t of this._def.values)
      e[t] = t;
    return e;
  }
  extract(e, t = this._def) {
    return Pt.create(e, {
      ...this._def,
      ...t
    });
  }
  exclude(e, t = this._def) {
    return Pt.create(this.options.filter((r) => !e.includes(r)), {
      ...this._def,
      ...t
    });
  }
}
Pt.create = Ka;
class Hr extends H {
  _parse(e) {
    const t = K.getValidEnumValues(this._def.values), r = this._getOrReturnCtx(e);
    if (r.parsedType !== P.string && r.parsedType !== P.number) {
      const s = K.objectValues(t);
      return R(r, {
        expected: K.joinValues(s),
        received: r.parsedType,
        code: A.invalid_type
      }), q;
    }
    if (this._cache || (this._cache = new Set(K.getValidEnumValues(this._def.values))), !this._cache.has(e.data)) {
      const s = K.objectValues(t);
      return R(r, {
        received: r.data,
        code: A.invalid_enum_value,
        options: s
      }), q;
    }
    return Ae(e.data);
  }
  get enum() {
    return this._def.values;
  }
}
Hr.create = (n, e) => new Hr({
  values: n,
  typeName: O.ZodNativeEnum,
  ...z(e)
});
class lr extends H {
  unwrap() {
    return this._def.type;
  }
  _parse(e) {
    const { ctx: t } = this._processInputParams(e);
    if (t.parsedType !== P.promise && t.common.async === !1)
      return R(t, {
        code: A.invalid_type,
        expected: P.promise,
        received: t.parsedType
      }), q;
    const r = t.parsedType === P.promise ? t.data : Promise.resolve(t.data);
    return Ae(r.then((s) => this._def.type.parseAsync(s, {
      path: t.path,
      errorMap: t.common.contextualErrorMap
    })));
  }
}
lr.create = (n, e) => new lr({
  type: n,
  typeName: O.ZodPromise,
  ...z(e)
});
class Dt extends H {
  innerType() {
    return this._def.schema;
  }
  sourceType() {
    return this._def.schema._def.typeName === O.ZodEffects ? this._def.schema.sourceType() : this._def.schema;
  }
  _parse(e) {
    const { status: t, ctx: r } = this._processInputParams(e), s = this._def.effect || null, a = {
      addIssue: (i) => {
        R(r, i), i.fatal ? t.abort() : t.dirty();
      },
      get path() {
        return r.path;
      }
    };
    if (a.addIssue = a.addIssue.bind(a), s.type === "preprocess") {
      const i = s.transform(r.data, a);
      if (r.common.async)
        return Promise.resolve(i).then(async (o) => {
          if (t.value === "aborted")
            return q;
          const c = await this._def.schema._parseAsync({
            data: o,
            path: r.path,
            parent: r
          });
          return c.status === "aborted" ? q : c.status === "dirty" || t.value === "dirty" ? fn(c.value) : c;
        });
      {
        if (t.value === "aborted")
          return q;
        const o = this._def.schema._parseSync({
          data: i,
          path: r.path,
          parent: r
        });
        return o.status === "aborted" ? q : o.status === "dirty" || t.value === "dirty" ? fn(o.value) : o;
      }
    }
    if (s.type === "refinement") {
      const i = (o) => {
        const c = s.refinement(o, a);
        if (r.common.async)
          return Promise.resolve(c);
        if (c instanceof Promise)
          throw new Error("Async refinement encountered during synchronous parse operation. Use .parseAsync instead.");
        return o;
      };
      if (r.common.async === !1) {
        const o = this._def.schema._parseSync({
          data: r.data,
          path: r.path,
          parent: r
        });
        return o.status === "aborted" ? q : (o.status === "dirty" && t.dirty(), i(o.value), { status: t.value, value: o.value });
      } else
        return this._def.schema._parseAsync({ data: r.data, path: r.path, parent: r }).then((o) => o.status === "aborted" ? q : (o.status === "dirty" && t.dirty(), i(o.value).then(() => ({ status: t.value, value: o.value }))));
    }
    if (s.type === "transform")
      if (r.common.async === !1) {
        const i = this._def.schema._parseSync({
          data: r.data,
          path: r.path,
          parent: r
        });
        if (!an(i))
          return q;
        const o = s.transform(i.value, a);
        if (o instanceof Promise)
          throw new Error("Asynchronous transform encountered during synchronous parse operation. Use .parseAsync instead.");
        return { status: t.value, value: o };
      } else
        return this._def.schema._parseAsync({ data: r.data, path: r.path, parent: r }).then((i) => an(i) ? Promise.resolve(s.transform(i.value, a)).then((o) => ({
          status: t.value,
          value: o
        })) : q);
    K.assertNever(s);
  }
}
Dt.create = (n, e, t) => new Dt({
  schema: n,
  typeName: O.ZodEffects,
  effect: e,
  ...z(t)
});
Dt.createWithPreprocess = (n, e, t) => new Dt({
  schema: e,
  effect: { type: "preprocess", transform: n },
  typeName: O.ZodEffects,
  ...z(t)
});
class et extends H {
  _parse(e) {
    return this._getType(e) === P.undefined ? Ae(void 0) : this._def.innerType._parse(e);
  }
  unwrap() {
    return this._def.innerType;
  }
}
et.create = (n, e) => new et({
  innerType: n,
  typeName: O.ZodOptional,
  ...z(e)
});
class Mt extends H {
  _parse(e) {
    return this._getType(e) === P.null ? Ae(null) : this._def.innerType._parse(e);
  }
  unwrap() {
    return this._def.innerType;
  }
}
Mt.create = (n, e) => new Mt({
  innerType: n,
  typeName: O.ZodNullable,
  ...z(e)
});
class dr extends H {
  _parse(e) {
    const { ctx: t } = this._processInputParams(e);
    let r = t.data;
    return t.parsedType === P.undefined && (r = this._def.defaultValue()), this._def.innerType._parse({
      data: r,
      path: t.path,
      parent: t
    });
  }
  removeDefault() {
    return this._def.innerType;
  }
}
dr.create = (n, e) => new dr({
  innerType: n,
  typeName: O.ZodDefault,
  defaultValue: typeof e.default == "function" ? e.default : () => e.default,
  ...z(e)
});
class pr extends H {
  _parse(e) {
    const { ctx: t } = this._processInputParams(e), r = {
      ...t,
      common: {
        ...t.common,
        issues: []
      }
    }, s = this._def.innerType._parse({
      data: r.data,
      path: r.path,
      parent: {
        ...r
      }
    });
    return rr(s) ? s.then((a) => ({
      status: "valid",
      value: a.status === "valid" ? a.value : this._def.catchValue({
        get error() {
          return new $e(r.common.issues);
        },
        input: r.data
      })
    })) : {
      status: "valid",
      value: s.status === "valid" ? s.value : this._def.catchValue({
        get error() {
          return new $e(r.common.issues);
        },
        input: r.data
      })
    };
  }
  removeCatch() {
    return this._def.innerType;
  }
}
pr.create = (n, e) => new pr({
  innerType: n,
  typeName: O.ZodCatch,
  catchValue: typeof e.catch == "function" ? e.catch : () => e.catch,
  ...z(e)
});
class Xs extends H {
  _parse(e) {
    if (this._getType(e) !== P.nan) {
      const r = this._getOrReturnCtx(e);
      return R(r, {
        code: A.invalid_type,
        expected: P.nan,
        received: r.parsedType
      }), q;
    }
    return { status: "valid", value: e.data };
  }
}
Xs.create = (n) => new Xs({
  typeName: O.ZodNaN,
  ...z(n)
});
class Ya extends H {
  _parse(e) {
    const { ctx: t } = this._processInputParams(e), r = t.data;
    return this._def.type._parse({
      data: r,
      path: t.path,
      parent: t
    });
  }
  unwrap() {
    return this._def.type;
  }
}
class _s extends H {
  _parse(e) {
    const { status: t, ctx: r } = this._processInputParams(e);
    if (r.common.async)
      return (async () => {
        const a = await this._def.in._parseAsync({
          data: r.data,
          path: r.path,
          parent: r
        });
        return a.status === "aborted" ? q : a.status === "dirty" ? (t.dirty(), fn(a.value)) : this._def.out._parseAsync({
          data: a.value,
          path: r.path,
          parent: r
        });
      })();
    {
      const s = this._def.in._parseSync({
        data: r.data,
        path: r.path,
        parent: r
      });
      return s.status === "aborted" ? q : s.status === "dirty" ? (t.dirty(), {
        status: "dirty",
        value: s.value
      }) : this._def.out._parseSync({
        data: s.value,
        path: r.path,
        parent: r
      });
    }
  }
  static create(e, t) {
    return new _s({
      in: e,
      out: t,
      typeName: O.ZodPipeline
    });
  }
}
class fr extends H {
  _parse(e) {
    const t = this._def.innerType._parse(e), r = (s) => (an(s) && (s.value = Object.freeze(s.value)), s);
    return rr(t) ? t.then((s) => r(s)) : r(t);
  }
  unwrap() {
    return this._def.innerType;
  }
}
fr.create = (n, e) => new fr({
  innerType: n,
  typeName: O.ZodReadonly,
  ...z(e)
});
function Qs(n, e) {
  const t = typeof n == "function" ? n(e) : typeof n == "string" ? { message: n } : n;
  return typeof t == "string" ? { message: t } : t;
}
function Yo(n, e = {}, t) {
  return n ? wn.create().superRefine((r, s) => {
    const a = n(r);
    if (a instanceof Promise)
      return a.then((i) => {
        if (!i) {
          const o = Qs(e, r), c = o.fatal ?? t ?? !0;
          s.addIssue({ code: "custom", ...o, fatal: c });
        }
      });
    if (!a) {
      const i = Qs(e, r), o = i.fatal ?? t ?? !0;
      s.addIssue({ code: "custom", ...i, fatal: o });
    }
  }) : wn.create();
}
var O;
(function(n) {
  n.ZodString = "ZodString", n.ZodNumber = "ZodNumber", n.ZodNaN = "ZodNaN", n.ZodBigInt = "ZodBigInt", n.ZodBoolean = "ZodBoolean", n.ZodDate = "ZodDate", n.ZodSymbol = "ZodSymbol", n.ZodUndefined = "ZodUndefined", n.ZodNull = "ZodNull", n.ZodAny = "ZodAny", n.ZodUnknown = "ZodUnknown", n.ZodNever = "ZodNever", n.ZodVoid = "ZodVoid", n.ZodArray = "ZodArray", n.ZodObject = "ZodObject", n.ZodUnion = "ZodUnion", n.ZodDiscriminatedUnion = "ZodDiscriminatedUnion", n.ZodIntersection = "ZodIntersection", n.ZodTuple = "ZodTuple", n.ZodRecord = "ZodRecord", n.ZodMap = "ZodMap", n.ZodSet = "ZodSet", n.ZodFunction = "ZodFunction", n.ZodLazy = "ZodLazy", n.ZodLiteral = "ZodLiteral", n.ZodEnum = "ZodEnum", n.ZodEffects = "ZodEffects", n.ZodNativeEnum = "ZodNativeEnum", n.ZodOptional = "ZodOptional", n.ZodNullable = "ZodNullable", n.ZodDefault = "ZodDefault", n.ZodCatch = "ZodCatch", n.ZodPromise = "ZodPromise", n.ZodBranded = "ZodBranded", n.ZodPipeline = "ZodPipeline", n.ZodReadonly = "ZodReadonly";
})(O || (O = {}));
const Xa = (n, e = {
  message: `Input not instance of ${n.name}`
}) => Yo((t) => t instanceof n, e), p = Qe.create, E = on.create, Nt = zr.create, V = wn.create;
pt.create;
const B = je.create, v = ie.create, tt = ar.create, ge = ys.create;
ir.create;
Rt.create;
const ee = or.create, Xo = ur.create, b = cr.create, oe = Pt.create;
lr.create;
et.create;
Mt.create;
function Qo() {
  return {};
}
function eu(n, e) {
  var r, s;
  const t = {
    type: "array"
  };
  return ((s = (r = n.type) == null ? void 0 : r._def) == null ? void 0 : s.typeName) !== O.ZodAny && (t.items = Y(n.type._def, {
    ...e,
    currentPath: [...e.currentPath, "items"]
  })), n.minLength && X(t, "minItems", n.minLength.value, n.minLength.message, e), n.maxLength && X(t, "maxItems", n.maxLength.value, n.maxLength.message, e), n.exactLength && (X(t, "minItems", n.exactLength.value, n.exactLength.message, e), X(t, "maxItems", n.exactLength.value, n.exactLength.message, e)), t;
}
function tu(n, e) {
  const t = {
    type: "integer",
    format: "int64"
  };
  if (!n.checks)
    return t;
  for (const r of n.checks)
    switch (r.kind) {
      case "min":
        e.target === "jsonSchema7" ? r.inclusive ? X(t, "minimum", r.value, r.message, e) : X(t, "exclusiveMinimum", r.value, r.message, e) : (r.inclusive || (t.exclusiveMinimum = !0), X(t, "minimum", r.value, r.message, e));
        break;
      case "max":
        e.target === "jsonSchema7" ? r.inclusive ? X(t, "maximum", r.value, r.message, e) : X(t, "exclusiveMaximum", r.value, r.message, e) : (r.inclusive || (t.exclusiveMaximum = !0), X(t, "maximum", r.value, r.message, e));
        break;
      case "multipleOf":
        X(t, "multipleOf", r.value, r.message, e);
        break;
    }
  return t;
}
function nu() {
  return {
    type: "boolean"
  };
}
function ru(n, e) {
  return Y(n.type._def, e);
}
const su = (n, e) => Y(n.innerType._def, e);
function Qa(n, e, t) {
  const r = t ?? e.dateStrategy;
  if (Array.isArray(r))
    return {
      anyOf: r.map((s, a) => Qa(n, e, s))
    };
  switch (r) {
    case "string":
    case "format:date-time":
      return {
        type: "string",
        format: "date-time"
      };
    case "format:date":
      return {
        type: "string",
        format: "date"
      };
    case "integer":
      return au(n, e);
  }
}
const au = (n, e) => {
  const t = {
    type: "integer",
    format: "unix-time"
  };
  if (e.target === "openApi3")
    return t;
  for (const r of n.checks)
    switch (r.kind) {
      case "min":
        X(
          t,
          "minimum",
          r.value,
          // This is in milliseconds
          r.message,
          e
        );
        break;
      case "max":
        X(
          t,
          "maximum",
          r.value,
          // This is in milliseconds
          r.message,
          e
        );
        break;
    }
  return t;
};
function iu(n, e) {
  return {
    ...Y(n.innerType._def, e),
    default: n.defaultValue()
  };
}
function ou(n, e, t) {
  return e.effectStrategy === "input" ? Y(n.schema._def, e, t) : {};
}
function uu(n) {
  return {
    type: "string",
    enum: [...n.values]
  };
}
const cu = (n) => "type" in n && n.type === "string" ? !1 : "allOf" in n;
function lu(n, e) {
  const t = [
    Y(n.left._def, {
      ...e,
      currentPath: [...e.currentPath, "allOf", "0"]
    }),
    Y(n.right._def, {
      ...e,
      currentPath: [...e.currentPath, "allOf", "1"]
    })
  ].filter((a) => !!a);
  let r = e.target === "jsonSchema2019-09" ? { unevaluatedProperties: !1 } : void 0;
  const s = [];
  return t.forEach((a) => {
    if (cu(a))
      s.push(...a.allOf), a.unevaluatedProperties === void 0 && (r = void 0);
    else {
      let i = a;
      if ("additionalProperties" in a && a.additionalProperties === !1) {
        const { additionalProperties: o, ...c } = a;
        i = c;
      } else
        r = void 0;
      s.push(i);
    }
  }), s.length ? {
    allOf: s,
    ...r
  } : void 0;
}
function du(n, e) {
  const t = typeof n.value;
  return t !== "bigint" && t !== "number" && t !== "boolean" && t !== "string" ? {
    type: Array.isArray(n.value) ? "array" : "object"
  } : e.target === "openApi3" ? {
    type: t === "bigint" ? "integer" : t,
    enum: [n.value]
  } : {
    type: t === "bigint" ? "integer" : t,
    const: n.value
  };
}
let Rr;
const mt = {
  /**
   * `c` was changed to `[cC]` to replicate /i flag
   */
  cuid: /^[cC][^\s-]{8,}$/,
  cuid2: /^[0-9a-z]+$/,
  ulid: /^[0-9A-HJKMNP-TV-Z]{26}$/,
  /**
   * `a-z` was added to replicate /i flag
   */
  email: /^(?!\.)(?!.*\.\.)([a-zA-Z0-9_'+\-\.]*)[a-zA-Z0-9_+-]@([a-zA-Z0-9][a-zA-Z0-9\-]*\.)+[a-zA-Z]{2,}$/,
  /**
   * Constructed a valid Unicode RegExp
   *
   * Lazily instantiate since this type of regex isn't supported
   * in all envs (e.g. React Native).
   *
   * See:
   * https://github.com/colinhacks/zod/issues/2433
   * Fix in Zod:
   * https://github.com/colinhacks/zod/commit/9340fd51e48576a75adc919bff65dbc4a5d4c99b
   */
  emoji: () => (Rr === void 0 && (Rr = RegExp("^(\\p{Extended_Pictographic}|\\p{Emoji_Component})+$", "u")), Rr),
  base64: /^([0-9a-zA-Z+/]{4})*(([0-9a-zA-Z+/]{2}==)|([0-9a-zA-Z+/]{3}=))?$/,
  nanoid: /^[a-zA-Z0-9_-]{21}$/
};
function ei(n, e) {
  const t = {
    type: "string"
  };
  function r(s) {
    return e.patternStrategy === "escape" ? pu(s) : s;
  }
  if (n.checks)
    for (const s of n.checks)
      switch (s.kind) {
        case "min":
          X(t, "minLength", typeof t.minLength == "number" ? Math.max(t.minLength, s.value) : s.value, s.message, e);
          break;
        case "max":
          X(t, "maxLength", typeof t.maxLength == "number" ? Math.min(t.maxLength, s.value) : s.value, s.message, e);
          break;
        case "email":
          switch (e.emailStrategy) {
            case "format:email":
              Ce(t, "email", s.message, e);
              break;
            case "format:idn-email":
              Ce(t, "idn-email", s.message, e);
              break;
            case "pattern:zod":
              Oe(t, mt.email, s.message, e);
              break;
          }
          break;
        case "url":
          Ce(t, "uri", s.message, e);
          break;
        case "uuid":
          Ce(t, "uuid", s.message, e);
          break;
        case "regex":
          Oe(t, s.regex, s.message, e);
          break;
        case "cuid":
          Oe(t, mt.cuid, s.message, e);
          break;
        case "cuid2":
          Oe(t, mt.cuid2, s.message, e);
          break;
        case "startsWith":
          Oe(t, RegExp(`^${r(s.value)}`), s.message, e);
          break;
        case "endsWith":
          Oe(t, RegExp(`${r(s.value)}$`), s.message, e);
          break;
        case "datetime":
          Ce(t, "date-time", s.message, e);
          break;
        case "date":
          Ce(t, "date", s.message, e);
          break;
        case "time":
          Ce(t, "time", s.message, e);
          break;
        case "duration":
          Ce(t, "duration", s.message, e);
          break;
        case "length":
          X(t, "minLength", typeof t.minLength == "number" ? Math.max(t.minLength, s.value) : s.value, s.message, e), X(t, "maxLength", typeof t.maxLength == "number" ? Math.min(t.maxLength, s.value) : s.value, s.message, e);
          break;
        case "includes": {
          Oe(t, RegExp(r(s.value)), s.message, e);
          break;
        }
        case "ip": {
          s.version !== "v6" && Ce(t, "ipv4", s.message, e), s.version !== "v4" && Ce(t, "ipv6", s.message, e);
          break;
        }
        case "emoji":
          Oe(t, mt.emoji, s.message, e);
          break;
        case "ulid": {
          Oe(t, mt.ulid, s.message, e);
          break;
        }
        case "base64": {
          switch (e.base64Strategy) {
            case "format:binary": {
              Ce(t, "binary", s.message, e);
              break;
            }
            case "contentEncoding:base64": {
              X(t, "contentEncoding", "base64", s.message, e);
              break;
            }
            case "pattern:zod": {
              Oe(t, mt.base64, s.message, e);
              break;
            }
          }
          break;
        }
        case "nanoid":
          Oe(t, mt.nanoid, s.message, e);
      }
  return t;
}
const pu = (n) => Array.from(n).map((e) => /[a-zA-Z0-9]/.test(e) ? e : `\\${e}`).join(""), Ce = (n, e, t, r) => {
  var s;
  n.format || (s = n.anyOf) != null && s.some((a) => a.format) ? (n.anyOf || (n.anyOf = []), n.format && (n.anyOf.push({
    format: n.format,
    ...n.errorMessage && r.errorMessages && {
      errorMessage: { format: n.errorMessage.format }
    }
  }), delete n.format, n.errorMessage && (delete n.errorMessage.format, Object.keys(n.errorMessage).length === 0 && delete n.errorMessage)), n.anyOf.push({
    format: e,
    ...t && r.errorMessages && { errorMessage: { format: t } }
  })) : X(n, "format", e, t, r);
}, Oe = (n, e, t, r) => {
  var s;
  n.pattern || (s = n.allOf) != null && s.some((a) => a.pattern) ? (n.allOf || (n.allOf = []), n.pattern && (n.allOf.push({
    pattern: n.pattern,
    ...n.errorMessage && r.errorMessages && {
      errorMessage: { pattern: n.errorMessage.pattern }
    }
  }), delete n.pattern, n.errorMessage && (delete n.errorMessage.pattern, Object.keys(n.errorMessage).length === 0 && delete n.errorMessage)), n.allOf.push({
    pattern: ea(e, r),
    ...t && r.errorMessages && { errorMessage: { pattern: t } }
  })) : X(n, "pattern", ea(e, r), t, r);
}, ea = (n, e) => {
  var d;
  const t = typeof n == "function" ? n() : n;
  if (!e.applyRegexFlags || !t.flags)
    return t.source;
  const r = {
    i: t.flags.includes("i"),
    // Case-insensitive
    m: t.flags.includes("m"),
    // `^` and `$` matches adjacent to newline characters
    s: t.flags.includes("s")
    // `.` matches newlines
  }, s = r.i ? t.source.toLowerCase() : t.source;
  let a = "", i = !1, o = !1, c = !1;
  for (let f = 0; f < s.length; f++) {
    if (i) {
      a += s[f], i = !1;
      continue;
    }
    if (r.i) {
      if (o) {
        if (s[f].match(/[a-z]/)) {
          c ? (a += s[f], a += `${s[f - 2]}-${s[f]}`.toUpperCase(), c = !1) : s[f + 1] === "-" && ((d = s[f + 2]) != null && d.match(/[a-z]/)) ? (a += s[f], c = !0) : a += `${s[f]}${s[f].toUpperCase()}`;
          continue;
        }
      } else if (s[f].match(/[a-z]/)) {
        a += `[${s[f]}${s[f].toUpperCase()}]`;
        continue;
      }
    }
    if (r.m) {
      if (s[f] === "^") {
        a += `(^|(?<=[\r
]))`;
        continue;
      } else if (s[f] === "$") {
        a += `($|(?=[\r
]))`;
        continue;
      }
    }
    if (r.s && s[f] === ".") {
      a += o ? `${s[f]}\r
` : `[${s[f]}\r
]`;
      continue;
    }
    a += s[f], s[f] === "\\" ? i = !0 : o && s[f] === "]" ? o = !1 : !o && s[f] === "[" && (o = !0);
  }
  try {
    const f = new RegExp(a);
  } catch {
    return console.warn(`Could not convert regex pattern at ${e.currentPath.join("/")} to a flag-independent form! Falling back to the flag-ignorant source`), t.source;
  }
  return a;
};
function ti(n, e) {
  var r, s, a, i;
  if (e.target === "openApi3" && ((r = n.keyType) == null ? void 0 : r._def.typeName) === O.ZodEnum)
    return {
      type: "object",
      required: n.keyType._def.values,
      properties: n.keyType._def.values.reduce((o, c) => ({
        ...o,
        [c]: Y(n.valueType._def, {
          ...e,
          currentPath: [...e.currentPath, "properties", c]
        }) ?? {}
      }), {}),
      additionalProperties: !1
    };
  const t = {
    type: "object",
    additionalProperties: Y(n.valueType._def, {
      ...e,
      currentPath: [...e.currentPath, "additionalProperties"]
    }) ?? {}
  };
  if (e.target === "openApi3")
    return t;
  if (((s = n.keyType) == null ? void 0 : s._def.typeName) === O.ZodString && ((a = n.keyType._def.checks) != null && a.length)) {
    const o = Object.entries(ei(n.keyType._def, e)).reduce((c, [d, f]) => d === "type" ? c : { ...c, [d]: f }, {});
    return {
      ...t,
      propertyNames: o
    };
  } else if (((i = n.keyType) == null ? void 0 : i._def.typeName) === O.ZodEnum)
    return {
      ...t,
      propertyNames: {
        enum: n.keyType._def.values
      }
    };
  return t;
}
function fu(n, e) {
  if (e.mapStrategy === "record")
    return ti(n, e);
  const t = Y(n.keyType._def, {
    ...e,
    currentPath: [...e.currentPath, "items", "items", "0"]
  }) || {}, r = Y(n.valueType._def, {
    ...e,
    currentPath: [...e.currentPath, "items", "items", "1"]
  }) || {};
  return {
    type: "array",
    maxItems: 125,
    items: {
      type: "array",
      items: [t, r],
      minItems: 2,
      maxItems: 2
    }
  };
}
function hu(n) {
  const e = n.values, r = Object.keys(n.values).filter((a) => typeof e[e[a]] != "number").map((a) => e[a]), s = Array.from(new Set(r.map((a) => typeof a)));
  return {
    type: s.length === 1 ? s[0] === "string" ? "string" : "number" : ["string", "number"],
    enum: r
  };
}
function mu() {
  return {
    not: {}
  };
}
function gu(n) {
  return n.target === "openApi3" ? {
    enum: ["null"],
    nullable: !0
  } : {
    type: "null"
  };
}
const hr = {
  ZodString: "string",
  ZodNumber: "number",
  ZodBigInt: "integer",
  ZodBoolean: "boolean",
  ZodNull: "null"
};
function yu(n, e) {
  if (e.target === "openApi3")
    return ta(n, e);
  const t = n.options instanceof Map ? Array.from(n.options.values()) : n.options;
  if (t.every((r) => r._def.typeName in hr && (!r._def.checks || !r._def.checks.length))) {
    const r = t.reduce((s, a) => {
      const i = hr[a._def.typeName];
      return i && !s.includes(i) ? [...s, i] : s;
    }, []);
    return {
      type: r.length > 1 ? r : r[0]
    };
  } else if (t.every((r) => r._def.typeName === "ZodLiteral" && !r.description)) {
    const r = t.reduce((s, a) => {
      const i = typeof a._def.value;
      switch (i) {
        case "string":
        case "number":
        case "boolean":
          return [...s, i];
        case "bigint":
          return [...s, "integer"];
        case "object":
          if (a._def.value === null)
            return [...s, "null"];
        case "symbol":
        case "undefined":
        case "function":
        default:
          return s;
      }
    }, []);
    if (r.length === t.length) {
      const s = r.filter((a, i, o) => o.indexOf(a) === i);
      return {
        type: s.length > 1 ? s : s[0],
        enum: t.reduce((a, i) => a.includes(i._def.value) ? a : [...a, i._def.value], [])
      };
    }
  } else if (t.every((r) => r._def.typeName === "ZodEnum"))
    return {
      type: "string",
      enum: t.reduce((r, s) => [...r, ...s._def.values.filter((a) => !r.includes(a))], [])
    };
  return ta(n, e);
}
const ta = (n, e) => {
  const t = (n.options instanceof Map ? Array.from(n.options.values()) : n.options).map((r, s) => Y(r._def, {
    ...e,
    currentPath: [...e.currentPath, "anyOf", `${s}`]
  })).filter((r) => !!r && (!e.strictUnions || typeof r == "object" && Object.keys(r).length > 0));
  return t.length ? { anyOf: t } : void 0;
};
function _u(n, e) {
  if (["ZodString", "ZodNumber", "ZodBigInt", "ZodBoolean", "ZodNull"].includes(n.innerType._def.typeName) && (!n.innerType._def.checks || !n.innerType._def.checks.length))
    return e.target === "openApi3" || e.nullableStrategy === "property" ? {
      type: hr[n.innerType._def.typeName],
      nullable: !0
    } : {
      type: [hr[n.innerType._def.typeName], "null"]
    };
  if (e.target === "openApi3") {
    const r = Y(n.innerType._def, {
      ...e,
      currentPath: [...e.currentPath]
    });
    return r && "$ref" in r ? { allOf: [r], nullable: !0 } : r && { ...r, nullable: !0 };
  }
  const t = Y(n.innerType._def, {
    ...e,
    currentPath: [...e.currentPath, "anyOf", "0"]
  });
  return t && { anyOf: [t, { type: "null" }] };
}
function vu(n, e) {
  const t = {
    type: "number"
  };
  if (!n.checks)
    return t;
  for (const r of n.checks)
    switch (r.kind) {
      case "int":
        t.type = "integer", Va(t, "type", r.message, e);
        break;
      case "min":
        e.target === "jsonSchema7" ? r.inclusive ? X(t, "minimum", r.value, r.message, e) : X(t, "exclusiveMinimum", r.value, r.message, e) : (r.inclusive || (t.exclusiveMinimum = !0), X(t, "minimum", r.value, r.message, e));
        break;
      case "max":
        e.target === "jsonSchema7" ? r.inclusive ? X(t, "maximum", r.value, r.message, e) : X(t, "exclusiveMaximum", r.value, r.message, e) : (r.inclusive || (t.exclusiveMaximum = !0), X(t, "maximum", r.value, r.message, e));
        break;
      case "multipleOf":
        X(t, "multipleOf", r.value, r.message, e);
        break;
    }
  return t;
}
function wu(n, e) {
  return e.removeAdditionalStrategy === "strict" ? n.catchall._def.typeName === "ZodNever" ? n.unknownKeys !== "strict" : Y(n.catchall._def, {
    ...e,
    currentPath: [...e.currentPath, "additionalProperties"]
  }) ?? !0 : n.catchall._def.typeName === "ZodNever" ? n.unknownKeys === "passthrough" : Y(n.catchall._def, {
    ...e,
    currentPath: [...e.currentPath, "additionalProperties"]
  }) ?? !0;
}
function bu(n, e) {
  const t = {
    type: "object",
    ...Object.entries(n.shape()).reduce((r, [s, a]) => {
      var c;
      if (a === void 0 || a._def === void 0)
        return r;
      const i = [...e.currentPath, "properties", s], o = Y(a._def, {
        ...e,
        currentPath: i,
        propertyPath: i
      });
      if (o === void 0)
        return r;
      if (e.openaiStrictMode && a.isOptional() && !a.isNullable() && typeof ((c = a._def) == null ? void 0 : c.defaultValue) > "u")
        throw new Error(`Zod field at \`${i.join("/")}\` uses \`.optional()\` without \`.nullable()\` which is not supported by the API. See: https://platform.openai.com/docs/guides/structured-outputs?api-mode=responses#all-fields-must-be-required`);
      return {
        properties: {
          ...r.properties,
          [s]: o
        },
        required: a.isOptional() && !e.openaiStrictMode ? r.required : [...r.required, s]
      };
    }, { properties: {}, required: [] }),
    additionalProperties: wu(n, e)
  };
  return t.required.length || delete t.required, t;
}
const Iu = (n, e) => {
  if (e.propertyPath && e.currentPath.slice(0, e.propertyPath.length).toString() === e.propertyPath.toString())
    return Y(n.innerType._def, { ...e, currentPath: e.currentPath });
  const t = Y(n.innerType._def, {
    ...e,
    currentPath: [...e.currentPath, "anyOf", "1"]
  });
  return t ? {
    anyOf: [
      {
        not: {}
      },
      t
    ]
  } : {};
}, xu = (n, e) => {
  if (e.pipeStrategy === "input")
    return Y(n.in._def, e);
  if (e.pipeStrategy === "output")
    return Y(n.out._def, e);
  const t = Y(n.in._def, {
    ...e,
    currentPath: [...e.currentPath, "allOf", "0"]
  }), r = Y(n.out._def, {
    ...e,
    currentPath: [...e.currentPath, "allOf", t ? "1" : "0"]
  });
  return {
    allOf: [t, r].filter((s) => s !== void 0)
  };
};
function Su(n, e) {
  return Y(n.type._def, e);
}
function Tu(n, e) {
  const r = {
    type: "array",
    uniqueItems: !0,
    items: Y(n.valueType._def, {
      ...e,
      currentPath: [...e.currentPath, "items"]
    })
  };
  return n.minSize && X(r, "minItems", n.minSize.value, n.minSize.message, e), n.maxSize && X(r, "maxItems", n.maxSize.value, n.maxSize.message, e), r;
}
function ku(n, e) {
  return n.rest ? {
    type: "array",
    minItems: n.items.length,
    items: n.items.map((t, r) => Y(t._def, {
      ...e,
      currentPath: [...e.currentPath, "items", `${r}`]
    })).reduce((t, r) => r === void 0 ? t : [...t, r], []),
    additionalItems: Y(n.rest._def, {
      ...e,
      currentPath: [...e.currentPath, "additionalItems"]
    })
  } : {
    type: "array",
    minItems: n.items.length,
    maxItems: n.items.length,
    items: n.items.map((t, r) => Y(t._def, {
      ...e,
      currentPath: [...e.currentPath, "items", `${r}`]
    })).reduce((t, r) => r === void 0 ? t : [...t, r], [])
  };
}
function Au() {
  return {
    not: {}
  };
}
function Cu() {
  return {};
}
const Ou = (n, e) => Y(n.innerType._def, e);
function Y(n, e, t = !1) {
  var i;
  const r = e.seen.get(n);
  if (e.override) {
    const o = (i = e.override) == null ? void 0 : i.call(e, n, e, r, t);
    if (o !== Io)
      return o;
  }
  if (r && !t) {
    const o = Eu(r, e);
    if (o !== void 0)
      return "$ref" in o && e.seenRefs.add(o.$ref), o;
  }
  const s = { def: n, path: e.currentPath, jsonSchema: void 0 };
  e.seen.set(n, s);
  const a = Ru(n, n.typeName, e, t);
  return a && Pu(n, e, a), s.jsonSchema = a, a;
}
const Eu = (n, e) => {
  switch (e.$refStrategy) {
    case "root":
      return { $ref: n.path.join("/") };
    // this case is needed as OpenAI strict mode doesn't support top-level `$ref`s, i.e.
    // the top-level schema *must* be `{"type": "object", "properties": {...}}` but if we ever
    // need to define a `$ref`, relative `$ref`s aren't supported, so we need to extract
    // the schema to `#/definitions/` and reference that.
    //
    // e.g. if we need to reference a schema at
    // `["#","definitions","contactPerson","properties","person1","properties","name"]`
    // then we'll extract it out to `contactPerson_properties_person1_properties_name`
    case "extract-to-root":
      const t = n.path.slice(e.basePath.length + 1).join("_");
      return t !== e.name && e.nameStrategy === "duplicate-ref" && (e.definitions[t] = n.def), { $ref: [...e.basePath, e.definitionPath, t].join("/") };
    case "relative":
      return { $ref: Nu(e.currentPath, n.path) };
    case "none":
    case "seen":
      return n.path.length < e.currentPath.length && n.path.every((r, s) => e.currentPath[s] === r) ? (console.warn(`Recursive reference detected at ${e.currentPath.join("/")}! Defaulting to any`), {}) : e.$refStrategy === "seen" ? {} : void 0;
  }
}, Nu = (n, e) => {
  let t = 0;
  for (; t < n.length && t < e.length && n[t] === e[t]; t++)
    ;
  return [(n.length - t).toString(), ...e.slice(t)].join("/");
}, Ru = (n, e, t, r) => {
  switch (e) {
    case O.ZodString:
      return ei(n, t);
    case O.ZodNumber:
      return vu(n, t);
    case O.ZodObject:
      return bu(n, t);
    case O.ZodBigInt:
      return tu(n, t);
    case O.ZodBoolean:
      return nu();
    case O.ZodDate:
      return Qa(n, t);
    case O.ZodUndefined:
      return Au();
    case O.ZodNull:
      return gu(t);
    case O.ZodArray:
      return eu(n, t);
    case O.ZodUnion:
    case O.ZodDiscriminatedUnion:
      return yu(n, t);
    case O.ZodIntersection:
      return lu(n, t);
    case O.ZodTuple:
      return ku(n, t);
    case O.ZodRecord:
      return ti(n, t);
    case O.ZodLiteral:
      return du(n, t);
    case O.ZodEnum:
      return uu(n);
    case O.ZodNativeEnum:
      return hu(n);
    case O.ZodNullable:
      return _u(n, t);
    case O.ZodOptional:
      return Iu(n, t);
    case O.ZodMap:
      return fu(n, t);
    case O.ZodSet:
      return Tu(n, t);
    case O.ZodLazy:
      return Y(n.getter()._def, t);
    case O.ZodPromise:
      return Su(n, t);
    case O.ZodNaN:
    case O.ZodNever:
      return mu();
    case O.ZodEffects:
      return ou(n, t, r);
    case O.ZodAny:
      return Qo();
    case O.ZodUnknown:
      return Cu();
    case O.ZodDefault:
      return iu(n, t);
    case O.ZodBranded:
      return ru(n, t);
    case O.ZodReadonly:
      return Ou(n, t);
    case O.ZodCatch:
      return su(n, t);
    case O.ZodPipeline:
      return xu(n, t);
    case O.ZodFunction:
    case O.ZodVoid:
    case O.ZodSymbol:
      return;
    default:
      return /* @__PURE__ */ ((s) => {
      })();
  }
}, Pu = (n, e, t) => (n.description && (t.description = n.description, e.markdownDescription && (t.markdownDescription = n.description)), t), Du = (n, e) => {
  const t = To(e), r = typeof e == "string" ? e : (e == null ? void 0 : e.nameStrategy) === "title" || e == null ? void 0 : e.name, s = Y(n._def, r === void 0 ? t : {
    ...t,
    currentPath: [...t.basePath, t.definitionPath, r]
  }, !1) ?? {}, a = typeof e == "object" && e.name !== void 0 && e.nameStrategy === "title" ? e.name : void 0;
  a !== void 0 && (s.title = a);
  const i = (() => {
    if (So(t.definitions))
      return;
    const c = {}, d = /* @__PURE__ */ new Set();
    for (let f = 0; f < 500; f++) {
      const l = Object.entries(t.definitions).filter(([h]) => !d.has(h));
      if (l.length === 0)
        break;
      for (const [h, g] of l)
        c[h] = Y(Jr(g), { ...t, currentPath: [...t.basePath, t.definitionPath, h] }, !0) ?? {}, d.add(h);
    }
    return c;
  })(), o = r === void 0 ? i ? {
    ...s,
    [t.definitionPath]: i
  } : s : t.nameStrategy === "duplicate-ref" ? {
    ...s,
    ...i || t.seenRefs.size ? {
      [t.definitionPath]: {
        ...i,
        // only actually duplicate the schema definition if it was ever referenced
        // otherwise the duplication is completely pointless
        ...t.seenRefs.size ? { [r]: s } : void 0
      }
    } : void 0
  } : {
    $ref: [...t.$refStrategy === "relative" ? [] : t.basePath, t.definitionPath, r].join("/"),
    [t.definitionPath]: {
      ...i,
      [r]: s
    }
  };
  return t.target === "jsonSchema7" ? o.$schema = "http://json-schema.org/draft-07/schema#" : t.target === "jsonSchema2019-09" && (o.$schema = "https://json-schema.org/draft/2019-09/schema#"), o;
};
function Mu(n, { parser: e, callback: t }) {
  const r = { ...n };
  return Object.defineProperties(r, {
    $brand: {
      value: "auto-parseable-tool",
      enumerable: !1
    },
    $parseRaw: {
      value: e,
      enumerable: !1
    },
    $callback: {
      value: t,
      enumerable: !1
    }
  }), r;
}
function ju(n) {
  if (n.type !== "object")
    throw new Error(`Root schema must have type: 'object' but got type: ${n.type ? `'${n.type}'` : "undefined"}`);
  const e = structuredClone(n);
  return ze(e, [], e);
}
function Kr(n) {
  if (typeof n == "boolean")
    return !1;
  if (n.type === "null")
    return !0;
  for (const e of n.oneOf ?? [])
    if (Kr(e))
      return !0;
  for (const e of n.anyOf ?? [])
    if (Kr(e))
      return !0;
  return !1;
}
function ze(n, e, t) {
  if (typeof n == "boolean")
    throw new TypeError(`Expected object schema but got boolean; path=${e.join("/")}`);
  if (!yt(n))
    throw new TypeError(`Expected ${JSON.stringify(n)} to be an object; path=${e.join("/")}`);
  const r = n.$defs;
  if (yt(r))
    for (const [h, g] of Object.entries(r))
      ze(g, [...e, "$defs", h], t);
  const s = n.definitions;
  if (yt(s))
    for (const [h, g] of Object.entries(s))
      ze(g, [...e, "definitions", h], t);
  n.type === "object" && !("additionalProperties" in n) && (n.additionalProperties = !1);
  const i = n.required ?? [], o = n.properties;
  if (yt(o)) {
    for (const [h, g] of Object.entries(o))
      if (!Kr(g) && !i.includes(h))
        throw new Error(`Zod field at \`${[...e, "properties", h].join("/")}\` uses \`.optional()\` without \`.nullable()\` which is not supported by the API. See: https://platform.openai.com/docs/guides/structured-outputs?api-mode=responses#all-fields-must-be-required`);
    n.required = Object.keys(o), n.properties = Object.fromEntries(Object.entries(o).map(([h, g]) => [
      h,
      ze(g, [...e, "properties", h], t)
    ]));
  }
  const c = n.items;
  yt(c) && (n.items = ze(c, [...e, "items"], t));
  const d = n.anyOf;
  Array.isArray(d) && (n.anyOf = d.map((h, g) => ze(h, [...e, "anyOf", String(g)], t)));
  const f = n.allOf;
  if (Array.isArray(f))
    if (f.length === 1) {
      const h = ze(f[0], [...e, "allOf", "0"], t);
      Object.assign(n, h), delete n.allOf;
    } else
      n.allOf = f.map((h, g) => ze(h, [...e, "allOf", String(g)], t));
  n.default === null && delete n.default;
  const l = n.$ref;
  if (l && Fu(n, 1)) {
    if (typeof l != "string")
      throw new TypeError(`Received non-string $ref - ${l}; path=${e.join("/")}`);
    const h = $u(t, l);
    if (typeof h == "boolean")
      throw new Error(`Expected \`$ref: ${l}\` to resolve to an object schema but got boolean`);
    if (!yt(h))
      throw new Error(`Expected \`$ref: ${l}\` to resolve to an object but got ${JSON.stringify(h)}`);
    return Object.assign(n, { ...h, ...n }), delete n.$ref, ze(n, e, t);
  }
  return n;
}
function $u(n, e) {
  if (!e.startsWith("#/"))
    throw new Error(`Unexpected $ref format ${JSON.stringify(e)}; Does not start with #/`);
  const t = e.slice(2).split("/");
  let r = n;
  for (const s of t) {
    if (!yt(r))
      throw new Error(`encountered non-object entry while resolving ${e} - ${JSON.stringify(r)}`);
    const a = r[s];
    if (a === void 0)
      throw new Error(`Key ${s} not found while resolving ${e}`);
    r = a;
  }
  return r;
}
function yt(n) {
  return typeof n == "object" && n !== null && !Array.isArray(n);
}
function Fu(n, e) {
  let t = 0;
  for (const r in n)
    if (t++, t > e)
      return !0;
  return !1;
}
function ni(n, e) {
  return Du(n, {
    openaiStrictMode: !0,
    name: e.name,
    nameStrategy: "duplicate-ref",
    $refStrategy: "extract-to-root",
    nullableStrategy: "property"
  });
}
function ri(n) {
  return ju(wo(n, {
    target: "draft-7"
  }));
}
function si(n) {
  return "_zod" in n;
}
function Lu(n, e, t) {
  return bo({
    type: "json_schema",
    ...t,
    name: e,
    strict: !0,
    schema: si(n) ? ri(n) : ni(n, { name: e })
  }, (r) => n.parse(JSON.parse(r)));
}
function Uu(n) {
  return Mu({
    type: "function",
    name: n.name,
    parameters: si(n.parameters) ? ri(n.parameters) : ni(n.parameters, { name: n.name }),
    strict: !0,
    ...n.description ? { description: n.description } : void 0
  }, {
    callback: n.function,
    parser: (e) => n.parameters.parse(JSON.parse(e))
  });
}
class ht extends Error {
  constructor(t, r) {
    super(t);
    x(this, "state");
    this.state = r;
  }
}
class Zu extends ht {
}
class na extends ht {
}
class we extends ht {
}
class ne extends ht {
}
class ra extends ht {
  constructor(t, r, s) {
    super(t, s);
    x(this, "error");
    this.error = r;
  }
}
class qu extends ht {
  constructor(t, r, s) {
    super(t, s);
    x(this, "error");
    this.error = r;
  }
}
class sa extends ht {
  constructor(t, r, s) {
    super(t, s);
    x(this, "result");
    this.result = r;
  }
}
class Yr extends ht {
  constructor(t, r, s) {
    super(t, s);
    x(this, "result");
    this.result = r;
  }
}
function cn(n) {
  var t;
  if (typeof n != "object" || n === null)
    return;
  const e = n;
  return ((t = e._zod) == null ? void 0 : t.def) || e._def || e.def;
}
function wr(n) {
  const e = cn(n);
  if (!e)
    return;
  const t = typeof e.typeName == "string" && e.typeName || typeof e.type == "string" && e.type;
  if (typeof t != "string")
    return;
  const r = t.toLowerCase();
  return r.startsWith("zod") ? r.slice(3) : r;
}
function jt(n) {
  return cn(n) ? wr(n) === "object" : !1;
}
function Ju(n) {
  return typeof n == "object" && n !== null && "input" in n && typeof n.input == "string";
}
const Bu = "http://json-schema.org/draft-07/schema#", zu = /* @__PURE__ */ new Set(["optional"]), Gu = /* @__PURE__ */ new Set([
  "brand",
  "branded",
  "catch",
  "default",
  "effects",
  "pipeline",
  "pipe",
  "prefault",
  "readonly",
  "refinement",
  "transform"
]), aa = {
  string: { type: "string" },
  number: { type: "number" },
  bigint: { type: "integer" },
  boolean: { type: "boolean" },
  date: { type: "string", format: "date-time" }
};
function ai(n) {
  return typeof n == "object" && n !== null && n.type === "object" && "properties" in n && "additionalProperties" in n;
}
function Vu(n) {
  const e = ii(n);
  if (e)
    return Array.isArray(e.required) || (e.required = []), typeof e.additionalProperties > "u" && (e.additionalProperties = !1), typeof e.$schema != "string" && (e.$schema = Bu), e;
}
function ii(n) {
  const e = ac(n);
  if (!e)
    return;
  const t = {}, r = [];
  for (const [s, a] of Object.entries(e)) {
    const { schema: i, optional: o } = Wu(a);
    if (!i)
      return;
    t[s] = i, o || r.push(s);
  }
  return { type: "object", properties: t, required: r, additionalProperties: !1 };
}
function Wu(n) {
  let e = Xr(n), t = !1;
  for (; zu.has(wr(e) ?? ""); ) {
    t = !0;
    const r = cn(e), s = Xr(r == null ? void 0 : r.innerType);
    if (!s || s === e)
      break;
    e = s;
  }
  return { schema: Le(e), optional: t };
}
function Le(n) {
  if (n === void 0)
    return;
  const e = Xr(n), t = wr(e), r = cn(e);
  if (t) {
    if (t in aa)
      return aa[t];
    switch (t) {
      case "object":
        return ii(e);
      case "array":
        return Hu(r);
      case "tuple":
        return Ku(r);
      case "union":
        return Yu(r);
      case "intersection":
        return Xu(r);
      case "literal":
        return rc(r);
      case "enum":
      case "nativeenum":
        return sc(r);
      case "record":
        return Qu(r);
      case "map":
        return ec(r);
      case "set":
        return tc(r);
      case "nullable":
        return nc(r);
      default:
        return;
    }
  }
}
function Hu(n) {
  const e = Le(oi(n, "element", "items", "type"));
  return e ? { type: "array", items: e } : void 0;
}
function Ku(n) {
  const e = ui(n == null ? void 0 : n.items).map((r) => Le(r)).filter(Boolean);
  if (!e.length)
    return;
  const t = {
    type: "array",
    items: e,
    minItems: e.length
  };
  return n != null && n.rest || (t.maxItems = e.length), t;
}
function Yu(n) {
  const e = ui((n == null ? void 0 : n.options) ?? (n == null ? void 0 : n.schemas)).map((t) => Le(t)).filter(Boolean);
  return e.length ? { anyOf: e } : void 0;
}
function Xu(n) {
  const e = Le(n == null ? void 0 : n.left), t = Le(n == null ? void 0 : n.right);
  return e && t ? { allOf: [e, t] } : void 0;
}
function Qu(n) {
  const e = Le((n == null ? void 0 : n.valueType) ?? (n == null ? void 0 : n.values));
  return e ? { type: "object", additionalProperties: e } : void 0;
}
function ec(n) {
  const e = Le((n == null ? void 0 : n.valueType) ?? (n == null ? void 0 : n.values));
  return e ? { type: "array", items: e } : void 0;
}
function tc(n) {
  const e = Le(n == null ? void 0 : n.valueType);
  return e ? { type: "array", items: e, uniqueItems: !0 } : void 0;
}
function nc(n) {
  const e = Le((n == null ? void 0 : n.innerType) ?? (n == null ? void 0 : n.type));
  return e ? { anyOf: [e, { type: "null" }] } : void 0;
}
function Xr(n) {
  let e = n;
  for (; Gu.has(wr(e) ?? ""); ) {
    const t = cn(e), r = (t == null ? void 0 : t.innerType) ?? (t == null ? void 0 : t.schema) ?? (t == null ? void 0 : t.base) ?? (t == null ? void 0 : t.type) ?? (t == null ? void 0 : t.wrapped) ?? (t == null ? void 0 : t.underlying);
    if (!r || r === e)
      return e;
    e = r;
  }
  return e;
}
function oi(n, ...e) {
  if (n) {
    for (const t of e)
      if (t in n && n[t] !== void 0)
        return n[t];
  }
}
function ui(n) {
  return Array.isArray(n) ? n : n === void 0 ? [] : [n];
}
function rc(n) {
  if (!n)
    return;
  const e = oi(n, "value", "literal");
  if (e !== void 0)
    return {
      const: e,
      type: e === null ? "null" : typeof e
    };
}
function sc(n) {
  if (n) {
    if (Array.isArray(n.values))
      return { enum: n.values };
    if (Array.isArray(n.options))
      return { enum: n.options };
    if (n.values && typeof n.values == "object")
      return { enum: Object.values(n.values) };
    if (n.enum && typeof n.enum == "object")
      return { enum: Object.values(n.enum) };
  }
}
function ac(n) {
  if (typeof n != "object" || n === null)
    return;
  const e = n;
  if (e.shape && typeof e.shape == "object")
    return e.shape;
  if (typeof e.shape == "function")
    try {
      return e.shape();
    } catch {
      return;
    }
  const t = cn(e), r = t == null ? void 0 : t.shape;
  if (r && typeof r == "object")
    return r;
  if (typeof r == "function")
    try {
      return r();
    } catch {
      return;
    }
}
const ic = Uu, oc = Lu;
function ci(n) {
  return Vu(n);
}
function mr(n) {
  if (n = n.replace(/\s/g, "_"), n = n.replace(/[^a-zA-Z0-9]/g, "_"), n.length === 0)
    throw new Error("Tool name cannot be empty");
  return n;
}
function vs(n, e) {
  const t = (r) => JSON.parse(r);
  if (jt(n)) {
    const r = (a) => {
      const i = ci(n);
      if (i)
        return {
          schema: i,
          parser: (c) => n.parse(JSON.parse(c))
        };
      const o = a instanceof Error ? ` Upstream helper error: ${a.message}` : "";
      throw new ne(`Unable to convert the provided Zod schema to JSON Schema. Ensure that the \`zod\` package is available at runtime or provide a JSON schema object instead.${o}`);
    };
    let s;
    try {
      s = ic({
        name: e,
        parameters: n,
        function: () => {
        },
        // empty function here to satisfy the OpenAI helper
        description: ""
      });
    } catch (a) {
      return r(a);
    }
    return ai(s.parameters) ? {
      schema: s.parameters,
      parser: s.$parseRaw
    } : r();
  } else if (typeof n == "object" && n !== null)
    return {
      schema: n,
      parser: t
    };
  throw new ne("Input type is not a ZodObject or a valid JSON schema");
}
function ia(n) {
  if (n === "text")
    return "text";
  if (jt(n)) {
    const e = (r, s) => {
      const a = ci(n);
      if (a)
        return {
          type: (r == null ? void 0 : r.type) ?? "json_schema",
          name: (r == null ? void 0 : r.name) ?? "output",
          strict: (r == null ? void 0 : r.strict) ?? !1,
          schema: a
        };
      const i = s instanceof Error ? ` Upstream helper error: ${s.message}` : "";
      throw new ne(`Unable to convert the provided Zod schema to JSON Schema. Ensure that the \`zod\` package is available at runtime or provide a JSON schema object instead.${i}`);
    };
    let t;
    try {
      t = oc(n, "output");
    } catch (r) {
      return e(void 0, r);
    }
    return ai(t.schema) ? {
      type: t.type,
      name: t.name,
      strict: t.strict || !1,
      schema: t.schema
    } : e(t);
  }
  return n;
}
function uc(n) {
  return n && n.__esModule && Object.prototype.hasOwnProperty.call(n, "default") ? n.default : n;
}
var Yn = { exports: {} }, Pr, oa;
function cc() {
  if (oa) return Pr;
  oa = 1;
  var n = 1e3, e = n * 60, t = e * 60, r = t * 24, s = r * 7, a = r * 365.25;
  Pr = function(f, l) {
    l = l || {};
    var h = typeof f;
    if (h === "string" && f.length > 0)
      return i(f);
    if (h === "number" && isFinite(f))
      return l.long ? c(f) : o(f);
    throw new Error(
      "val is not a non-empty string or a valid number. val=" + JSON.stringify(f)
    );
  };
  function i(f) {
    if (f = String(f), !(f.length > 100)) {
      var l = /^(-?(?:\d+)?\.?\d+) *(milliseconds?|msecs?|ms|seconds?|secs?|s|minutes?|mins?|m|hours?|hrs?|h|days?|d|weeks?|w|years?|yrs?|y)?$/i.exec(
        f
      );
      if (l) {
        var h = parseFloat(l[1]), g = (l[2] || "ms").toLowerCase();
        switch (g) {
          case "years":
          case "year":
          case "yrs":
          case "yr":
          case "y":
            return h * a;
          case "weeks":
          case "week":
          case "w":
            return h * s;
          case "days":
          case "day":
          case "d":
            return h * r;
          case "hours":
          case "hour":
          case "hrs":
          case "hr":
          case "h":
            return h * t;
          case "minutes":
          case "minute":
          case "mins":
          case "min":
          case "m":
            return h * e;
          case "seconds":
          case "second":
          case "secs":
          case "sec":
          case "s":
            return h * n;
          case "milliseconds":
          case "millisecond":
          case "msecs":
          case "msec":
          case "ms":
            return h;
          default:
            return;
        }
      }
    }
  }
  function o(f) {
    var l = Math.abs(f);
    return l >= r ? Math.round(f / r) + "d" : l >= t ? Math.round(f / t) + "h" : l >= e ? Math.round(f / e) + "m" : l >= n ? Math.round(f / n) + "s" : f + "ms";
  }
  function c(f) {
    var l = Math.abs(f);
    return l >= r ? d(f, l, r, "day") : l >= t ? d(f, l, t, "hour") : l >= e ? d(f, l, e, "minute") : l >= n ? d(f, l, n, "second") : f + " ms";
  }
  function d(f, l, h, g) {
    var _ = l >= h * 1.5;
    return Math.round(f / h) + " " + g + (_ ? "s" : "");
  }
  return Pr;
}
var Dr, ua;
function lc() {
  if (ua) return Dr;
  ua = 1;
  function n(e) {
    r.debug = r, r.default = r, r.coerce = d, r.disable = o, r.enable = a, r.enabled = c, r.humanize = cc(), r.destroy = f, Object.keys(e).forEach((l) => {
      r[l] = e[l];
    }), r.names = [], r.skips = [], r.formatters = {};
    function t(l) {
      let h = 0;
      for (let g = 0; g < l.length; g++)
        h = (h << 5) - h + l.charCodeAt(g), h |= 0;
      return r.colors[Math.abs(h) % r.colors.length];
    }
    r.selectColor = t;
    function r(l) {
      let h, g = null, _, T;
      function y(...m) {
        if (!y.enabled)
          return;
        const I = y, w = Number(/* @__PURE__ */ new Date()), D = w - (h || w);
        I.diff = D, I.prev = h, I.curr = w, h = w, m[0] = r.coerce(m[0]), typeof m[0] != "string" && m.unshift("%O");
        let S = 0;
        m[0] = m[0].replace(/%([a-zA-Z%])/g, (M, W) => {
          if (M === "%%")
            return "%";
          S++;
          const J = r.formatters[W];
          if (typeof J == "function") {
            const F = m[S];
            M = J.call(I, F), m.splice(S, 1), S--;
          }
          return M;
        }), r.formatArgs.call(I, m), (I.log || r.log).apply(I, m);
      }
      return y.namespace = l, y.useColors = r.useColors(), y.color = r.selectColor(l), y.extend = s, y.destroy = r.destroy, Object.defineProperty(y, "enabled", {
        enumerable: !0,
        configurable: !1,
        get: () => g !== null ? g : (_ !== r.namespaces && (_ = r.namespaces, T = r.enabled(l)), T),
        set: (m) => {
          g = m;
        }
      }), typeof r.init == "function" && r.init(y), y;
    }
    function s(l, h) {
      const g = r(this.namespace + (typeof h > "u" ? ":" : h) + l);
      return g.log = this.log, g;
    }
    function a(l) {
      r.save(l), r.namespaces = l, r.names = [], r.skips = [];
      const h = (typeof l == "string" ? l : "").trim().replace(/\s+/g, ",").split(",").filter(Boolean);
      for (const g of h)
        g[0] === "-" ? r.skips.push(g.slice(1)) : r.names.push(g);
    }
    function i(l, h) {
      let g = 0, _ = 0, T = -1, y = 0;
      for (; g < l.length; )
        if (_ < h.length && (h[_] === l[g] || h[_] === "*"))
          h[_] === "*" ? (T = _, y = g, _++) : (g++, _++);
        else if (T !== -1)
          _ = T + 1, y++, g = y;
        else
          return !1;
      for (; _ < h.length && h[_] === "*"; )
        _++;
      return _ === h.length;
    }
    function o() {
      const l = [
        ...r.names,
        ...r.skips.map((h) => "-" + h)
      ].join(",");
      return r.enable(""), l;
    }
    function c(l) {
      for (const h of r.skips)
        if (i(l, h))
          return !1;
      for (const h of r.names)
        if (i(l, h))
          return !0;
      return !1;
    }
    function d(l) {
      return l instanceof Error ? l.stack || l.message : l;
    }
    function f() {
      console.warn("Instance method `debug.destroy()` is deprecated and no longer does anything. It will be removed in the next major version of `debug`.");
    }
    return r.enable(r.load()), r;
  }
  return Dr = n, Dr;
}
var ca;
function dc() {
  return ca || (ca = 1, (function(n, e) {
    e.formatArgs = r, e.save = s, e.load = a, e.useColors = t, e.storage = i(), e.destroy = /* @__PURE__ */ (() => {
      let c = !1;
      return () => {
        c || (c = !0, console.warn("Instance method `debug.destroy()` is deprecated and no longer does anything. It will be removed in the next major version of `debug`."));
      };
    })(), e.colors = [
      "#0000CC",
      "#0000FF",
      "#0033CC",
      "#0033FF",
      "#0066CC",
      "#0066FF",
      "#0099CC",
      "#0099FF",
      "#00CC00",
      "#00CC33",
      "#00CC66",
      "#00CC99",
      "#00CCCC",
      "#00CCFF",
      "#3300CC",
      "#3300FF",
      "#3333CC",
      "#3333FF",
      "#3366CC",
      "#3366FF",
      "#3399CC",
      "#3399FF",
      "#33CC00",
      "#33CC33",
      "#33CC66",
      "#33CC99",
      "#33CCCC",
      "#33CCFF",
      "#6600CC",
      "#6600FF",
      "#6633CC",
      "#6633FF",
      "#66CC00",
      "#66CC33",
      "#9900CC",
      "#9900FF",
      "#9933CC",
      "#9933FF",
      "#99CC00",
      "#99CC33",
      "#CC0000",
      "#CC0033",
      "#CC0066",
      "#CC0099",
      "#CC00CC",
      "#CC00FF",
      "#CC3300",
      "#CC3333",
      "#CC3366",
      "#CC3399",
      "#CC33CC",
      "#CC33FF",
      "#CC6600",
      "#CC6633",
      "#CC9900",
      "#CC9933",
      "#CCCC00",
      "#CCCC33",
      "#FF0000",
      "#FF0033",
      "#FF0066",
      "#FF0099",
      "#FF00CC",
      "#FF00FF",
      "#FF3300",
      "#FF3333",
      "#FF3366",
      "#FF3399",
      "#FF33CC",
      "#FF33FF",
      "#FF6600",
      "#FF6633",
      "#FF9900",
      "#FF9933",
      "#FFCC00",
      "#FFCC33"
    ];
    function t() {
      if (typeof window < "u" && window.process && (window.process.type === "renderer" || window.process.__nwjs))
        return !0;
      if (typeof navigator < "u" && navigator.userAgent && navigator.userAgent.toLowerCase().match(/(edge|trident)\/(\d+)/))
        return !1;
      let c;
      return typeof document < "u" && document.documentElement && document.documentElement.style && document.documentElement.style.WebkitAppearance || // Is firebug? http://stackoverflow.com/a/398120/376773
      typeof window < "u" && window.console && (window.console.firebug || window.console.exception && window.console.table) || // Is firefox >= v31?
      // https://developer.mozilla.org/en-US/docs/Tools/Web_Console#Styling_messages
      typeof navigator < "u" && navigator.userAgent && (c = navigator.userAgent.toLowerCase().match(/firefox\/(\d+)/)) && parseInt(c[1], 10) >= 31 || // Double check webkit in userAgent just in case we are in a worker
      typeof navigator < "u" && navigator.userAgent && navigator.userAgent.toLowerCase().match(/applewebkit\/(\d+)/);
    }
    function r(c) {
      if (c[0] = (this.useColors ? "%c" : "") + this.namespace + (this.useColors ? " %c" : " ") + c[0] + (this.useColors ? "%c " : " ") + "+" + n.exports.humanize(this.diff), !this.useColors)
        return;
      const d = "color: " + this.color;
      c.splice(1, 0, d, "color: inherit");
      let f = 0, l = 0;
      c[0].replace(/%[a-zA-Z%]/g, (h) => {
        h !== "%%" && (f++, h === "%c" && (l = f));
      }), c.splice(l, 0, d);
    }
    e.log = console.debug || console.log || (() => {
    });
    function s(c) {
      try {
        c ? e.storage.setItem("debug", c) : e.storage.removeItem("debug");
      } catch {
      }
    }
    function a() {
      let c;
      try {
        c = e.storage.getItem("debug") || e.storage.getItem("DEBUG");
      } catch {
      }
      return !c && typeof process < "u" && "env" in process && (c = process.env.DEBUG), c;
    }
    function i() {
      try {
        return localStorage;
      } catch {
      }
    }
    n.exports = lc()(e);
    const { formatters: o } = n.exports;
    o.j = function(c) {
      try {
        return JSON.stringify(c);
      } catch (d) {
        return "[UnexpectedJSONParseError]: " + d.message;
      }
    };
  })(Yn, Yn.exports)), Yn.exports;
}
var pc = dc();
const fc = /* @__PURE__ */ uc(pc);
function li() {
  return xc();
}
function la(n) {
  const e = li();
  return typeof e < "u" && (e[n] === "true" || e[n] === "1");
}
const di = {
  get disabled() {
    return !0;
  }
}, pi = {
  get dontLogModelData() {
    return la("OPENAI_AGENTS_DONT_LOG_MODEL_DATA");
  },
  get dontLogToolData() {
    return la("OPENAI_AGENTS_DONT_LOG_TOOL_DATA");
  }
}, hc = pi.dontLogModelData, mc = pi.dontLogToolData;
function fi(n = "openai-agents") {
  return {
    namespace: n,
    debug: fc(n),
    error: console.error,
    warn: console.warn,
    dontLogModelData: hc,
    dontLogToolData: mc
  };
}
const j = fi("openai-agents:core"), da = 20;
function ft(n) {
  if (n == null)
    return String(n);
  if (hi(n))
    return _n(new Uint8Array(n));
  if (Hn(n)) {
    const e = n;
    return _n(new Uint8Array(e.buffer, e.byteOffset, e.byteLength));
  }
  if (typeof n == "string")
    return n;
  if (typeof n == "object")
    try {
      return JSON.stringify(n, yc);
    } catch {
      return "[object with circular references]";
    }
  return String(n);
}
function hi(n) {
  if (n instanceof ArrayBuffer)
    return !0;
  const e = globalThis.SharedArrayBuffer;
  return !!(e && n instanceof e);
}
function Hn(n) {
  return typeof ArrayBuffer < "u" && ArrayBuffer.isView(n);
}
function br(n) {
  return typeof n == "object" && n !== null && n.type === "Buffer" && Array.isArray(n.data);
}
function ws(n) {
  const e = globalThis.Buffer;
  return !!(e && typeof e.isBuffer == "function" && e.isBuffer(n));
}
function _n(n) {
  if (n.length === 0)
    return "[byte array (0 bytes)]";
  const e = Math.min(n.length, da), t = [];
  for (let a = 0; a < e; a++)
    t.push(gc(n[a]));
  const r = n.length > da ? " " : "";
  return `[byte array ${t.join(" ")}${r} (${n.length} bytes)]`;
}
function gc(n) {
  return `0x${n.toString(16).padStart(2, "0")}`;
}
function yc(n, e) {
  if (hi(e))
    return _n(new Uint8Array(e));
  if (Hn(e)) {
    const t = e;
    return _n(new Uint8Array(t.buffer, t.byteOffset, t.byteLength));
  }
  return br(e) ? _n(Uint8Array.from(e.data)) : e;
}
function _c(n, e) {
  return `An error occurred while running the tool. Please try again. Error: ${e instanceof Error ? e.toString() : String(e)}`;
}
function Qr(n) {
  const e = n.name ? mr(n.name) : mr(n.execute.name), t = typeof n.errorFunction > "u" ? _c : n.errorFunction;
  if (!e)
    throw new Error("Tool name cannot be empty. Either name your function or provide a name in the options.");
  const r = n.strict ?? !0;
  if (!r && jt(n.parameters))
    throw new ne("Strict mode is required for Zod parameters");
  const { parser: s, schema: a } = vs(n.parameters, e);
  async function i(f, l, h) {
    const [g, _] = await gs(() => s(l));
    if (g !== null)
      throw j.dontLogToolData ? j.debug(`Invalid JSON input for tool ${e}`) : j.debug(`Invalid JSON input for tool ${e}: ${l}`), new we("Invalid JSON input for tool");
    j.dontLogToolData ? j.debug(`Invoking tool ${e}`) : j.debug(`Invoking tool ${e} with input ${l}`);
    const T = await n.execute(_, f, h), y = ft(T);
    return j.dontLogToolData ? j.debug(`Tool ${e} completed`) : j.debug(`Tool ${e} returned: ${y}`), T;
  }
  async function o(f, l, h) {
    return i(f, l, h).catch((g) => {
      if (t) {
        const _ = Sn();
        return _ == null || _.setError({
          message: "Error running tool (non-fatal)",
          data: {
            tool_name: e,
            error: g.toString()
          }
        }), t(f, g);
      }
      throw g;
    });
  }
  const c = typeof n.needsApproval == "function" ? n.needsApproval : async () => typeof n.needsApproval == "boolean" ? n.needsApproval : !1, d = typeof n.isEnabled == "function" ? async (f, l) => {
    const h = n.isEnabled;
    return !!await h({ runContext: f, agent: l });
  } : async () => typeof n.isEnabled == "boolean" ? n.isEnabled : !0;
  return {
    type: "function",
    name: e,
    description: n.description,
    parameters: a,
    strict: r,
    invoke: o,
    needsApproval: c,
    isEnabled: d
  };
}
v({
  name: p(),
  description: p().optional(),
  inputSchema: v({
    type: b("object"),
    properties: ee(p(), V()),
    required: B(p()),
    additionalProperties: Nt()
  })
});
const Mr = {}, jr = {}, vc = ({ server: n, agent: e }) => n.toolFilter && typeof n.toolFilter == "function" && e ? `${n.name}:${e.name}` : n.name;
async function wc({ server: n, convertSchemasToStrict: e, runContext: t, agent: r, generateMCPToolCacheKey: s }) {
  const a = (s || vc)({
    server: n,
    agent: r,
    runContext: t
  });
  if (n.cacheToolsList && Mr[a])
    return Mr[a].map((o) => pa(o, n, e));
  const i = async (o) => {
    const c = await n.listTools();
    let d = c;
    if (t && r) {
      const l = { runContext: t, agent: r, serverName: n.name }, h = [];
      for (const g of c) {
        const _ = n.toolFilter;
        if (_)
          if (typeof _ == "function") {
            if (!await _(l, g)) {
              j.debug(`MCP Tool (server: ${n.name}, tool: ${g.name}) is blocked by the callable filter.`);
              continue;
            }
          } else {
            const T = _.allowedToolNames ?? [], y = _.blockedToolNames ?? [];
            if (T.length > 0 || y.length > 0) {
              const m = T.length > 0 ? T.includes(g.name) : !0, I = y.length > 0 ? y.includes(g.name) : !1;
              if (!m || I) {
                I ? j.debug(`MCP Tool (server: ${n.name}, tool: ${g.name}) is blocked by the static filter.`) : m || j.debug(`MCP Tool (server: ${n.name}, tool: ${g.name}) is not allowed by the static filter.`);
                continue;
              }
            }
          }
        h.push(g);
      }
      d = h;
    }
    o && (o.spanData.result = d.map((l) => l.name));
    const f = d.map((l) => pa(l, n, e));
    return n.cacheToolsList && (Mr[a] = d, jr[n.name] || (jr[n.name] = /* @__PURE__ */ new Set()), jr[n.name].add(a)), f;
  };
  return un() ? Rl(i, {
    data: { server: n.name }
  }) : i();
}
async function bc(n, e, t, r = !1) {
  const s = Array.isArray(n) ? {
    mcpServers: n,
    runContext: e,
    agent: t,
    convertSchemasToStrict: r
  } : n, { mcpServers: a, convertSchemasToStrict: i = !1, runContext: o, agent: c, generateMCPToolCacheKey: d } = s, f = [], l = /* @__PURE__ */ new Set();
  for (const h of a) {
    const g = await wc({
      server: h,
      convertSchemasToStrict: i,
      runContext: o,
      agent: c,
      generateMCPToolCacheKey: d
    }), T = [...new Set(g.map((y) => y.name))].filter((y) => l.has(y));
    if (T.length > 0)
      throw new ne(`Duplicate tool names found across MCP servers: ${T.join(", ")}`);
    for (const y of g)
      l.add(y.name), f.push(y);
  }
  return f;
}
function pa(n, e, t) {
  var i, o, c, d;
  async function r(f, l) {
    let h = {};
    typeof f == "string" && f ? h = JSON.parse(f) : typeof f == "object" && f != null && (h = f);
    const g = Sn();
    g && (g.spanData.mcp_data = { server: e.name });
    const _ = await e.callTool(n.name, h);
    return _.length === 1 ? _[0] : _;
  }
  const s = {
    ...n.inputSchema,
    type: ((i = n.inputSchema) == null ? void 0 : i.type) ?? "object",
    properties: ((o = n.inputSchema) == null ? void 0 : o.properties) ?? {},
    required: ((c = n.inputSchema) == null ? void 0 : c.required) ?? [],
    additionalProperties: ((d = n.inputSchema) == null ? void 0 : d.additionalProperties) ?? !1
  };
  if (t || s.additionalProperties === !0)
    try {
      const f = Ic(s);
      return Qr({
        name: n.name,
        description: n.description || "",
        parameters: f,
        strict: !0,
        execute: r
      });
    } catch (f) {
      j.warn(`Error converting MCP schema to strict mode: ${f}`);
    }
  const a = {
    ...s,
    additionalProperties: !0
  };
  return Qr({
    name: n.name,
    description: n.description || "",
    parameters: a,
    strict: !1,
    execute: r
  });
}
function Ic(n) {
  const e = {
    ...n,
    additionalProperties: !1
  };
  return e.required || (e.required = []), e;
}
function xc() {
  return {};
}
var zt, wt;
class Ir {
  constructor() {
    N(this, zt, new EventTarget());
    N(this, wt, /* @__PURE__ */ new Map());
  }
  on(e, t) {
    const r = e;
    let s = u(this, wt).get(r);
    s || (s = /* @__PURE__ */ new Map(), u(this, wt).set(r, s));
    let a = s.get(t);
    a || (a = /* @__PURE__ */ new Set(), s.set(t, a));
    const i = ((o) => t(...o.detail ?? []));
    return a.add(i), u(this, zt).addEventListener(r, i), this;
  }
  off(e, t) {
    const r = e, s = u(this, wt).get(r), a = s == null ? void 0 : s.get(t);
    if (a != null && a.size) {
      for (const i of a)
        u(this, zt).removeEventListener(r, i);
      s == null || s.delete(t), (s == null ? void 0 : s.size) === 0 && u(this, wt).delete(r);
    }
    return this;
  }
  emit(e, ...t) {
    const r = new CustomEvent(e, { detail: t });
    return u(this, zt).dispatchEvent(r);
  }
  once(e, t) {
    const r = (...s) => {
      this.off(e, r), t(...s);
    };
    return this.on(e, r), this;
  }
}
zt = new WeakMap(), wt = new WeakMap();
const mi = () => typeof crypto < "u" && crypto.randomUUID ? crypto.randomUUID() : "xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g, function(n) {
  const e = Math.random() * 16 | 0;
  return (n === "x" ? e : e & 3 | 8).toString(16);
}), Sc = class {
  constructor() {
  }
  pipeTo(e, t) {
  }
  pipeThrough(e, t) {
  }
}, Tc = globalThis.ReadableStream, kc = globalThis.TransformStream;
class Ac {
  constructor() {
    x(this, "context", null);
  }
  run(e, t) {
    return this.context = e, t();
  }
  getStore() {
    return this.context;
  }
  enterWith(e) {
    this.context = e;
  }
}
class Cc {
  constructor() {
  }
  setTimeout(e, t) {
    const r = setTimeout(e, t);
    return r.ref = typeof r.ref == "function" ? r.ref : () => r, r.unref = typeof r.unref == "function" ? r.unref : () => r, r.hasRef = typeof r.hasRef == "function" ? r.hasRef : () => !0, r.refresh = typeof r.refresh == "function" ? r.refresh : () => r, r;
  }
  clearTimeout(e) {
    window.clearTimeout(e);
  }
}
const Oc = new Cc();
class bs {
  on(e, t) {
    return this.eventEmitter.on(e, t), this.eventEmitter;
  }
  off(e, t) {
    return this.eventEmitter.off(e, t), this.eventEmitter;
  }
  emit(e, ...t) {
    return this.eventEmitter.emit(e, ...t);
  }
  once(e, t) {
    return this.eventEmitter.once(e, t), this.eventEmitter;
  }
}
class Ec extends bs {
  constructor() {
    super(...arguments);
    x(this, "eventEmitter", new Ir());
  }
}
class Nc extends bs {
  constructor() {
    super(...arguments);
    x(this, "eventEmitter", new Ir());
  }
}
const Rc = "OPENAI_DEFAULT_MODEL";
function xr(n) {
  return n.startsWith("gpt-5-chat") ? !1 : n.startsWith("gpt-5");
}
function gi() {
  return xr(yi());
}
function yi() {
  var e;
  return ((e = li()[Rc]) == null ? void 0 : e.toLowerCase()) ?? "gpt-4.1";
}
function Pc(n) {
  const e = yi();
  return xr(e) ? {
    // We chose "low" instead of "minimal" because some of the built-in tools
    // (e.g., file search, image generation, etc.) do not support "minimal"
    // If you want to use "minimal" reasoning effort, you can pass your own model settings
    reasoning: { effort: "low" },
    text: { verbosity: "low" }
  } : {};
}
function _i(n) {
  return JSON.stringify({ assistant: n.name });
}
function Dc(n) {
  return `transfer_to_${mr(n.name)}`;
}
function Mc(n) {
  return `Handoff to the ${n.name} agent to handle the request. ${n.handoffDescription ?? ""}`;
}
class vi {
  constructor(e, t) {
    /**
     * The name of the tool that represents the handoff.
     */
    x(this, "toolName");
    /**
     * The description of the tool that represents the handoff.
     */
    x(this, "toolDescription");
    /**
     * The JSON schema for the handoff input. Can be empty if the handoff does not take an input
     */
    x(this, "inputJsonSchema", {
      type: "object",
      properties: {},
      required: [],
      additionalProperties: !1
    });
    /**
     * Whether the input JSON schema is in strict mode. We **strongly** recommend setting this to
     * true, as it increases the likelihood of correct JSON input.
     */
    x(this, "strictJsonSchema", !0);
    /**
     * The function that invokes the handoff. The parameters passed are:
     * 1. The handoff run context
     * 2. The arguments from the LLM, as a JSON string. Empty string if inputJsonSchema is empty.
     *
     * Must return an agent
     */
    x(this, "onInvokeHandoff");
    /**
     * The name of the agent that is being handed off to.
     */
    x(this, "agentName");
    /**
     * A function that filters the inputs that are passed to the next agent. By default, the new agent
     * sees the entire conversation history. In some cases, you may want to filter inputs e.g. to
     * remove older inputs, or remove tools from existing inputs.
     *
     * The function will receive the entire conversation hisstory so far, including the input item
     * that triggered the handoff and a tool call output item representing the handoff tool's output.
     *
     * You are free to modify the input history or new items as you see fit. The next agent that runs
     * will receive `handoffInputData.allItems
     */
    x(this, "inputFilter");
    /**
     * The agent that is being handed off to.
     */
    x(this, "agent");
    x(this, "isEnabled", async () => !0);
    this.agentName = e.name, this.onInvokeHandoff = t, this.toolName = Dc(e), this.toolDescription = Mc(e), this.agent = e;
  }
  /**
   * Returns a function tool definition that can be used to invoke the handoff.
   */
  getHandoffAsFunctionTool() {
    return {
      type: "function",
      name: this.toolName,
      description: this.toolDescription,
      parameters: this.inputJsonSchema,
      strict: this.strictJsonSchema
    };
  }
}
function wi(n, e = {}) {
  let t;
  const r = !!e.onHandoff, s = !!e.inputType;
  if (!(r === s))
    throw new ne("You must provide either both `onHandoff` and `inputType` or neither.");
  async function i(c, d) {
    var f;
    if (t) {
      if (!d)
        throw Xe({
          message: `Handoff function expected non empty input but got: ${d}`,
          data: {
            details: "input is empty"
          }
        }), new we("Handoff function expected non empty input");
      try {
        const l = await t(d);
        e.onHandoff && await e.onHandoff(c, l);
      } catch (l) {
        throw Xe({
          message: "Invalid JSON provided",
          data: {}
        }), j.dontLogToolData || j.error(`Invalid JSON when parsing: ${d}. Error: ${l}`), new we("Invalid JSON provided");
      }
    } else
      await ((f = e.onHandoff) == null ? void 0 : f.call(e, c));
    return n;
  }
  const o = new vi(n, i);
  if (typeof e.isEnabled == "function") {
    const c = e.isEnabled;
    o.isEnabled = async ({ runContext: d, agent: f }) => !!await c({ runContext: d, agent: f });
  } else typeof e.isEnabled == "boolean" && (o.isEnabled = async () => e.isEnabled);
  if (e.inputType) {
    const c = vs(e.inputType, o.toolName);
    o.inputJsonSchema = c.schema, o.strictJsonSchema = !0, t = c.parser;
  }
  return e.toolNameOverride && (o.toolName = e.toolNameOverride), e.toolDescriptionOverride && (o.toolDescription = e.toolDescriptionOverride), e.inputFilter && (o.inputFilter = e.inputFilter), o;
}
function jc(n) {
  return n instanceof vi ? n : wi(n);
}
function bi(n) {
  if (n.type !== "message" || n.role !== "assistant")
    return;
  const e = n.content[n.content.length - 1];
  if (e.type === "output_text")
    return e.text;
}
function $c(n) {
  return n.output.length === 0 ? "" : bi(n.output[n.output.length - 1]) || "";
}
const es = /* @__PURE__ */ new WeakMap();
function Fc(n, e) {
  n && es.set(n, e);
}
function Lc(n) {
  const e = es.get(n);
  return e && es.delete(n), e;
}
const Uc = v({ input: p() }), Jt = class Jt extends Ec {
  constructor(t) {
    super();
    x(this, "name");
    x(this, "instructions");
    x(this, "prompt");
    x(this, "handoffDescription");
    x(this, "handoffs");
    x(this, "model");
    x(this, "modelSettings");
    x(this, "tools");
    x(this, "mcpServers");
    x(this, "inputGuardrails");
    x(this, "outputGuardrails");
    x(this, "outputType", "text");
    x(this, "toolUseBehavior");
    x(this, "resetToolChoice");
    x(this, "_toolsExplicitlyConfigured");
    if (typeof t.name != "string" || t.name.trim() === "")
      throw new ne("Agent must have a name.");
    if (this.name = t.name, this.instructions = t.instructions ?? Jt.DEFAULT_MODEL_PLACEHOLDER, this.prompt = t.prompt, this.handoffDescription = t.handoffDescription ?? "", this.handoffs = t.handoffs ?? [], this.model = t.model ?? "", this.modelSettings = t.modelSettings ?? Pc(), this.tools = t.tools ?? [], this._toolsExplicitlyConfigured = t.tools !== void 0, this.mcpServers = t.mcpServers ?? [], this.inputGuardrails = t.inputGuardrails ?? [], this.outputGuardrails = t.outputGuardrails ?? [], t.outputType && (this.outputType = t.outputType), this.toolUseBehavior = t.toolUseBehavior ?? "run_llm_again", this.resetToolChoice = t.resetToolChoice ?? !0, // The user sets a non-default model
    t.model !== void 0 && // The default model is gpt-5
    gi() && // However, the specified model is not a gpt-5 model
    (typeof t.model != "string" || !xr(t.model)) && // The model settings are not customized for the specified model
    t.modelSettings === void 0 && (this.modelSettings = {}), (t.handoffOutputTypeWarningEnabled === void 0 || t.handoffOutputTypeWarningEnabled) && this.handoffs && this.outputType) {
      const r = /* @__PURE__ */ new Set([JSON.stringify(this.outputType)]);
      for (const s of this.handoffs)
        "outputType" in s && s.outputType ? r.add(JSON.stringify(s.outputType)) : "agent" in s && s.agent.outputType && r.add(JSON.stringify(s.agent.outputType));
      r.size > 1 && j.warn(`[Agent] Warning: Handoff agents have different output types: ${Array.from(r).join(", ")}. You can make it type-safe by using Agent.create({ ... }) method instead.`);
    }
  }
  /**
   * Create an Agent with handoffs and automatically infer the union type for TOutput from the handoff agents' output types.
   */
  static create(t) {
    return new Jt({
      ...t,
      handoffs: t.handoffs,
      outputType: t.outputType,
      handoffOutputTypeWarningEnabled: !1
    });
  }
  /**
   * Output schema name.
   */
  get outputSchemaName() {
    if (this.outputType === "text")
      return "text";
    if (jt(this.outputType))
      return "ZodOutput";
    if (typeof this.outputType == "object")
      return this.outputType.name;
    throw new Error(`Unknown output type: ${this.outputType}`);
  }
  /**
   * Makes a copy of the agent, with the given arguments changed. For example, you could do:
   *
   * ```
   * const newAgent = agent.clone({ instructions: 'New instructions' })
   * ```
   *
   * @param config - A partial configuration to change.
   * @returns A new agent with the given changes.
   */
  clone(t) {
    return new Jt({
      ...this,
      ...t
    });
  }
  /**
   * Transform this agent into a tool, callable by other agents.
   *
   * This is different from handoffs in two ways:
   * 1. In handoffs, the new agent receives the conversation history. In this tool, the new agent
   *    receives generated input.
   * 2. In handoffs, the new agent takes over the conversation. In this tool, the new agent is
   *    called as a tool, and the conversation is continued by the original agent.
   *
   * @param options - Options for the tool.
   * @returns A tool that runs the agent and returns the output text.
   */
  asTool(t) {
    const { toolName: r, toolDescription: s, customOutputExtractor: a, needsApproval: i, runConfig: o, runOptions: c, isEnabled: d } = t;
    return Qr({
      name: r ?? mr(this.name),
      description: s ?? "",
      parameters: Uc,
      strict: !0,
      needsApproval: i,
      isEnabled: d,
      execute: async (f, l, h) => {
        if (!Ju(f))
          throw new we("Agent tool called with invalid input");
        const T = await new md(o ?? {}).run(this, f.input, {
          context: l,
          ...c ?? {}
        }), y = typeof this.toolUseBehavior == "object" && this.toolUseBehavior !== null && "stopAtToolNames" in this.toolUseBehavior;
        typeof a != "function" && y && j.debug(`You're passing the agent (name: ${this.name}) with toolUseBehavior.stopAtToolNames configured as a tool to a different agent; this may not work as you expect. You may want to have a wrapper function tool to consistently return the final output.`);
        const m = typeof a == "function" ? await a(T) : $c(T.rawResponses[T.rawResponses.length - 1]);
        return h != null && h.toolCall && Fc(h.toolCall, T), m;
      }
    });
  }
  /**
   * Returns the system prompt for the agent.
   *
   * If the agent has a function as its instructions, this function will be called with the
   * runContext and the agent instance.
   */
  async getSystemPrompt(t) {
    return typeof this.instructions == "function" ? await this.instructions(t, this) : this.instructions;
  }
  /**
   * Returns the prompt template for the agent, if defined.
   *
   * If the agent has a function as its prompt, this function will be called with the
   * runContext and the agent instance.
   */
  async getPrompt(t) {
    return typeof this.prompt == "function" ? await this.prompt(t, this) : this.prompt;
  }
  /**
   * Fetches the available tools from the MCP servers.
   * @returns the MCP powered tools
   */
  async getMcpTools(t) {
    return this.mcpServers.length > 0 ? bc({
      mcpServers: this.mcpServers,
      runContext: t,
      agent: this,
      convertSchemasToStrict: !1
    }) : [];
  }
  /**
   * ALl agent tools, including the MCPl and function tools.
   *
   * @returns all configured tools
   */
  async getAllTools(t) {
    const r = await this.getMcpTools(t), s = [];
    for (const a of this.tools) {
      if (a.type === "function") {
        const i = a.isEnabled;
        if (!(typeof i == "function" ? await i(t, this) : typeof i == "boolean" ? i : !0))
          continue;
      }
      s.push(a);
    }
    return [...r, ...s];
  }
  hasExplicitToolConfig() {
    return this._toolsExplicitlyConfigured;
  }
  /**
   * Returns the handoffs that should be exposed to the model for the current run.
   *
   * Handoffs that provide an `isEnabled` function returning `false` are omitted.
   */
  async getEnabledHandoffs(t) {
    var a;
    const r = ((a = this.handoffs) == null ? void 0 : a.map((i) => jc(i))) ?? [], s = [];
    for (const i of r)
      await i.isEnabled({ runContext: t, agent: this }) && s.push(i);
    return s;
  }
  /**
   * Processes the final output of the agent.
   *
   * @param output - The output of the agent.
   * @returns The parsed out.
   */
  processFinalOutput(t) {
    if (this.outputType === "text")
      return t;
    if (typeof this.outputType == "object") {
      const r = JSON.parse(t);
      return jt(this.outputType) ? this.outputType.parse(r) : r;
    }
    throw new Error(`Unknown output type: ${this.outputType}`);
  }
  /**
   * Returns a JSON representation of the agent, which is serializable.
   *
   * @returns A JSON object containing the agent's name.
   */
  toJSON() {
    return {
      name: this.name
    };
  }
};
x(Jt, "DEFAULT_MODEL_PLACEHOLDER", "");
let nt = Jt;
function fa({ name: n, execute: e, runInParallel: t = !0 }) {
  return {
    type: "input",
    name: n,
    runInParallel: t,
    guardrailFunction: e,
    async run(r) {
      return {
        guardrail: { type: "input", name: n },
        output: await e(r)
      };
    }
  };
}
function ts({ name: n, execute: e }) {
  return {
    type: "output",
    name: n,
    guardrailFunction: e,
    async run(t) {
      return {
        guardrail: { type: "output", name: n },
        agent: t.agent,
        agentOutput: t.agentOutput,
        output: await e(t)
      };
    }
  };
}
function Zc() {
  throw new Error("No default model provider set. Make sure to set a provider using setDefaultModelProvider before calling getDefaultModelProvider or pass an explicit provider.");
}
const le = v({
  /**
   * Additional optional provider specific data. Used for custom functionality or model provider
   * specific fields.
   */
  providerData: ee(p(), V()).optional()
}), Ee = le.extend({
  /**
   * An ID to identify the item. This is optional by default. If a model provider absolutely
   * requires this field, it will be validated on the model level.
   */
  id: p().optional()
}), qc = le.extend({
  type: b("refusal"),
  /**
   * The refusal explanation from the model.
   */
  refusal: p()
}), Jc = le.extend({
  type: b("output_text"),
  /**
   * The text output from the model.
   */
  text: p()
}), Is = le.extend({
  type: b("input_text"),
  /**
   * A text input for example a message from a user
   */
  text: p()
}), Bc = le.extend({
  type: b("reasoning_text"),
  /**
   * A text input for example a message from a user
   */
  text: p()
}), Ii = le.extend({
  type: b("input_image"),
  /**
   * The image input to the model. Could be provided inline (`image`), as a URL, or by reference to a
   * previously uploaded OpenAI file.
   */
  image: p().or(v({ id: p().describe("OpenAI file ID") })).describe("Either base64 encoded image data, a data URL, or an object with a file ID.").optional(),
  /**
   * Controls the level of detail requested for image understanding tasks.
   * Future models may add new values, therefore this accepts any string.
   */
  detail: p().optional()
}), xi = le.extend({
  type: b("input_file"),
  /**
   * The file input to the model. Could be raw data, a URL, or an OpenAI file ID.
   */
  file: p().describe("Either base64 encoded file data or a publicly accessible file URL").or(v({ id: p().describe("OpenAI file ID") })).or(v({ url: p().describe("Publicly accessible file URL") })).describe("Contents of the file or an object with a file ID.").optional(),
  /**
   * Optional filename metadata when uploading file data inline.
   */
  filename: p().optional()
}), Si = le.extend({
  type: b("audio"),
  /**
   * The audio input to the model. Could be base64 encoded audio data or an object with a file ID.
   */
  audio: p().or(v({
    id: p()
  })).describe("Base64 encoded audio data or file id"),
  /**
   * The format of the audio.
   */
  format: p().nullable().optional(),
  /**
   * The transcript of the audio.
   */
  transcript: p().nullable().optional()
}), zc = le.extend({
  type: b("image"),
  /**
   * The image input to the model. Could be base64 encoded image data or an object with a file ID.
   */
  image: p().describe("Base64 encoded image data")
}), Gc = le.extend({
  type: b("text"),
  /**
   * The text output from the model.
   */
  text: p()
}), Vc = v({
  data: tt([p(), Xa(Uint8Array)]).describe("Base64 image data, or raw bytes that will be base64 encoded automatically."),
  mediaType: p().optional()
}), Wc = v({
  url: p().describe("Publicly accessible URL pointing to the image content")
}), Hc = v({
  fileId: p().describe("OpenAI file ID referencing uploaded image content")
}), Kc = tt([Vc, Wc, Hc]).describe("Inline image data or references to uploaded content."), Yc = v({
  data: tt([p(), Xa(Uint8Array)]).describe("Base64 encoded file data, or raw bytes that will be encoded automatically."),
  mediaType: p().describe("IANA media type describing the file contents"),
  filename: p().describe("Filename associated with the inline data")
}), Xc = v({
  url: p().describe("Publicly accessible URL for the file content"),
  filename: p().optional()
}), Qc = v({
  id: p().describe("OpenAI file ID referencing uploaded content"),
  filename: p().optional()
}), el = tt([
  p().describe("Existing data URL or base64 string"),
  Yc,
  Xc,
  Qc
]).describe("Inline data (with metadata) or references pointing to file contents."), tl = (...n) => p(), nl = le.extend({
  type: b("image"),
  /**
   * Inline image content or a reference to an uploaded file. Accepts a URL/data URL string or an
   * object describing the data/url/fileId source.
   */
  image: p().or(Kc).optional(),
  /**
   * Controls the requested level of detail for vision models.
   * Use a string to avoid constraining future model capabilities.
   */
  detail: tl("low", "high", "auto").optional()
}), rl = le.extend({
  type: b("file"),
  /**
   * File output reference. Provide either a string (data URL / base64), a data object (requires
   * mediaType + filename), or an object pointing to an uploaded file/URL.
   */
  file: el
}), sl = le.extend({
  type: b("computer_screenshot"),
  /**
   * A base64 encoded image data or a URL representing the screenshot.
   */
  data: p().describe("Base64 encoded image data or URL")
}), al = ge("type", [
  v({ type: b("screenshot") }),
  v({
    type: b("click"),
    x: E(),
    y: E(),
    button: oe(["left", "right", "wheel", "back", "forward"])
  }),
  v({
    type: b("double_click"),
    x: E(),
    y: E()
  }),
  v({
    type: b("scroll"),
    x: E(),
    y: E(),
    scroll_x: E(),
    scroll_y: E()
  }),
  v({
    type: b("type"),
    text: p()
  }),
  v({ type: b("wait") }),
  v({
    type: b("move"),
    x: E(),
    y: E()
  }),
  v({
    type: b("keypress"),
    keys: B(p())
  }),
  v({
    type: b("drag"),
    path: B(v({ x: E(), y: E() }))
  })
]), il = ge("type", [
  Jc,
  qc,
  Si,
  zc
]), xs = Ee.extend({
  /**
   * Any item without a type is treated as a message
   */
  type: b("message").optional()
}), Sr = xs.extend({
  /**
   * Representing a message from the assistant (i.e. the model)
   */
  role: b("assistant"),
  /**
   * The status of the message.
   */
  status: oe(["in_progress", "completed", "incomplete"]),
  /**
   * The content of the message.
   */
  content: B(il)
}), ol = ge("type", [
  Is,
  Ii,
  xi,
  Si
]), Ti = xs.extend({
  // type: z.literal('message'),
  /**
   * Representing a message from the user
   */
  role: b("user"),
  /**
   * The content of the message.
   */
  content: B(ol).or(p())
}), ki = xs.extend({
  // type: z.literal('message'),
  /**
   * Representing a system message to the user
   */
  role: b("system"),
  /**
   * The content of the message.
   */
  content: p()
});
ge("role", [
  ki,
  Sr,
  Ti
]);
const In = Ee.extend({
  type: b("hosted_tool_call"),
  /**
   * The name of the hosted tool. For example `web_search_call` or `file_search_call`
   */
  name: p().describe("The name of the hosted tool"),
  /**
   * The arguments of the hosted tool call.
   */
  arguments: p().describe("The arguments of the hosted tool call").optional(),
  /**
   * The status of the tool call.
   */
  status: p().optional(),
  /**
   * The primary output of the tool call. Additional output might be in the `providerData` field.
   */
  output: p().optional()
}), xn = Ee.extend({
  type: b("function_call"),
  /**
   * The ID of the tool call. Required to match up the respective tool call result.
   */
  callId: p().describe("The ID of the tool call"),
  /**
   * The name of the function.
   */
  name: p().describe("The name of the function"),
  /**
   * The status of the function call.
   */
  status: oe(["in_progress", "completed", "incomplete"]).optional(),
  /**
   * The arguments of the function call.
   */
  arguments: p()
}), ul = ge("type", [
  Gc,
  nl,
  rl
]), cl = ge("type", [
  Is,
  Ii,
  xi
]), gr = Ee.extend({
  type: b("function_call_result"),
  /**
   * The name of the tool that was called
   */
  name: p().describe("The name of the tool"),
  /**
   * The ID of the tool call. Required to match up the respective tool call result.
   */
  callId: p().describe("The ID of the tool call"),
  /**
   * The status of the tool call.
   */
  status: oe(["in_progress", "completed", "incomplete"]),
  /**
   * The output of the tool call.
   */
  output: tt([
    p(),
    ul,
    B(cl)
  ]).describe("Output returned by the tool call. Supports plain strings, legacy ToolOutput items, or structured input_* items.")
}), Ss = Ee.extend({
  type: b("computer_call"),
  /**
   * The ID of the computer call. Required to match up the respective computer call result.
   */
  callId: p().describe("The ID of the computer call"),
  /**
   * The status of the computer call.
   */
  status: oe(["in_progress", "completed", "incomplete"]),
  /**
   * The action to be performed by the computer.
   */
  action: al
}), ll = Ee.extend({
  type: b("computer_call_result"),
  /**
   * The ID of the computer call. Required to match up the respective computer call result.
   */
  callId: p().describe("The ID of the computer call"),
  /**
   * The output of the computer call.
   */
  output: sl
}), dl = v({
  commands: B(p()),
  timeoutMs: E().int().min(0).optional(),
  maxOutputLength: E().int().min(0).optional()
}), Tr = Ee.extend({
  type: b("shell_call"),
  callId: p(),
  status: oe(["in_progress", "completed", "incomplete"]).optional(),
  action: dl
}), pl = ge("type", [
  v({ type: b("timeout") }),
  v({
    type: b("exit"),
    exitCode: E().int().nullable()
  })
]), fl = v({
  stdout: p(),
  stderr: p(),
  outcome: pl
}).passthrough(), Ai = Ee.extend({
  type: b("shell_call_output"),
  callId: p(),
  maxOutputLength: E().optional(),
  output: B(fl)
}), hl = v({
  type: b("create_file"),
  path: p(),
  diff: p()
}), ml = v({
  type: b("update_file"),
  path: p(),
  diff: p()
}), gl = v({
  type: b("delete_file"),
  path: p()
}), yl = ge("type", [
  hl,
  ml,
  gl
]), kr = Ee.extend({
  type: b("apply_patch_call"),
  callId: p(),
  status: oe(["in_progress", "completed"]),
  operation: yl
}), Ci = Ee.extend({
  type: b("apply_patch_call_output"),
  callId: p(),
  status: oe(["completed", "failed"]),
  output: p().optional()
}), _l = ge("type", [
  Ss,
  Tr,
  kr,
  xn,
  In
]), Ts = le.extend({
  id: p().optional(),
  type: b("reasoning"),
  /**
   * The user facing representation of the reasoning. Additional information might be in the `providerData` field.
   */
  content: B(Is),
  /**
   * The raw reasoning text from the model.
   */
  rawContent: B(Bc).optional()
}), Oi = Ee.extend({
  type: b("unknown")
}), ks = ge("type", [
  Sr,
  In,
  xn,
  Ss,
  Tr,
  kr,
  gr,
  Ai,
  Ci,
  Ts,
  Oi
]), vl = tt([
  Ti,
  Sr,
  ki,
  In,
  xn,
  Ss,
  Tr,
  kr,
  gr,
  ll,
  Ai,
  Ci,
  Ts,
  Oi
]), wl = v({
  inputTokens: E(),
  outputTokens: E(),
  totalTokens: E(),
  inputTokensDetails: ee(p(), E()).optional(),
  outputTokensDetails: ee(p(), E()).optional()
}), bl = v({
  requests: E().optional(),
  inputTokens: E(),
  outputTokens: E(),
  totalTokens: E(),
  inputTokensDetails: tt([
    ee(p(), E()),
    B(ee(p(), E()))
  ]).optional(),
  outputTokensDetails: tt([
    ee(p(), E()),
    B(ee(p(), E()))
  ]).optional(),
  requestUsageEntries: B(wl).optional()
}), Ei = le.extend({
  type: b("output_text_delta"),
  /**
   * The delta text that was streamed by the modelto the user.
   */
  delta: p()
}), Il = le.extend({
  type: b("response_started")
}), Ni = le.extend({
  type: b("response_done"),
  /**
   * The response from the model.
   */
  response: le.extend({
    /**
     * The ID of the response.
     */
    id: p(),
    /**
     * The usage data for the response.
     */
    usage: bl,
    /**
     * The output from the model.
     */
    output: B(ks)
  })
}), xl = le.extend({
  type: b("model"),
  event: V().describe("The event from the model")
});
ge("type", [
  Ei,
  Ni,
  Il,
  xl
]);
class pn {
  constructor(e) {
    /**
     * The number of input tokens used for this request.
     */
    x(this, "inputTokens");
    /**
     * The number of output tokens used for this request.
     */
    x(this, "outputTokens");
    /**
     * The total number of tokens sent and received for this request.
     */
    x(this, "totalTokens");
    /**
     * Details about the input tokens used for this request.
     */
    x(this, "inputTokensDetails");
    /**
     * Details about the output tokens used for this request.
     */
    x(this, "outputTokensDetails");
    this.inputTokens = (e == null ? void 0 : e.inputTokens) ?? (e == null ? void 0 : e.input_tokens) ?? 0, this.outputTokens = (e == null ? void 0 : e.outputTokens) ?? (e == null ? void 0 : e.output_tokens) ?? 0, this.totalTokens = (e == null ? void 0 : e.totalTokens) ?? (e == null ? void 0 : e.total_tokens) ?? this.inputTokens + this.outputTokens;
    const t = (e == null ? void 0 : e.inputTokensDetails) ?? (e == null ? void 0 : e.input_tokens_details);
    this.inputTokensDetails = t || {};
    const r = (e == null ? void 0 : e.outputTokensDetails) ?? (e == null ? void 0 : e.output_tokens_details);
    this.outputTokensDetails = r || {};
  }
}
class Ar {
  constructor(e) {
    /**
     * The number of requests made to the LLM API.
     */
    x(this, "requests");
    /**
     * The number of input tokens used across all requests.
     */
    x(this, "inputTokens");
    /**
     * The number of output tokens used across all requests.
     */
    x(this, "outputTokens");
    /**
     * The total number of tokens sent and received, across all requests.
     */
    x(this, "totalTokens");
    /**
     * Details about the input tokens used across all requests.
     */
    x(this, "inputTokensDetails", []);
    /**
     * Details about the output tokens used across all requests.
     */
    x(this, "outputTokensDetails", []);
    /**
     * List of per-request usage entries for detailed cost calculations.
     */
    x(this, "requestUsageEntries");
    if (typeof e > "u")
      this.requests = 0, this.inputTokens = 0, this.outputTokens = 0, this.totalTokens = 0, this.inputTokensDetails = [], this.outputTokensDetails = [], this.requestUsageEntries = void 0;
    else {
      this.requests = (e == null ? void 0 : e.requests) ?? 1, this.inputTokens = (e == null ? void 0 : e.inputTokens) ?? (e == null ? void 0 : e.input_tokens) ?? 0, this.outputTokens = (e == null ? void 0 : e.outputTokens) ?? (e == null ? void 0 : e.output_tokens) ?? 0, this.totalTokens = (e == null ? void 0 : e.totalTokens) ?? (e == null ? void 0 : e.total_tokens) ?? this.inputTokens + this.outputTokens;
      const t = (e == null ? void 0 : e.inputTokensDetails) ?? (e == null ? void 0 : e.input_tokens_details);
      Array.isArray(t) ? this.inputTokensDetails = t : this.inputTokensDetails = t ? [t] : [];
      const r = (e == null ? void 0 : e.outputTokensDetails) ?? (e == null ? void 0 : e.output_tokens_details);
      Array.isArray(r) ? this.outputTokensDetails = r : this.outputTokensDetails = r ? [r] : [];
      const s = (e == null ? void 0 : e.requestUsageEntries) ?? (e == null ? void 0 : e.request_usage_entries), a = Array.isArray(s) ? s.map((i) => i instanceof pn ? i : new pn(i)) : void 0;
      this.requestUsageEntries = a && a.length > 0 ? a : void 0;
    }
  }
  add(e) {
    var t, r;
    this.requests += e.requests ?? 0, this.inputTokens += e.inputTokens ?? 0, this.outputTokens += e.outputTokens ?? 0, this.totalTokens += e.totalTokens ?? 0, e.inputTokensDetails && this.inputTokensDetails.push(...e.inputTokensDetails), e.outputTokensDetails && this.outputTokensDetails.push(...e.outputTokensDetails), Array.isArray(e.requestUsageEntries) && e.requestUsageEntries.length > 0 ? (this.requestUsageEntries ?? (this.requestUsageEntries = []), this.requestUsageEntries.push(...e.requestUsageEntries.map((s) => s instanceof pn ? s : new pn(s)))) : e.requests === 1 && e.totalTokens > 0 && (this.requestUsageEntries ?? (this.requestUsageEntries = []), this.requestUsageEntries.push(new pn({
      inputTokens: e.inputTokens,
      outputTokens: e.outputTokens,
      totalTokens: e.totalTokens,
      inputTokensDetails: (t = e.inputTokensDetails) == null ? void 0 : t[0],
      outputTokensDetails: (r = e.outputTokensDetails) == null ? void 0 : r[0]
    })));
  }
}
var Ie;
class Zt {
  constructor(e = {}) {
    /**
     * The context object you passed to the `Runner.run()` method.
     */
    x(this, "context");
    /**
     * The usage of the agent run so far. For streamed responses, the usage will be stale until the
     * last chunk of the stream is processed.
     */
    x(this, "usage");
    /**
     * A map of tool names to whether they have been approved.
     */
    N(this, Ie);
    this.context = e, this.usage = new Ar(), k(this, Ie, /* @__PURE__ */ new Map());
  }
  /**
   * Rebuild the approvals map from a serialized state.
   * @internal
   *
   * @param approvals - The approvals map to rebuild.
   */
  _rebuildApprovals(e) {
    k(this, Ie, new Map(Object.entries(e)));
  }
  /**
   * Check if a tool call has been approved.
   *
   * @param approval - Details about the tool call being evaluated.
   * @returns `true` if the tool call has been approved, `false` if blocked and `undefined` if not yet approved or rejected.
   */
  isToolApproved(e) {
    const { toolName: t, callId: r } = e, s = u(this, Ie).get(t);
    if ((s == null ? void 0 : s.approved) === !0 && s.rejected === !0)
      return j.warn("Tool is permanently approved and rejected at the same time. Approval takes precedence"), !0;
    if ((s == null ? void 0 : s.approved) === !0)
      return !0;
    if ((s == null ? void 0 : s.rejected) === !0)
      return !1;
    const a = Array.isArray(s == null ? void 0 : s.approved) ? s.approved.includes(r) : !1, i = Array.isArray(s == null ? void 0 : s.rejected) ? s.rejected.includes(r) : !1;
    if (a && i)
      return j.warn(`Tool call ${r} is both approved and rejected at the same time. Approval takes precedence`), !0;
    if (a)
      return !0;
    if (i)
      return !1;
  }
  /**
   * Approve a tool call.
   *
   * @param approvalItem - The tool approval item to approve.
   * @param options - Additional approval behavior options.
   */
  approveTool(e, { alwaysApprove: t = !1 } = {}) {
    const r = e.toolName ?? e.rawItem.name;
    if (t) {
      u(this, Ie).set(r, {
        approved: !0,
        rejected: []
      });
      return;
    }
    const s = u(this, Ie).get(r) ?? {
      approved: [],
      rejected: []
    };
    if (Array.isArray(s.approved)) {
      const a = "callId" in e.rawItem ? e.rawItem.callId : e.rawItem.id;
      s.approved.push(a);
    }
    u(this, Ie).set(r, s);
  }
  /**
   * Reject a tool call.
   *
   * @param approvalItem - The tool approval item to reject.
   */
  rejectTool(e, { alwaysReject: t = !1 } = {}) {
    const r = e.toolName ?? e.rawItem.name;
    if (t) {
      u(this, Ie).set(r, {
        approved: !1,
        rejected: !0
      });
      return;
    }
    const s = u(this, Ie).get(r) ?? {
      approved: [],
      rejected: []
    };
    if (Array.isArray(s.rejected)) {
      const a = "callId" in e.rawItem ? e.rawItem.callId : e.rawItem.id;
      s.rejected.push(a);
    }
    u(this, Ie).set(r, s);
  }
  toJSON() {
    return {
      context: this.context,
      usage: this.usage,
      approvals: Object.fromEntries(u(this, Ie).entries())
    };
  }
}
Ie = new WeakMap();
function Sl(n) {
  return n.type === "function" ? {
    type: "function",
    name: n.name,
    description: n.description,
    parameters: n.parameters,
    strict: n.strict
  } : n.type === "computer" ? {
    type: "computer",
    name: n.name,
    environment: n.computer.environment,
    dimensions: n.computer.dimensions
  } : n.type === "shell" ? {
    type: "shell",
    name: n.name
  } : n.type === "apply_patch" ? {
    type: "apply_patch",
    name: n.name
  } : {
    type: "hosted_tool",
    name: n.name,
    providerData: n.providerData
  };
}
function Tl(n) {
  return {
    toolName: n.toolName,
    toolDescription: n.toolDescription,
    inputJsonSchema: n.inputJsonSchema,
    strictJsonSchema: n.strictJsonSchema
  };
}
class Ft {
  constructor() {
    x(this, "type", "base_item");
    x(this, "rawItem");
  }
  toJSON() {
    return {
      type: this.type,
      rawItem: this.rawItem
    };
  }
}
class Cr extends Ft {
  constructor(t, r) {
    super();
    x(this, "rawItem");
    x(this, "agent");
    x(this, "type", "message_output_item");
    this.rawItem = t, this.agent = r;
  }
  toJSON() {
    return {
      ...super.toJSON(),
      agent: this.agent.toJSON()
    };
  }
  get content() {
    let t = "";
    for (const r of this.rawItem.content)
      r.type === "output_text" && (t += r.text);
    return t;
  }
}
class Ye extends Ft {
  constructor(t, r) {
    super();
    x(this, "rawItem");
    x(this, "agent");
    x(this, "type", "tool_call_item");
    this.rawItem = t, this.agent = r;
  }
  toJSON() {
    return {
      ...super.toJSON(),
      agent: this.agent.toJSON()
    };
  }
}
class Ue extends Ft {
  constructor(t, r, s) {
    super();
    x(this, "rawItem");
    x(this, "agent");
    x(this, "output");
    x(this, "type", "tool_call_output_item");
    this.rawItem = t, this.agent = r, this.output = s;
  }
  toJSON() {
    return {
      ...super.toJSON(),
      agent: this.agent.toJSON(),
      output: ft(this.output)
    };
  }
}
class As extends Ft {
  constructor(t, r) {
    super();
    x(this, "rawItem");
    x(this, "agent");
    x(this, "type", "reasoning_item");
    this.rawItem = t, this.agent = r;
  }
  toJSON() {
    return {
      ...super.toJSON(),
      agent: this.agent.toJSON()
    };
  }
}
class Cs extends Ft {
  constructor(t, r) {
    super();
    x(this, "rawItem");
    x(this, "agent");
    x(this, "type", "handoff_call_item");
    this.rawItem = t, this.agent = r;
  }
  toJSON() {
    return {
      ...super.toJSON(),
      agent: this.agent.toJSON()
    };
  }
}
class Os extends Ft {
  constructor(t, r, s) {
    super();
    x(this, "rawItem");
    x(this, "sourceAgent");
    x(this, "targetAgent");
    x(this, "type", "handoff_output_item");
    this.rawItem = t, this.sourceAgent = r, this.targetAgent = s;
  }
  toJSON() {
    return {
      ...super.toJSON(),
      sourceAgent: this.sourceAgent.toJSON(),
      targetAgent: this.targetAgent.toJSON()
    };
  }
}
class ye extends Ft {
  constructor(t, r, s) {
    super();
    x(this, "rawItem");
    x(this, "agent");
    x(this, "toolName");
    x(this, "type", "tool_approval_item");
    this.rawItem = t, this.agent = r, this.toolName = s, this.toolName = s ?? t.name;
  }
  /**
   * Returns the tool name if available on the raw item or provided explicitly.
   * Kept for backwards compatibility with code that previously relied on `rawItem.name`.
   */
  get name() {
    return this.toolName ?? this.rawItem.name;
  }
  /**
   * Returns the arguments if the raw item has an arguments property otherwise this will be undefined.
   */
  get arguments() {
    return "arguments" in this.rawItem ? this.rawItem.arguments : void 0;
  }
  toJSON() {
    return {
      ...super.toJSON(),
      agent: this.agent.toJSON(),
      toolName: this.toolName
    };
  }
}
function Or(n) {
  return async (e, ...t) => cs(async () => {
    const r = n(...t);
    Rs(r);
    try {
      return r.start(), await e(r);
    } catch (s) {
      throw r.setError({
        message: s.message,
        data: s.data
      }), s;
    } finally {
      r.end(), mn();
    }
  });
}
function kl(n, e) {
  var t;
  return qe().createSpan({
    ...n,
    data: {
      type: "agent",
      name: ((t = n == null ? void 0 : n.data) == null ? void 0 : t.name) ?? "Agent",
      ...n == null ? void 0 : n.data
    }
  }, e);
}
function Al(n, e) {
  var t, r;
  return qe().createSpan({
    ...n,
    data: {
      type: "function",
      input: ((t = n == null ? void 0 : n.data) == null ? void 0 : t.input) ?? "",
      output: ((r = n == null ? void 0 : n.data) == null ? void 0 : r.output) ?? "",
      ...n == null ? void 0 : n.data
    }
  }, e);
}
const ha = Or(Al);
function Cl(n, e) {
  return qe().createSpan({
    ...n,
    data: { type: "handoff", ...n == null ? void 0 : n.data }
  }, e);
}
const Ol = Or(Cl);
function El(n, e) {
  return qe().createSpan({
    ...n,
    data: {
      type: "guardrail",
      triggered: !1,
      ...n == null ? void 0 : n.data
    }
  }, e);
}
const ma = Or(El);
function Nl(n, e) {
  return qe().createSpan({
    ...n,
    data: {
      type: "mcp_tools",
      ...n == null ? void 0 : n.data
    }
  }, e);
}
const Rl = Or(Nl);
function ke(n) {
  if (n.length === 0)
    return "";
  const e = typeof globalThis < "u" && globalThis.Buffer ? globalThis.Buffer : void 0;
  if (e)
    return e.from(n).toString("base64");
  let t = "";
  for (let i = 0; i < n.length; i += 1)
    t += String.fromCharCode(n[i]);
  if (typeof globalThis.btoa == "function")
    return globalThis.btoa(t);
  const r = "ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=";
  let s = "", a = 0;
  for (; a < t.length; ) {
    const i = t.charCodeAt(a++), o = t.charCodeAt(a++), c = t.charCodeAt(a++), d = i >> 2, f = (i & 3) << 4 | o >> 4, l = isNaN(o) ? 64 : (o & 15) << 2 | c >> 6, h = isNaN(c) ? 64 : c & 63;
    s += r.charAt(d) + r.charAt(f) + r.charAt(l) + r.charAt(h);
  }
  return s;
}
class Pl {
  /**
   * @param data The raw responses stream events from the LLM.
   */
  constructor(e) {
    x(this, "data");
    /**
     * The type of the event.
     */
    x(this, "type", "raw_model_stream_event");
    this.data = e;
  }
}
class Dl {
  /**
   * @param name The name of the event.
   * @param item The item that was created.
   */
  constructor(e, t) {
    x(this, "name");
    x(this, "item");
    x(this, "type", "run_item_stream_event");
    this.name = e, this.item = t;
  }
}
class Ml {
  /**
   * @param agent The new agent
   */
  constructor(e) {
    x(this, "agent");
    x(this, "type", "agent_updated_stream_event");
    this.agent = e;
  }
}
function jl(n) {
  if (!n || typeof n != "object" || !("rawItem" in n))
    return !1;
  const e = n.rawItem;
  if (!e || typeof e != "object")
    return !1;
  const t = e.type;
  return t === "function_call" || t === "hosted_tool_call";
}
function ga(n) {
  const e = n.rawItem;
  if (!e)
    return;
  if (e.type === "function_call" && e.callId)
    return `function_call:${e.callId}`;
  if ("callId" in e && e.callId)
    return `${e.type}:${e.callId}`;
  const t = "id" in e ? e.id : void 0;
  if (t)
    return `${e.type}:${t}`;
  const r = typeof e.providerData == "object" && e.providerData ? e.providerData : void 0;
  if (r != null && r.id)
    return `${e.type}:provider:${r.id}`;
  const s = "agent" in n && n.agent ? n.agent.name : "";
  try {
    return `${s}:${e.type}:${JSON.stringify(e)}`;
  } catch {
    return `${s}:${e.type}`;
  }
}
function $l(n) {
  try {
    if (n instanceof $e) {
      const e = n.issues[0];
      if (e) {
        const t = Array.isArray(e.path) ? e.path : [], r = t.length > 0 ? t.map((a) => String(a)).join(".") : "(root)", s = ya(e.message ?? "");
        return `Invalid output type: final assistant output failed schema validation at "${r}" (${s}).`;
      }
      return "Invalid output type: final assistant output failed schema validation.";
    }
    if (n instanceof Error && n.message)
      return `Invalid output type: ${ya(n.message)}`;
  } catch {
  }
  return "Invalid output type: final assistant output did not match the expected schema.";
}
function ya(n, e = 160) {
  const t = n.trim();
  return t ? t.length <= e ? t : `${t.slice(0, e - 3)}...` : "Schema validation failed.";
}
function _a(n, e, t, r) {
  var I;
  const s = [], a = [], i = [], o = [], c = [], d = [], f = [], l = [], h = new Map(r.map((w) => [w.toolName, w])), g = new Map(t.filter((w) => w.type === "function").map((w) => [w.name, w])), _ = t.find((w) => w.type === "computer"), T = t.find((w) => w.type === "shell"), y = t.find((w) => w.type === "apply_patch"), m = new Map(t.filter((w) => {
    var D;
    return w.type === "hosted_tool" && ((D = w.providerData) == null ? void 0 : D.type) === "mcp";
  }).map((w) => w).map((w) => [w.providerData.server_label, w]));
  for (const w of n.output) {
    if (w.type === "message")
      w.role === "assistant" && s.push(new Cr(w, e));
    else if (w.type === "hosted_tool_call") {
      s.push(new Ye(w, e));
      const S = w.name;
      if (l.push(S), ((I = w.providerData) == null ? void 0 : I.type) === "mcp_approval_request" || w.name === "mcp_approval_request") {
        const C = w.providerData, M = C.server_label, W = m.get(M);
        if (typeof W > "u") {
          const F = `MCP server (${M}) not found in Agent (${e.name})`;
          throw Xe({
            message: F,
            data: { mcp_server_label: M }
          }), new we(F);
        }
        const J = new ye({
          type: "hosted_tool_call",
          // We must use this name to align with the name sent from the servers
          name: C.name,
          id: C.id,
          status: "in_progress",
          providerData: C
        }, e);
        f.push({
          requestItem: J,
          mcpTool: W
        }), W.providerData.on_approval || s.push(J);
      }
    } else if (w.type === "reasoning")
      s.push(new As(w, e));
    else if (w.type === "computer_call") {
      if (s.push(new Ye(w, e)), l.push("computer_use"), !_)
        throw Xe({
          message: "Model produced computer action without a computer tool.",
          data: {
            agent_name: e.name
          }
        }), new we("Model produced computer action without a computer tool.");
      o.push({
        toolCall: w,
        computer: _
      });
    } else if (w.type === "shell_call") {
      if (s.push(new Ye(w, e)), l.push("shell"), !T)
        throw Xe({
          message: "Model produced shell action without a shell tool.",
          data: {
            agent_name: e.name
          }
        }), new we("Model produced shell action without a shell tool.");
      c.push({
        toolCall: w,
        shell: T
      });
    } else if (w.type === "apply_patch_call") {
      if (s.push(new Ye(w, e)), l.push("apply_patch"), !y)
        throw Xe({
          message: "Model produced apply_patch action without an apply_patch tool.",
          data: {
            agent_name: e.name
          }
        }), new we("Model produced apply_patch action without an apply_patch tool.");
      d.push({
        toolCall: w,
        applyPatch: y
      });
    }
    if (w.type !== "function_call")
      continue;
    l.push(w.name);
    const D = h.get(w.name);
    if (D)
      s.push(new Cs(w, e)), a.push({
        toolCall: w,
        handoff: D
      });
    else {
      const S = g.get(w.name);
      if (!S)
        throw Xe({
          message: `Tool ${w.name} not found in agent ${e.name}.`,
          data: {
            tool_name: w.name,
            agent_name: e.name
          }
        }), new we(`Tool ${w.name} not found in agent ${e.name}.`);
      s.push(new Ye(w, e)), i.push({
        toolCall: w,
        tool: S
      });
    }
  }
  return {
    newItems: s,
    handoffs: a,
    functions: i,
    computerActions: o,
    shellActions: c,
    applyPatchActions: d,
    mcpApprovalRequests: f,
    toolsUsed: l,
    hasToolsOrApprovalsToRun() {
      return a.length > 0 || i.length > 0 || f.length > 0 || o.length > 0 || c.length > 0 || d.length > 0;
    }
  };
}
const Fl = ge("type", [
  v({
    type: b("next_step_handoff"),
    newAgent: V()
  }),
  v({
    type: b("next_step_final_output"),
    output: p()
  }),
  v({
    type: b("next_step_run_again")
  }),
  v({
    type: b("next_step_interruption"),
    data: ee(p(), V())
  })
]);
class Me {
  constructor(e, t, r, s, a) {
    x(this, "originalInput");
    x(this, "modelResponse");
    x(this, "preStepItems");
    x(this, "newStepItems");
    x(this, "nextStep");
    this.originalInput = e, this.modelResponse = t, this.preStepItems = r, this.newStepItems = s, this.nextStep = a;
  }
  /**
   * The items generated during the agent run (i.e. everything generated after originalInput)
   */
  get generatedItems() {
    return this.preStepItems.concat(this.newStepItems);
  }
}
function Ll(n, e, t) {
  return n.resetToolChoice && e.hasUsedTools(n) ? { ...t, toolChoice: void 0 } : t;
}
async function va(n, e, t, r, s, a, i) {
  const o = t.filter((S) => S instanceof ye && "callId" in S.rawItem && S.rawItem.type === "function_call").map((S) => S.rawItem.callId), c = i.getInterruptions().filter(jl);
  if (c.length > 0) {
    const S = /* @__PURE__ */ new Set();
    for (const C of c) {
      const M = ga(C);
      M && S.add(M);
    }
    if (S.size > 0) {
      let C = 0;
      for (let M = t.length - 1; M >= 0; M--) {
        const W = t[M];
        if (!(W instanceof ye))
          continue;
        const J = ga(W);
        if (J && S.has(J) && (C++, S.delete(J), S.size === 0))
          break;
      }
      C > 0 && (i._currentTurnPersistedItemCount = Math.max(0, i._currentTurnPersistedItemCount - C));
    }
  }
  const d = s.functions.filter((S) => o.includes(S.toolCall.callId)), f = await Pi(n, d, a, i), l = s.computerActions.length > 0 ? await Mi(n, s.computerActions, a, i._context) : [], h = new Set(t), g = [], _ = /* @__PURE__ */ new Set(), T = (S) => {
    h.has(S) || _.has(S) || (g.push(S), _.add(S));
  };
  for (const S of f)
    T(S.runItem);
  for (const S of l)
    T(S);
  const y = s.mcpApprovalRequests.filter((S) => {
    var C;
    return S.requestItem.type === "tool_approval_item" && S.requestItem.rawItem.type === "hosted_tool_call" && ((C = S.requestItem.rawItem.providerData) == null ? void 0 : C.type) === "mcp_approval_request";
  }), m = /* @__PURE__ */ new Set(), I = /* @__PURE__ */ new Set();
  for (const S of y) {
    const C = S.requestItem.rawItem;
    if (C.type !== "hosted_tool_call")
      continue;
    const M = C.id, W = i._context.isToolApproved({
      // Since this item name must be the same with the one sent from Responses API server
      toolName: C.name,
      callId: M
    });
    if (typeof W < "u") {
      const J = {
        approve: W,
        approval_request_id: M,
        reason: void 0
      }, F = new Ye({
        type: "hosted_tool_call",
        name: "mcp_approval_response",
        providerData: J
      }, n);
      T(F);
    } else
      m.add(S.requestItem), I.add(M), f.push({
        type: "hosted_mcp_tool_approval",
        tool: S.mcpTool,
        runItem: S.requestItem
      }), T(S.requestItem);
  }
  const w = t.filter((S) => {
    var C;
    if (!(S instanceof ye))
      return !0;
    if (S.rawItem.type === "hosted_tool_call" && ((C = S.rawItem.providerData) == null ? void 0 : C.type) === "mcp_approval_request") {
      if (m.has(S))
        return !0;
      const M = S.rawItem.id;
      return M ? I.has(M) : !1;
    }
    return !1;
  }), D = await Ri({
    agent: n,
    runner: a,
    state: i,
    functionResults: f,
    originalInput: e,
    newResponse: r,
    preStepItems: w,
    newItems: g
  });
  return D || new Me(e, r, w, g, { type: "next_step_run_again" });
}
async function wa(n, e, t, r, s, a, i) {
  var D, S, C, M, W, J;
  const o = t, c = new Set(t), d = [], f = (F) => {
    c.has(F) || (d.push(F), c.add(F));
  };
  for (const F of s.newItems)
    f(F);
  const [l, h, g, _] = await Promise.all([
    Pi(n, s.functions, a, i),
    Mi(n, s.computerActions, a, i._context),
    Bl(n, s.shellActions, a, i._context),
    zl(n, s.applyPatchActions, a, i._context)
  ]);
  for (const F of l)
    f(F.runItem);
  for (const F of h)
    f(F);
  for (const F of g)
    f(F);
  for (const F of _)
    f(F);
  if (s.mcpApprovalRequests.length > 0)
    for (const F of s.mcpApprovalRequests) {
      const he = F.mcpTool.providerData, se = F.requestItem.rawItem.providerData;
      if (he.on_approval) {
        const ue = await he.on_approval(i._context, F.requestItem), Je = {
          approve: ue.approve,
          approval_request_id: se.id,
          reason: ue.reason
        };
        d.push(new Ye({
          type: "hosted_tool_call",
          name: "mcp_approval_response",
          providerData: Je
        }, n));
      } else {
        d.push(F.requestItem);
        const ue = {
          type: "hosted_mcp_tool_approval",
          tool: F.mcpTool,
          runItem: new ye({
            type: "hosted_tool_call",
            name: se.name,
            id: se.id,
            arguments: se.arguments,
            status: "in_progress",
            providerData: se
          }, n)
        };
        l.push(ue);
      }
    }
  if (s.handoffs.length > 0)
    return await Gl(n, e, o, d, r, s.handoffs, a, i._context);
  const T = await Ri({
    agent: n,
    runner: a,
    state: i,
    functionResults: l,
    originalInput: e,
    newResponse: r,
    preStepItems: o,
    newItems: d
  });
  if (T)
    return T;
  if ((((D = s.functions) == null ? void 0 : D.length) ?? 0) > 0 || (((S = s.computerActions) == null ? void 0 : S.length) ?? 0) > 0 || (((C = s.shellActions) == null ? void 0 : C.length) ?? 0) > 0 || (((M = s.applyPatchActions) == null ? void 0 : M.length) ?? 0) > 0 || (((W = s.mcpApprovalRequests) == null ? void 0 : W.length) ?? 0) > 0 || (((J = s.handoffs) == null ? void 0 : J.length) ?? 0) > 0)
    return new Me(e, r, o, d, { type: "next_step_run_again" });
  const m = d.filter((F) => F instanceof Cr), I = m.length > 0 ? bi(m[m.length - 1].rawItem) : void 0;
  if (typeof I > "u")
    return new Me(e, r, o, d, { type: "next_step_run_again" });
  if (!l.some((F) => F.runItem instanceof ye)) {
    if (n.outputType === "text")
      return new Me(e, r, o, d, {
        type: "next_step_final_output",
        output: I
      });
    if (n.outputType !== "text" && I) {
      const { parser: F } = vs(n.outputType, "final_output"), [he] = await gs(() => F(I));
      if (he) {
        const se = $l(he);
        throw Xe({
          message: se,
          data: {
            error: String(he)
          }
        }), new we(se);
      }
      return new Me(e, r, o, d, { type: "next_step_final_output", output: I });
    }
  }
  return new Me(e, r, o, d, { type: "next_step_run_again" });
}
async function Ri({ agent: n, runner: e, state: t, functionResults: r, originalInput: s, newResponse: a, preStepItems: i, newItems: o }) {
  const c = await Vl(n, r, t);
  return c.isFinalOutput ? (e.emit("agent_end", t._context, n, c.finalOutput), n.emit("agent_end", t._context, c.finalOutput), new Me(s, a, i, o, {
    type: "next_step_final_output",
    output: c.finalOutput
  })) : c.isInterrupted ? new Me(s, a, i, o, {
    type: "next_step_interruption",
    data: {
      interruptions: c.interruptions
    }
  }) : null;
}
function yr(n, e) {
  const t = rd(e);
  if (t) {
    const r = t.map(sd);
    return {
      type: "function_call_result",
      name: n.name,
      callId: n.callId,
      status: "completed",
      output: r
    };
  }
  return {
    type: "function_call_result",
    name: n.name,
    callId: n.callId,
    status: "completed",
    output: {
      type: "text",
      text: ft(e)
    }
  };
}
function Ul(n) {
  const e = n.file;
  if (typeof e == "string" && e.length > 0)
    return e;
  const t = Zl(e);
  if (t)
    return t;
  const r = ql(n);
  return r || null;
}
function Zl(n) {
  if (!_t(n))
    return null;
  if ("data" in n && n.data !== void 0) {
    const t = n.data, r = typeof t == "string" && t.length > 0, s = t instanceof Uint8Array && t.length > 0;
    return !r && !s || !pe(n.mediaType) || !pe(n.filename) ? null : {
      data: typeof t == "string" ? t : new Uint8Array(t),
      mediaType: n.mediaType,
      filename: n.filename
    };
  }
  if (pe(n.url)) {
    const t = { url: n.url };
    return pe(n.filename) && (t.filename = n.filename), t;
  }
  const e = pe(n.id) && n.id || pe(n.fileId) && n.fileId;
  if (e) {
    const t = { id: e };
    return pe(n.filename) && (t.filename = n.filename), t;
  }
  return null;
}
function ql(n) {
  const e = typeof n.filename == "string" && n.filename.length > 0 ? n.filename : void 0, t = typeof n.mediaType == "string" && n.mediaType.length > 0 ? n.mediaType : void 0;
  if (typeof n.fileData == "string" && n.fileData.length > 0)
    return !t || !e ? null : { data: n.fileData, mediaType: t, filename: e };
  if (n.fileData instanceof Uint8Array && n.fileData.length > 0)
    return !t || !e ? null : { data: new Uint8Array(n.fileData), mediaType: t, filename: e };
  if (typeof n.fileUrl == "string" && n.fileUrl.length > 0) {
    const r = { url: n.fileUrl };
    return e && (r.filename = e), r;
  }
  if (typeof n.fileId == "string" && n.fileId.length > 0) {
    const r = { id: n.fileId };
    return e && (r.filename = e), r;
  }
  return null;
}
function _t(n) {
  return typeof n == "object" && n !== null;
}
function pe(n) {
  return typeof n == "string" && n.length > 0;
}
function Xn(n, e) {
  if (typeof n == "string")
    return e && !n.startsWith("data:") ? qt(n, e) : n;
  const t = ke(n);
  return qt(t, e);
}
function qt(n, e) {
  return e ? `data:${e};base64,${n}` : n;
}
async function Pi(n, e, t, r) {
  async function s(a) {
    let i = a.toolCall.arguments;
    if (a.tool.parameters && (jt(a.tool.parameters) ? i = a.tool.parameters.parse(i) : i = JSON.parse(i)), await a.tool.needsApproval(r._context, i, a.toolCall.callId)) {
      const c = r._context.isToolApproved({
        toolName: a.tool.name,
        callId: a.toolCall.callId
      });
      if (c === !1)
        return ha(async (d) => {
          const f = "Tool execution was not approved.";
          return d.setError({
            message: f,
            data: {
              tool_name: a.tool.name,
              error: `Tool execution for ${a.toolCall.callId} was manually rejected by user.`
            }
          }), d.spanData.output = f, {
            type: "function_output",
            tool: a.tool,
            output: f,
            runItem: new Ue(yr(a.toolCall, f), n, f)
          };
        }, {
          data: {
            name: a.tool.name
          }
        });
      if (c !== !0)
        return {
          type: "function_approval",
          tool: a.tool,
          runItem: new ye(a.toolCall, n)
        };
    }
    return ha(async (c) => {
      t.config.traceIncludeSensitiveData && (c.spanData.input = a.toolCall.arguments);
      try {
        t.emit("agent_tool_start", r._context, n, a.tool, {
          toolCall: a.toolCall
        }), n.emit("agent_tool_start", r._context, a.tool, {
          toolCall: a.toolCall
        });
        const d = await a.tool.invoke(r._context, a.toolCall.arguments, { toolCall: a.toolCall }), f = ft(d);
        t.emit("agent_tool_end", r._context, n, a.tool, f, { toolCall: a.toolCall }), n.emit("agent_tool_end", r._context, a.tool, f, { toolCall: a.toolCall }), t.config.traceIncludeSensitiveData && (c.spanData.output = f);
        const l = {
          type: "function_output",
          tool: a.tool,
          output: d,
          runItem: new Ue(yr(a.toolCall, d), n, d)
        }, h = Lc(a.toolCall);
        if (h) {
          l.agentRunResult = h;
          const g = h.interruptions;
          g.length > 0 && (l.interruptions = g);
        }
        return l;
      } catch (d) {
        throw c.setError({
          message: "Error running tool",
          data: {
            tool_name: a.tool.name,
            error: String(d)
          }
        }), d;
      }
    }, {
      data: {
        name: a.tool.name
      }
    });
  }
  try {
    return await Promise.all(e.map(s));
  } catch (a) {
    throw new qu(`Failed to run function tools: ${a}`, a, r);
  }
}
async function Jl(n, e) {
  const t = e.action;
  let r;
  switch (t.type) {
    case "click":
      await n.click(t.x, t.y, t.button);
      break;
    case "double_click":
      await n.doubleClick(t.x, t.y);
      break;
    case "drag":
      await n.drag(t.path.map((s) => [s.x, s.y]));
      break;
    case "keypress":
      await n.keypress(t.keys);
      break;
    case "move":
      await n.move(t.x, t.y);
      break;
    case "screenshot":
      r = await n.screenshot();
      break;
    case "scroll":
      await n.scroll(t.x, t.y, t.scroll_x, t.scroll_y);
      break;
    case "type":
      await n.type(t.text);
      break;
    case "wait":
      await n.wait();
      break;
  }
  if (typeof r < "u" || typeof n.screenshot == "function" && (r = await n.screenshot(), typeof r < "u"))
    return r;
  throw new Error("Computer does not implement screenshot()");
}
function Di(n) {
  if (n instanceof Error)
    return n.message || n.toString();
  try {
    return JSON.stringify(n);
  } catch {
    return String(n);
  }
}
async function Bl(n, e, t, r, s = void 0) {
  const a = s ?? j, i = [];
  for (const o of e) {
    const c = o.shell, d = o.toolCall, f = new ye(d, n, c.name);
    if (await c.needsApproval(r, d.action, d.callId)) {
      if (c.onApproval) {
        const m = await c.onApproval(r, f);
        m.approve === !0 ? r.approveTool(f) : m.approve === !1 && r.rejectTool(f);
      }
      const y = r.isToolApproved({
        toolName: c.name,
        callId: d.callId
      });
      if (y === !1) {
        const m = "Tool execution was not approved.", I = {
          stdout: "",
          stderr: m,
          outcome: { type: "exit", exitCode: null }
        };
        i.push(new Ue({
          type: "shell_call_output",
          callId: d.callId,
          output: [I]
        }, n, m));
        continue;
      }
      if (y !== !0) {
        i.push(f);
        continue;
      }
    }
    t.emit("agent_tool_start", r, n, c, {
      toolCall: d
    }), typeof n.emit == "function" && n.emit("agent_tool_start", r, c, { toolCall: d });
    let h;
    const g = {};
    let _;
    try {
      const y = await c.shell.run(d.action);
      h = y.output ?? [], y.providerData && Object.assign(g, y.providerData), typeof y.maxOutputLength == "number" && (_ = y.maxOutputLength);
    } catch (y) {
      h = [
        {
          stdout: "",
          stderr: Di(y),
          outcome: { type: "exit", exitCode: null }
        }
      ], a.error("Failed to execute shell action:", y);
    }
    h = h ?? [], t.emit("agent_tool_end", r, n, c, JSON.stringify(h), {
      toolCall: d
    }), typeof n.emit == "function" && n.emit("agent_tool_end", r, c, JSON.stringify(h), {
      toolCall: d
    });
    const T = {
      type: "shell_call_output",
      callId: d.callId,
      output: h ?? []
    };
    typeof _ == "number" && (T.maxOutputLength = _), Object.keys(g).length > 0 && (T.providerData = g), i.push(new Ue(T, n, T.output));
  }
  return i;
}
async function zl(n, e, t, r, s = void 0) {
  const a = s ?? j, i = [];
  for (const o of e) {
    const c = o.applyPatch, d = o.toolCall, f = new ye(d, n, c.name);
    if (await c.needsApproval(r, d.operation, d.callId)) {
      if (c.onApproval) {
        const y = await c.onApproval(r, f);
        y.approve === !0 ? r.approveTool(f) : y.approve === !1 && r.rejectTool(f);
      }
      const T = r.isToolApproved({
        toolName: c.name,
        callId: d.callId
      });
      if (T === !1) {
        const y = "Tool execution was not approved.";
        i.push(new Ue({
          type: "apply_patch_call_output",
          callId: d.callId,
          status: "failed",
          output: y
        }, n, y));
        continue;
      }
      if (T !== !0) {
        i.push(f);
        continue;
      }
    }
    t.emit("agent_tool_start", r, n, c, {
      toolCall: d
    }), typeof n.emit == "function" && n.emit("agent_tool_start", r, c, {
      toolCall: d
    });
    let h = "completed", g = "";
    try {
      let T;
      switch (d.operation.type) {
        case "create_file":
          T = await c.editor.createFile(d.operation);
          break;
        case "update_file":
          T = await c.editor.updateFile(d.operation);
          break;
        case "delete_file":
          T = await c.editor.deleteFile(d.operation);
          break;
        default:
          throw new Error("Unsupported apply_patch operation");
      }
      T && typeof T.status == "string" && (h = T.status), T && typeof T.output == "string" && (g = T.output);
    } catch (T) {
      h = "failed", g = Di(T), a.error("Failed to execute apply_patch operation:", T);
    }
    t.emit("agent_tool_end", r, n, c, g, {
      toolCall: d
    }), typeof n.emit == "function" && n.emit("agent_tool_end", r, c, g, {
      toolCall: d
    });
    const _ = {
      type: "apply_patch_call_output",
      callId: d.callId,
      status: h
    };
    g && (_.output = g), i.push(new Ue(_, n, g));
  }
  return i;
}
async function Mi(n, e, t, r, s = void 0) {
  const a = s ?? j, i = [];
  for (const o of e) {
    const c = o.computer.computer, d = o.toolCall;
    t.emit("agent_tool_start", r, n, o.computer, {
      toolCall: d
    }), typeof n.emit == "function" && n.emit("agent_tool_start", r, o.computer, { toolCall: d });
    let f;
    try {
      f = await Jl(c, d);
    } catch (g) {
      a.error("Failed to execute computer action:", g), f = "";
    }
    t.emit("agent_tool_end", r, n, o.computer, f, {
      toolCall: d
    }), typeof n.emit == "function" && n.emit("agent_tool_end", r, o.computer, f, {
      toolCall: d
    });
    const l = f ? `data:image/png;base64,${f}` : "", h = {
      type: "computer_call_result",
      callId: d.callId,
      output: { type: "computer_screenshot", data: l }
    };
    i.push(new Ue(h, n, l));
  }
  return i;
}
async function Gl(n, e, t, r, s, a, i, o) {
  if (r = [...r], a.length === 0)
    return j.warn("Incorrectly called executeHandoffCalls with no handoffs. This should not happen. Moving on."), new Me(e, s, t, r, { type: "next_step_run_again" });
  if (a.length > 1) {
    const d = "Multiple handoffs detected, ignoring this one.";
    for (let f = 1; f < a.length; f++)
      r.push(new Ue(yr(a[f].toolCall, d), n, d));
  }
  const c = a[0];
  return Ol(async (d) => {
    const f = c.handoff, l = await f.onInvokeHandoff(o, c.toolCall.arguments);
    if (d.spanData.to_agent = l.name, a.length > 1) {
      const g = a.map((_) => _.handoff.agentName);
      d.setError({
        message: "Multiple handoffs requested",
        data: {
          requested_agents: g
        }
      });
    }
    r.push(new Os(yr(c.toolCall, _i(l)), n, l)), i.emit("agent_handoff", o, n, l), n.emit("agent_handoff", o, l);
    const h = f.inputFilter ?? i.config.handoffInputFilter;
    if (h) {
      j.debug("Filtering inputs for handoff"), typeof h != "function" && d.setError({
        message: "Invalid input filter",
        data: {
          details: "not callable"
        }
      });
      const g = {
        inputHistory: Array.isArray(e) ? [...e] : e,
        preHandoffItems: [...t],
        newItems: [...r],
        runContext: o
      }, _ = h(g);
      e = _.inputHistory, t = _.preHandoffItems, r = _.newItems;
    }
    return new Me(e, s, t, r, { type: "next_step_handoff", newAgent: l });
  }, {
    data: {
      from_agent: n.name
    }
  });
}
const Qn = {
  isFinalOutput: !1,
  isInterrupted: void 0
};
async function Vl(n, e, t) {
  if (e.length === 0)
    return Qn;
  const r = [];
  for (const i of e)
    if (i.runItem instanceof ye && r.push(i.runItem), i.type === "function_output") {
      if (Array.isArray(i.interruptions))
        r.push(...i.interruptions);
      else if (i.agentRunResult) {
        const o = i.agentRunResult.interruptions;
        o.length > 0 && r.push(...o);
      }
    }
  if (r.length > 0)
    return {
      isFinalOutput: !1,
      isInterrupted: !0,
      interruptions: r
    };
  if (n.toolUseBehavior === "run_llm_again")
    return Qn;
  const s = e[0];
  if (n.toolUseBehavior === "stop_on_first_tool")
    return (s == null ? void 0 : s.type) === "function_output" ? {
      isFinalOutput: !0,
      isInterrupted: void 0,
      finalOutput: ft(s.output)
    } : Qn;
  const a = n.toolUseBehavior;
  if (typeof a == "object") {
    const i = e.find((o) => a.stopAtToolNames.includes(o.tool.name));
    return (i == null ? void 0 : i.type) === "function_output" ? {
      isFinalOutput: !0,
      isInterrupted: void 0,
      finalOutput: ft(i.output)
    } : Qn;
  }
  if (typeof a == "function")
    return a(t._context, e);
  throw new ne(`Invalid toolUseBehavior: ${a}`, t);
}
function Wl(n) {
  if (n instanceof Cr)
    return "message_output_created";
  if (n instanceof Cs)
    return "handoff_requested";
  if (n instanceof Os)
    return "handoff_occurred";
  if (n instanceof Ye)
    return "tool_called";
  if (n instanceof Ue)
    return "tool_output";
  if (n instanceof As)
    return "reasoning_item_created";
  if (n instanceof ye)
    return "tool_approval_requested";
}
function ji(n, e) {
  const t = Wl(e);
  if (!t) {
    j.warn("Unknown item type: ", e);
    return;
  }
  n._addItem(new Dl(t, e));
}
function Hl(n, e) {
  for (const t of e)
    ji(n, t);
}
function ba(n, e, t) {
  const r = t == null ? void 0 : t.skipItems;
  for (const s of e.newStepItems)
    r != null && r.has(s) || ji(n, s);
}
var Gt;
class Ia {
  constructor() {
    N(this, Gt, /* @__PURE__ */ new Map());
  }
  addToolUse(e, t) {
    u(this, Gt).set(e, t);
  }
  hasUsedTools(e) {
    return u(this, Gt).has(e);
  }
  toJSON() {
    return Object.fromEntries(Array.from(u(this, Gt).entries()).map(([e, t]) => [e.name, t]));
  }
}
Gt = new WeakMap();
function Kl(n) {
  return typeof n == "string" ? [
    {
      type: "message",
      role: "user",
      content: n
    }
  ] : [...n];
}
function $i(n) {
  return n.filter((e) => e.type !== "tool_approval_item").map((e) => e.rawItem);
}
function Es(n) {
  return n.map((e) => ns(rs(e)));
}
function ns(n, e = {}) {
  if (n == null)
    return n;
  const t = Yl(n);
  if (t)
    return Xl(t, e.mediaType);
  if (Array.isArray(n))
    return n.map((i) => ns(i, e));
  if (!Fi(n))
    return n;
  const r = n, s = {}, a = typeof r.mediaType == "string" && r.mediaType.length > 0 ? r.mediaType : e.mediaType;
  for (const [i, o] of Object.entries(r)) {
    const c = i === "data" || i === "fileData" ? { mediaType: a } : e;
    s[i] = ns(o, c);
  }
  return s;
}
function Yl(n) {
  if (n instanceof ArrayBuffer)
    return new Uint8Array(n);
  if (Hn(n)) {
    const e = n;
    return new Uint8Array(e.buffer, e.byteOffset, e.byteLength);
  }
  if (ws(n)) {
    const e = n;
    return new Uint8Array(e.buffer, e.byteOffset, e.byteLength);
  }
  if (br(n)) {
    const e = n;
    return Uint8Array.from(e.data);
  }
}
function Xl(n, e) {
  const t = ke(n);
  return `data:${e && !e.startsWith("data:") ? e : "text/plain"};base64,${t}`;
}
function Fi(n) {
  if (typeof n != "object" || n === null)
    return !1;
  const e = Object.getPrototypeOf(n);
  return e === Object.prototype || e === null;
}
function rs(n) {
  if (n == null)
    return n;
  if (Array.isArray(n))
    return n.map((a) => rs(a));
  if (!Fi(n))
    return n;
  const e = n, t = {}, s = typeof e.type == "string" && e.type.length > 0 && Ql(e.type);
  for (const [a, i] of Object.entries(e))
    s && a === "id" || (t[a] = rs(i));
  return t;
}
function Ql(n) {
  switch (n) {
    case "function_call":
    case "function_call_result":
      return !0;
    default:
      return !1;
  }
}
async function ed(n, e, t) {
  if (!n)
    return;
  const r = e ?? [], s = t.state, a = s._currentTurnPersistedItemCount ?? 0, i = t.newItems.slice(a);
  process.env.OPENAI_AGENTS__DEBUG_SAVE_SESSION && console.debug("saveToSession:newRunItems", i.map((f) => f.type));
  const o = $i(i), c = [...r, ...o];
  if (c.length === 0) {
    s._currentTurnPersistedItemCount = a + i.length;
    return;
  }
  const d = Es(c);
  await n.addItems(d), s._currentTurnPersistedItemCount = a + i.length;
}
async function td(n, e) {
  if (!n || !e || e.length === 0)
    return;
  const t = Es(e);
  await n.addItems(t);
}
async function xa(n, e) {
  if (!n)
    return;
  const t = e.state, r = t._currentTurnPersistedItemCount ?? 0, s = e.newItems.slice(r), a = $i(s);
  if (a.length === 0) {
    t._currentTurnPersistedItemCount = r + s.length;
    return;
  }
  const i = Es(a);
  await n.addItems(i), t._currentTurnPersistedItemCount = r + s.length;
}
async function nd(n, e, t, r) {
  if (!e)
    return {
      preparedInput: n,
      sessionItems: void 0
    };
  const s = (r == null ? void 0 : r.includeHistoryInPreparedInput) ?? !0, a = (r == null ? void 0 : r.preserveDroppedNewItems) ?? !1, i = await e.getItems(), o = Array.isArray(n) ? [...n] : Kl(n);
  if (!t)
    return {
      preparedInput: s ? [...i, ...o] : o,
      sessionItems: o
    };
  const c = i.slice(), d = o.slice(), f = await t(i, o);
  if (!Array.isArray(f))
    throw new ne("Session input callback must return an array of AgentInputItem objects.");
  const l = Ta(c), h = Ta(d), g = ka(c), _ = ka(d), T = [];
  for (const m of f) {
    const I = Ns(m);
    if (Aa(_, I, m)) {
      Ca(h, I), T.push(m);
      continue;
    }
    if (Aa(g, I, m)) {
      Ca(l, I);
      continue;
    }
    const w = l.get(I) ?? 0;
    if (w > 0) {
      l.set(I, w - 1);
      continue;
    }
    const D = h.get(I) ?? 0;
    if (D > 0) {
      h.set(I, D - 1), T.push(m);
      continue;
    }
    T.push(m);
  }
  return {
    preparedInput: s ? f : T.length > 0 ? T : a ? d : [],
    // Respect callbacks that intentionally drop the latest inputs (e.g. to redact sensitive
    // values) by persisting only the items they kept in the combined array.
    sessionItems: T
  };
}
function rd(n) {
  if (Array.isArray(n)) {
    const t = [];
    for (const r of n) {
      const s = Sa(r);
      if (!s)
        return null;
      t.push(s);
    }
    return t;
  }
  const e = Sa(n);
  return e ? [e] : null;
}
function Sa(n) {
  if (!_t(n))
    return null;
  const e = n.type;
  if (e === "text" && typeof n.text == "string") {
    const t = { type: "text", text: n.text };
    return _t(n.providerData) && (t.providerData = n.providerData), t;
  }
  if (e === "image") {
    const t = { type: "image" };
    let r, s;
    const a = pe(n.mediaType) ? n.mediaType : void 0, i = n.image;
    if (typeof i == "string" && i.length > 0)
      r = i;
    else if (_t(i)) {
      const o = i, c = pe(o.mediaType) ? o.mediaType : a;
      if (pe(o.url) ? r = o.url : (pe(o.data) || o.data instanceof Uint8Array && o.data.length > 0) && (r = Xn(o.data, c)), !r) {
        const d = pe(o.fileId) && o.fileId || pe(o.id) && o.id || void 0;
        d && (s = d);
      }
    }
    if (!r && typeof n.imageUrl == "string" && n.imageUrl.length > 0 && (r = n.imageUrl), !s && typeof n.fileId == "string" && n.fileId.length > 0 && (s = n.fileId), !r && typeof n.data == "string" && n.data.length > 0 ? r = a ? Xn(n.data, a) : n.data : !r && n.data instanceof Uint8Array && n.data.length > 0 && (r = Xn(n.data, a)), typeof n.detail == "string" && n.detail.length > 0 && (t.detail = n.detail), r)
      t.image = r;
    else if (s)
      t.image = { fileId: s };
    else
      return null;
    return _t(n.providerData) && (t.providerData = n.providerData), t;
  }
  if (e === "file") {
    const t = Ul(n);
    if (!t)
      return null;
    const r = { type: "file", file: t };
    return _t(n.providerData) && (r.providerData = n.providerData), r;
  }
  return null;
}
function sd(n) {
  if (n.type === "text") {
    const t = {
      type: "input_text",
      text: n.text
    };
    return n.providerData && (t.providerData = n.providerData), t;
  }
  if (n.type === "image") {
    const t = { type: "input_image" };
    if (typeof n.detail == "string" && n.detail.length > 0 && (t.detail = n.detail), typeof n.image == "string" && n.image.length > 0)
      t.image = n.image;
    else if (_t(n.image)) {
      const r = n.image, s = pe(r.mediaType) ? r.mediaType : void 0;
      if (pe(r.url))
        t.image = r.url;
      else if (pe(r.data))
        t.image = s && !r.data.startsWith("data:") ? qt(r.data, s) : r.data;
      else if (r.data instanceof Uint8Array && r.data.length > 0) {
        const a = ke(r.data);
        t.image = qt(a, s);
      } else {
        const a = pe(r.fileId) && r.fileId || pe(r.id) && r.id || void 0;
        a && (t.image = { id: a });
      }
    }
    return n.providerData && (t.providerData = n.providerData), t;
  }
  if (n.type === "file") {
    const t = { type: "input_file" }, r = n.file;
    if (typeof r == "string")
      t.file = r;
    else if (r && typeof r == "object") {
      const s = r;
      if ("data" in s && s.data) {
        const a = s.mediaType ?? "text/plain";
        if (typeof s.data == "string")
          t.file = qt(s.data, a);
        else {
          const i = ke(s.data);
          t.file = qt(i, a);
        }
      } else if (typeof s.url == "string" && s.url.length > 0)
        t.file = { url: s.url };
      else {
        const a = typeof s.id == "string" && s.id.length > 0 && s.id || (typeof s.fileId == "string" && s.fileId.length > 0 ? s.fileId : void 0);
        a && (t.file = { id: a });
      }
      typeof s.filename == "string" && s.filename.length > 0 && (t.filename = s.filename);
    }
    return n.providerData && (t.providerData = n.providerData), t;
  }
  return n;
}
function Ta(n) {
  const e = /* @__PURE__ */ new Map();
  for (const t of n) {
    const r = Ns(t);
    e.set(r, (e.get(r) ?? 0) + 1);
  }
  return e;
}
function ka(n) {
  const e = /* @__PURE__ */ new Map();
  for (const t of n) {
    const r = Ns(t), s = e.get(r);
    s ? s.push(t) : e.set(r, [t]);
  }
  return e;
}
function Aa(n, e, t) {
  const r = n.get(e);
  if (!r || r.length === 0)
    return !1;
  const s = r.findIndex((a) => a === t);
  return s === -1 ? !1 : (r.splice(s, 1), r.length === 0 && n.delete(e), !0);
}
function Ca(n, e) {
  const t = (n.get(e) ?? 0) - 1;
  t <= 0 ? n.delete(e) : n.set(e, t);
}
function Ns(n) {
  return JSON.stringify(n, ad);
}
function ad(n, e) {
  if (e instanceof ArrayBuffer)
    return {
      __type: "ArrayBuffer",
      data: ke(new Uint8Array(e))
    };
  if (Hn(e)) {
    const t = e;
    return {
      __type: t.constructor.name,
      data: ke(new Uint8Array(t.buffer, t.byteOffset, t.byteLength))
    };
  }
  if (ws(e)) {
    const t = e;
    return {
      __type: "Buffer",
      data: ke(new Uint8Array(t.buffer, t.byteOffset, t.byteLength))
    };
  }
  return br(e) ? {
    __type: "Buffer",
    data: ke(Uint8Array.from(e.data))
  } : e;
}
const tr = "1.0", id = b(tr), Pe = v({
  name: p()
}), od = v({
  object: b("trace.span"),
  id: p(),
  trace_id: p(),
  parent_id: p().nullable(),
  started_at: p().nullable(),
  ended_at: p().nullable(),
  error: v({
    message: p(),
    data: ee(p(), V()).optional()
  }).nullable(),
  span_data: ee(p(), V())
}), Li = od.extend({
  previous_span: Xo(() => Li).optional()
}), ud = v({
  inputTokens: E(),
  outputTokens: E(),
  totalTokens: E(),
  inputTokensDetails: ee(p(), E()).optional(),
  outputTokensDetails: ee(p(), E()).optional()
}), Ui = v({
  requests: E(),
  inputTokens: E(),
  outputTokens: E(),
  totalTokens: E(),
  inputTokensDetails: B(ee(p(), E())).optional(),
  outputTokensDetails: B(ee(p(), E())).optional(),
  requestUsageEntries: B(ud).optional()
}), Oa = v({
  usage: Ui,
  output: B(ks),
  responseId: p().optional(),
  providerData: ee(p(), V()).optional()
}), Zi = ge("type", [
  v({
    type: b("message_output_item"),
    rawItem: Sr,
    agent: Pe
  }),
  v({
    type: b("tool_call_item"),
    rawItem: _l.or(In),
    agent: Pe
  }),
  v({
    type: b("tool_call_output_item"),
    rawItem: gr,
    agent: Pe,
    output: p()
  }),
  v({
    type: b("reasoning_item"),
    rawItem: Ts,
    agent: Pe
  }),
  v({
    type: b("handoff_call_item"),
    rawItem: xn,
    agent: Pe
  }),
  v({
    type: b("handoff_output_item"),
    rawItem: gr,
    sourceAgent: Pe,
    targetAgent: Pe
  }),
  v({
    type: b("tool_approval_item"),
    rawItem: xn.or(In).or(Tr).or(kr),
    agent: Pe,
    toolName: p().optional()
  })
]), cd = v({
  object: b("trace"),
  id: p(),
  workflow_name: p(),
  group_id: p().nullable(),
  metadata: ee(p(), V())
}), ld = v({
  newItems: B(Zi),
  toolsUsed: B(p()),
  handoffs: B(v({
    toolCall: V(),
    handoff: V()
  })),
  functions: B(v({
    toolCall: V(),
    tool: V()
  })),
  computerActions: B(v({
    toolCall: V(),
    computer: V()
  })),
  shellActions: B(v({
    toolCall: V(),
    shell: V()
  })).optional(),
  applyPatchActions: B(v({
    toolCall: V(),
    applyPatch: V()
  })).optional(),
  mcpApprovalRequests: B(v({
    requestItem: v({
      // protocol.HostedToolCallItem
      rawItem: v({
        type: b("hosted_tool_call"),
        name: p(),
        arguments: p().optional(),
        status: p().optional(),
        output: p().optional(),
        // this always exists but marked as optional for early version compatibility; when releasing 1.0, we can remove the nullable and optional
        providerData: ee(p(), V()).nullable().optional()
      })
    }),
    // HostedMCPTool
    mcpTool: v({
      type: b("hosted_tool"),
      name: b("hosted_mcp"),
      providerData: ee(p(), V())
    })
  })).optional()
}), qi = v({
  tripwireTriggered: Nt(),
  outputInfo: V()
}), dd = v({
  guardrail: v({
    type: b("input"),
    name: p()
  }),
  output: qi
}), pd = v({
  guardrail: v({
    type: b("output"),
    name: p()
  }),
  agentOutput: V(),
  agent: Pe,
  output: qi
}), Ea = v({
  $schemaVersion: id,
  currentTurn: E(),
  currentAgent: Pe,
  originalInput: p().or(B(vl)),
  modelResponses: B(Oa),
  context: v({
    usage: Ui,
    approvals: ee(p(), v({
      approved: B(p()).or(Nt()),
      rejected: B(p()).or(Nt())
    })),
    context: ee(p(), V())
  }),
  toolUseTracker: ee(p(), B(p())),
  maxTurns: E(),
  currentAgentSpan: Li.nullable().optional(),
  noActiveAgentRun: Nt(),
  inputGuardrailResults: B(dd),
  outputGuardrailResults: B(pd),
  currentStep: Fl.optional(),
  lastModelResponse: Oa.optional(),
  generatedItems: B(Zi),
  lastProcessedResponse: ld.optional(),
  currentTurnPersistedItemCount: E().int().min(0).optional(),
  trace: cd.nullable()
});
class Ge {
  constructor(e, t, r, s) {
    /**
     * Current turn number in the conversation.
     */
    x(this, "_currentTurn", 0);
    /**
     * The agent currently handling the conversation.
     */
    x(this, "_currentAgent");
    /**
     * Original user input prior to any processing.
     */
    x(this, "_originalInput");
    /**
     * Responses from the model so far.
     */
    x(this, "_modelResponses");
    /**
     * Active tracing span for the current agent if tracing is enabled.
     */
    x(this, "_currentAgentSpan");
    /**
     * Run context tracking approvals, usage, and other metadata.
     */
    x(this, "_context");
    /**
     * Tracks what tools each agent has used.
     */
    x(this, "_toolUseTracker");
    /**
     * Items generated by the agent during the run.
     */
    x(this, "_generatedItems");
    /**
     * Number of `_generatedItems` already flushed to session storage for the current turn.
     *
     * Persisting the entire turn on every save would duplicate responses and tool outputs.
     * Instead, `saveToSession` appends only the delta since the previous write. This counter
     * tracks how many generated run items from *this turn* were already written so the next
     * save can slice off only the new entries. When a turn is interrupted (e.g., awaiting tool
     * approval) and later resumed, we rewind the counter before continuing so the pending tool
     * output still gets stored.
     */
    x(this, "_currentTurnPersistedItemCount");
    /**
     * Maximum allowed turns before forcing termination.
     */
    x(this, "_maxTurns");
    /**
     * Whether the run has an active agent step in progress.
     */
    x(this, "_noActiveAgentRun", !0);
    /**
     * Last model response for the previous turn.
     */
    x(this, "_lastTurnResponse");
    /**
     * Results from input guardrails applied to the run.
     */
    x(this, "_inputGuardrailResults");
    /**
     * Results from output guardrails applied to the run.
     */
    x(this, "_outputGuardrailResults");
    /**
     * Next step computed for the agent to take.
     */
    x(this, "_currentStep");
    /**
     * Parsed model response after applying guardrails and tools.
     */
    x(this, "_lastProcessedResponse");
    /**
     * Trace associated with this run if tracing is enabled.
     */
    x(this, "_trace", null);
    this._context = e, this._originalInput = structuredClone(t), this._modelResponses = [], this._currentAgentSpan = void 0, this._currentAgent = r, this._toolUseTracker = new Ia(), this._generatedItems = [], this._currentTurnPersistedItemCount = 0, this._maxTurns = s, this._inputGuardrailResults = [], this._outputGuardrailResults = [], this._trace = un();
  }
  /**
   * The usage aggregated for this run. This includes per-request breakdowns when available.
   */
  get usage() {
    return this._context.usage;
  }
  /**
   * The history of the agent run. This includes the input items and the new items generated during the run.
   *
   * This can be used as inputs for the next agent run.
   */
  get history() {
    return Bt(this._originalInput, this._generatedItems);
  }
  /**
   * Returns all interruptions if the current step is an interruption otherwise returns an empty array.
   */
  getInterruptions() {
    var e;
    return ((e = this._currentStep) == null ? void 0 : e.type) !== "next_step_interruption" ? [] : this._currentStep.data.interruptions;
  }
  /**
   * Approves a tool call requested by the agent through an interruption and approval item request.
   *
   * To approve the request use this method and then run the agent again with the same state object
   * to continue the execution.
   *
   * By default it will only approve the current tool call. To allow the tool to be used multiple
   * times throughout the run, set the `alwaysApprove` option to `true`.
   *
   * @param approvalItem - The tool call approval item to approve.
   * @param options - Options for the approval.
   */
  approve(e, t = { alwaysApprove: !1 }) {
    this._context.approveTool(e, t);
  }
  /**
   * Rejects a tool call requested by the agent through an interruption and approval item request.
   *
   * To reject the request use this method and then run the agent again with the same state object
   * to continue the execution.
   *
   * By default it will only reject the current tool call. To allow the tool to be used multiple
   * times throughout the run, set the `alwaysReject` option to `true`.
   *
   * @param approvalItem - The tool call approval item to reject.
   * @param options - Options for the rejection.
   */
  reject(e, t = { alwaysReject: !1 }) {
    this._context.rejectTool(e, t);
  }
  /**
   * Serializes the run state to a JSON object.
   *
   * This method is used to serialize the run state to a JSON object that can be used to
   * resume the run later.
   *
   * @returns The serialized run state.
   */
  toJSON() {
    var r;
    const e = {
      $schemaVersion: tr,
      currentTurn: this._currentTurn,
      currentAgent: {
        name: this._currentAgent.name
      },
      originalInput: this._originalInput,
      modelResponses: this._modelResponses.map((s) => ({
        usage: {
          requests: s.usage.requests,
          inputTokens: s.usage.inputTokens,
          outputTokens: s.usage.outputTokens,
          totalTokens: s.usage.totalTokens,
          inputTokensDetails: s.usage.inputTokensDetails,
          outputTokensDetails: s.usage.outputTokensDetails,
          ...s.usage.requestUsageEntries && s.usage.requestUsageEntries.length > 0 ? {
            requestUsageEntries: s.usage.requestUsageEntries.map((a) => ({
              inputTokens: a.inputTokens,
              outputTokens: a.outputTokens,
              totalTokens: a.totalTokens,
              inputTokensDetails: a.inputTokensDetails,
              outputTokensDetails: a.outputTokensDetails
            }))
          } : {}
        },
        output: s.output,
        responseId: s.responseId,
        providerData: s.providerData
      })),
      context: this._context.toJSON(),
      toolUseTracker: this._toolUseTracker.toJSON(),
      maxTurns: this._maxTurns,
      currentAgentSpan: (r = this._currentAgentSpan) == null ? void 0 : r.toJSON(),
      noActiveAgentRun: this._noActiveAgentRun,
      inputGuardrailResults: this._inputGuardrailResults,
      outputGuardrailResults: this._outputGuardrailResults.map((s) => ({
        ...s,
        agent: s.agent.toJSON()
      })),
      currentStep: this._currentStep,
      lastModelResponse: this._lastTurnResponse,
      generatedItems: this._generatedItems.map((s) => s.toJSON()),
      currentTurnPersistedItemCount: this._currentTurnPersistedItemCount,
      lastProcessedResponse: this._lastProcessedResponse,
      trace: this._trace ? this._trace.toJSON() : null
    }, t = Ea.safeParse(e);
    if (!t.success)
      throw new Zu(`Failed to serialize run state. ${t.error.message}`);
    return t.data;
  }
  /**
   * Serializes the run state to a string.
   *
   * This method is used to serialize the run state to a string that can be used to
   * resume the run later.
   *
   * @returns The serialized run state.
   */
  toString() {
    return JSON.stringify(this.toJSON());
  }
  /**
   * Deserializes a run state from a string.
   *
   * This method is used to deserialize a run state from a string that was serialized using the
   * `toString` method.
   */
  static async fromString(e, t) {
    var l, h, g, _, T;
    const [r, s] = await gs(() => JSON.parse(t));
    if (r)
      throw new ne(`Failed to parse run state. ${r instanceof Error ? r.message : String(r)}`);
    const a = s.$schemaVersion;
    if (!a)
      throw new ne("Run state is missing schema version");
    if (a !== tr)
      throw new ne(`Run state schema version ${a} is not supported. Please use version ${tr}`);
    const i = Ea.parse(JSON.parse(t)), o = fd(e), c = new Zt(i.context.context);
    c._rebuildApprovals(i.context.approvals);
    const d = o.get(i.currentAgent.name);
    if (!d)
      throw new ne(`Agent ${i.currentAgent.name} not found`);
    const f = new Ge(c, "", d, i.maxTurns);
    f._currentTurn = i.currentTurn, f._toolUseTracker = new Ia();
    for (const [y, m] of Object.entries(i.toolUseTracker))
      f._toolUseTracker.addToolUse(o.get(y), m);
    if (i.currentAgentSpan) {
      i.trace || j.warn("Trace is not set, skipping tracing setup");
      const y = qe().createTrace({
        traceId: (l = i.trace) == null ? void 0 : l.id,
        name: (h = i.trace) == null ? void 0 : h.workflow_name,
        groupId: ((g = i.trace) == null ? void 0 : g.group_id) ?? void 0,
        metadata: (_ = i.trace) == null ? void 0 : _.metadata
      });
      f._currentAgentSpan = Ji(y, i.currentAgentSpan), f._trace = y;
    }
    return f._noActiveAgentRun = i.noActiveAgentRun, f._inputGuardrailResults = i.inputGuardrailResults, f._outputGuardrailResults = i.outputGuardrailResults.map((y) => ({
      ...y,
      agent: o.get(y.agent.name)
    })), f._currentStep = i.currentStep, f._originalInput = i.originalInput, f._modelResponses = i.modelResponses.map(Na), f._lastTurnResponse = i.lastModelResponse ? Na(i.lastModelResponse) : void 0, f._generatedItems = i.generatedItems.map((y) => Bi(y, o)), f._currentTurnPersistedItemCount = i.currentTurnPersistedItemCount ?? 0, f._lastProcessedResponse = i.lastProcessedResponse ? await hd(o, f._currentAgent, f._context, i.lastProcessedResponse) : void 0, ((T = i.currentStep) == null ? void 0 : T.type) === "next_step_handoff" && (f._currentStep = {
      type: "next_step_handoff",
      newAgent: o.get(i.currentStep.newAgent.name)
    }), f;
  }
}
function fd(n) {
  const e = /* @__PURE__ */ new Map(), t = [n];
  for (; t.length > 0; ) {
    const r = t.shift();
    if (!e.has(r.name)) {
      e.set(r.name, r);
      for (const s of r.handoffs)
        s instanceof nt ? e.has(s.name) || t.push(s) : s.agent && (e.has(s.agent.name) || t.push(s.agent));
    }
  }
  return e;
}
function Ji(n, e) {
  const t = e.span_data, r = e.previous_span ? Ji(n, e.previous_span) : void 0, s = qe().createSpan({
    spanId: e.id,
    traceId: e.trace_id,
    parentId: e.parent_id ?? void 0,
    startedAt: e.started_at ?? void 0,
    endedAt: e.ended_at ?? void 0,
    data: t
  }, n);
  return s.previousSpan = r, s;
}
function Na(n) {
  return {
    usage: new Ar(n.usage),
    output: n.output.map((t) => ks.parse(t)),
    responseId: n.responseId,
    providerData: n.providerData
  };
}
function Bi(n, e) {
  switch (n.type) {
    case "message_output_item":
      return new Cr(n.rawItem, e.get(n.agent.name));
    case "tool_call_item":
      return new Ye(n.rawItem, e.get(n.agent.name));
    case "tool_call_output_item":
      return new Ue(n.rawItem, e.get(n.agent.name), n.output);
    case "reasoning_item":
      return new As(n.rawItem, e.get(n.agent.name));
    case "handoff_call_item":
      return new Cs(n.rawItem, e.get(n.agent.name));
    case "handoff_output_item":
      return new Os(n.rawItem, e.get(n.sourceAgent.name), e.get(n.targetAgent.name));
    case "tool_approval_item":
      return new ye(n.rawItem, e.get(n.agent.name), n.toolName);
  }
}
async function hd(n, e, t, r) {
  const s = await e.getAllTools(t), a = new Map(s.filter((l) => l.type === "function").map((l) => [l.name, l])), i = new Map(s.filter((l) => l.type === "computer").map((l) => [l.name, l])), o = new Map(s.filter((l) => l.type === "shell").map((l) => [l.name, l])), c = new Map(s.filter((l) => l.type === "apply_patch").map((l) => [l.name, l])), d = new Map(e.handoffs.map((l) => l instanceof nt ? [l.name, wi(l)] : [l.toolName, l])), f = {
    newItems: r.newItems.map((l) => Bi(l, n)),
    toolsUsed: r.toolsUsed,
    handoffs: r.handoffs.map((l) => {
      if (!d.has(l.handoff.toolName))
        throw new ne(`Handoff ${l.handoff.toolName} not found`);
      return {
        toolCall: l.toolCall,
        handoff: d.get(l.handoff.toolName)
      };
    }),
    functions: await Promise.all(r.functions.map(async (l) => {
      if (!a.has(l.tool.name))
        throw new ne(`Tool ${l.tool.name} not found`);
      return {
        toolCall: l.toolCall,
        tool: a.get(l.tool.name)
      };
    })),
    computerActions: r.computerActions.map((l) => {
      const h = l.computer.name;
      if (!i.has(h))
        throw new ne(`Computer tool ${h} not found`);
      return {
        toolCall: l.toolCall,
        computer: i.get(h)
      };
    }),
    shellActions: (r.shellActions ?? []).map((l) => {
      const h = l.shell.name;
      if (!o.has(h))
        throw new ne(`Shell tool ${h} not found`);
      return {
        toolCall: l.toolCall,
        shell: o.get(h)
      };
    }),
    applyPatchActions: (r.applyPatchActions ?? []).map((l) => {
      const h = l.applyPatch.name;
      if (!c.has(h))
        throw new ne(`Apply patch tool ${h} not found`);
      return {
        toolCall: l.toolCall,
        applyPatch: c.get(h)
      };
    }),
    mcpApprovalRequests: (r.mcpApprovalRequests ?? []).map((l) => ({
      requestItem: new ye(l.requestItem.rawItem, e),
      mcpTool: l.mcpTool
    }))
  };
  return {
    ...f,
    hasToolsOrApprovalsToRun() {
      return f.handoffs.length > 0 || f.functions.length > 0 || f.mcpApprovalRequests.length > 0 || f.computerActions.length > 0 || f.shellActions.length > 0 || f.applyPatchActions.length > 0;
    }
  };
}
var re, ss, as, zi, Gi, Vi, Wi, hn, is, os;
class md extends Nc {
  /**
   * Creates a runner with optional defaults that apply to every subsequent run invocation.
   *
   * @param config - Overrides for models, guardrails, tracing, or session behavior.
   */
  constructor(t = {}) {
    super();
    N(this, re);
    x(this, "config");
    // --------------------------------------------------------------
    //  Internals
    // --------------------------------------------------------------
    x(this, "inputGuardrailDefs");
    x(this, "outputGuardrailDefs");
    this.config = {
      modelProvider: t.modelProvider ?? Zc(),
      model: t.model,
      modelSettings: t.modelSettings,
      handoffInputFilter: t.handoffInputFilter,
      inputGuardrails: t.inputGuardrails,
      outputGuardrails: t.outputGuardrails,
      tracingDisabled: t.tracingDisabled ?? !1,
      traceIncludeSensitiveData: t.traceIncludeSensitiveData ?? !0,
      workflowName: t.workflowName ?? "Agent workflow",
      traceId: t.traceId,
      groupId: t.groupId,
      traceMetadata: t.traceMetadata,
      sessionInputCallback: t.sessionInputCallback,
      callModelInputFilter: t.callModelInputFilter
    }, this.inputGuardrailDefs = (t.inputGuardrails ?? []).map(fa), this.outputGuardrailDefs = (t.outputGuardrails ?? []).map(ts);
  }
  async run(t, r, s = {
    stream: !1,
    context: void 0
  }) {
    const a = s ?? { stream: !1, context: void 0 }, i = a.sessionInputCallback ?? this.config.sessionInputCallback, o = a.callModelInputFilter ?? this.config.callModelInputFilter, c = !!o, d = {
      ...a,
      sessionInputCallback: i,
      callModelInputFilter: o
    }, f = !!d.conversationId || !!d.previousResponseId, l = d.session, h = r instanceof Ge;
    let g = l && h ? [] : void 0, _, T = l && h ? /* @__PURE__ */ new Map() : void 0;
    const y = (S, C) => {
      const M = T;
      if (C !== void 0) {
        if (!M) {
          _ = C.map((se) => structuredClone(se));
          return;
        }
        const J = [], F = /* @__PURE__ */ new WeakMap();
        for (const se of S) {
          if (!se || typeof se != "object")
            continue;
          const ue = (F.get(se) ?? 0) + 1;
          F.set(se, ue);
        }
        const he = () => {
          for (const [se, ue] of M)
            if (ue > 0)
              return M.set(se, ue - 1), !0;
          return !1;
        };
        for (let se = 0; se < C.length; se++) {
          const ue = C[se];
          if (!ue)
            continue;
          let Je = !1;
          const Ne = S[se];
          if (Ne && typeof Ne == "object") {
            const Fs = (F.get(Ne) ?? 0) - 1;
            if (F.set(Ne, Fs), Fs > 0)
              continue;
            const Ls = vt(Ne), Us = M.get(Ls) ?? 0;
            if (Us > 0) {
              M.set(Ls, Us - 1), J.push(structuredClone(ue)), Je = !0;
              continue;
            }
          }
          const dn = vt(ue), Kn = M.get(dn) ?? 0;
          if (Kn > 0) {
            M.set(dn, Kn - 1), J.push(structuredClone(ue)), Je = !0;
            continue;
          }
          !Ne && he() && (J.push(structuredClone(ue)), Je = !0), !Je && !Ne && _ === void 0 && J.push(structuredClone(ue));
        }
        (J.length > 0 || _ === void 0) && (_ = J);
        return;
      }
      const W = [];
      if (M)
        for (const J of S) {
          if (!J)
            continue;
          const F = vt(J), he = M.get(F) ?? 0;
          he <= 0 || (M.set(F, he - 1), W.push(structuredClone(J)));
        }
      else
        for (const J of S)
          J && W.push(structuredClone(J));
      W.length > 0 ? _ = W : _ === void 0 && (_ = []);
    }, m = () => {
      if (_ !== void 0)
        return _;
      if (!c)
        return g;
    };
    let I = r;
    if (!(I instanceof Ge)) {
      if (l && Array.isArray(I) && !i)
        throw new ne("RunConfig.sessionInputCallback must be provided when using session history with list inputs.");
      const S = await nd(I, l, i, {
        // When the server tracks conversation state we only send the new turn inputs;
        // previous messages are recovered via conversationId/previousResponseId.
        includeHistoryInPreparedInput: !f,
        preserveDroppedNewItems: f
      });
      if (f && l) {
        const C = S.sessionItems;
        C && C.length > 0 ? I = C : I = S.preparedInput;
      } else
        I = S.preparedInput;
      if (l) {
        const C = S.sessionItems ?? [];
        g = C.map((M) => structuredClone(M)), T = /* @__PURE__ */ new Map();
        for (const M of C) {
          const W = vt(M);
          T.set(W, (T.get(W) ?? 0) + 1);
        }
      }
    }
    let w;
    if (l && !f) {
      let S = !1;
      w = async () => {
        if (S)
          return;
        const C = m();
        !C || C.length === 0 || (S = !0, await td(l, C));
      };
    }
    const D = async () => {
      if (d.stream)
        return await L(this, re, Wi).call(this, t, I, d, w, y);
      const S = await L(this, re, Gi).call(this, t, I, d, y);
      return l && !f && await ed(l, m(), S), S;
    };
    return I instanceof Ge && I._trace ? Id(I._trace, async () => (I._currentAgentSpan && Rs(I._currentAgentSpan), D())) : xd(async () => D(), {
      traceId: this.config.traceId,
      name: this.config.workflowName,
      groupId: this.config.groupId,
      metadata: this.config.traceMetadata
    });
  }
}
re = new WeakSet(), ss = function(t) {
  return this.inputGuardrailDefs.concat(t._currentAgent.inputGuardrails.map(fa));
}, as = function(t) {
  const r = L(this, re, ss).call(this, t), s = [], a = [];
  for (const i of r)
    i.runInParallel === !1 ? s.push(i) : a.push(i);
  return { blocking: s, parallel: a };
}, zi = async function(t) {
  const r = t.model !== void 0 && t.model !== nt.DEFAULT_MODEL_PLACEHOLDER || this.config.model !== void 0 && this.config.model !== nt.DEFAULT_MODEL_PLACEHOLDER;
  let s = gd(t.model, this.config.model);
  return typeof s == "string" && (s = await this.config.modelProvider.getModel(s)), { model: s, explictlyModelSet: r };
}, Gi = async function(t, r, s, a) {
  return cs(async () => {
    var d, f;
    const i = r instanceof Ge, o = i ? r : new Ge(s.context instanceof Zt ? s.context : new Zt(s.context), r, t, s.maxTurns ?? Ra), c = s.conversationId || s.previousResponseId ? new Da({
      conversationId: s.conversationId,
      previousResponseId: s.previousResponseId
    }) : void 0;
    c && i && c.primeFromState({
      originalInput: o._originalInput,
      generatedItems: o._generatedItems,
      modelResponses: o._modelResponses
    });
    try {
      for (; ; ) {
        if (o._currentStep = o._currentStep ?? {
          type: "next_step_run_again"
        }, o._currentStep.type === "next_step_interruption") {
          if (j.debug("Continuing from interruption"), !o._lastTurnResponse || !o._lastProcessedResponse)
            throw new ne("No model response found in previous state", o);
          const l = await va(o._currentAgent, o._originalInput, o._generatedItems, o._lastTurnResponse, o._lastProcessedResponse, this, o);
          if (o._toolUseTracker.addToolUse(o._currentAgent, o._lastProcessedResponse.toolsUsed), o._originalInput = l.originalInput, o._generatedItems = l.generatedItems, l.nextStep.type === "next_step_run_again" && (o._currentTurnPersistedItemCount = 0), o._currentStep = l.nextStep, l.nextStep.type === "next_step_interruption")
            return new $r(o);
          continue;
        }
        if (o._currentStep.type === "next_step_run_again") {
          const l = await Ma(o);
          if (o._currentTurn++, o._currentTurnPersistedItemCount = 0, o._currentTurn > o._maxTurns)
            throw (d = o._currentAgentSpan) == null || d.setError({
              message: "Max turns exceeded",
              data: { max_turns: o._maxTurns }
            }), new na(`Max turns (${o._maxTurns}) exceeded`, o);
          j.debug(`Running agent ${o._currentAgent.name} (turn ${o._currentTurn})`);
          let h;
          if (o._currentTurn === 1) {
            const m = L(this, re, as).call(this, o);
            m.blocking.length > 0 && await L(this, re, hn).call(this, o, m.blocking), m.parallel.length > 0 && (h = L(this, re, hn).call(this, o, m.parallel), h.catch(() => {
            }));
          }
          const g = c ? c.prepareInput(o._originalInput, o._generatedItems) : Bt(o._originalInput, o._generatedItems);
          o._noActiveAgentRun && (o._currentAgent.emit("agent_start", o._context, o._currentAgent), this.emit("agent_start", o._context, o._currentAgent));
          const _ = await L(this, re, os).call(this, o, s, l, g, c, a);
          o._lastTurnResponse = await _.model.getResponse({
            systemInstructions: _.modelInput.instructions,
            prompt: _.prompt,
            // Explicit agent/run config models should take precedence over prompt defaults.
            ..._.explictlyModelSet ? { overridePromptModel: !0 } : {},
            input: _.modelInput.input,
            previousResponseId: _.previousResponseId,
            conversationId: _.conversationId,
            modelSettings: _.modelSettings,
            tools: _.serializedTools,
            toolsExplicitlyProvided: _.toolsExplicitlyProvided,
            outputType: ia(o._currentAgent.outputType),
            handoffs: _.serializedHandoffs,
            tracing: Pa(this.config.tracingDisabled, this.config.traceIncludeSensitiveData),
            signal: s.signal
          }), o._modelResponses.push(o._lastTurnResponse), o._context.usage.add(o._lastTurnResponse.usage), o._noActiveAgentRun = !1, c == null || c.trackServerItems(o._lastTurnResponse);
          const T = _a(o._lastTurnResponse, o._currentAgent, _.tools, _.handoffs);
          o._lastProcessedResponse = T;
          const y = await wa(o._currentAgent, o._originalInput, o._generatedItems, o._lastTurnResponse, o._lastProcessedResponse, this, o);
          o._toolUseTracker.addToolUse(o._currentAgent, o._lastProcessedResponse.toolsUsed), o._originalInput = y.originalInput, o._generatedItems = y.generatedItems, y.nextStep.type === "next_step_run_again" && (o._currentTurnPersistedItemCount = 0), o._currentStep = y.nextStep, h && await h;
        }
        if (o._currentStep && o._currentStep.type === "next_step_final_output")
          return await L(this, re, is).call(this, o, o._currentStep.output), this.emit("agent_end", o._context, o._currentAgent, o._currentStep.output), o._currentAgent.emit("agent_end", o._context, o._currentStep.output), new $r(o);
        if (o._currentStep && o._currentStep.type === "next_step_handoff")
          o._currentAgent = o._currentStep.newAgent, o._currentAgentSpan && (o._currentAgentSpan.end(), mn(), o._currentAgentSpan = void 0), o._noActiveAgentRun = !0, o._currentStep = { type: "next_step_run_again" };
        else {
          if (o._currentStep && o._currentStep.type === "next_step_interruption")
            return new $r(o);
          j.debug("Running next loop");
        }
      }
    } catch (l) {
      throw o._currentAgentSpan && o._currentAgentSpan.setError({
        message: "Error in agent run",
        data: { error: String(l) }
      }), l;
    } finally {
      o._currentAgentSpan && (((f = o._currentStep) == null ? void 0 : f.type) !== "next_step_interruption" && o._currentAgentSpan.end(), mn());
    }
  });
}, Vi = async function(t, r, s, a, i) {
  var h, g, _;
  const o = !!r.conversationId || !!r.previousResponseId, c = o ? new Da({
    conversationId: r.conversationId,
    previousResponseId: r.previousResponseId
  }) : void 0;
  let d = !1, f = !1;
  const l = async () => {
    f || !a || (await a(), f = !0);
  };
  c && s && c.primeFromState({
    originalInput: t.state._originalInput,
    generatedItems: t.state._generatedItems,
    modelResponses: t.state._modelResponses
  });
  try {
    for (; ; ) {
      const T = t.state._currentAgent;
      if (t.state._currentStep = t.state._currentStep ?? {
        type: "next_step_run_again"
      }, t.state._currentStep.type === "next_step_interruption") {
        if (j.debug("Continuing from interruption"), !t.state._lastTurnResponse || !t.state._lastProcessedResponse)
          throw new ne("No model response found in previous state", t.state);
        const y = await va(t.state._currentAgent, t.state._originalInput, t.state._generatedItems, t.state._lastTurnResponse, t.state._lastProcessedResponse, this, t.state);
        if (ba(t, y), t.state._toolUseTracker.addToolUse(t.state._currentAgent, t.state._lastProcessedResponse.toolsUsed), t.state._originalInput = y.originalInput, t.state._generatedItems = y.generatedItems, y.nextStep.type === "next_step_run_again" && (t.state._currentTurnPersistedItemCount = 0), t.state._currentStep = y.nextStep, y.nextStep.type === "next_step_interruption")
          return;
        continue;
      }
      if (t.state._currentStep.type === "next_step_run_again") {
        const y = await Ma(t.state);
        if (t.state._currentTurn++, t.state._currentTurnPersistedItemCount = 0, t.state._currentTurn > t.state._maxTurns)
          throw (h = t.state._currentAgentSpan) == null || h.setError({
            message: "Max turns exceeded",
            data: { max_turns: t.state._maxTurns }
          }), new na(`Max turns (${t.state._maxTurns}) exceeded`, t.state);
        j.debug(`Running agent ${T.name} (turn ${t.state._currentTurn})`);
        let m, I;
        if (t.state._currentTurn === 1) {
          const J = L(this, re, as).call(this, t.state);
          J.blocking.length > 0 && await L(this, re, hn).call(this, t.state, J.blocking), J.parallel.length > 0 && (I = L(this, re, hn).call(this, t.state, J.parallel).catch((he) => (m = he, [])));
        }
        const w = c ? c.prepareInput(t.input, t.newItems) : Bt(t.input, t.newItems);
        t.state._noActiveAgentRun && (T.emit("agent_start", t.state._context, T), this.emit("agent_start", t.state._context, T));
        let D;
        const S = await L(this, re, os).call(this, t.state, r, y, w, c, i);
        if (m)
          throw m;
        d = !0, await l();
        for await (const J of S.model.getStreamedResponse({
          systemInstructions: S.modelInput.instructions,
          prompt: S.prompt,
          // Streaming requests should also honor explicitly chosen models.
          ...S.explictlyModelSet ? { overridePromptModel: !0 } : {},
          input: S.modelInput.input,
          previousResponseId: S.previousResponseId,
          conversationId: S.conversationId,
          modelSettings: S.modelSettings,
          tools: S.serializedTools,
          toolsExplicitlyProvided: S.toolsExplicitlyProvided,
          handoffs: S.serializedHandoffs,
          outputType: ia(T.outputType),
          tracing: Pa(this.config.tracingDisabled, this.config.traceIncludeSensitiveData),
          signal: r.signal
        })) {
          if (m)
            throw m;
          if (J.type === "response_done") {
            const F = Ni.parse(J);
            D = {
              usage: new Ar(F.response.usage),
              output: F.response.output,
              responseId: F.response.id
            };
          }
          if (t.cancelled)
            return;
          t._addItem(new Pl(J));
        }
        if (I && (await I, m))
          throw m;
        if (t.state._noActiveAgentRun = !1, !D)
          throw new we("Model did not produce a final response!", t.state);
        t.state._lastTurnResponse = D, c == null || c.trackServerItems(D), t.state._modelResponses.push(t.state._lastTurnResponse);
        const C = _a(t.state._lastTurnResponse, T, S.tools, S.handoffs);
        t.state._lastProcessedResponse = C;
        const M = new Set(C.newItems);
        M.size > 0 && Hl(t, C.newItems);
        const W = await wa(T, t.state._originalInput, t.state._generatedItems, t.state._lastTurnResponse, t.state._lastProcessedResponse, this, t.state);
        ba(t, W, {
          skipItems: M
        }), t.state._toolUseTracker.addToolUse(T, C.toolsUsed), t.state._originalInput = W.originalInput, t.state._generatedItems = W.generatedItems, W.nextStep.type === "next_step_run_again" && (t.state._currentTurnPersistedItemCount = 0), t.state._currentStep = W.nextStep;
      }
      if (t.state._currentStep.type === "next_step_final_output") {
        await L(this, re, is).call(this, t.state, t.state._currentStep.output), await l(), o || await xa(r.session, t), this.emit("agent_end", t.state._context, T, t.state._currentStep.output), T.emit("agent_end", t.state._context, t.state._currentStep.output);
        return;
      } else if (t.state._currentStep.type === "next_step_interruption") {
        await l(), o || await xa(r.session, t);
        return;
      } else t.state._currentStep.type === "next_step_handoff" ? (t.state._currentAgent = (g = t.state._currentStep) == null ? void 0 : g.newAgent, t.state._currentAgentSpan && (t.state._currentAgentSpan.end(), mn()), t.state._currentAgentSpan = void 0, t._addItem(new Ml(t.state._currentAgent)), t.state._noActiveAgentRun = !0, t.state._currentStep = {
        type: "next_step_run_again"
      }) : j.debug("Running next loop");
    }
  } catch (T) {
    throw d && !f && await l(), t.state._currentAgentSpan && t.state._currentAgentSpan.setError({
      message: "Error in agent run",
      data: { error: String(T) }
    }), T;
  } finally {
    t.state._currentAgentSpan && (((_ = t.state._currentStep) == null ? void 0 : _.type) !== "next_step_interruption" && t.state._currentAgentSpan.end(), mn());
  }
}, Wi = async function(t, r, s, a, i) {
  return s = s ?? {}, cs(async () => {
    const o = r instanceof Ge, c = o ? r : new Ge(s.context instanceof Zt ? s.context : new Zt(s.context), r, t, s.maxTurns ?? Ra), d = new Ki({
      signal: s.signal,
      state: c
    });
    d.maxTurns = s.maxTurns ?? c._maxTurns;
    const f = L(this, re, Vi).call(this, d, s, o, a, i).then(() => {
      d._done();
    }, (l) => {
      d._raiseError(l);
    });
    return d._setStreamLoopPromise(f), d;
  });
}, hn = async function(t, r) {
  const s = r ?? L(this, re, ss).call(this, t);
  if (s.length > 0) {
    const a = {
      agent: t._currentAgent,
      input: t._originalInput,
      context: t._context
    };
    try {
      const i = await Promise.all(s.map(async (o) => ma(async (c) => {
        const d = await o.run(a);
        return c.spanData.triggered = d.output.tripwireTriggered, d;
      }, { data: { name: o.name } }, t._currentAgentSpan)));
      t._inputGuardrailResults.push(...i);
      for (const o of i)
        if (o.output.tripwireTriggered)
          throw t._currentAgentSpan && t._currentAgentSpan.setError({
            message: "Guardrail tripwire triggered",
            data: { guardrail: o.guardrail.name }
          }), new sa(`Input guardrail triggered: ${JSON.stringify(o.output.outputInfo)}`, o, t);
      return i;
    } catch (i) {
      throw i instanceof sa ? i : (t._currentTurn--, new ra(`Input guardrail failed to complete: ${i}`, i, t));
    }
  }
  return [];
}, is = async function(t, r) {
  const s = this.outputGuardrailDefs.concat(t._currentAgent.outputGuardrails.map(ts));
  if (s.length > 0) {
    const a = t._currentAgent.processFinalOutput(r), i = Bt([], t._generatedItems), o = {
      agent: t._currentAgent,
      agentOutput: a,
      context: t._context,
      details: {
        modelResponse: t._lastTurnResponse,
        output: i
      }
    };
    try {
      const c = await Promise.all(s.map(async (d) => ma(async (f) => {
        const l = await d.run(o);
        return f.spanData.triggered = l.output.tripwireTriggered, l;
      }, { data: { name: d.name } }, t._currentAgentSpan)));
      for (const d of c)
        if (d.output.tripwireTriggered)
          throw t._currentAgentSpan && t._currentAgentSpan.setError({
            message: "Guardrail tripwire triggered",
            data: { guardrail: d.guardrail.name }
          }), new Yr(`Output guardrail triggered: ${JSON.stringify(d.output.outputInfo)}`, d, t);
    } catch (c) {
      throw c instanceof Yr ? c : new ra(`Output guardrail failed to complete: ${c}`, c, t);
    }
  }
}, os = async function(t, r, s, a, i, o) {
  const { model: c, explictlyModelSet: d } = await L(this, re, zi).call(this, t._currentAgent);
  let f = {
    ...this.config.modelSettings,
    ...t._currentAgent.modelSettings
  };
  f = _d(d, t._currentAgent.modelSettings, c, f), f = Ll(t._currentAgent, t._toolUseTracker, f);
  const l = await t._currentAgent.getSystemPrompt(t._context), h = await t._currentAgent.getPrompt(t._context), { modelInput: g, sourceItems: _, persistedItems: T, filterApplied: y } = await yd(t._currentAgent, r.callModelInputFilter, t._context, a, l);
  i == null || i.markInputAsSent(_), o == null || o(_, y ? T : void 0);
  const m = (i == null ? void 0 : i.previousResponseId) ?? r.previousResponseId, I = (i == null ? void 0 : i.conversationId) ?? r.conversationId;
  return {
    ...s,
    model: c,
    explictlyModelSet: d,
    modelSettings: f,
    modelInput: g,
    prompt: h,
    previousResponseId: m,
    conversationId: I
  };
};
function Bt(n, e) {
  const t = e.filter((r) => r.type !== "tool_approval_item").map((r) => r.rawItem);
  return [...us(n), ...t];
}
const Ra = 10;
function gd(n, e) {
  return typeof n == "string" && n !== nt.DEFAULT_MODEL_PLACEHOLDER || n ? n : e ?? n ?? nt.DEFAULT_MODEL_PLACEHOLDER;
}
function Pa(n, e) {
  return n ? !1 : e ? !0 : "enabled_without_data";
}
async function yd(n, e, t, r, s) {
  const a = (g, _) => g.map((T) => {
    const y = structuredClone(T);
    return _ && y && typeof y == "object" && _.set(y, T), y;
  }), i = /* @__PURE__ */ new WeakMap(), o = vd(r), c = [];
  for (const g of r)
    g && typeof g == "object" && c.push(g);
  const d = (g) => {
    if (!g || typeof g != "object")
      return;
    const _ = c.findIndex((T) => T === g);
    _ !== -1 && c.splice(_, 1);
  }, f = () => {
    const g = c.shift();
    return g && ja(o, g), g;
  }, h = {
    input: a(r, i),
    instructions: s
  };
  if (!e)
    return {
      modelInput: h,
      sourceItems: [...r],
      persistedItems: [],
      filterApplied: !1
    };
  try {
    const g = await e({
      modelData: h,
      agent: n,
      context: t.context
    });
    if (!g || !Array.isArray(g.input))
      throw new ne("callModelInputFilter must return a ModelInputData object with an input array.");
    const _ = g.input.map((y) => {
      if (!y || typeof y != "object")
        return;
      const m = i.get(y);
      if (m)
        return d(m), ja(o, m), m;
      const I = vt(y), w = wd(o, I);
      if (w)
        return d(w), w;
      const D = f();
      if (D)
        return D;
    }), T = a(g.input);
    return {
      modelInput: {
        input: T,
        instructions: typeof g.instructions > "u" ? s : g.instructions
      },
      sourceItems: _,
      persistedItems: T.map((y) => structuredClone(y)),
      filterApplied: !0
    };
  } catch (g) {
    throw Xe({
      message: "Error in callModelInputFilter",
      data: { error: String(g) }
    }), g;
  }
}
class Da {
  constructor({ conversationId: e, previousResponseId: t }) {
    // Conversation ID:
    // - https://platform.openai.com/docs/guides/conversation-state?api-mode=responses#using-the-conversations-api
    // - https://platform.openai.com/docs/api-reference/conversations/create
    x(this, "conversationId");
    // Previous Response ID:
    // https://platform.openai.com/docs/guides/conversation-state?api-mode=responses#passing-context-from-the-previous-response
    x(this, "previousResponseId");
    // Using this flag because WeakSet does not provide a way to check its size
    x(this, "sentInitialInput", !1);
    // The items already sent to the model; using WeakSet for memory efficiency
    x(this, "sentItems", /* @__PURE__ */ new WeakSet());
    // The items received from the server; using WeakSet for memory efficiency
    x(this, "serverItems", /* @__PURE__ */ new WeakSet());
    // Track initial input items that have not yet been sent so they can be retried on later turns.
    x(this, "remainingInitialInput", null);
    this.conversationId = e ?? void 0, this.previousResponseId = t ?? void 0;
  }
  /**
   * Pre-populates tracker caches from an existing RunState when resuming server-managed runs.
   */
  primeFromState({ originalInput: e, generatedItems: t, modelResponses: r }) {
    if (this.sentInitialInput)
      return;
    for (const a of us(e))
      a && typeof a == "object" && this.sentItems.add(a);
    this.sentInitialInput = !0, this.remainingInitialInput = null;
    const s = r[r.length - 1];
    for (const a of r)
      for (const i of a.output)
        i && typeof i == "object" && this.serverItems.add(i);
    !this.conversationId && (s != null && s.responseId) && (this.previousResponseId = s.responseId);
    for (const a of t) {
      const i = a.rawItem;
      !i || typeof i != "object" || this.serverItems.has(i) && this.sentItems.add(i);
    }
  }
  /**
   * Records the raw items returned by the server so future delta calculations skip them.
   * Also captures the latest response identifier to chain follow-up calls when possible.
   */
  trackServerItems(e) {
    if (e) {
      for (const t of e.output)
        t && typeof t == "object" && this.serverItems.add(t);
      !this.conversationId && e.responseId && (this.previousResponseId = e.responseId);
    }
  }
  /**
   * Returns the minimum set of items that still need to be delivered to the server for the
   * current turn. This includes the original turn inputs (until acknowledged) plus any
   * newly generated items that have not yet been echoed back by the API.
   */
  prepareInput(e, t) {
    const r = [];
    if (this.sentInitialInput)
      this.remainingInitialInput && this.remainingInitialInput.length > 0 && r.push(...this.remainingInitialInput);
    else {
      const s = us(e);
      r.push(...s), this.remainingInitialInput = s.filter((a) => !!a && typeof a == "object"), this.sentInitialInput = !0;
    }
    for (const s of t) {
      if (s.type === "tool_approval_item")
        continue;
      const a = s.rawItem;
      !a || typeof a != "object" || this.sentItems.has(a) || this.serverItems.has(a) || r.push(a);
    }
    return r;
  }
  /**
   * Marks the provided originals as delivered so future turns do not resend them and any
   * pending initial inputs can be dropped once the server acknowledges receipt.
   */
  markInputAsSent(e) {
    if (!e.length)
      return;
    const t = /* @__PURE__ */ new Set();
    for (const r of e)
      !r || typeof r != "object" || t.has(r) || (t.add(r), this.sentItems.add(r));
    !this.remainingInitialInput || this.remainingInitialInput.length === 0 || (this.remainingInitialInput = this.remainingInitialInput.filter((r) => !t.has(r)), this.remainingInitialInput.length === 0 && (this.remainingInitialInput = null));
  }
}
function _d(n, e, t, r) {
  var s, a, i, o, c, d, f, l;
  if (
    // gpt-5 is enabled for the default model for agents
    gi() && // explicitly set model for the agent
    n && // this runner uses a non-gpt-5 model
    (typeof t != "string" || !xr(t)) && ((s = e.providerData) != null && s.reasoning || (i = (a = e.providerData) == null ? void 0 : a.text) != null && i.verbosity || (o = e.providerData) != null && o.reasoning_effort)
  ) {
    const h = { ...r };
    return (c = h.providerData) == null || delete c.reasoning, (f = (d = h.providerData) == null ? void 0 : d.text) == null || delete f.verbosity, (l = h.providerData) == null || delete l.reasoning_effort, h.reasoning && (delete h.reasoning.effort, delete h.reasoning.summary), h.text && delete h.text.verbosity, h;
  }
  return r;
}
async function Ma(n) {
  const e = await n._currentAgent.getEnabledHandoffs(n._context), t = await n._currentAgent.getAllTools(n._context);
  if (n._currentAgentSpan)
    n._currentAgentSpan.spanData.tools = t.map((r) => r.name);
  else {
    const r = e.map((s) => s.agentName);
    n._currentAgentSpan = kl({
      data: {
        name: n._currentAgent.name,
        handoffs: r,
        tools: t.map((s) => s.name),
        output_type: n._currentAgent.outputSchemaName
      }
    }), n._currentAgentSpan.start(), Rs(n._currentAgentSpan);
  }
  return {
    handoffs: e,
    tools: t,
    serializedHandoffs: e.map((r) => Tl(r)),
    serializedTools: t.map((r) => Sl(r)),
    toolsExplicitlyProvided: n._currentAgent.hasExplicitToolConfig()
  };
}
function vt(n) {
  return JSON.stringify(n, bd);
}
function vd(n) {
  const e = /* @__PURE__ */ new Map();
  for (const t of n) {
    const r = vt(t), s = e.get(r);
    s ? s.push(t) : e.set(r, [t]);
  }
  return e;
}
function wd(n, e) {
  const t = n.get(e);
  if (!t || t.length === 0)
    return;
  const [r] = t;
  return t.shift(), t.length === 0 && n.delete(e), r;
}
function ja(n, e) {
  const t = vt(e), r = n.get(t);
  if (!r || r.length === 0)
    return;
  const s = r.findIndex((a) => a === e);
  s !== -1 && (r.splice(s, 1), r.length === 0 && n.delete(t));
}
function bd(n, e) {
  if (e instanceof ArrayBuffer)
    return {
      __type: "ArrayBuffer",
      data: ke(new Uint8Array(e))
    };
  if (Hn(e)) {
    const t = e;
    return {
      __type: t.constructor.name,
      data: ke(new Uint8Array(t.buffer, t.byteOffset, t.byteLength))
    };
  }
  if (ws(e)) {
    const t = e;
    return {
      __type: "Buffer",
      data: ke(new Uint8Array(t.buffer, t.byteOffset, t.byteLength))
    };
  }
  return br(e) ? {
    __type: "Buffer",
    data: ke(Uint8Array.from(e.data))
  } : e;
}
function us(n) {
  return typeof n == "string" ? [{ type: "message", role: "user", content: n }] : [...n];
}
class Hi {
  constructor(e) {
    x(this, "state");
    this.state = e;
  }
  /**
   * The history of the agent run. This includes the input items and the new items generated during
   * the agent run.
   *
   * This can be used as inputs for the next agent run.
   */
  get history() {
    return Bt(this.input, this.newItems);
  }
  /**
   * The new items generated during the agent run. These include things like new messages, tool
   * calls and their outputs, etc.
   *
   * It does not include information about the agents and instead represents the model data.
   *
   * For the output including the agents, use the `newItems` property.
   */
  get output() {
    return Bt([], this.newItems);
  }
  /**
   * A copy of the original input items.
   */
  get input() {
    return this.state._originalInput;
  }
  /**
   * The run items generated during the agent run. This associates the model data with the agents.
   *
   * For the model data that can be used as inputs for the next agent run, use the `output` property.
   */
  get newItems() {
    return this.state._generatedItems;
  }
  /**
   * The raw LLM responses generated by the model during the agent run.
   */
  get rawResponses() {
    return this.state._modelResponses;
  }
  /**
   * The last response ID generated by the model during the agent run.
   */
  get lastResponseId() {
    const e = this.rawResponses;
    return e && e.length > 0 ? e[e.length - 1].responseId : void 0;
  }
  /**
   * The last agent that was run
   */
  get lastAgent() {
    return this.state._currentAgent;
  }
  /**
   * Guardrail results for the input messages.
   */
  get inputGuardrailResults() {
    return this.state._inputGuardrailResults;
  }
  /**
   * Guardrail results for the final output of the agent.
   */
  get outputGuardrailResults() {
    return this.state._outputGuardrailResults;
  }
  /**
   * Any interruptions that occurred during the agent run for example for tool approvals.
   */
  get interruptions() {
    var e;
    return ((e = this.state._currentStep) == null ? void 0 : e.type) === "next_step_interruption" ? this.state._currentStep.data.interruptions : [];
  }
  /**
   * The final output of the agent. If the output type was set to anything other than `text`,
   * this will be parsed either as JSON or using the Zod schema you provided.
   */
  get finalOutput() {
    var e;
    if (((e = this.state._currentStep) == null ? void 0 : e.type) === "next_step_final_output")
      return this.state._currentAgent.processFinalOutput(this.state._currentStep.output);
    j.warn("Accessed finalOutput before agent run is completed.");
  }
}
class $r extends Hi {
  constructor(e) {
    super(e);
  }
}
var An, at, xe, Ve, Vt, Wt, Cn, bt, On;
class Ki extends Hi {
  constructor(t = {}) {
    super(t.state);
    /**
     * The current turn number
     */
    x(this, "currentTurn", 0);
    /**
     * The maximum number of turns that can be run
     */
    x(this, "maxTurns");
    N(this, An, null);
    N(this, at);
    N(this, xe);
    N(this, Ve);
    N(this, Vt);
    N(this, Wt);
    N(this, Cn);
    N(this, bt, !1);
    N(this, On);
    if (k(this, at, t.signal), k(this, Ve, new Tc({
      start: (r) => {
        k(this, xe, r);
      },
      cancel: () => {
        k(this, bt, !0);
      }
    })), k(this, Vt, new Promise((r, s) => {
      k(this, Wt, r), k(this, Cn, s);
    })), u(this, at)) {
      const r = () => {
        var a, i;
        if (u(this, bt))
          return;
        k(this, bt, !0);
        const s = u(this, xe);
        if (k(this, xe, void 0), u(this, Ve).locked) {
          if (s)
            try {
              s.close();
            } catch (o) {
              j.debug(`Failed to close readable stream on abort: ${o}`);
            }
        } else
          u(this, Ve).cancel((a = u(this, at)) == null ? void 0 : a.reason).catch((o) => {
            j.debug(`Failed to cancel readable stream on abort: ${o}`);
          });
        (i = u(this, Wt)) == null || i.call(this);
      };
      u(this, at).aborted ? r() : u(this, at).addEventListener("abort", r, { once: !0 });
    }
  }
  /**
   * The current agent that is running
   */
  get currentAgent() {
    return this.lastAgent;
  }
  /**
   * @internal
   * Adds an item to the stream of output items
   */
  _addItem(t) {
    var r;
    this.cancelled || (r = u(this, xe)) == null || r.enqueue(t);
  }
  /**
   * @internal
   * Indicates that the stream has been completed
   */
  _done() {
    var t;
    !this.cancelled && u(this, xe) && (u(this, xe).close(), k(this, xe, void 0), (t = u(this, Wt)) == null || t.call(this));
  }
  /**
   * @internal
   * Handles an error in the stream loop.
   */
  _raiseError(t) {
    var r;
    !this.cancelled && u(this, xe) && (u(this, xe).error(t), k(this, xe, void 0)), k(this, An, t), (r = u(this, Cn)) == null || r.call(this, t), u(this, Vt).catch((s) => {
      j.debug(`Resulted in an error: ${s}`);
    });
  }
  /**
   * Returns true if the stream has been cancelled.
   */
  get cancelled() {
    return u(this, bt);
  }
  /**
   * Returns the underlying readable stream.
   * @returns A readable stream of the agent run.
   */
  toStream() {
    return u(this, Ve);
  }
  /**
   * Await this promise to ensure that the stream has been completed if you are not consuming the
   * stream directly.
   */
  get completed() {
    return u(this, Vt);
  }
  /**
   * Error thrown during the run, if any.
   */
  get error() {
    return u(this, An);
  }
  toTextStream(t = {}) {
    const r = u(this, Ve).pipeThrough(new kc({
      transform(s, a) {
        if (s.type === "raw_model_stream_event" && s.data.type === "output_text_delta") {
          const i = Ei.parse(s.data);
          a.enqueue(i.delta);
        }
      }
    }));
    return t.compatibleWithNodeStreams ? Sc.fromWeb(r) : r;
  }
  [Symbol.asyncIterator]() {
    return u(this, Ve)[Symbol.asyncIterator]();
  }
  /**
   * @internal
   * Sets the stream loop promise that completes when the internal stream loop finishes.
   * This is used to defer trace end until all agent work is complete.
   */
  _setStreamLoopPromise(t) {
    k(this, On, t);
  }
  /**
   * @internal
   * Returns a promise that resolves when the stream loop completes.
   * This is used by the tracing system to wait for all agent work before ending the trace.
   */
  _getStreamLoopPromise() {
    return u(this, On);
  }
}
An = new WeakMap(), at = new WeakMap(), xe = new WeakMap(), Ve = new WeakMap(), Vt = new WeakMap(), Wt = new WeakMap(), Cn = new WeakMap(), bt = new WeakMap(), On = new WeakMap();
let $a;
function Ze() {
  return $a ?? ($a = new Ac()), $a;
}
function un() {
  const n = Ze().getStore();
  return n != null && n.trace ? n.trace : null;
}
function Sn() {
  const n = Ze().getStore();
  return n != null && n.span ? n.span : null;
}
function Yi(n) {
  return async () => {
    const e = un();
    if (!e)
      throw new Error("No trace found");
    await e.start();
    const t = await n(e);
    if (t instanceof Ki) {
      const r = t._getStreamLoopPromise();
      if (r)
        return r.finally(() => e.end()), t;
    }
    return await e.end(), t;
  };
}
async function Id(n, e, t = {}) {
  const r = typeof n == "string" ? qe().createTrace({
    ...t,
    name: n
  }) : n;
  return Ze().run({ trace: r }, Yi(e));
}
async function xd(n, e = {}) {
  if (un())
    return await n();
  const r = qe().createTrace(e);
  return Ze().run({ trace: r }, Yi(n));
}
function Rs(n) {
  const e = Ze().getStore();
  if (!e)
    throw new Error("No existing trace found");
  e.span && (e.span.previousSpan = e.previousSpan, e.previousSpan = e.span), e.span = n, Ze().enterWith(e);
}
function mn() {
  var e;
  const n = Ze().getStore();
  n && (n.span = n.previousSpan, n.previousSpan = (e = n.previousSpan) == null ? void 0 : e.previousSpan, Ze().enterWith(n));
}
function Xe(n) {
  const e = Sn();
  e && e.setError(n);
}
function Sd(n) {
  var e, t, r;
  return {
    trace: (e = n.trace) == null ? void 0 : e.clone(),
    span: (t = n.span) == null ? void 0 : t.clone(),
    previousSpan: (r = n.previousSpan) == null ? void 0 : r.clone()
  };
}
function cs(n) {
  const e = Ze().getStore();
  if (!e)
    throw new Error("No existing trace found");
  const t = Sd(e);
  return Ze().run(t, n);
}
class Td {
  async export(e) {
    if (di.disabled) {
      j.debug("Tracing is disabled. Skipping export");
      return;
    }
    for (const t of e)
      t.type === "trace" ? console.log(`[Exporter] Export trace traceId=${t.traceId} name=${t.name}${t.groupId ? ` groupId=${t.groupId}` : ""}`) : console.log(`[Exporter] Export span: ${JSON.stringify(t)}`);
  }
}
var En, Ht, Nn, Rn, Kt, me, We, it, ot, Yt, be, ls, ds, Ut;
class kd {
  constructor(e, {
    maxQueueSize: t = 1e3,
    maxBatchSize: r = 100,
    scheduleDelay: s = 5e3,
    // 5 seconds
    exportTriggerRatio: a = 0.8
  } = {}) {
    N(this, be);
    N(this, En);
    N(this, Ht);
    N(this, Nn);
    N(this, Rn);
    N(this, Kt);
    N(this, me, []);
    N(this, We);
    N(this, it, null);
    N(this, ot, !1);
    N(this, Yt, null);
    k(this, En, t), k(this, Ht, r), k(this, Nn, s), k(this, Rn, t * a), k(this, Kt, e), k(this, We, Oc), j.debug("Automatic trace export loop is not supported in this environment. You need to manually call `getGlobalTraceProvider().forceFlush()` to export traces.");
  }
  start() {
    k(this, Yt, new AbortController()), L(this, be, ds).call(this);
  }
  async onTraceStart(e) {
    await L(this, be, ls).call(this, e);
  }
  async onTraceEnd(e) {
  }
  async onSpanStart(e) {
  }
  async onSpanEnd(e) {
    await L(this, be, ls).call(this, e);
  }
  async shutdown(e) {
    var t;
    for (e && u(this, We).setTimeout(() => {
      var r;
      (r = u(this, Yt)) == null || r.abort();
    }, e), j.debug("Shutting down gracefully"); u(this, me).length > 0; ) {
      if (j.debug(`Waiting for buffer to empty. Items left: ${u(this, me).length}`), u(this, ot) || await L(this, be, Ut).call(this, !0), (t = u(this, Yt)) != null && t.signal.aborted) {
        j.debug("Timeout reached, force flushing"), await L(this, be, Ut).call(this, !0);
        break;
      }
      await new Promise((r) => u(this, We).setTimeout(r, 500));
    }
    j.debug("Buffer empty. Exiting"), u(this, We) && u(this, it) && u(this, We).clearTimeout(u(this, it));
  }
  async forceFlush() {
    u(this, me).length > 0 && await L(this, be, Ut).call(this, !0);
  }
}
En = new WeakMap(), Ht = new WeakMap(), Nn = new WeakMap(), Rn = new WeakMap(), Kt = new WeakMap(), me = new WeakMap(), We = new WeakMap(), it = new WeakMap(), ot = new WeakMap(), Yt = new WeakMap(), be = new WeakSet(), ls = async function(e) {
  if (u(this, me).length + 1 > u(this, En)) {
    j.error("Dropping trace because buffer is full");
    return;
  }
  u(this, me).push(e), u(this, me).length > u(this, Rn) && await L(this, be, Ut).call(this);
}, ds = function() {
  k(this, it, u(this, We).setTimeout(async () => {
    await L(this, be, Ut).call(this), L(this, be, ds).call(this);
  }, u(this, Nn))), typeof u(this, it).unref == "function" && u(this, it).unref();
}, Ut = async function(e = !1) {
  if (u(this, me).length !== 0) {
    if (j.debug(`Exporting batches. Force: ${e}. Buffer size: ${u(this, me).length}`), e || u(this, me).length < u(this, Ht)) {
      const t = [...u(this, me)];
      k(this, me, []), k(this, ot, !0), await u(this, Kt).export(t), k(this, ot, !1);
    } else if (u(this, me).length > 0) {
      const t = u(this, me).splice(0, u(this, Ht));
      k(this, ot, !0), await u(this, Kt).export(t), k(this, ot, !1);
    }
  }
};
var Se;
class Ad {
  constructor() {
    N(this, Se, []);
  }
  start() {
    for (const e of u(this, Se))
      e.start && e.start();
  }
  addTraceProcessor(e) {
    u(this, Se).push(e);
  }
  setProcessors(e) {
    j.debug("Shutting down old processors");
    for (const t of u(this, Se))
      t.shutdown();
    k(this, Se, e);
  }
  async onTraceStart(e) {
    for (const t of u(this, Se))
      await t.onTraceStart(e);
  }
  async onTraceEnd(e) {
    for (const t of u(this, Se))
      await t.onTraceEnd(e);
  }
  async onSpanStart(e) {
    for (const t of u(this, Se))
      await t.onSpanStart(e);
  }
  async onSpanEnd(e) {
    for (const t of u(this, Se))
      await t.onSpanEnd(e);
  }
  async shutdown(e) {
    for (const t of u(this, Se))
      await t.shutdown(e);
  }
  async forceFlush() {
    for (const e of u(this, Se))
      await e.forceFlush();
  }
}
Se = new WeakMap();
let Fr = null, Lr = null;
function Cd() {
  return Fr || (Fr = new Td()), Fr;
}
function Xi() {
  return Lr || (Lr = new kd(Cd())), Lr;
}
function Fa() {
  return (/* @__PURE__ */ new Date()).toISOString();
}
function Qi() {
  return `trace_${mi().replace(/-/g, "")}`;
}
function Od() {
  return `span_${mi().replace(/-/g, "").slice(0, 24)}`;
}
function Ed(n) {
  return Object.fromEntries(Object.entries(n).filter(([e]) => !e.startsWith("_")));
}
var Pn, Dn, Mn, jn, It, ut, ct, xt, $n;
const Ds = class Ds {
  constructor(e, t) {
    x(this, "type", "trace.span");
    N(this, Pn);
    N(this, Dn);
    N(this, Mn);
    N(this, jn);
    N(this, It);
    N(this, ut);
    N(this, ct);
    N(this, xt);
    N(this, $n);
    k(this, Dn, e.traceId), k(this, Mn, e.spanId ?? Od()), k(this, Pn, e.data), k(this, It, t), k(this, jn, e.parentId ?? null), k(this, xt, e.error ?? null), k(this, ut, e.startedAt ?? null), k(this, ct, e.endedAt ?? null);
  }
  get traceId() {
    return u(this, Dn);
  }
  get spanData() {
    return u(this, Pn);
  }
  get spanId() {
    return u(this, Mn);
  }
  get parentId() {
    return u(this, jn);
  }
  get previousSpan() {
    return u(this, $n);
  }
  set previousSpan(e) {
    k(this, $n, e);
  }
  start() {
    if (u(this, ut)) {
      j.warn("Span already started");
      return;
    }
    k(this, ut, Fa()), u(this, It).onSpanStart(this);
  }
  end() {
    if (u(this, ct)) {
      j.debug("Span already finished", this.spanData);
      return;
    }
    k(this, ct, Fa()), u(this, It).onSpanEnd(this);
  }
  setError(e) {
    k(this, xt, e);
  }
  get error() {
    return u(this, xt);
  }
  get startedAt() {
    return u(this, ut);
  }
  get endedAt() {
    return u(this, ct);
  }
  clone() {
    var t;
    const e = new Ds({
      traceId: this.traceId,
      spanId: this.spanId,
      parentId: this.parentId ?? void 0,
      data: this.spanData,
      startedAt: u(this, ut) ?? void 0,
      endedAt: u(this, ct) ?? void 0,
      error: u(this, xt) ?? void 0
    }, u(this, It));
    return e.previousSpan = (t = this.previousSpan) == null ? void 0 : t.clone(), e;
  }
  toJSON() {
    return {
      object: this.type,
      id: this.spanId,
      trace_id: this.traceId,
      parent_id: this.parentId,
      started_at: this.startedAt,
      ended_at: this.endedAt,
      span_data: Ed(this.spanData),
      error: this.error
    };
  }
};
Pn = new WeakMap(), Dn = new WeakMap(), Mn = new WeakMap(), jn = new WeakMap(), It = new WeakMap(), ut = new WeakMap(), ct = new WeakMap(), xt = new WeakMap(), $n = new WeakMap();
let Tn = Ds;
class rt extends Tn {
  constructor(e, t) {
    super({ traceId: "no-op", spanId: "no-op", data: e }, t);
  }
  start() {
  }
  end() {
  }
  setError() {
  }
  toJSON() {
    return null;
  }
}
var Xt, He;
const Ms = class Ms {
  constructor(e, t) {
    x(this, "type", "trace");
    x(this, "traceId");
    x(this, "name");
    x(this, "groupId", null);
    x(this, "metadata");
    N(this, Xt);
    N(this, He);
    this.traceId = e.traceId ?? Qi(), this.name = e.name ?? "Agent workflow", this.groupId = e.groupId ?? null, this.metadata = e.metadata ?? {}, k(this, Xt, t ?? Xi()), k(this, He, e.started ?? !1);
  }
  async start() {
    u(this, He) || (k(this, He, !0), await u(this, Xt).onTraceStart(this));
  }
  async end() {
    u(this, He) && (k(this, He, !1), await u(this, Xt).onTraceEnd(this));
  }
  clone() {
    return new Ms({
      traceId: this.traceId,
      name: this.name,
      groupId: this.groupId ?? void 0,
      metadata: this.metadata,
      started: u(this, He)
    });
  }
  toJSON() {
    return {
      object: this.type,
      id: this.traceId,
      workflow_name: this.name,
      group_id: this.groupId,
      metadata: this.metadata
    };
  }
};
Xt = new WeakMap(), He = new WeakMap();
let kn = Ms;
class Ur extends kn {
  constructor() {
    super({});
  }
  async start() {
  }
  async end() {
  }
  toJSON() {
    return null;
  }
}
var fe, St, vr, eo;
class Nd {
  constructor() {
    N(this, vr);
    N(this, fe);
    N(this, St);
    k(this, fe, new Ad()), k(this, St, di.disabled), L(this, vr, eo).call(this);
  }
  /**
   * Add a processor to the list of processors. Each processor will receive all traces/spans.
   *
   * @param processor - The processor to add.
   */
  registerProcessor(e) {
    u(this, fe).addTraceProcessor(e);
  }
  /**
   * Set the list of processors. This will replace any existing processors.
   *
   * @param processors - The list of processors to set.
   */
  setProcessors(e) {
    u(this, fe).setProcessors(e);
  }
  /**
   * Get the current trace.
   *
   * @returns The current trace.
   */
  getCurrentTrace() {
    return un();
  }
  getCurrentSpan() {
    return Sn();
  }
  setDisabled(e) {
    k(this, St, e);
  }
  startExportLoop() {
    u(this, fe).start();
  }
  createTrace(e) {
    if (u(this, St))
      return j.debug("Tracing is disabled, Not creating trace %o", e), new Ur();
    const t = e.traceId ?? Qi(), r = e.name ?? "Agent workflow";
    return j.debug("Creating trace %s with name %s", t, r), new kn({ ...e, name: r, traceId: t }, u(this, fe));
  }
  createSpan(e, t) {
    if (u(this, St) || e.disabled)
      return j.debug("Tracing is disabled, Not creating span %o", e), new rt(e.data, u(this, fe));
    let r, s;
    if (t) {
      if (t instanceof kn) {
        if (t instanceof Ur)
          return j.debug("Parent trace is no-op, returning NoopSpan"), new rt(e.data, u(this, fe));
        s = t.traceId;
      } else if (t instanceof Tn) {
        if (t instanceof rt)
          return j.debug("Parent span is no-op, returning NoopSpan"), new rt(e.data, u(this, fe));
        r = t.spanId, s = t.traceId;
      }
    } else {
      const a = un(), i = Sn();
      if (!a)
        return j.error("No active trace. Make sure to start a trace with `withTrace()` first. Returning NoopSpan."), new rt(e.data, u(this, fe));
      if (i instanceof rt || a instanceof Ur)
        return j.debug(`Parent ${i} or ${a} is no-op, returning NoopSpan`), new rt(e.data, u(this, fe));
      s = a.traceId, i ? (j.debug("Using parent span %s", i.spanId), r = i.spanId) : j.debug("No parent span, using current trace %s", a.traceId);
    }
    return s ? (j.debug(`Creating span ${JSON.stringify(e.data)} with id ${e.spanId ?? s}`), new Tn({
      ...e,
      traceId: s,
      parentId: r
    }, u(this, fe))) : (j.error("No traceId found. Make sure to start a trace with `withTrace()` first. Returning NoopSpan."), new rt(e.data, u(this, fe)));
  }
  async shutdown(e) {
    try {
      j.debug("Shutting down tracing provider"), await u(this, fe).shutdown(e);
    } catch (t) {
      j.error("Error shutting down tracing provider %o", t);
    }
  }
  async forceFlush() {
    await u(this, fe).forceFlush();
  }
}
fe = new WeakMap(), St = new WeakMap(), vr = new WeakSet(), /** Adds listeners to `process` to ensure `shutdown` occurs before exit. */
eo = function() {
  if (typeof process < "u" && typeof process.on == "function") {
    const e = async () => {
      const t = setTimeout(() => {
        console.warn("Cleanup timeout, forcing exit"), process.exit(1);
      }, 5e3);
      try {
        await this.shutdown();
      } finally {
        clearTimeout(t);
      }
    };
    process.on("beforeExit", e), process.on("SIGINT", async () => {
      await e(), La("SIGINT") || process.exit(130);
    }), process.on("SIGTERM", async () => {
      await e(), La("SIGTERM") || process.exit(0);
    }), process.on("unhandledRejection", async (t, r) => {
      j.error("Unhandled rejection", t, r), await e(), Rd("unhandledRejection") || process.exit(1);
    });
  }
};
function La(n) {
  return process.listeners(n).length > 1;
}
function Rd(n) {
  return process.listeners(n).length > 1;
}
let Zr;
function qe() {
  return Zr || (Zr = new Nd()), Zr;
}
function Pd(n) {
  qe().registerProcessor(n);
}
Pd(Xi());
function to(n) {
  const e = atob(n), t = e.length, r = new Uint8Array(t);
  for (let s = 0; s < t; s++)
    r[s] = e.charCodeAt(s);
  return r.buffer;
}
function no(n) {
  const e = String.fromCharCode(...new Uint8Array(n));
  return btoa(e);
}
function ro(n) {
  if (typeof n > "u" || n === null || typeof n != "object" || !("type" in n) || typeof n.type != "string" || !n.type || n.type !== "message" || !("content" in n) || !Array.isArray(n.content) || n.content.length < 1)
    return;
  const e = n.content[n.content.length - 1];
  if (!(!("type" in e) || typeof e.type != "string")) {
    if (e.type === "output_text")
      return typeof e.text == "string" ? e.text : void 0;
    if (e.type === "output_audio")
      return typeof e.transcript == "string" ? e.transcript : void 0;
  }
}
function Dd(n, e) {
  const t = n.filter((a) => !e.some((i) => i.itemId === a.itemId)), r = e.filter((a) => !n.some((i) => i.itemId === a.itemId)), s = e.filter((a) => n.some((i) => i.itemId === a.itemId && JSON.stringify(i) !== JSON.stringify(a)));
  return {
    removals: t,
    additions: r,
    updates: s
  };
}
function Md() {
  return typeof window > "u" ? !1 : typeof window.RTCPeerConnection < "u";
}
function Ua(n) {
  return n.role === "system" ? n : n.role === "assistant" ? {
    ...n,
    content: n.content.map((e) => e.type === "output_audio" ? {
      ...e,
      audio: null
    } : e)
  } : n.role === "user" ? {
    ...n,
    content: n.content.map((e) => e.type === "input_audio" ? {
      ...e,
      audio: null
    } : e)
  } : n;
}
function jd(n, e) {
  if (n.role !== "assistant" || e.role !== "assistant")
    return e;
  const t = e.content.map((r, s) => {
    if (r.type !== "output_audio" || !(typeof r.transcript != "string" || r.transcript.length === 0))
      return r;
    const i = n.content[s];
    return i && i.type === "output_audio" && typeof i.transcript == "string" && i.transcript.length > 0 ? {
      ...r,
      transcript: i.transcript
    } : r;
  });
  return {
    ...e,
    content: t
  };
}
function Za(n, e, t) {
  if (e.type === "conversation.item.input_audio_transcription.completed")
    return n.map((a) => {
      if (a.itemId === e.item_id && a.type === "message" && "role" in a && a.role === "user") {
        const i = a.content.map((o) => o.type === "input_audio" ? {
          ...o,
          transcript: e.transcript
        } : o);
        return {
          ...a,
          content: i,
          status: "completed"
        };
      }
      return a;
    });
  const r = !t && e.type === "message" ? Ua(e) : e, s = n.findIndex((a) => a.itemId === e.itemId);
  if (s !== -1) {
    const a = n[s], i = r.type === "message" && a.type === "message" ? jd(a, r) : r;
    return n.map((o, c) => c === s ? i : !t && o.type === "message" ? Ua(o) : o);
  } else if (e.previousItemId) {
    const a = n.findIndex((i) => i.itemId === e.previousItemId);
    return a !== -1 ? [
      ...n.slice(0, a + 1),
      r,
      ...n.slice(a + 1)
    ] : [...n, r];
  } else
    return [...n, r];
}
const so = {
  "User-Agent": `Agents/JavaScript ${qr.version}`,
  "X-OpenAI-Agents-SDK": `openai-agents-sdk.${qr.version}`
}, $d = `openai-agents-sdk.${qr.version}`;
function Fd(n, e) {
  const { name: t, arguments: r, ...s } = e;
  return new ye({
    type: "hosted_tool_call",
    name: t,
    arguments: JSON.stringify(r),
    status: "in_progress",
    providerData: {
      ...s
    }
  }, n);
}
function qa(n) {
  if (n.rawItem.type !== "function_call" && n.rawItem.type !== "hosted_tool_call")
    throw new Error("Invalid approval item type for Realtime MCP approval request");
  const { name: e, arguments: t, providerData: r } = n.rawItem, { itemId: s, serverLabel: a, ...i } = r ?? {};
  if (!s || !a)
    throw new Error("Invalid approval item for Realtime MCP approval request");
  return {
    type: "mcp_approval_request",
    itemId: s,
    serverLabel: a,
    ...i,
    name: e,
    arguments: t ? JSON.parse(t) : {},
    approved: null
  };
}
class Qp extends nt {
  constructor(t) {
    super(t);
    /**
     * The voice intended to be used by the agent. If another agent already spoke during the
     * RealtimeSession, changing the voice during a handoff will fail.
     */
    x(this, "voice");
    this.voice = t.voice;
  }
}
function Ld(n) {
  return {
    debounceTextLength: n.debounceTextLength ?? 100
  };
}
function Ud({ policyHint: n, ...e }) {
  const t = ts(e), r = n ?? t.name;
  return {
    ...t,
    policyHint: r,
    run: async (s) => {
      const a = await t.run(s);
      return {
        ...a,
        guardrail: { ...a.guardrail, policyHint: r }
      };
    }
  };
}
function Zd(n) {
  return `
 Your last answer was blocked. 
Failed Guardrail Reason: ${n.guardrail.policyHint}. 
Failure Details: ${JSON.stringify(n.output.outputInfo ?? {})}. 
Please respond again following policy. Apologize for not being able to answer the question (while avoiding the specific reason) and divert discussion back to an approved topic immediately and not invite more discussion.
`.trim();
}
function gt(n, e) {
  return n in e && typeof e[n] < "u";
}
function qd(n) {
  return gt("modalities", n) || gt("inputAudioFormat", n) || gt("outputAudioFormat", n) || gt("inputAudioTranscription", n) || gt("turnDetection", n) || gt("inputAudioNoiseReduction", n) || gt("speed", n);
}
function Jd(n) {
  var e, t, r, s, a, i, o, c;
  if (!qd(n)) {
    const d = (e = n.audio) != null && e.input ? {
      format: er(n.audio.input.format),
      noiseReduction: n.audio.input.noiseReduction ?? null,
      transcription: n.audio.input.transcription,
      turnDetection: n.audio.input.turnDetection
    } : void 0, f = ((r = (t = n.audio) == null ? void 0 : t.output) == null ? void 0 : r.voice) ?? n.voice, l = (s = n.audio) != null && s.output || typeof f < "u" ? {
      format: er((i = (a = n.audio) == null ? void 0 : a.output) == null ? void 0 : i.format),
      voice: f,
      speed: (c = (o = n.audio) == null ? void 0 : o.output) == null ? void 0 : c.speed
    } : void 0;
    return {
      model: n.model,
      instructions: n.instructions,
      toolChoice: n.toolChoice,
      tools: n.tools,
      tracing: n.tracing,
      providerData: n.providerData,
      prompt: n.prompt,
      outputModalities: n.outputModalities,
      audio: d || l ? {
        input: d,
        output: l
      } : void 0
    };
  }
  return {
    model: n.model,
    instructions: n.instructions,
    toolChoice: n.toolChoice,
    tools: n.tools,
    tracing: n.tracing,
    providerData: n.providerData,
    prompt: n.prompt,
    outputModalities: n.modalities,
    audio: {
      input: {
        format: er(n.inputAudioFormat),
        noiseReduction: n.inputAudioNoiseReduction ?? null,
        transcription: n.inputAudioTranscription,
        turnDetection: n.turnDetection
      },
      output: {
        format: er(n.outputAudioFormat),
        voice: n.voice,
        speed: n.speed
      }
    }
  };
}
function er(n) {
  if (!n)
    return;
  if (typeof n == "object")
    return n;
  const e = String(n);
  return e === "pcm16" ? { type: "audio/pcm", rate: 24e3 } : e === "g711_ulaw" ? { type: "audio/pcmu" } : e === "g711_alaw" ? { type: "audio/pcma" } : { type: "audio/pcm", rate: 24e3 };
}
v({
  itemId: p()
});
const Ja = ge("role", [
  v({
    itemId: p(),
    previousItemId: p().nullable().optional(),
    type: b("message"),
    role: b("system"),
    content: B(v({ type: b("input_text"), text: p() }))
  }),
  v({
    itemId: p(),
    previousItemId: p().nullable().optional(),
    type: b("message"),
    role: b("user"),
    status: oe(["in_progress", "completed"]),
    content: B(v({ type: b("input_text"), text: p() }).or(v({
      type: b("input_audio"),
      audio: p().nullable().optional(),
      transcript: p().nullable()
    })))
  }),
  v({
    itemId: p(),
    previousItemId: p().nullable().optional(),
    type: b("message"),
    role: b("assistant"),
    status: oe(["in_progress", "completed", "incomplete"]),
    content: B(v({ type: b("output_text"), text: p() }).or(v({
      type: b("output_audio"),
      audio: p().nullable().optional(),
      transcript: p().nullable().optional()
    })))
  })
]), Ba = v({
  itemId: p(),
  previousItemId: p().nullable().optional(),
  type: b("function_call"),
  status: oe(["in_progress", "completed", "incomplete"]),
  arguments: p(),
  name: p(),
  output: p().nullable()
}), za = v({
  itemId: p(),
  previousItemId: p().nullable().optional(),
  type: oe(["mcp_call", "mcp_tool_call"]),
  status: oe(["in_progress", "completed", "incomplete"]),
  arguments: p(),
  name: p(),
  output: p().nullable()
}), Bd = v({
  itemId: p(),
  type: b("mcp_approval_request"),
  serverLabel: p(),
  name: p(),
  arguments: ee(p(), V()),
  approved: Nt().optional().nullable()
}), Te = fi("openai-agents:realtime"), ao = v({
  id: p().optional().nullable(),
  conversation_id: p().optional().nullable(),
  max_output_tokens: E().or(b("inf")).optional().nullable(),
  metadata: ee(p(), V()).optional().nullable(),
  // GA rename: modalities -> output_modalities
  output_modalities: B(p()).optional().nullable(),
  object: b("realtime.response").optional().nullable(),
  output: B(V()).optional().nullable(),
  // GA grouping: audio.output.{format,voice}
  audio: v({
    output: v({
      format: V().optional().nullable(),
      voice: p().optional().nullable()
    }).optional().nullable()
  }).optional().nullable(),
  status: oe(["completed", "incomplete", "failed", "cancelled", "in_progress"]).optional().nullable(),
  status_details: ee(p(), V()).optional().nullable(),
  usage: v({
    input_tokens: E().optional(),
    input_token_details: ee(p(), V()).optional().nullable(),
    output_tokens: E().optional(),
    output_token_details: ee(p(), V()).optional().nullable()
  }).optional().nullable()
}), zd = v({
  id: p().optional(),
  audio: p().nullable().optional(),
  text: p().nullable().optional(),
  transcript: p().nullable().optional(),
  type: tt([
    b("input_text"),
    b("input_audio"),
    b("item_reference"),
    b("output_text"),
    b("output_audio")
  ])
}), ln = v({
  id: p().optional(),
  arguments: p().optional(),
  call_id: p().optional(),
  content: B(zd).optional(),
  name: p().optional(),
  output: p().nullable().optional(),
  role: oe(["user", "assistant", "system"]).optional(),
  status: oe(["completed", "incomplete", "in_progress"]).optional(),
  type: oe([
    "message",
    "function_call",
    "function_call_output",
    "mcp_list_tools",
    "mcp_tool_call",
    "mcp_call",
    "mcp_approval_request",
    "mcp_approval_response"
  ]).optional(),
  approval_request_id: p().nullable().optional(),
  approve: Nt().nullable().optional(),
  reason: p().nullable().optional(),
  server_label: p().optional(),
  error: V().nullable().optional(),
  tools: B(v({
    name: p(),
    description: p(),
    input_schema: ee(V()).optional()
  }).passthrough()).optional()
}).passthrough(), Gd = v({
  type: b("conversation.created"),
  event_id: p(),
  conversation: v({
    id: p().optional(),
    object: b("realtime.conversation").optional()
  })
}), Vd = v({
  type: b("conversation.item.added"),
  event_id: p(),
  item: ln,
  previous_item_id: p().nullable().optional()
}), Wd = v({
  type: b("conversation.item.done"),
  event_id: p(),
  item: ln,
  previous_item_id: p().nullable().optional()
}), Hd = v({
  type: b("conversation.item.deleted"),
  event_id: p(),
  item_id: p()
}), Kd = v({
  type: b("conversation.item.input_audio_transcription.completed"),
  event_id: p(),
  item_id: p(),
  content_index: E(),
  transcript: p(),
  logprobs: B(V()).nullable().optional()
}), Yd = v({
  type: b("conversation.item.input_audio_transcription.delta"),
  event_id: p(),
  item_id: p(),
  content_index: E().optional(),
  delta: p().optional(),
  logprobs: B(V()).nullable().optional()
}), Xd = v({
  type: b("conversation.item.input_audio_transcription.failed"),
  event_id: p(),
  item_id: p(),
  content_index: E(),
  error: v({
    code: p().optional(),
    message: p().optional(),
    param: p().optional(),
    type: p().optional()
  })
}), Qd = v({
  type: b("conversation.item.retrieved"),
  event_id: p(),
  item: ln
}), ep = v({
  type: b("conversation.item.truncated"),
  event_id: p(),
  item_id: p(),
  audio_end_ms: E(),
  content_index: E()
}), tp = v({
  type: b("conversation.item.create"),
  item: ln,
  event_id: p().optional(),
  previous_item_id: p().nullable().optional()
}), np = v({
  type: b("conversation.item.delete"),
  item_id: p(),
  event_id: p().optional()
}), rp = v({
  type: b("conversation.item.retrieve"),
  item_id: p(),
  event_id: p().optional()
}), sp = v({
  type: b("conversation.item.truncate"),
  item_id: p(),
  audio_end_ms: E(),
  content_index: E(),
  event_id: p().optional()
}), ap = v({
  type: b("error"),
  event_id: p().optional(),
  error: V().optional()
}), ip = v({
  type: b("input_audio_buffer.cleared"),
  event_id: p()
}), op = v({
  type: b("input_audio_buffer.append"),
  audio: p(),
  event_id: p().optional()
}), up = v({
  type: b("input_audio_buffer.clear"),
  event_id: p().optional()
}), cp = v({
  type: b("input_audio_buffer.commit"),
  event_id: p().optional()
}), lp = v({
  type: b("input_audio_buffer.committed"),
  event_id: p(),
  item_id: p(),
  previous_item_id: p().nullable().optional()
}), dp = v({
  type: b("input_audio_buffer.speech_started"),
  event_id: p(),
  item_id: p(),
  audio_start_ms: E()
}), pp = v({
  type: b("input_audio_buffer.speech_stopped"),
  event_id: p(),
  item_id: p(),
  audio_end_ms: E()
}), fp = v({
  type: b("output_audio_buffer.started"),
  event_id: p()
}).passthrough(), hp = v({
  type: b("output_audio_buffer.stopped"),
  event_id: p()
}).passthrough(), mp = v({
  type: b("output_audio_buffer.cleared"),
  event_id: p()
}), gp = v({
  type: b("rate_limits.updated"),
  event_id: p(),
  rate_limits: B(v({
    limit: E().optional(),
    name: oe(["requests", "tokens"]).optional(),
    remaining: E().optional(),
    reset_seconds: E().optional()
  }))
}), yp = v({
  type: b("response.output_audio.delta"),
  event_id: p(),
  item_id: p(),
  content_index: E(),
  delta: p(),
  output_index: E(),
  response_id: p()
}), _p = v({
  type: b("response.output_audio.done"),
  event_id: p(),
  item_id: p(),
  content_index: E(),
  output_index: E(),
  response_id: p()
}), vp = v({
  type: b("response.output_audio_transcript.delta"),
  event_id: p(),
  item_id: p(),
  content_index: E(),
  delta: p(),
  output_index: E(),
  response_id: p()
}), wp = v({
  //  GA may introduce response.output_audio_transcript.done
  type: b("response.output_audio_transcript.done"),
  event_id: p(),
  item_id: p(),
  content_index: E(),
  transcript: p(),
  output_index: E(),
  response_id: p()
}), bp = v({
  type: b("response.content_part.added"),
  event_id: p(),
  item_id: p(),
  content_index: E(),
  output_index: E(),
  response_id: p(),
  part: v({
    audio: p().optional(),
    text: p().optional(),
    transcript: p().optional(),
    type: oe(["text", "audio"]).optional()
  })
}), Ip = v({
  type: b("response.content_part.done"),
  event_id: p(),
  item_id: p(),
  content_index: E(),
  output_index: E(),
  response_id: p(),
  part: v({
    audio: p().optional(),
    text: p().optional(),
    transcript: p().optional(),
    type: oe(["text", "audio"]).optional()
  })
}), xp = v({
  type: b("response.created"),
  event_id: p(),
  response: ao
}), io = v({
  type: b("response.done"),
  event_id: p(),
  response: ao
}), Sp = v({
  type: b("response.function_call_arguments.delta"),
  event_id: p(),
  item_id: p(),
  call_id: p(),
  delta: p(),
  output_index: E(),
  response_id: p()
}), Tp = v({
  type: b("response.function_call_arguments.done"),
  event_id: p(),
  item_id: p(),
  call_id: p(),
  arguments: p(),
  output_index: E(),
  response_id: p()
}), kp = v({
  type: b("response.output_item.added"),
  event_id: p(),
  item: ln,
  output_index: E(),
  response_id: p()
}), Ap = v({
  type: b("response.output_item.done"),
  event_id: p(),
  item: ln,
  output_index: E(),
  response_id: p()
}), Cp = v({
  type: b("response.output_text.delta"),
  event_id: p(),
  item_id: p(),
  content_index: E(),
  delta: p(),
  output_index: E(),
  response_id: p()
}), Op = v({
  // No rename specified for done; keep response.text.done
  type: b("response.output_text.done"),
  event_id: p(),
  item_id: p(),
  content_index: E(),
  text: p(),
  output_index: E(),
  response_id: p()
}), Ep = v({
  type: b("session.created"),
  event_id: p(),
  session: V()
}), Np = v({
  type: b("session.updated"),
  event_id: p(),
  session: V()
}), Rp = v({
  type: b("response.cancel"),
  event_id: p().optional(),
  response_id: p().optional()
}), Pp = v({
  type: b("response.create"),
  event_id: p().optional(),
  response: V().optional()
}), Dp = v({
  type: b("session.update"),
  event_id: p().optional(),
  session: V()
}), Mp = v({
  type: b("mcp_list_tools.in_progress"),
  event_id: p().optional(),
  item_id: p().optional()
}), jp = v({
  type: b("mcp_list_tools.completed"),
  event_id: p().optional(),
  item_id: p().optional()
}), $p = v({
  type: b("response.mcp_call_arguments.delta"),
  event_id: p(),
  response_id: p(),
  item_id: p(),
  output_index: E(),
  delta: p(),
  obfuscation: p()
}), Fp = v({
  type: b("response.mcp_call_arguments.done"),
  event_id: p(),
  response_id: p(),
  item_id: p(),
  output_index: E(),
  arguments: p()
}), Lp = v({
  type: b("response.mcp_call.in_progress"),
  event_id: p(),
  output_index: E(),
  item_id: p()
}), Up = v({
  type: b("response.mcp_call.completed"),
  event_id: p(),
  output_index: E(),
  item_id: p()
}), Zp = v({
  type: b("mcp_list_tools.failed"),
  event_id: p().optional(),
  item_id: p().optional()
}), qp = v({
  type: p(),
  event_id: p().optional().nullable()
}).passthrough(), Jp = ge("type", [
  Gd,
  Vd,
  Wd,
  Hd,
  Kd,
  Yd,
  Xd,
  Qd,
  ep,
  ap,
  ip,
  lp,
  dp,
  pp,
  fp,
  hp,
  mp,
  gp,
  yp,
  _p,
  vp,
  wp,
  bp,
  Ip,
  xp,
  io,
  Sp,
  Tp,
  kp,
  Ap,
  Cp,
  Op,
  Ep,
  Np,
  Mp,
  jp,
  Zp,
  $p,
  Fp,
  Lp,
  Up
]);
ge("type", [
  tp,
  np,
  rp,
  sp,
  op,
  up,
  cp,
  Rp,
  Pp,
  Dp
]);
function Ps(n) {
  const e = JSON.parse(n.data.toString()), t = Jp.safeParse(e);
  if (!t.success) {
    const r = qp.safeParse(e);
    return r.success ? { data: r.data, isGeneric: !0 } : { data: null, isGeneric: !0 };
  }
  return { data: t.data, isGeneric: !1 };
}
const Bp = "gpt-realtime", Re = {
  outputModalities: ["audio"],
  audio: {
    input: {
      format: { type: "audio/pcm", rate: 24e3 },
      transcription: { model: "gpt-4o-mini-transcribe" },
      turnDetection: { type: "semantic_vad" },
      noiseReduction: null
    },
    output: {
      format: { type: "audio/pcm", rate: 24e3 },
      speed: 1
    }
  }
};
var Tt, Fn, ve, Ln;
const js = class js extends bs {
  constructor(t = {}) {
    super();
    N(this, Tt);
    N(this, Fn);
    N(this, ve, null);
    N(this, Ln, null);
    x(this, "eventEmitter", new Ir());
    k(this, Tt, t.model ?? Bp), k(this, Fn, t.apiKey);
  }
  /**
   * The current model that is being used by the transport layer.
   */
  get currentModel() {
    return u(this, Tt);
  }
  /**
   * The current model that is being used by the transport layer.
   * **Note**: The model cannot be changed mid conversation.
   */
  set currentModel(t) {
    k(this, Tt, t);
  }
  /**
   * Hook for subclasses to clean up transport-specific state when audio
   * playback finishes. Defaults to a no-op.
   */
  _afterAudioDoneEvent() {
  }
  get _rawSessionConfig() {
    return u(this, Ln) ?? null;
  }
  async _getApiKey(t) {
    const r = t.apiKey ?? u(this, Fn);
    return typeof r == "function" ? await r() : r;
  }
  _onMessage(t) {
    var a, i, o, c, d, f;
    const { data: r, isGeneric: s } = Ps(t);
    if (r !== null && (this.emit("*", r), !s)) {
      if (r.type === "error" ? this.emit("error", { type: "error", error: r }) : this.emit(r.type, r), r.type === "response.created") {
        this.emit("turn_started", {
          type: "response_started",
          providerData: {
            ...r
          }
        });
        return;
      }
      if (r.type === "session.updated" && k(this, Ln, r.session), r.type === "response.done") {
        const l = io.safeParse(r);
        if (!l.success) {
          Te.error("Error parsing response done event", l.error);
          return;
        }
        const h = ((a = l.data.response.usage) == null ? void 0 : a.input_tokens) ?? 0, g = ((i = l.data.response.usage) == null ? void 0 : i.output_tokens) ?? 0, _ = h + g, T = new Ar({
          inputTokens: h,
          inputTokensDetails: ((o = l.data.response.usage) == null ? void 0 : o.input_token_details) ?? {},
          outputTokens: g,
          outputTokensDetails: ((c = l.data.response.usage) == null ? void 0 : c.output_token_details) ?? {},
          totalTokens: _
        });
        this.emit("usage_update", T), this.emit("turn_done", {
          type: "response_done",
          response: {
            id: l.data.response.id ?? "",
            output: l.data.response.output ?? [],
            usage: {
              inputTokens: h,
              inputTokensDetails: ((d = l.data.response.usage) == null ? void 0 : d.input_token_details) ?? {},
              outputTokens: g,
              outputTokensDetails: ((f = l.data.response.usage) == null ? void 0 : f.output_token_details) ?? {},
              totalTokens: _
            }
          }
        });
        return;
      }
      if (r.type === "response.output_audio.done") {
        this.emit("audio_done"), this._afterAudioDoneEvent();
        return;
      }
      if (r.type === "conversation.item.deleted") {
        this.emit("item_deleted", {
          itemId: r.item_id
        });
        return;
      }
      if (r.type === "conversation.item.input_audio_transcription.completed" || r.type === "conversation.item.truncated") {
        this.sendEvent({
          type: "conversation.item.retrieve",
          item_id: r.item_id
        });
        return;
      }
      if (r.type === "conversation.item.input_audio_transcription.delta" || r.type === "response.output_text.delta" || r.type === "response.output_audio_transcript.delta" || r.type === "response.function_call_arguments.delta") {
        r.type === "response.output_audio_transcript.delta" && this.emit("audio_transcript_delta", {
          type: "transcript_delta",
          delta: r.delta,
          itemId: r.item_id,
          responseId: r.response_id
        });
        return;
      }
      if (r.type === "conversation.item.added" || r.type === "conversation.item.done" || r.type === "conversation.item.retrieved") {
        if (r.item.type === "mcp_list_tools" && r.type === "conversation.item.done") {
          const l = r.item.server_label ?? "", h = r.item.tools ?? [];
          try {
            this.emit("mcp_tools_listed", {
              serverLabel: l,
              tools: h
            });
          } catch (g) {
            Te.error("Error emitting mcp_tools_listed", g, r.item);
          }
          return;
        }
        if (r.item.type === "message") {
          const l = r.type === "conversation.item.added" || r.type === "conversation.item.done" ? r.previous_item_id : null, h = Ja.parse({
            itemId: r.item.id,
            previousItemId: l,
            type: r.item.type,
            role: r.item.role,
            content: r.item.content,
            status: r.item.status
          });
          this.emit("item_update", h);
          return;
        }
        if (r.item.type === "mcp_approval_request" && r.type === "conversation.item.done") {
          const l = r.item, h = Bd.parse({
            itemId: l.id,
            type: l.type,
            serverLabel: l.server_label,
            name: l.name,
            arguments: JSON.parse(l.arguments || "{}"),
            approved: l.approved
          });
          this.emit("item_update", h), this.emit("mcp_approval_request", h);
          return;
        }
        if (r.item.type === "mcp_tool_call" || r.item.type === "mcp_call") {
          const l = r.type === "conversation.item.done" ? "completed" : "in_progress", h = za.parse({
            itemId: r.item.id,
            type: r.item.type,
            status: l,
            arguments: r.item.arguments,
            name: r.item.name,
            output: r.item.output
          });
          this.emit("item_update", h), r.type === "conversation.item.done" && this.emit("mcp_tool_call_completed", h);
          return;
        }
      }
      if (r.type === "response.mcp_call.in_progress") {
        const l = r;
        this.sendEvent({
          type: "conversation.item.retrieve",
          item_id: l.item_id
        });
        return;
      }
      if (r.type === "mcp_list_tools.in_progress") {
        const l = r;
        l.item_id && this.sendEvent({
          type: "conversation.item.retrieve",
          item_id: l.item_id
        });
        return;
      }
      if (r.type === "response.output_item.done" || r.type === "response.output_item.added") {
        const l = r.item;
        if (l.type === "function_call" && l.status === "completed") {
          const h = Ba.parse({
            itemId: l.id,
            type: l.type,
            status: "in_progress",
            // we set it to in_progress for the UI as it will only be completed with the output
            arguments: l.arguments,
            name: l.name,
            output: null
          });
          this.emit("item_update", h), this.emit("function_call", {
            id: l.id,
            type: "function_call",
            callId: l.call_id ?? "",
            arguments: l.arguments ?? "",
            name: l.name ?? ""
          });
          return;
        }
        if (l.type === "mcp_tool_call" || l.type === "mcp_call") {
          const h = za.parse({
            itemId: l.id,
            type: l.type,
            status: r.type === "response.output_item.done" ? "completed" : "in_progress",
            // we set it to in_progress for the UI as it will only be completed with the output
            arguments: l.arguments,
            name: l.name,
            output: l.output
          });
          this.emit("item_update", h);
          return;
        }
        if (l.type === "message") {
          const h = Ja.parse({
            itemId: r.item.id,
            type: r.item.type,
            role: r.item.role,
            content: r.item.content,
            status: r.type === "response.output_item.done" ? l.status ?? "completed" : l.status ?? "in_progress"
          });
          this.emit("item_update", h);
          return;
        }
      }
    }
  }
  _onError(t) {
    this.emit("error", {
      type: "error",
      error: t
    });
  }
  _onOpen() {
    this.emit("connected");
  }
  _onClose() {
    this.emit("disconnected");
  }
  /**
   * Send a message to the Realtime API. This will create a new item in the conversation and
   * trigger a response.
   *
   * @param message - The message to send.
   * @param otherEventData - Additional event data to send.
   */
  sendMessage(t, r, { triggerResponse: s = !0 } = {}) {
    const a = typeof t == "string" ? [
      {
        type: "input_text",
        text: t
      }
    ] : t.content.map((i) => i.type === "input_image" ? {
      type: "input_image",
      image_url: i.image,
      ...i.providerData ?? {}
    } : i);
    this.sendEvent({
      type: "conversation.item.create",
      item: {
        type: "message",
        role: "user",
        content: a
      },
      ...r
    }), s && this.sendEvent({
      type: "response.create"
    });
  }
  addImage(t, { triggerResponse: r = !0 } = {}) {
    this.sendMessage({
      type: "message",
      role: "user",
      content: [{ type: "input_image", image: t }]
    }, {}, { triggerResponse: r });
  }
  _getMergedSessionConfig(t) {
    var a, i, o, c, d, f, l, h, g, _, T, y, m, I, w, D, S, C, M, W, J, F, he, se, ue, Je, Ne, dn;
    const r = Jd(t), s = {
      type: "realtime",
      instructions: r.instructions,
      model: r.model ?? u(this, Tt),
      output_modalities: r.outputModalities ?? Re.outputModalities,
      audio: {
        input: {
          format: ((i = (a = r.audio) == null ? void 0 : a.input) == null ? void 0 : i.format) ?? ((c = (o = Re.audio) == null ? void 0 : o.input) == null ? void 0 : c.format),
          noise_reduction: ((f = (d = r.audio) == null ? void 0 : d.input) == null ? void 0 : f.noiseReduction) ?? ((h = (l = Re.audio) == null ? void 0 : l.input) == null ? void 0 : h.noiseReduction),
          transcription: ((_ = (g = r.audio) == null ? void 0 : g.input) == null ? void 0 : _.transcription) ?? ((y = (T = Re.audio) == null ? void 0 : T.input) == null ? void 0 : y.transcription),
          turn_detection: js.buildTurnDetectionConfig((I = (m = r.audio) == null ? void 0 : m.input) == null ? void 0 : I.turnDetection) ?? ((D = (w = Re.audio) == null ? void 0 : w.input) == null ? void 0 : D.turnDetection)
        },
        output: {
          format: ((C = (S = r.audio) == null ? void 0 : S.output) == null ? void 0 : C.format) ?? ((W = (M = Re.audio) == null ? void 0 : M.output) == null ? void 0 : W.format),
          voice: ((F = (J = r.audio) == null ? void 0 : J.output) == null ? void 0 : F.voice) ?? ((se = (he = Re.audio) == null ? void 0 : he.output) == null ? void 0 : se.voice),
          speed: ((Je = (ue = r.audio) == null ? void 0 : ue.output) == null ? void 0 : Je.speed) ?? ((dn = (Ne = Re.audio) == null ? void 0 : Ne.output) == null ? void 0 : dn.speed)
        }
      },
      tool_choice: r.toolChoice ?? Re.toolChoice,
      // We don't set tracing here to make sure that we don't try to override it on every
      // session.update as it might lead to errors
      ...r.providerData ?? {}
    };
    return r.prompt && (s.prompt = {
      id: r.prompt.promptId,
      version: r.prompt.version,
      variables: r.prompt.variables
    }), r.tools && r.tools.length > 0 && (s.tools = r.tools.map((Kn) => ({
      ...Kn,
      strict: void 0
    }))), s;
  }
  /**
   * Build the payload object expected by the Realtime API when creating or updating a session.
   *
   * The helper centralises the conversion from camelCase runtime config to the snake_case payload
   * required by the Realtime API so transports that need a one-off payload (for example SIP call
   * acceptance) can reuse the same logic without duplicating private state.
   *
   * @param config - The session config to merge with defaults.
   */
  buildSessionPayload(t) {
    return this._getMergedSessionConfig(t);
  }
  static buildTurnDetectionConfig(t) {
    if (typeof t > "u")
      return;
    const { type: r, createResponse: s, create_response: a, eagerness: i, interruptResponse: o, interrupt_response: c, prefixPaddingMs: d, prefix_padding_ms: f, silenceDurationMs: l, silence_duration_ms: h, threshold: g, idleTimeoutMs: _, idle_timeout_ms: T, ...y } = t, m = {
      type: r,
      create_response: s || a,
      eagerness: i,
      interrupt_response: o || c,
      prefix_padding_ms: d || f,
      silence_duration_ms: l || h,
      idle_timeout_ms: _ || T,
      threshold: g,
      ...y
    };
    return Object.keys(m).forEach((I) => {
      m[I] === void 0 && delete m[I];
    }), Object.keys(m).length > 0 ? m : void 0;
  }
  /**
   * Sets the internal tracing config. This is used to track the tracing config that has been set
   * during the session.create event.
   */
  set _tracingConfig(t) {
    k(this, ve, t);
  }
  /**
   * Sets the tracing config for the session. This will send the tracing config to the Realtime API.
   *
   * @param tracingConfig - The tracing config to set. We don't support 'auto' here as the SDK will always configure a Workflow Name unless it exists
   */
  _updateTracingConfig(t) {
    var r, s, a;
    if (typeof u(this, ve) > "u" && k(this, ve, null), t === "auto") {
      this.sendEvent({
        type: "session.update",
        session: {
          type: "realtime",
          tracing: "auto"
        }
      });
      return;
    }
    if (u(this, ve) !== null && typeof u(this, ve) != "string" && typeof t != "string") {
      Te.warn("Tracing config is already set, skipping setting it again. This likely happens when you already set a tracing config on session creation.");
      return;
    }
    if (t === null) {
      Te.debug("Disabling tracing for this session. It cannot be turned on for this session from this point on."), this.sendEvent({
        type: "session.update",
        session: {
          type: "realtime",
          tracing: null
        }
      });
      return;
    }
    if (u(this, ve) === null || typeof u(this, ve) == "string") {
      this.sendEvent({
        type: "session.update",
        session: {
          type: "realtime",
          tracing: t
        }
      });
      return;
    }
    if ((t == null ? void 0 : t.group_id) !== ((r = u(this, ve)) == null ? void 0 : r.group_id) || (t == null ? void 0 : t.metadata) !== ((s = u(this, ve)) == null ? void 0 : s.metadata) || (t == null ? void 0 : t.workflow_name) !== ((a = u(this, ve)) == null ? void 0 : a.workflow_name)) {
      Te.warn("Mismatch in tracing config. Ignoring the new tracing config. This likely happens when you already set a tracing config on session creation. Current tracing config: %s, new tracing config: %s", JSON.stringify(u(this, ve)), JSON.stringify(t));
      return;
    }
    this.sendEvent({
      type: "session.update",
      session: {
        type: "realtime",
        tracing: t
      }
    });
  }
  /**
   * Updates the session config. This will merge it with the current session config with the default
   * values and send it to the Realtime API.
   *
   * @param config - The session config to update.
   */
  updateSessionConfig(t) {
    const r = this.buildSessionPayload(t);
    this.sendEvent({
      type: "session.update",
      session: r
    });
  }
  /**
   * Send the output of a function call to the Realtime API.
   *
   * @param toolCall - The tool call to send the output for.
   * @param output - The output of the function call.
   * @param startResponse - Whether to start a new response after sending the output.
   */
  sendFunctionCallOutput(t, r, s = !0) {
    this.sendEvent({
      type: "conversation.item.create",
      item: {
        type: "function_call_output",
        output: r,
        call_id: t.callId
      }
    });
    try {
      const a = Ba.parse({
        itemId: t.id,
        previousItemId: t.previousItemId,
        type: "function_call",
        status: "completed",
        arguments: t.arguments,
        name: t.name,
        output: r
      });
      this.emit("item_update", a);
    } catch (a) {
      Te.error("Error parsing tool call item", a, t);
    }
    s && this.sendEvent({
      type: "response.create"
    });
  }
  /**
   * Send an audio buffer to the Realtime API. If `{ commit: true }` is passed, the audio buffer
   * will be committed and the model will start processing it. This is necessary if you have
   * disabled turn detection / voice activity detection (VAD).
   *
   * @param audio - The audio buffer to send.
   * @param options - The options for the audio buffer.
   */
  sendAudio(t, { commit: r = !1 } = {}) {
    this.sendEvent({
      type: "input_audio_buffer.append",
      audio: no(t)
    }), r && this.sendEvent({
      type: "input_audio_buffer.commit"
    });
  }
  /**
   * Reset the history of the conversation. This will create a diff between the old and new history
   * and send the necessary events to the Realtime API to update the history.
   *
   * @param oldHistory - The old history of the conversation.
   * @param newHistory - The new history of the conversation.
   */
  resetHistory(t, r) {
    const { removals: s, additions: a, updates: i } = Dd(t, r), o = new Set(s.map((d) => d.itemId));
    for (const d of i)
      o.add(d.itemId);
    if (o.size > 0)
      for (const d of o)
        this.sendEvent({
          type: "conversation.item.delete",
          item_id: d
        });
    const c = [...a, ...i];
    for (const d of c)
      if (d.type === "message") {
        const f = {
          type: "message",
          role: d.role,
          content: d.content,
          id: d.itemId
        };
        d.role !== "system" && d.status && (f.status = d.status), this.sendEvent({
          type: "conversation.item.create",
          item: f
        });
      } else d.type === "function_call" && Te.warn("Function calls cannot be manually added or updated at the moment. Ignoring.");
  }
  sendMcpResponse(t, r) {
    this.sendEvent({
      type: "conversation.item.create",
      previous_item_id: t.itemId,
      item: {
        type: "mcp_approval_response",
        approval_request_id: t.itemId,
        approve: r
      }
    });
  }
};
Tt = new WeakMap(), Fn = new WeakMap(), ve = new WeakMap(), Ln = new WeakMap();
let _r = js;
var Un, Q, Zn, lt, qn;
class zp extends _r {
  constructor(t = {}) {
    if (typeof RTCPeerConnection > "u")
      throw new Error("WebRTC is not supported in this environment");
    super(t);
    x(this, "options");
    N(this, Un);
    N(this, Q, {
      status: "disconnected",
      peerConnection: void 0,
      dataChannel: void 0,
      callId: void 0
    });
    N(this, Zn);
    N(this, lt, !1);
    N(this, qn, !1);
    this.options = t, k(this, Un, t.baseUrl ?? "https://api.openai.com/v1/realtime/calls"), k(this, Zn, t.useInsecureApiKey ?? !1);
  }
  /**
   * The current call ID of the WebRTC connection.
   */
  get callId() {
    return u(this, Q).callId;
  }
  /**
   * The current status of the WebRTC connection.
   */
  get status() {
    return u(this, Q).status;
  }
  /**
   * The current connection state of the WebRTC connection including the peer connection and data
   * channel.
   */
  get connectionState() {
    return u(this, Q);
  }
  /**
   * Whether the session is muted.
   */
  get muted() {
    return u(this, qn);
  }
  /**
   * Connect to the Realtime API. This will establish the connection to the OpenAI Realtime API
   * via WebRTC.
   *
   * If you are using a browser, the transport layer will also automatically configure the
   * microphone and audio output to be used by the session.
   *
   * @param options - The options for the connection.
   */
  async connect(t) {
    if (u(this, Q).status === "connected")
      return;
    u(this, Q).status === "connecting" && Te.warn("Realtime connection already in progress. Please await original promise");
    const r = t.model ?? this.currentModel;
    this.currentModel = r;
    const s = t.url ?? u(this, Un), a = await this._getApiKey(t), i = typeof a == "string" && a.startsWith("ek_");
    if (!u(this, Zn) && !i)
      throw new ne("Using the WebRTC connection in a browser environment requires an ephemeral client key. If you need to use a regular API key, use the WebSocket transport or set the `useInsecureApiKey` option to true.");
    return new Promise(async (o, c) => {
      var d, f;
      try {
        const l = {
          ...t.initialSessionConfig || {},
          model: this.currentModel
        }, h = new URL(s);
        let g = new RTCPeerConnection();
        const _ = g.createDataChannel("oai-events");
        let T;
        const y = (C) => {
          C.onconnectionstatechange = () => {
            switch (C.connectionState) {
              case "disconnected":
              case "failed":
              case "closed":
                this.close();
                break;
            }
          };
        };
        y(g), k(this, Q, {
          status: "connecting",
          peerConnection: g,
          dataChannel: _,
          callId: T
        }), this.emit("connection_change", u(this, Q).status), _.addEventListener("open", () => {
          k(this, Q, {
            status: "connected",
            peerConnection: g,
            dataChannel: _,
            callId: T
          }), this.updateSessionConfig(l), this.emit("connection_change", u(this, Q).status), this._onOpen(), o();
        }), _.addEventListener("error", (C) => {
          this.close(), this._onError(C), c(C);
        }), _.addEventListener("message", (C) => {
          this._onMessage(C);
          const { data: M, isGeneric: W } = Ps(C);
          if (!(!M || W) && (M.type === "response.created" ? k(this, lt, !0) : M.type === "response.done" && k(this, lt, !1), M.type === "session.created")) {
            this._tracingConfig = M.session.tracing;
            const J = typeof l.tracing > "u" ? "auto" : l.tracing;
            this._updateTracingConfig(J);
          }
        });
        const m = this.options.audioElement ?? document.createElement("audio");
        m.autoplay = !0, g.ontrack = (C) => {
          m.srcObject = C.streams[0];
        };
        const I = this.options.mediaStream ?? await navigator.mediaDevices.getUserMedia({
          audio: !0
        });
        if (g.addTrack(I.getAudioTracks()[0]), this.options.changePeerConnection) {
          const C = g;
          g = await this.options.changePeerConnection(g), C !== g && (C.onconnectionstatechange = null), y(g), k(this, Q, { ...u(this, Q), peerConnection: g });
        }
        const w = await g.createOffer();
        if (await g.setLocalDescription(w), !w.sdp)
          throw new Error("Failed to create offer");
        const D = await fetch(h, {
          method: "POST",
          body: w.sdp,
          headers: {
            "Content-Type": "application/sdp",
            Authorization: `Bearer ${a}`,
            "X-OpenAI-Agents-SDK": so["X-OpenAI-Agents-SDK"]
          }
        });
        T = (f = (d = D.headers) == null ? void 0 : d.get("Location")) == null ? void 0 : f.split("/").pop(), k(this, Q, { ...u(this, Q), callId: T });
        const S = {
          type: "answer",
          sdp: await D.text()
        };
        await g.setRemoteDescription(S);
      } catch (l) {
        this.close(), this._onError(l), c(l);
      }
    });
  }
  /**
   * Send an event to the Realtime API. This will stringify the event and send it directly to the
   * API. This can be used if you want to take control over the connection and send events manually.
   *
   * @param event - The event to send.
   */
  sendEvent(t) {
    if (!u(this, Q).dataChannel || u(this, Q).dataChannel.readyState !== "open")
      throw new Error("WebRTC data channel is not connected. Make sure you call `connect()` before sending events.");
    u(this, Q).dataChannel.send(JSON.stringify(t));
  }
  /**
   * Mute or unmute the session.
   * @param muted - Whether to mute the session.
   */
  mute(t) {
    k(this, qn, t), u(this, Q).peerConnection && u(this, Q).peerConnection.getSenders().forEach((s) => {
      s.track && (s.track.enabled = !t);
    });
  }
  _afterAudioDoneEvent() {
    k(this, lt, !1);
  }
  /**
   * Close the connection to the Realtime API and disconnects the underlying WebRTC connection.
   */
  close() {
    if (u(this, Q).dataChannel && u(this, Q).dataChannel.close(), u(this, Q).peerConnection) {
      const t = u(this, Q).peerConnection;
      t.onconnectionstatechange = null, t.getSenders().forEach((r) => {
        var s;
        (s = r.track) == null || s.stop();
      }), t.close();
    }
    u(this, Q).status !== "disconnected" && (k(this, Q, {
      status: "disconnected",
      peerConnection: void 0,
      dataChannel: void 0,
      callId: void 0
    }), this.emit("connection_change", u(this, Q).status), this._onClose());
  }
  /**
   * Interrupt the current response if one is ongoing and clear the audio buffer so that the agent
   * stops talking.
   */
  interrupt() {
    u(this, lt) && (this.sendEvent({
      type: "response.cancel"
    }), k(this, lt, !1)), this.sendEvent({
      type: "output_audio_buffer.clear"
    });
  }
}
Un = new WeakMap(), Q = new WeakMap(), Zn = new WeakMap(), lt = new WeakMap(), qn = new WeakMap();
const Gp = globalThis.WebSocket;
var dt, kt, At, de, Jn, Ke, Ct, Ot, Qt, Bn, $t, ps, uo;
class oo extends _r {
  constructor(t = {}) {
    super(t);
    N(this, $t);
    N(this, dt);
    N(this, kt);
    N(this, At);
    N(this, de, {
      status: "disconnected",
      websocket: void 0
    });
    N(this, Jn);
    N(this, Ke);
    N(this, Ct);
    /**
     * Timestamp maintained by the transport layer to aid with the calculation of the elapsed time
     * since the response started to compute the right interruption time.
     *
     * Mostly internal but might be used by extended transport layers for their interruption
     * calculation.
     */
    x(this, "_firstAudioTimestamp");
    x(this, "_audioLengthMs", 0);
    N(this, Ot, !1);
    N(this, Qt);
    N(this, Bn);
    k(this, kt, t.url), k(this, At, t.url), k(this, Jn, t.useInsecureApiKey ?? !1), k(this, Qt, t.createWebSocket), k(this, Bn, t.skipOpenEventListeners ?? !1);
  }
  getCommonRequestHeaders() {
    return so;
  }
  /**
   * The current status of the WebSocket connection.
   */
  get status() {
    return u(this, de).status;
  }
  /**
   * The current connection state of the WebSocket connection.
   */
  get connectionState() {
    return u(this, de);
  }
  /**
   * Always returns `null` as the WebSocket transport layer does not handle muting. Instead,
   * this should be handled by the client by not triggering the `sendAudio` method.
   */
  get muted() {
    return null;
  }
  /**
   * The current item ID of the ongoing response.
   */
  get currentItemId() {
    return u(this, Ke);
  }
  /**
   * Triggers the `audio` event that a client might listen to to receive the audio buffer.
   * Protected for you to be able to override and disable emitting this event in case your extended
   * transport layer handles audio internally.
   *
   * @param audioEvent - The audio event to emit.
   */
  _onAudio(t) {
    this.emit("audio", t);
  }
  _afterAudioDoneEvent() {
    L(this, $t, ps).call(this);
  }
  async connect(t) {
    const r = t.model ?? this.currentModel;
    this.currentModel = r, k(this, dt, await this._getApiKey(t));
    const s = t.callId;
    let a;
    t.url ? (a = t.url, k(this, At, t.url)) : s ? a = `wss://api.openai.com/v1/realtime?call_id=${s}` : u(this, At) ? a = u(this, At) : a = `wss://api.openai.com/v1/realtime?model=${this.currentModel}`, k(this, kt, a);
    const i = {
      ...t.initialSessionConfig || {},
      model: this.currentModel
    };
    await new Promise((o, c) => {
      L(this, $t, uo).call(this, o, c, i).catch(c);
    }), await this.updateSessionConfig(i);
  }
  /**
   * Send an event to the Realtime API. This will stringify the event and send it directly to the
   * API. This can be used if you want to take control over the connection and send events manually.
   *
   * @param event - The event to send.
   */
  sendEvent(t) {
    if (!u(this, de).websocket)
      throw new Error("WebSocket is not connected. Make sure you call `connect()` before sending events.");
    u(this, de).websocket.send(JSON.stringify(t));
  }
  /**
   * Close the WebSocket connection.
   *
   * This will also reset any internal connection tracking used for interruption handling.
   */
  close() {
    var t;
    (t = u(this, de).websocket) == null || t.close(), k(this, Ke, void 0), this._firstAudioTimestamp = void 0, this._audioLengthMs = 0, k(this, Ct, void 0);
  }
  /**
   * Will throw an error as the WebSocket transport layer does not support muting.
   */
  mute(t) {
    throw new Error("Mute is not supported for the WebSocket transport. You have to mute the audio input yourself.");
  }
  /**
   * Send an audio buffer to the Realtime API. This is used for your client to send audio to the
   * model to respond.
   *
   * @param audio - The audio buffer to send.
   * @param options - The options for the audio buffer.
   */
  sendAudio(t, r = {}) {
    u(this, de).status === "connected" && super.sendAudio(t, r);
  }
  /**
   * Send a cancel response event to the Realtime API. This is used to cancel an ongoing
   *  response that the model is currently generating.
   */
  _cancelResponse() {
    u(this, Ot) && (this.sendEvent({
      type: "response.cancel"
    }), k(this, Ot, !1));
  }
  /**
   * Do NOT call this method directly. Call `interrupt()` instead for proper interruption handling.
   *
   * This method is used to send the right events to the API to inform the model that the user has
   * interrupted the response. It might be overridden/extended by an extended transport layer. See
   * the `TwilioRealtimeTransportLayer` for an example.
   *
   * @param elapsedTime - The elapsed time since the response started.
   */
  _interrupt(t, r = !0) {
    if (t < 0)
      return;
    r && this._cancelResponse();
    const s = this._audioLengthMs ?? Number.POSITIVE_INFINITY, a = Math.max(0, Math.floor(Math.min(t, s)));
    this.emit("audio_interrupted"), this.sendEvent({
      type: "conversation.item.truncate",
      item_id: u(this, Ke),
      content_index: u(this, Ct),
      audio_end_ms: a
    });
  }
  /**
   * Interrupt the ongoing response. This method is triggered automatically by the client when
   * voice activity detection (VAD) is enabled (default) as well as when an output guardrail got
   * triggered.
   *
   * You can also call this method directly if you want to interrupt the conversation for example
   * based on an event in the client.
   */
  interrupt(t = !0) {
    if (!u(this, Ke) || typeof this._firstAudioTimestamp != "number")
      return;
    const r = Date.now() - this._firstAudioTimestamp;
    r >= 0 && this._interrupt(r, t), L(this, $t, ps).call(this);
  }
}
dt = new WeakMap(), kt = new WeakMap(), At = new WeakMap(), de = new WeakMap(), Jn = new WeakMap(), Ke = new WeakMap(), Ct = new WeakMap(), Ot = new WeakMap(), Qt = new WeakMap(), Bn = new WeakMap(), $t = new WeakSet(), ps = function() {
  k(this, Ke, void 0), this._firstAudioTimestamp = void 0, this._audioLengthMs = 0, k(this, Ct, void 0);
}, uo = async function(t, r, s) {
  if (u(this, de).websocket) {
    t();
    return;
  }
  if (!u(this, dt))
    throw new ne("API key is not set. Please call `connect()` with an API key first.");
  if (!u(this, dt).startsWith("ek_") && !u(this, Jn))
    throw new ne("Using the WebSocket connection in a browser environment requires an ephemeral client key. If you have to use a regular API key, set the `useInsecureApiKey` option to true.");
  let a = null;
  if (u(this, Qt))
    a = await u(this, Qt).call(this, {
      url: u(this, kt),
      apiKey: u(this, dt)
    });
  else {
    const o = [
      "realtime",
      // Auth
      "openai-insecure-api-key." + u(this, dt),
      // Version header
      $d
    ];
    a = new Gp(u(this, kt), o);
  }
  k(this, de, {
    status: "connecting",
    websocket: a
  }), this.emit("connection_change", u(this, de).status);
  const i = () => {
    k(this, de, {
      status: "connected",
      websocket: a
    }), this.emit("connection_change", u(this, de).status), this._onOpen(), t();
  };
  u(this, Bn) === !0 ? i() : a.addEventListener("open", i), a.addEventListener("error", (o) => {
    this._onError(o), k(this, de, {
      status: "disconnected",
      websocket: void 0
    }), this.emit("connection_change", u(this, de).status), r(o);
  }), a.addEventListener("message", (o) => {
    var f, l, h, g, _, T, y;
    this._onMessage(o);
    const { data: c, isGeneric: d } = Ps(o);
    if (!(!c || d)) {
      if (c.type === "response.output_audio.delta") {
        k(this, Ct, c.content_index), k(this, Ke, c.item_id), this._firstAudioTimestamp === void 0 && (this._firstAudioTimestamp = Date.now(), this._audioLengthMs = 0);
        const m = to(c.delta), I = (h = (l = (f = this._rawSessionConfig) == null ? void 0 : f.audio) == null ? void 0 : l.output) == null ? void 0 : h.format;
        if (I && typeof I == "object") {
          const D = I.type;
          if (D === "audio/pcmu" || D === "audio/pcma")
            this._audioLengthMs += m.byteLength / 8;
          else if (D === "audio/pcm") {
            const S = I.rate ?? 24e3;
            this._audioLengthMs += m.byteLength / 2 / S * 1e3;
          } else
            this._audioLengthMs += m.byteLength / 24 / 2;
        } else typeof I == "string" ? I.startsWith("g711_") ? this._audioLengthMs += m.byteLength / 8 : this._audioLengthMs += m.byteLength / 24 / 2 : this._audioLengthMs += m.byteLength / 24 / 2;
        const w = {
          type: "audio",
          data: m,
          responseId: c.response_id
        };
        this._onAudio(w);
      } else if (c.type === "input_audio_buffer.speech_started") {
        const m = ((y = (T = (_ = (g = this._rawSessionConfig) == null ? void 0 : g.audio) == null ? void 0 : _.input) == null ? void 0 : T.turn_detection) == null ? void 0 : y.interrupt_response) ?? !1;
        this.interrupt(!m);
      } else if (c.type === "response.created")
        k(this, Ot, !0);
      else if (c.type === "response.done")
        k(this, Ot, !1);
      else if (c.type === "session.created") {
        this._tracingConfig = c.session.tracing;
        const m = typeof s.tracing > "u" ? "auto" : s.tracing;
        this._updateTracingConfig(m);
      }
    }
  }), a.addEventListener("close", () => {
    k(this, de, {
      status: "disconnected",
      websocket: void 0
    }), this.emit("connection_change", u(this, de).status), this._onClose();
  });
};
const co = Symbol("backgroundResult");
function ef(n) {
  return {
    [co]: !0,
    content: n
  };
}
function Vp(n) {
  return typeof n == "object" && n !== null && co in n;
}
function Wp(n) {
  return n.type === "function" || n.type === "hosted_tool" && n.name === "hosted_mcp";
}
function Hp(n) {
  if (n.type === "function")
    return n;
  if (n.type === "hosted_tool" && n.name === "hosted_mcp") {
    const e = n.providerData.server_url && n.providerData.server_url.length > 0 ? n.providerData.server_url : void 0;
    return {
      type: "mcp",
      server_label: n.providerData.server_label,
      server_url: e,
      headers: n.providerData.headers,
      allowed_tools: n.providerData.allowed_tools,
      require_approval: n.providerData.require_approval
    };
  }
  throw new ne(`Invalid tool type: ${n}`);
}
function Kp() {
  return JSON.parse(JSON.stringify(Re));
}
var G, U, en, Z, tn, nn, zn, ae, rn, sn, De, Gn, Et, Vn, Wn, te, gn, yn, lo, nr, po, hs, fo, ms;
const $s = class $s extends Ir {
  constructor(t, r = {}) {
    super();
    N(this, te);
    x(this, "initialAgent");
    x(this, "options");
    N(this, G);
    N(this, U);
    N(this, en);
    N(this, Z);
    N(this, tn, []);
    N(this, nn);
    N(this, zn, {});
    N(this, ae, []);
    N(this, rn);
    N(this, sn, {});
    N(this, De, !1);
    // Tracks all MCP tools fetched per server label (from mcp_list_tools results).
    N(this, Gn, /* @__PURE__ */ new Map());
    // Tracks currently available MCP tools based on the active agent's configured server_labels.
    N(this, Et, []);
    // Keeps track of the last full session config we sent (camelCase keys) so that
    // subsequent updates (e.g. during agent handoffs) preserve properties that are
    // not explicitly recalculated here (such as inputAudioFormat, outputAudioFormat,
    // modalities, speed, toolChoice, turnDetection, etc.). Without this, updating
    // the agent would drop audio format overrides (e.g. g711_ulaw) and revert to
    // transport defaults causing issues for integrations like Twilio.
    N(this, Vn, Kp());
    N(this, Wn, !0);
    this.initialAgent = t, this.options = r, typeof r.transport > "u" && Md() || r.transport === "webrtc" ? k(this, G, new zp()) : r.transport === "websocket" || typeof r.transport > "u" ? k(this, G, new oo()) : k(this, G, r.transport), k(this, U, t), k(this, Z, new Zt({
      ...r.context ?? {},
      history: u(this, ae)
    })), k(this, tn, (r.outputGuardrails ?? []).map(Ud)), k(this, nn, Ld(r.outputGuardrailSettings ?? {})), k(this, rn, r.historyStoreAudio ?? !1), k(this, Wn, r.automaticallyTriggerResponseForMcpToolCalls ?? !0);
  }
  /**
   * The transport layer used by the session.
   */
  get transport() {
    return u(this, G);
  }
  /**
   * The current agent in the session.
   */
  get currentAgent() {
    return u(this, U);
  }
  /**
   * The current usage of the session.
   */
  get usage() {
    return u(this, Z).usage;
  }
  /**
   * The current context of the session.
   */
  get context() {
    return u(this, Z);
  }
  /**
   * Whether the session is muted. Might be `null` if the underlying transport layer does not
   * support muting.
   */
  get muted() {
    return u(this, G).muted;
  }
  /**
   * The history of the session.
   */
  get history() {
    return u(this, ae);
  }
  get availableMcpTools() {
    return u(this, Et);
  }
  /**
   * Compute the initial session config that the current session will use when connecting.
   *
   * This mirrors the configuration payload we send during `connect`, including dynamic values
   * such as the upstream agent instructions, tool definitions, and prompt content generated at
   * runtime. Keeping this helper exposed allows transports or orchestration layers to precompute
   * a CallAccept-compatible payload without opening a socket.
   *
   * @param overrides - Additional config overrides applied on top of the session options.
   */
  async getInitialSessionConfig(t = {}) {
    return await L(this, te, gn).call(this, this.initialAgent), L(this, te, yn).call(this, {
      ...this.options.config ?? {},
      ...t ?? {}
    });
  }
  /**
   * Convenience helper to compute the initial session config without manually instantiating and connecting a session.
   *
   * This is primarily useful for integrations that must provide the session configuration to a
   * third party (for example the SIP `calls.accept` endpoint) before the actual realtime session
   * is attached. The helper instantiates a throwaway session so all agent-driven dynamic fields
   * resolve in exactly the same way as the live session path.
   *
   * @param agent - The starting agent for the session.
   * @param options - Session options used to seed the config calculation.
   * @param overrides - Additional config overrides applied on top of the provided options.
   */
  static async computeInitialSessionConfig(t, r = {}, s = {}) {
    const a = new $s(t, r);
    try {
      return await a.getInitialSessionConfig(s);
    } finally {
      a.close();
    }
  }
  async updateAgent(t) {
    return u(this, U).emit("agent_handoff", u(this, Z), t), this.emit("agent_handoff", u(this, Z), u(this, U), t), await L(this, te, gn).call(this, t), await u(this, G).updateSessionConfig(await L(this, te, yn).call(this)), t;
  }
  /**
   * Connect to the session. This will establish the connection to the underlying transport layer
   * and start the session.
   *
   * After connecting, the session will also emit a `history_updated` event with an empty history.
   *
   * @param options - The options for the connection.
   */
  async connect(t) {
    await L(this, te, gn).call(this, this.initialAgent), L(this, te, fo).call(this), await u(this, G).connect({
      apiKey: t.apiKey ?? this.options.apiKey,
      model: this.options.model,
      url: t.url,
      callId: t.callId,
      initialSessionConfig: await L(this, te, yn).call(this, this.options.config)
    }), k(this, ae, []), this.emit("history_updated", u(this, ae));
  }
  /**
   * Update the history of the session.
   * @param newHistory - The new history to set.
   */
  updateHistory(t) {
    let r;
    typeof t == "function" ? r = t(u(this, ae)) : r = t, u(this, G).resetHistory(u(this, ae), r);
  }
  /**
   * Send a message to the session.
   * @param message - The message to send.
   * @param otherEventData - Additional event data to send.
   */
  sendMessage(t, r = {}) {
    u(this, G).sendMessage(t, r);
  }
  /**
   * Add image to the session
   * @param image - The image to add.
   */
  addImage(t, { triggerResponse: r = !0 } = {}) {
    u(this, G).addImage(t, { triggerResponse: r });
  }
  /**
   * Mute the session.
   * @param muted - Whether to mute the session.
   */
  mute(t) {
    u(this, G).mute(t);
  }
  /**
   * Disconnect from the session.
   */
  close() {
    k(this, sn, {}), u(this, G).close();
  }
  /**
   * Send audio to the session.
   * @param audio - The audio to send.
   * @param options - Additional options.
   * @param options.commit - Whether to finish the turn with this audio.
   */
  sendAudio(t, r = {}) {
    u(this, G).sendAudio(t, r);
  }
  /**
   * Interrupt the session artificially for example if you want to build a "stop talking"
   * button.
   */
  interrupt() {
    u(this, G).interrupt();
  }
  /**
   * Approve a tool call. This will also trigger the tool call to the agent.
   * @param approvalItem - The approval item to approve.
   * @param options - Additional options.
   * @param options.alwaysApprove - Whether to always approve the tool call.
   */
  async approve(t, r = { alwaysApprove: !1 }) {
    u(this, Z).approveTool(t, r);
    const s = t.toolName ?? t.rawItem.name, a = u(this, U).tools.find((i) => i.name === s);
    if (a && a.type === "function" && t.rawItem.type === "function_call")
      await L(this, te, nr).call(this, t.rawItem, a);
    else if (t.rawItem.type === "hosted_tool_call") {
      r.alwaysApprove && Te.warn("Always approving MCP tools is not supported. Use the allowed tools configuration instead.");
      const i = qa(t);
      u(this, G).sendMcpResponse(i, !0);
    } else
      throw new we(`Tool ${s ?? "unknown"} not found`);
  }
  /**
   * Reject a tool call. This will also trigger the tool call to the agent.
   * @param approvalItem - The approval item to reject.
   * @param options - Additional options.
   * @param options.alwaysReject - Whether to always reject the tool call.
   */
  async reject(t, r = { alwaysReject: !1 }) {
    u(this, Z).rejectTool(t, r);
    const s = t.toolName ?? t.rawItem.name, a = u(this, U).tools.find((i) => i.name === s);
    if (a && a.type === "function" && t.rawItem.type === "function_call")
      await L(this, te, nr).call(this, t.rawItem, a);
    else if (t.rawItem.type === "hosted_tool_call") {
      r.alwaysReject && Te.warn("Always rejecting MCP tools is not supported. Use the allowed tools configuration instead.");
      const i = qa(t);
      u(this, G).sendMcpResponse(i, !1);
    } else
      throw new we(`Tool ${s ?? "unknown"} not found`);
  }
};
G = new WeakMap(), U = new WeakMap(), en = new WeakMap(), Z = new WeakMap(), tn = new WeakMap(), nn = new WeakMap(), zn = new WeakMap(), ae = new WeakMap(), rn = new WeakMap(), sn = new WeakMap(), De = new WeakMap(), Gn = new WeakMap(), Et = new WeakMap(), Vn = new WeakMap(), Wn = new WeakMap(), te = new WeakSet(), gn = async function(t) {
  k(this, U, t);
  const r = await u(this, U).getEnabledHandoffs(u(this, Z)), s = r.map((c) => c.getHandoffAsFunctionTool()), a = (await u(this, U).getAllTools(u(this, Z))).filter(Wp).map(Hp), i = typeof u(this, U).tools < "u" || typeof u(this, U).mcpServers < "u", o = r.length > 0;
  k(this, en, i || o ? [...a, ...s] : void 0), L(this, te, ms).call(this);
}, yn = async function(t = {}) {
  const r = t ?? {}, s = this.options.config ?? {}, a = await u(this, U).getSystemPrompt(u(this, Z)), i = (g) => {
    var T;
    const _ = g.audio;
    return (T = _ == null ? void 0 : _.output) == null ? void 0 : T.voice;
  }, o = this.options.tracingDisabled ? null : this.options.workflowName ? {
    workflow_name: this.options.workflowName
  } : "auto";
  o !== null && o !== "auto" ? (this.options.groupId && (o.group_id = this.options.groupId), this.options.traceMetadata && (o.metadata = this.options.traceMetadata)) : (this.options.groupId || this.options.traceMetadata) && Te.warn("In order to set traceMetadata or a groupId you need to specify a workflowName.");
  const c = i(r) ?? i(s), d = r.voice ?? s.voice, f = typeof c < "u" ? c : typeof d < "u" ? d : u(this, U).voice, h = {
    ...{
      ...u(this, Vn) ?? {},
      ...s,
      ...r
    },
    instructions: a,
    voice: f,
    model: this.options.model,
    tools: u(this, en),
    tracing: o,
    prompt: typeof u(this, U).prompt == "function" ? await u(this, U).prompt(u(this, Z), u(this, U)) : u(this, U).prompt
  };
  return k(this, Vn, h), h;
}, lo = async function(t, r) {
  const s = await r.onInvokeHandoff(u(this, Z), t.arguments);
  u(this, U).emit("agent_handoff", u(this, Z), s), this.emit("agent_handoff", u(this, Z), u(this, U), s), await L(this, te, gn).call(this, s), await u(this, G).updateSessionConfig(await L(this, te, yn).call(this));
  const a = _i(s);
  return u(this, G).sendFunctionCallOutput(t, a, !0), s;
}, nr = async function(t, r) {
  u(this, Z).context.history = JSON.parse(JSON.stringify(u(this, ae)));
  let s = t.arguments;
  if (r.parameters && (jt(r.parameters) ? s = r.parameters.parse(s) : s = JSON.parse(s)), await r.needsApproval(u(this, Z), s, t.callId)) {
    const c = this.context.isToolApproved({
      toolName: r.name,
      callId: t.callId
    });
    if (c === !1) {
      this.emit("agent_tool_start", u(this, Z), u(this, U), r, {
        toolCall: t
      }), u(this, U).emit("agent_tool_start", u(this, Z), r, {
        toolCall: t
      });
      const d = "Tool execution was not approved.";
      u(this, G).sendFunctionCallOutput(t, d, !0), this.emit("agent_tool_end", u(this, Z), u(this, U), r, d, { toolCall: t }), u(this, U).emit("agent_tool_end", u(this, Z), r, d, {
        toolCall: t
      });
      return;
    } else if (typeof c > "u") {
      this.emit("tool_approval_requested", u(this, Z), u(this, U), {
        type: "function_approval",
        tool: r,
        approvalItem: new ye(t, u(this, U))
      });
      return;
    }
  }
  this.emit("agent_tool_start", u(this, Z), u(this, U), r, {
    toolCall: t
  }), u(this, U).emit("agent_tool_start", u(this, Z), r, {
    toolCall: t
  }), u(this, Z).context.history = JSON.parse(JSON.stringify(u(this, ae)));
  const i = await r.invoke(u(this, Z), t.arguments, {
    toolCall: t
  });
  let o;
  Vp(i) ? (o = ft(i.content), u(this, G).sendFunctionCallOutput(t, o, !1)) : (o = ft(i), u(this, G).sendFunctionCallOutput(t, o, !0)), this.emit("agent_tool_end", u(this, Z), u(this, U), r, o, { toolCall: t }), u(this, U).emit("agent_tool_end", u(this, Z), r, o, { toolCall: t });
}, po = async function(t) {
  const r = await u(this, U).getEnabledHandoffs(u(this, Z)), s = new Map(r.map((c) => [c.toolName, c])), a = await u(this, U).getAllTools(u(this, Z)), i = new Map(a.map((c) => [c.name, c])), o = s.get(t.name);
  if (o)
    await L(this, te, lo).call(this, t, o);
  else {
    const c = i.get(t.name);
    if (c && c.type === "function")
      await L(this, te, nr).call(this, t, c);
    else
      throw new we(`Tool ${t.name} not found`);
  }
}, hs = async function(t, r, s) {
  if (u(this, tn).length === 0)
    return;
  const a = {
    agent: u(this, U),
    agentOutput: t,
    context: u(this, Z)
  }, o = (await Promise.all(u(this, tn).map((c) => c.run(a)))).find((c) => c.output.tripwireTriggered);
  if (o) {
    if (u(this, sn)[r])
      return;
    u(this, sn)[r] = !0;
    const c = new Yr(`Output guardrail triggered: ${JSON.stringify(o.output.outputInfo)}`, o);
    this.emit("guardrail_tripped", u(this, Z), u(this, U), c, {
      itemId: s
    }), this.interrupt();
    const d = Zd(o);
    this.sendMessage(d);
    return;
  }
}, fo = function() {
  u(this, G).on("*", (s) => {
    if (this.emit("transport_event", s), s.type === "conversation.item.input_audio_transcription.completed")
      try {
        const a = s;
        k(this, ae, Za(u(this, ae), a, u(this, rn))), u(this, Z).context.history = u(this, ae), this.emit("history_updated", u(this, ae));
      } catch (a) {
        this.emit("error", {
          type: "error",
          error: a
        });
      }
  }), u(this, G).on("mcp_tools_listed", ({ serverLabel: s, tools: a }) => {
    try {
      u(this, Gn).set(s, a ?? []), L(this, te, ms).call(this);
    } catch (i) {
      this.emit("error", { type: "error", error: i });
    }
  }), u(this, G).on("audio", (s) => {
    u(this, De) || (k(this, De, !0), this.emit("audio_start", u(this, Z), u(this, U))), this.emit("audio", s);
  }), u(this, G).on("turn_started", () => {
    k(this, De, !1), this.emit("agent_start", u(this, Z), u(this, U)), u(this, U).emit("agent_start", u(this, Z), u(this, U));
  }), u(this, G).on("turn_done", (s) => {
    const a = s.response.output[s.response.output.length - 1], i = ro(a) ?? "", o = (a == null ? void 0 : a.id) ?? "";
    this.emit("agent_end", u(this, Z), u(this, U), i), u(this, U).emit("agent_end", u(this, Z), i), L(this, te, hs).call(this, i, s.response.id, o);
  }), u(this, G).on("audio_done", () => {
    u(this, De) && k(this, De, !1), this.emit("audio_stopped", u(this, Z), u(this, U));
  });
  let t = 0, r;
  u(this, G).on("audio_transcript_delta", (s) => {
    try {
      const a = s.delta, i = s.itemId, o = s.responseId;
      r !== i && (r = i, t = 0);
      const d = (u(this, zn)[i] ?? "") + a;
      if (u(this, zn)[i] = d, u(this, nn).debounceTextLength < 0)
        return;
      const f = Math.floor(d.length / u(this, nn).debounceTextLength);
      f > t && (t = f, L(this, te, hs).call(this, d, o, i));
    } catch (a) {
      this.emit("error", {
        type: "error",
        error: a
      });
    }
  }), u(this, G).on("item_update", (s) => {
    try {
      const a = !u(this, ae).some((i) => i.itemId === s.itemId);
      if (k(this, ae, Za(u(this, ae), s, u(this, rn))), u(this, Z).context.history = u(this, ae), a) {
        const i = u(this, ae).find((o) => o.itemId === s.itemId);
        i && this.emit("history_added", i);
      }
      this.emit("history_updated", u(this, ae));
    } catch (a) {
      this.emit("error", {
        type: "error",
        error: a
      });
    }
  }), u(this, G).on("item_deleted", (s) => {
    try {
      k(this, ae, u(this, ae).filter((a) => a.itemId !== s.itemId)), u(this, Z).context.history = u(this, ae), this.emit("history_updated", u(this, ae));
    } catch (a) {
      this.emit("error", {
        type: "error",
        error: a
      });
    }
  }), u(this, G).on("function_call", async (s) => {
    try {
      await L(this, te, po).call(this, s);
    } catch (a) {
      Te.error("Error handling function call", a), this.emit("error", {
        type: "error",
        error: a
      });
    }
  }), u(this, G).on("usage_update", (s) => {
    u(this, Z).usage.add(s);
  }), u(this, G).on("audio_interrupted", () => {
    u(this, De) && k(this, De, !1), this.emit("audio_interrupted", u(this, Z), u(this, U));
  }), u(this, G).on("error", (s) => {
    this.emit("error", s);
  }), u(this, G).on("mcp_tool_call_completed", (s) => {
    this.emit("mcp_tool_call_completed", u(this, Z), u(this, U), s), u(this, Wn) && u(this, G).sendEvent({
      type: "response.create"
    });
  }), u(this, G).on("mcp_approval_request", (s) => {
    this.emit("tool_approval_requested", u(this, Z), u(this, U), {
      type: "mcp_approval_request",
      approvalItem: Fd(u(this, U), s)
    });
  });
}, /**
 * Recomputes the currently available MCP tools based on the current agent's active
 * MCP server configurations and the cached per-server tool listings. Emits
 * `mcp_tools_changed` if the set changed.
 */
ms = function() {
  var c;
  const t = (c = u(this, en)) == null ? void 0 : c.filter((d) => d.type === "mcp"), r = (d) => {
    const f = d.allowed_tools;
    if (f) {
      if (Array.isArray(f))
        return f;
      if (f && Array.isArray(f.tool_names))
        return f.tool_names;
    }
  }, s = /* @__PURE__ */ new Map();
  for (const d of t) {
    const f = u(this, Gn).get(d.server_label) ?? [], l = r(d);
    for (const h of f)
      l && !l.includes(h.name) || s.has(h.name) || s.set(h.name, h);
  }
  const a = Array.from(s.values()), i = u(this, Et);
  (i.length !== a.length || JSON.stringify(i.map((d) => d.name).sort()) !== JSON.stringify(a.map((d) => d.name).sort())) && (k(this, Et, a), this.emit("mcp_tools_changed", u(this, Et)));
};
let fs = $s;
class ho extends oo {
  constructor(e = {}) {
    super(e);
  }
  /**
   * Build the initial session payload for a SIP-attached session, matching the config that a RealtimeSession would send on connect.
   *
   * This enables SIP deployments to accept an incoming call with a payload that already reflects
   * the active agent's instructions, tools, prompt, and tracing metadata without duplicating the
   * session logic outside of the SDK. The returned object structurally matches the REST
   * `CallAcceptParams` interface, so it can be forwarded directly to
   * `openai.realtime.calls.accept(...)`.
   *
   * @param agent - The starting agent used to seed the session instructions, tools, and prompt.
   * @param options - Optional session options that mirror the ones passed to the RealtimeSession constructor.
   * @param overrides - Additional config overrides applied on top of the session options.
   */
  static async buildInitialConfig(e, t = {}, r = {}) {
    const s = await fs.computeInitialSessionConfig(e, t, r);
    return new ho().buildSessionPayload(s);
  }
  sendAudio(e, t = {}) {
    throw new Error("OpenAIRealtimeSIP does not support sending audio buffers; audio is handled by the SIP call.");
  }
  async connect(e) {
    if (!e.callId)
      throw new ne("OpenAIRealtimeSIP requires `callId` in the connect options.");
    await super.connect(e);
  }
}
const tf = {
  base64ToArrayBuffer: to,
  arrayBufferToBase64: no,
  getLastTextFromAudioOutputMessage: ro
};
export {
  Bp as DEFAULT_OPENAI_REALTIME_MODEL,
  Re as DEFAULT_OPENAI_REALTIME_SESSION_CONFIG,
  we as ModelBehaviorError,
  _r as OpenAIRealtimeBase,
  ho as OpenAIRealtimeSIP,
  zp as OpenAIRealtimeWebRTC,
  oo as OpenAIRealtimeWebSocket,
  Yr as OutputGuardrailTripwireTriggered,
  Qp as RealtimeAgent,
  fs as RealtimeSession,
  ne as UserError,
  ef as backgroundResult,
  Vp as isBackgroundResult,
  Qr as tool,
  tf as utils
};
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoib3BlbmFpLXJlYWx0aW1lLWFnZW50cy5tanMiLCJzb3VyY2VzIjpbIi4uL21ldGFkYXRhLm1qcyIsIi4uLy4uLy4uL2FnZW50cy1jb3JlL2Rpc3QvdXRpbHMvc2FmZUV4ZWN1dGUubWpzIiwiLi4vLi4vLi4vLi4vbm9kZV9tb2R1bGVzL3pvZC92NC9jb3JlL3V0aWwuanMiLCIuLi8uLi8uLi8uLi9ub2RlX21vZHVsZXMvem9kL3Y0L2NvcmUvcmVnaXN0cmllcy5qcyIsIi4uLy4uLy4uLy4uL25vZGVfbW9kdWxlcy96b2QvdjQvY29yZS90by1qc29uLXNjaGVtYS5qcyIsIi4uLy4uLy4uLy4uL25vZGVfbW9kdWxlcy9vcGVuYWkvbGliL3BhcnNlci5tanMiLCIuLi8uLi8uLi8uLi9ub2RlX21vZHVsZXMvb3BlbmFpL192ZW5kb3Ivem9kLXRvLWpzb24tc2NoZW1hL09wdGlvbnMubWpzIiwiLi4vLi4vLi4vLi4vbm9kZV9tb2R1bGVzL29wZW5haS9fdmVuZG9yL3pvZC10by1qc29uLXNjaGVtYS91dGlsLm1qcyIsIi4uLy4uLy4uLy4uL25vZGVfbW9kdWxlcy9vcGVuYWkvX3ZlbmRvci96b2QtdG8tanNvbi1zY2hlbWEvUmVmcy5tanMiLCIuLi8uLi8uLi8uLi9ub2RlX21vZHVsZXMvb3BlbmFpL192ZW5kb3Ivem9kLXRvLWpzb24tc2NoZW1hL2Vycm9yTWVzc2FnZXMubWpzIiwiLi4vLi4vLi4vLi4vbm9kZV9tb2R1bGVzL3pvZC92My9oZWxwZXJzL3V0aWwuanMiLCIuLi8uLi8uLi8uLi9ub2RlX21vZHVsZXMvem9kL3YzL1pvZEVycm9yLmpzIiwiLi4vLi4vLi4vLi4vbm9kZV9tb2R1bGVzL3pvZC92My9sb2NhbGVzL2VuLmpzIiwiLi4vLi4vLi4vLi4vbm9kZV9tb2R1bGVzL3pvZC92My9lcnJvcnMuanMiLCIuLi8uLi8uLi8uLi9ub2RlX21vZHVsZXMvem9kL3YzL2hlbHBlcnMvcGFyc2VVdGlsLmpzIiwiLi4vLi4vLi4vLi4vbm9kZV9tb2R1bGVzL3pvZC92My9oZWxwZXJzL2Vycm9yVXRpbC5qcyIsIi4uLy4uLy4uLy4uL25vZGVfbW9kdWxlcy96b2QvdjMvdHlwZXMuanMiLCIuLi8uLi8uLi8uLi9ub2RlX21vZHVsZXMvb3BlbmFpL192ZW5kb3Ivem9kLXRvLWpzb24tc2NoZW1hL3BhcnNlcnMvYW55Lm1qcyIsIi4uLy4uLy4uLy4uL25vZGVfbW9kdWxlcy9vcGVuYWkvX3ZlbmRvci96b2QtdG8tanNvbi1zY2hlbWEvcGFyc2Vycy9hcnJheS5tanMiLCIuLi8uLi8uLi8uLi9ub2RlX21vZHVsZXMvb3BlbmFpL192ZW5kb3Ivem9kLXRvLWpzb24tc2NoZW1hL3BhcnNlcnMvYmlnaW50Lm1qcyIsIi4uLy4uLy4uLy4uL25vZGVfbW9kdWxlcy9vcGVuYWkvX3ZlbmRvci96b2QtdG8tanNvbi1zY2hlbWEvcGFyc2Vycy9ib29sZWFuLm1qcyIsIi4uLy4uLy4uLy4uL25vZGVfbW9kdWxlcy9vcGVuYWkvX3ZlbmRvci96b2QtdG8tanNvbi1zY2hlbWEvcGFyc2Vycy9icmFuZGVkLm1qcyIsIi4uLy4uLy4uLy4uL25vZGVfbW9kdWxlcy9vcGVuYWkvX3ZlbmRvci96b2QtdG8tanNvbi1zY2hlbWEvcGFyc2Vycy9jYXRjaC5tanMiLCIuLi8uLi8uLi8uLi9ub2RlX21vZHVsZXMvb3BlbmFpL192ZW5kb3Ivem9kLXRvLWpzb24tc2NoZW1hL3BhcnNlcnMvZGF0ZS5tanMiLCIuLi8uLi8uLi8uLi9ub2RlX21vZHVsZXMvb3BlbmFpL192ZW5kb3Ivem9kLXRvLWpzb24tc2NoZW1hL3BhcnNlcnMvZGVmYXVsdC5tanMiLCIuLi8uLi8uLi8uLi9ub2RlX21vZHVsZXMvb3BlbmFpL192ZW5kb3Ivem9kLXRvLWpzb24tc2NoZW1hL3BhcnNlcnMvZWZmZWN0cy5tanMiLCIuLi8uLi8uLi8uLi9ub2RlX21vZHVsZXMvb3BlbmFpL192ZW5kb3Ivem9kLXRvLWpzb24tc2NoZW1hL3BhcnNlcnMvZW51bS5tanMiLCIuLi8uLi8uLi8uLi9ub2RlX21vZHVsZXMvb3BlbmFpL192ZW5kb3Ivem9kLXRvLWpzb24tc2NoZW1hL3BhcnNlcnMvaW50ZXJzZWN0aW9uLm1qcyIsIi4uLy4uLy4uLy4uL25vZGVfbW9kdWxlcy9vcGVuYWkvX3ZlbmRvci96b2QtdG8tanNvbi1zY2hlbWEvcGFyc2Vycy9saXRlcmFsLm1qcyIsIi4uLy4uLy4uLy4uL25vZGVfbW9kdWxlcy9vcGVuYWkvX3ZlbmRvci96b2QtdG8tanNvbi1zY2hlbWEvcGFyc2Vycy9zdHJpbmcubWpzIiwiLi4vLi4vLi4vLi4vbm9kZV9tb2R1bGVzL29wZW5haS9fdmVuZG9yL3pvZC10by1qc29uLXNjaGVtYS9wYXJzZXJzL3JlY29yZC5tanMiLCIuLi8uLi8uLi8uLi9ub2RlX21vZHVsZXMvb3BlbmFpL192ZW5kb3Ivem9kLXRvLWpzb24tc2NoZW1hL3BhcnNlcnMvbWFwLm1qcyIsIi4uLy4uLy4uLy4uL25vZGVfbW9kdWxlcy9vcGVuYWkvX3ZlbmRvci96b2QtdG8tanNvbi1zY2hlbWEvcGFyc2Vycy9uYXRpdmVFbnVtLm1qcyIsIi4uLy4uLy4uLy4uL25vZGVfbW9kdWxlcy9vcGVuYWkvX3ZlbmRvci96b2QtdG8tanNvbi1zY2hlbWEvcGFyc2Vycy9uZXZlci5tanMiLCIuLi8uLi8uLi8uLi9ub2RlX21vZHVsZXMvb3BlbmFpL192ZW5kb3Ivem9kLXRvLWpzb24tc2NoZW1hL3BhcnNlcnMvbnVsbC5tanMiLCIuLi8uLi8uLi8uLi9ub2RlX21vZHVsZXMvb3BlbmFpL192ZW5kb3Ivem9kLXRvLWpzb24tc2NoZW1hL3BhcnNlcnMvdW5pb24ubWpzIiwiLi4vLi4vLi4vLi4vbm9kZV9tb2R1bGVzL29wZW5haS9fdmVuZG9yL3pvZC10by1qc29uLXNjaGVtYS9wYXJzZXJzL251bGxhYmxlLm1qcyIsIi4uLy4uLy4uLy4uL25vZGVfbW9kdWxlcy9vcGVuYWkvX3ZlbmRvci96b2QtdG8tanNvbi1zY2hlbWEvcGFyc2Vycy9udW1iZXIubWpzIiwiLi4vLi4vLi4vLi4vbm9kZV9tb2R1bGVzL29wZW5haS9fdmVuZG9yL3pvZC10by1qc29uLXNjaGVtYS9wYXJzZXJzL29iamVjdC5tanMiLCIuLi8uLi8uLi8uLi9ub2RlX21vZHVsZXMvb3BlbmFpL192ZW5kb3Ivem9kLXRvLWpzb24tc2NoZW1hL3BhcnNlcnMvb3B0aW9uYWwubWpzIiwiLi4vLi4vLi4vLi4vbm9kZV9tb2R1bGVzL29wZW5haS9fdmVuZG9yL3pvZC10by1qc29uLXNjaGVtYS9wYXJzZXJzL3BpcGVsaW5lLm1qcyIsIi4uLy4uLy4uLy4uL25vZGVfbW9kdWxlcy9vcGVuYWkvX3ZlbmRvci96b2QtdG8tanNvbi1zY2hlbWEvcGFyc2Vycy9wcm9taXNlLm1qcyIsIi4uLy4uLy4uLy4uL25vZGVfbW9kdWxlcy9vcGVuYWkvX3ZlbmRvci96b2QtdG8tanNvbi1zY2hlbWEvcGFyc2Vycy9zZXQubWpzIiwiLi4vLi4vLi4vLi4vbm9kZV9tb2R1bGVzL29wZW5haS9fdmVuZG9yL3pvZC10by1qc29uLXNjaGVtYS9wYXJzZXJzL3R1cGxlLm1qcyIsIi4uLy4uLy4uLy4uL25vZGVfbW9kdWxlcy9vcGVuYWkvX3ZlbmRvci96b2QtdG8tanNvbi1zY2hlbWEvcGFyc2Vycy91bmRlZmluZWQubWpzIiwiLi4vLi4vLi4vLi4vbm9kZV9tb2R1bGVzL29wZW5haS9fdmVuZG9yL3pvZC10by1qc29uLXNjaGVtYS9wYXJzZXJzL3Vua25vd24ubWpzIiwiLi4vLi4vLi4vLi4vbm9kZV9tb2R1bGVzL29wZW5haS9fdmVuZG9yL3pvZC10by1qc29uLXNjaGVtYS9wYXJzZXJzL3JlYWRvbmx5Lm1qcyIsIi4uLy4uLy4uLy4uL25vZGVfbW9kdWxlcy9vcGVuYWkvX3ZlbmRvci96b2QtdG8tanNvbi1zY2hlbWEvcGFyc2VEZWYubWpzIiwiLi4vLi4vLi4vLi4vbm9kZV9tb2R1bGVzL29wZW5haS9fdmVuZG9yL3pvZC10by1qc29uLXNjaGVtYS96b2RUb0pzb25TY2hlbWEubWpzIiwiLi4vLi4vLi4vLi4vbm9kZV9tb2R1bGVzL29wZW5haS9saWIvUmVzcG9uc2VzUGFyc2VyLm1qcyIsIi4uLy4uLy4uLy4uL25vZGVfbW9kdWxlcy9vcGVuYWkvbGliL3RyYW5zZm9ybS5tanMiLCIuLi8uLi8uLi8uLi9ub2RlX21vZHVsZXMvb3BlbmFpL2hlbHBlcnMvem9kLm1qcyIsIi4uLy4uLy4uL2FnZW50cy1jb3JlL2Rpc3QvZXJyb3JzLm1qcyIsIi4uLy4uLy4uL2FnZW50cy1jb3JlL2Rpc3QvdXRpbHMvem9kQ29tcGF0Lm1qcyIsIi4uLy4uLy4uL2FnZW50cy1jb3JlL2Rpc3QvdXRpbHMvdHlwZUd1YXJkcy5tanMiLCIuLi8uLi8uLi9hZ2VudHMtY29yZS9kaXN0L3V0aWxzL3pvZEpzb25TY2hlbWFDb21wYXQubWpzIiwiLi4vLi4vLi4vYWdlbnRzLWNvcmUvZGlzdC91dGlscy90b29scy5tanMiLCIuLi8uLi8uLi8uLi9ub2RlX21vZHVsZXMvbXMvaW5kZXguanMiLCIuLi8uLi8uLi8uLi9ub2RlX21vZHVsZXMvZGVidWcvc3JjL2NvbW1vbi5qcyIsIi4uLy4uLy4uLy4uL25vZGVfbW9kdWxlcy9kZWJ1Zy9zcmMvYnJvd3Nlci5qcyIsIi4uLy4uLy4uL2FnZW50cy1jb3JlL2Rpc3QvY29uZmlnLm1qcyIsIi4uLy4uLy4uL2FnZW50cy1jb3JlL2Rpc3QvbG9nZ2VyLm1qcyIsIi4uLy4uLy4uL2FnZW50cy1jb3JlL2Rpc3QvdXRpbHMvc21hcnRTdHJpbmcubWpzIiwiLi4vLi4vLi4vYWdlbnRzLWNvcmUvZGlzdC90b29sLm1qcyIsIi4uLy4uLy4uL2FnZW50cy1jb3JlL2Rpc3QvbWNwLm1qcyIsIi4uLy4uLy4uL2FnZW50cy1jb3JlL2Rpc3Qvc2hpbXMvc2hpbXMtYnJvd3Nlci5tanMiLCIuLi8uLi8uLi9hZ2VudHMtY29yZS9kaXN0L2xpZmVjeWNsZS5tanMiLCIuLi8uLi8uLi9hZ2VudHMtY29yZS9kaXN0L2RlZmF1bHRNb2RlbC5tanMiLCIuLi8uLi8uLi9hZ2VudHMtY29yZS9kaXN0L2hhbmRvZmYubWpzIiwiLi4vLi4vLi4vYWdlbnRzLWNvcmUvZGlzdC91dGlscy9tZXNzYWdlcy5tanMiLCIuLi8uLi8uLi9hZ2VudHMtY29yZS9kaXN0L2FnZW50Lm1qcyIsIi4uLy4uLy4uL2FnZW50cy1jb3JlL2Rpc3QvZ3VhcmRyYWlsLm1qcyIsIi4uLy4uLy4uL2FnZW50cy1jb3JlL2Rpc3QvcHJvdmlkZXJzLm1qcyIsIi4uLy4uLy4uL2FnZW50cy1jb3JlL2Rpc3QvdHlwZXMvcHJvdG9jb2wubWpzIiwiLi4vLi4vLi4vYWdlbnRzLWNvcmUvZGlzdC91c2FnZS5tanMiLCIuLi8uLi8uLi9hZ2VudHMtY29yZS9kaXN0L3J1bkNvbnRleHQubWpzIiwiLi4vLi4vLi4vYWdlbnRzLWNvcmUvZGlzdC91dGlscy9zZXJpYWxpemUubWpzIiwiLi4vLi4vLi4vYWdlbnRzLWNvcmUvZGlzdC9pdGVtcy5tanMiLCIuLi8uLi8uLi9hZ2VudHMtY29yZS9kaXN0L3RyYWNpbmcvY3JlYXRlU3BhbnMubWpzIiwiLi4vLi4vLi4vYWdlbnRzLWNvcmUvZGlzdC91dGlscy9iYXNlNjQubWpzIiwiLi4vLi4vLi4vYWdlbnRzLWNvcmUvZGlzdC9ldmVudHMubWpzIiwiLi4vLi4vLi4vYWdlbnRzLWNvcmUvZGlzdC9ydW5JbXBsZW1lbnRhdGlvbi5tanMiLCIuLi8uLi8uLi9hZ2VudHMtY29yZS9kaXN0L3J1blN0YXRlLm1qcyIsIi4uLy4uLy4uL2FnZW50cy1jb3JlL2Rpc3QvcnVuLm1qcyIsIi4uLy4uLy4uL2FnZW50cy1jb3JlL2Rpc3QvcmVzdWx0Lm1qcyIsIi4uLy4uLy4uL2FnZW50cy1jb3JlL2Rpc3QvdHJhY2luZy9jb250ZXh0Lm1qcyIsIi4uLy4uLy4uL2FnZW50cy1jb3JlL2Rpc3QvdHJhY2luZy9wcm9jZXNzb3IubWpzIiwiLi4vLi4vLi4vYWdlbnRzLWNvcmUvZGlzdC90cmFjaW5nL3V0aWxzLm1qcyIsIi4uLy4uLy4uL2FnZW50cy1jb3JlL2Rpc3QvdHJhY2luZy9zcGFucy5tanMiLCIuLi8uLi8uLi9hZ2VudHMtY29yZS9kaXN0L3RyYWNpbmcvdHJhY2VzLm1qcyIsIi4uLy4uLy4uL2FnZW50cy1jb3JlL2Rpc3QvdHJhY2luZy9wcm92aWRlci5tanMiLCIuLi8uLi8uLi9hZ2VudHMtY29yZS9kaXN0L3RyYWNpbmcvaW5kZXgubWpzIiwiLi4vLi4vLi4vYWdlbnRzLWNvcmUvZGlzdC9pbmRleC5tanMiLCIuLi91dGlscy5tanMiLCIuLi9yZWFsdGltZUFnZW50Lm1qcyIsIi4uL2d1YXJkcmFpbC5tanMiLCIuLi9jbGllbnRNZXNzYWdlcy5tanMiLCIuLi9pdGVtcy5tanMiLCIuLi9sb2dnZXIubWpzIiwiLi4vb3BlbmFpUmVhbHRpbWVFdmVudHMubWpzIiwiLi4vb3BlbmFpUmVhbHRpbWVCYXNlLm1qcyIsIi4uL29wZW5haVJlYWx0aW1lV2ViUnRjLm1qcyIsIi4uL3NoaW1zL3NoaW1zLWJyb3dzZXIubWpzIiwiLi4vb3BlbmFpUmVhbHRpbWVXZWJzb2NrZXQubWpzIiwiLi4vdG9vbC5tanMiLCIuLi9yZWFsdGltZVNlc3Npb24ubWpzIiwiLi4vb3BlbmFpUmVhbHRpbWVTaXAubWpzIiwiLi4vaW5kZXgubWpzIl0sInNvdXJjZXNDb250ZW50IjpbIi8vIFRoaXMgZmlsZSBpcyBhdXRvbWF0aWNhbGx5IGdlbmVyYXRlZFxuZXhwb3J0IGNvbnN0IE1FVEFEQVRBID0ge1xuICAgIFwibmFtZVwiOiBcIkBvcGVuYWkvYWdlbnRzLXJlYWx0aW1lXCIsXG4gICAgXCJ2ZXJzaW9uXCI6IFwiMC4zLjRcIixcbiAgICBcInZlcnNpb25zXCI6IHtcbiAgICAgICAgXCJAb3BlbmFpL2FnZW50cy1yZWFsdGltZVwiOiBcIjAuMy40XCIsXG4gICAgICAgIFwiQG9wZW5haS9hZ2VudHMtY29yZVwiOiBcIndvcmtzcGFjZToqXCJcbiAgICB9XG59O1xuZXhwb3J0IGRlZmF1bHQgTUVUQURBVEE7XG4vLyMgc291cmNlTWFwcGluZ1VSTD1tZXRhZGF0YS5tanMubWFwIiwiZXhwb3J0IGFzeW5jIGZ1bmN0aW9uIHNhZmVFeGVjdXRlKGZuKSB7XG4gICAgdHJ5IHtcbiAgICAgICAgcmV0dXJuIFtudWxsLCBhd2FpdCBmbigpXTtcbiAgICB9XG4gICAgY2F0Y2ggKGVycm9yKSB7XG4gICAgICAgIHJldHVybiBbZXJyb3IsIG51bGxdO1xuICAgIH1cbn1cbi8vIyBzb3VyY2VNYXBwaW5nVVJMPXNhZmVFeGVjdXRlLm1qcy5tYXAiLCIvLyBmdW5jdGlvbnNcbmV4cG9ydCBmdW5jdGlvbiBhc3NlcnRFcXVhbCh2YWwpIHtcbiAgICByZXR1cm4gdmFsO1xufVxuZXhwb3J0IGZ1bmN0aW9uIGFzc2VydE5vdEVxdWFsKHZhbCkge1xuICAgIHJldHVybiB2YWw7XG59XG5leHBvcnQgZnVuY3Rpb24gYXNzZXJ0SXMoX2FyZykgeyB9XG5leHBvcnQgZnVuY3Rpb24gYXNzZXJ0TmV2ZXIoX3gpIHtcbiAgICB0aHJvdyBuZXcgRXJyb3IoKTtcbn1cbmV4cG9ydCBmdW5jdGlvbiBhc3NlcnQoXykgeyB9XG5leHBvcnQgZnVuY3Rpb24gZ2V0RW51bVZhbHVlcyhlbnRyaWVzKSB7XG4gICAgY29uc3QgbnVtZXJpY1ZhbHVlcyA9IE9iamVjdC52YWx1ZXMoZW50cmllcykuZmlsdGVyKCh2KSA9PiB0eXBlb2YgdiA9PT0gXCJudW1iZXJcIik7XG4gICAgY29uc3QgdmFsdWVzID0gT2JqZWN0LmVudHJpZXMoZW50cmllcylcbiAgICAgICAgLmZpbHRlcigoW2ssIF9dKSA9PiBudW1lcmljVmFsdWVzLmluZGV4T2YoK2spID09PSAtMSlcbiAgICAgICAgLm1hcCgoW18sIHZdKSA9PiB2KTtcbiAgICByZXR1cm4gdmFsdWVzO1xufVxuZXhwb3J0IGZ1bmN0aW9uIGpvaW5WYWx1ZXMoYXJyYXksIHNlcGFyYXRvciA9IFwifFwiKSB7XG4gICAgcmV0dXJuIGFycmF5Lm1hcCgodmFsKSA9PiBzdHJpbmdpZnlQcmltaXRpdmUodmFsKSkuam9pbihzZXBhcmF0b3IpO1xufVxuZXhwb3J0IGZ1bmN0aW9uIGpzb25TdHJpbmdpZnlSZXBsYWNlcihfLCB2YWx1ZSkge1xuICAgIGlmICh0eXBlb2YgdmFsdWUgPT09IFwiYmlnaW50XCIpXG4gICAgICAgIHJldHVybiB2YWx1ZS50b1N0cmluZygpO1xuICAgIHJldHVybiB2YWx1ZTtcbn1cbmV4cG9ydCBmdW5jdGlvbiBjYWNoZWQoZ2V0dGVyKSB7XG4gICAgY29uc3Qgc2V0ID0gZmFsc2U7XG4gICAgcmV0dXJuIHtcbiAgICAgICAgZ2V0IHZhbHVlKCkge1xuICAgICAgICAgICAgaWYgKCFzZXQpIHtcbiAgICAgICAgICAgICAgICBjb25zdCB2YWx1ZSA9IGdldHRlcigpO1xuICAgICAgICAgICAgICAgIE9iamVjdC5kZWZpbmVQcm9wZXJ0eSh0aGlzLCBcInZhbHVlXCIsIHsgdmFsdWUgfSk7XG4gICAgICAgICAgICAgICAgcmV0dXJuIHZhbHVlO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgdGhyb3cgbmV3IEVycm9yKFwiY2FjaGVkIHZhbHVlIGFscmVhZHkgc2V0XCIpO1xuICAgICAgICB9LFxuICAgIH07XG59XG5leHBvcnQgZnVuY3Rpb24gbnVsbGlzaChpbnB1dCkge1xuICAgIHJldHVybiBpbnB1dCA9PT0gbnVsbCB8fCBpbnB1dCA9PT0gdW5kZWZpbmVkO1xufVxuZXhwb3J0IGZ1bmN0aW9uIGNsZWFuUmVnZXgoc291cmNlKSB7XG4gICAgY29uc3Qgc3RhcnQgPSBzb3VyY2Uuc3RhcnRzV2l0aChcIl5cIikgPyAxIDogMDtcbiAgICBjb25zdCBlbmQgPSBzb3VyY2UuZW5kc1dpdGgoXCIkXCIpID8gc291cmNlLmxlbmd0aCAtIDEgOiBzb3VyY2UubGVuZ3RoO1xuICAgIHJldHVybiBzb3VyY2Uuc2xpY2Uoc3RhcnQsIGVuZCk7XG59XG5leHBvcnQgZnVuY3Rpb24gZmxvYXRTYWZlUmVtYWluZGVyKHZhbCwgc3RlcCkge1xuICAgIGNvbnN0IHZhbERlY0NvdW50ID0gKHZhbC50b1N0cmluZygpLnNwbGl0KFwiLlwiKVsxXSB8fCBcIlwiKS5sZW5ndGg7XG4gICAgY29uc3Qgc3RlcERlY0NvdW50ID0gKHN0ZXAudG9TdHJpbmcoKS5zcGxpdChcIi5cIilbMV0gfHwgXCJcIikubGVuZ3RoO1xuICAgIGNvbnN0IGRlY0NvdW50ID0gdmFsRGVjQ291bnQgPiBzdGVwRGVjQ291bnQgPyB2YWxEZWNDb3VudCA6IHN0ZXBEZWNDb3VudDtcbiAgICBjb25zdCB2YWxJbnQgPSBOdW1iZXIucGFyc2VJbnQodmFsLnRvRml4ZWQoZGVjQ291bnQpLnJlcGxhY2UoXCIuXCIsIFwiXCIpKTtcbiAgICBjb25zdCBzdGVwSW50ID0gTnVtYmVyLnBhcnNlSW50KHN0ZXAudG9GaXhlZChkZWNDb3VudCkucmVwbGFjZShcIi5cIiwgXCJcIikpO1xuICAgIHJldHVybiAodmFsSW50ICUgc3RlcEludCkgLyAxMCAqKiBkZWNDb3VudDtcbn1cbmV4cG9ydCBmdW5jdGlvbiBkZWZpbmVMYXp5KG9iamVjdCwga2V5LCBnZXR0ZXIpIHtcbiAgICBjb25zdCBzZXQgPSBmYWxzZTtcbiAgICBPYmplY3QuZGVmaW5lUHJvcGVydHkob2JqZWN0LCBrZXksIHtcbiAgICAgICAgZ2V0KCkge1xuICAgICAgICAgICAgaWYgKCFzZXQpIHtcbiAgICAgICAgICAgICAgICBjb25zdCB2YWx1ZSA9IGdldHRlcigpO1xuICAgICAgICAgICAgICAgIG9iamVjdFtrZXldID0gdmFsdWU7XG4gICAgICAgICAgICAgICAgcmV0dXJuIHZhbHVlO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgdGhyb3cgbmV3IEVycm9yKFwiY2FjaGVkIHZhbHVlIGFscmVhZHkgc2V0XCIpO1xuICAgICAgICB9LFxuICAgICAgICBzZXQodikge1xuICAgICAgICAgICAgT2JqZWN0LmRlZmluZVByb3BlcnR5KG9iamVjdCwga2V5LCB7XG4gICAgICAgICAgICAgICAgdmFsdWU6IHYsXG4gICAgICAgICAgICAgICAgLy8gY29uZmlndXJhYmxlOiB0cnVlLFxuICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICAvLyBvYmplY3Rba2V5XSA9IHY7XG4gICAgICAgIH0sXG4gICAgICAgIGNvbmZpZ3VyYWJsZTogdHJ1ZSxcbiAgICB9KTtcbn1cbmV4cG9ydCBmdW5jdGlvbiBhc3NpZ25Qcm9wKHRhcmdldCwgcHJvcCwgdmFsdWUpIHtcbiAgICBPYmplY3QuZGVmaW5lUHJvcGVydHkodGFyZ2V0LCBwcm9wLCB7XG4gICAgICAgIHZhbHVlLFxuICAgICAgICB3cml0YWJsZTogdHJ1ZSxcbiAgICAgICAgZW51bWVyYWJsZTogdHJ1ZSxcbiAgICAgICAgY29uZmlndXJhYmxlOiB0cnVlLFxuICAgIH0pO1xufVxuZXhwb3J0IGZ1bmN0aW9uIGdldEVsZW1lbnRBdFBhdGgob2JqLCBwYXRoKSB7XG4gICAgaWYgKCFwYXRoKVxuICAgICAgICByZXR1cm4gb2JqO1xuICAgIHJldHVybiBwYXRoLnJlZHVjZSgoYWNjLCBrZXkpID0+IGFjYz8uW2tleV0sIG9iaik7XG59XG5leHBvcnQgZnVuY3Rpb24gcHJvbWlzZUFsbE9iamVjdChwcm9taXNlc09iaikge1xuICAgIGNvbnN0IGtleXMgPSBPYmplY3Qua2V5cyhwcm9taXNlc09iaik7XG4gICAgY29uc3QgcHJvbWlzZXMgPSBrZXlzLm1hcCgoa2V5KSA9PiBwcm9taXNlc09ialtrZXldKTtcbiAgICByZXR1cm4gUHJvbWlzZS5hbGwocHJvbWlzZXMpLnRoZW4oKHJlc3VsdHMpID0+IHtcbiAgICAgICAgY29uc3QgcmVzb2x2ZWRPYmogPSB7fTtcbiAgICAgICAgZm9yIChsZXQgaSA9IDA7IGkgPCBrZXlzLmxlbmd0aDsgaSsrKSB7XG4gICAgICAgICAgICByZXNvbHZlZE9ialtrZXlzW2ldXSA9IHJlc3VsdHNbaV07XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIHJlc29sdmVkT2JqO1xuICAgIH0pO1xufVxuZXhwb3J0IGZ1bmN0aW9uIHJhbmRvbVN0cmluZyhsZW5ndGggPSAxMCkge1xuICAgIGNvbnN0IGNoYXJzID0gXCJhYmNkZWZnaGlqa2xtbm9wcXJzdHV2d3h5elwiO1xuICAgIGxldCBzdHIgPSBcIlwiO1xuICAgIGZvciAobGV0IGkgPSAwOyBpIDwgbGVuZ3RoOyBpKyspIHtcbiAgICAgICAgc3RyICs9IGNoYXJzW01hdGguZmxvb3IoTWF0aC5yYW5kb20oKSAqIGNoYXJzLmxlbmd0aCldO1xuICAgIH1cbiAgICByZXR1cm4gc3RyO1xufVxuZXhwb3J0IGZ1bmN0aW9uIGVzYyhzdHIpIHtcbiAgICByZXR1cm4gSlNPTi5zdHJpbmdpZnkoc3RyKTtcbn1cbmV4cG9ydCBjb25zdCBjYXB0dXJlU3RhY2tUcmFjZSA9IEVycm9yLmNhcHR1cmVTdGFja1RyYWNlXG4gICAgPyBFcnJvci5jYXB0dXJlU3RhY2tUcmFjZVxuICAgIDogKC4uLl9hcmdzKSA9PiB7IH07XG5leHBvcnQgZnVuY3Rpb24gaXNPYmplY3QoZGF0YSkge1xuICAgIHJldHVybiB0eXBlb2YgZGF0YSA9PT0gXCJvYmplY3RcIiAmJiBkYXRhICE9PSBudWxsICYmICFBcnJheS5pc0FycmF5KGRhdGEpO1xufVxuZXhwb3J0IGNvbnN0IGFsbG93c0V2YWwgPSBjYWNoZWQoKCkgPT4ge1xuICAgIGlmICh0eXBlb2YgbmF2aWdhdG9yICE9PSBcInVuZGVmaW5lZFwiICYmIG5hdmlnYXRvcj8udXNlckFnZW50Py5pbmNsdWRlcyhcIkNsb3VkZmxhcmVcIikpIHtcbiAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgIH1cbiAgICB0cnkge1xuICAgICAgICBjb25zdCBGID0gRnVuY3Rpb247XG4gICAgICAgIG5ldyBGKFwiXCIpO1xuICAgICAgICByZXR1cm4gdHJ1ZTtcbiAgICB9XG4gICAgY2F0Y2ggKF8pIHtcbiAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgIH1cbn0pO1xuZXhwb3J0IGZ1bmN0aW9uIGlzUGxhaW5PYmplY3Qobykge1xuICAgIGlmIChpc09iamVjdChvKSA9PT0gZmFsc2UpXG4gICAgICAgIHJldHVybiBmYWxzZTtcbiAgICAvLyBtb2RpZmllZCBjb25zdHJ1Y3RvclxuICAgIGNvbnN0IGN0b3IgPSBvLmNvbnN0cnVjdG9yO1xuICAgIGlmIChjdG9yID09PSB1bmRlZmluZWQpXG4gICAgICAgIHJldHVybiB0cnVlO1xuICAgIC8vIG1vZGlmaWVkIHByb3RvdHlwZVxuICAgIGNvbnN0IHByb3QgPSBjdG9yLnByb3RvdHlwZTtcbiAgICBpZiAoaXNPYmplY3QocHJvdCkgPT09IGZhbHNlKVxuICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgLy8gY3RvciBkb2Vzbid0IGhhdmUgc3RhdGljIGBpc1Byb3RvdHlwZU9mYFxuICAgIGlmIChPYmplY3QucHJvdG90eXBlLmhhc093blByb3BlcnR5LmNhbGwocHJvdCwgXCJpc1Byb3RvdHlwZU9mXCIpID09PSBmYWxzZSkge1xuICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgfVxuICAgIHJldHVybiB0cnVlO1xufVxuZXhwb3J0IGZ1bmN0aW9uIG51bUtleXMoZGF0YSkge1xuICAgIGxldCBrZXlDb3VudCA9IDA7XG4gICAgZm9yIChjb25zdCBrZXkgaW4gZGF0YSkge1xuICAgICAgICBpZiAoT2JqZWN0LnByb3RvdHlwZS5oYXNPd25Qcm9wZXJ0eS5jYWxsKGRhdGEsIGtleSkpIHtcbiAgICAgICAgICAgIGtleUNvdW50Kys7XG4gICAgICAgIH1cbiAgICB9XG4gICAgcmV0dXJuIGtleUNvdW50O1xufVxuZXhwb3J0IGNvbnN0IGdldFBhcnNlZFR5cGUgPSAoZGF0YSkgPT4ge1xuICAgIGNvbnN0IHQgPSB0eXBlb2YgZGF0YTtcbiAgICBzd2l0Y2ggKHQpIHtcbiAgICAgICAgY2FzZSBcInVuZGVmaW5lZFwiOlxuICAgICAgICAgICAgcmV0dXJuIFwidW5kZWZpbmVkXCI7XG4gICAgICAgIGNhc2UgXCJzdHJpbmdcIjpcbiAgICAgICAgICAgIHJldHVybiBcInN0cmluZ1wiO1xuICAgICAgICBjYXNlIFwibnVtYmVyXCI6XG4gICAgICAgICAgICByZXR1cm4gTnVtYmVyLmlzTmFOKGRhdGEpID8gXCJuYW5cIiA6IFwibnVtYmVyXCI7XG4gICAgICAgIGNhc2UgXCJib29sZWFuXCI6XG4gICAgICAgICAgICByZXR1cm4gXCJib29sZWFuXCI7XG4gICAgICAgIGNhc2UgXCJmdW5jdGlvblwiOlxuICAgICAgICAgICAgcmV0dXJuIFwiZnVuY3Rpb25cIjtcbiAgICAgICAgY2FzZSBcImJpZ2ludFwiOlxuICAgICAgICAgICAgcmV0dXJuIFwiYmlnaW50XCI7XG4gICAgICAgIGNhc2UgXCJzeW1ib2xcIjpcbiAgICAgICAgICAgIHJldHVybiBcInN5bWJvbFwiO1xuICAgICAgICBjYXNlIFwib2JqZWN0XCI6XG4gICAgICAgICAgICBpZiAoQXJyYXkuaXNBcnJheShkYXRhKSkge1xuICAgICAgICAgICAgICAgIHJldHVybiBcImFycmF5XCI7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBpZiAoZGF0YSA9PT0gbnVsbCkge1xuICAgICAgICAgICAgICAgIHJldHVybiBcIm51bGxcIjtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGlmIChkYXRhLnRoZW4gJiYgdHlwZW9mIGRhdGEudGhlbiA9PT0gXCJmdW5jdGlvblwiICYmIGRhdGEuY2F0Y2ggJiYgdHlwZW9mIGRhdGEuY2F0Y2ggPT09IFwiZnVuY3Rpb25cIikge1xuICAgICAgICAgICAgICAgIHJldHVybiBcInByb21pc2VcIjtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGlmICh0eXBlb2YgTWFwICE9PSBcInVuZGVmaW5lZFwiICYmIGRhdGEgaW5zdGFuY2VvZiBNYXApIHtcbiAgICAgICAgICAgICAgICByZXR1cm4gXCJtYXBcIjtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGlmICh0eXBlb2YgU2V0ICE9PSBcInVuZGVmaW5lZFwiICYmIGRhdGEgaW5zdGFuY2VvZiBTZXQpIHtcbiAgICAgICAgICAgICAgICByZXR1cm4gXCJzZXRcIjtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGlmICh0eXBlb2YgRGF0ZSAhPT0gXCJ1bmRlZmluZWRcIiAmJiBkYXRhIGluc3RhbmNlb2YgRGF0ZSkge1xuICAgICAgICAgICAgICAgIHJldHVybiBcImRhdGVcIjtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGlmICh0eXBlb2YgRmlsZSAhPT0gXCJ1bmRlZmluZWRcIiAmJiBkYXRhIGluc3RhbmNlb2YgRmlsZSkge1xuICAgICAgICAgICAgICAgIHJldHVybiBcImZpbGVcIjtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHJldHVybiBcIm9iamVjdFwiO1xuICAgICAgICBkZWZhdWx0OlxuICAgICAgICAgICAgdGhyb3cgbmV3IEVycm9yKGBVbmtub3duIGRhdGEgdHlwZTogJHt0fWApO1xuICAgIH1cbn07XG5leHBvcnQgY29uc3QgcHJvcGVydHlLZXlUeXBlcyA9IG5ldyBTZXQoW1wic3RyaW5nXCIsIFwibnVtYmVyXCIsIFwic3ltYm9sXCJdKTtcbmV4cG9ydCBjb25zdCBwcmltaXRpdmVUeXBlcyA9IG5ldyBTZXQoW1wic3RyaW5nXCIsIFwibnVtYmVyXCIsIFwiYmlnaW50XCIsIFwiYm9vbGVhblwiLCBcInN5bWJvbFwiLCBcInVuZGVmaW5lZFwiXSk7XG5leHBvcnQgZnVuY3Rpb24gZXNjYXBlUmVnZXgoc3RyKSB7XG4gICAgcmV0dXJuIHN0ci5yZXBsYWNlKC9bLiorP14ke30oKXxbXFxdXFxcXF0vZywgXCJcXFxcJCZcIik7XG59XG4vLyB6b2Qtc3BlY2lmaWMgdXRpbHNcbmV4cG9ydCBmdW5jdGlvbiBjbG9uZShpbnN0LCBkZWYsIHBhcmFtcykge1xuICAgIGNvbnN0IGNsID0gbmV3IGluc3QuX3pvZC5jb25zdHIoZGVmID8/IGluc3QuX3pvZC5kZWYpO1xuICAgIGlmICghZGVmIHx8IHBhcmFtcz8ucGFyZW50KVxuICAgICAgICBjbC5fem9kLnBhcmVudCA9IGluc3Q7XG4gICAgcmV0dXJuIGNsO1xufVxuZXhwb3J0IGZ1bmN0aW9uIG5vcm1hbGl6ZVBhcmFtcyhfcGFyYW1zKSB7XG4gICAgY29uc3QgcGFyYW1zID0gX3BhcmFtcztcbiAgICBpZiAoIXBhcmFtcylcbiAgICAgICAgcmV0dXJuIHt9O1xuICAgIGlmICh0eXBlb2YgcGFyYW1zID09PSBcInN0cmluZ1wiKVxuICAgICAgICByZXR1cm4geyBlcnJvcjogKCkgPT4gcGFyYW1zIH07XG4gICAgaWYgKHBhcmFtcz8ubWVzc2FnZSAhPT0gdW5kZWZpbmVkKSB7XG4gICAgICAgIGlmIChwYXJhbXM/LmVycm9yICE9PSB1bmRlZmluZWQpXG4gICAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoXCJDYW5ub3Qgc3BlY2lmeSBib3RoIGBtZXNzYWdlYCBhbmQgYGVycm9yYCBwYXJhbXNcIik7XG4gICAgICAgIHBhcmFtcy5lcnJvciA9IHBhcmFtcy5tZXNzYWdlO1xuICAgIH1cbiAgICBkZWxldGUgcGFyYW1zLm1lc3NhZ2U7XG4gICAgaWYgKHR5cGVvZiBwYXJhbXMuZXJyb3IgPT09IFwic3RyaW5nXCIpXG4gICAgICAgIHJldHVybiB7IC4uLnBhcmFtcywgZXJyb3I6ICgpID0+IHBhcmFtcy5lcnJvciB9O1xuICAgIHJldHVybiBwYXJhbXM7XG59XG5leHBvcnQgZnVuY3Rpb24gY3JlYXRlVHJhbnNwYXJlbnRQcm94eShnZXR0ZXIpIHtcbiAgICBsZXQgdGFyZ2V0O1xuICAgIHJldHVybiBuZXcgUHJveHkoe30sIHtcbiAgICAgICAgZ2V0KF8sIHByb3AsIHJlY2VpdmVyKSB7XG4gICAgICAgICAgICB0YXJnZXQgPz8gKHRhcmdldCA9IGdldHRlcigpKTtcbiAgICAgICAgICAgIHJldHVybiBSZWZsZWN0LmdldCh0YXJnZXQsIHByb3AsIHJlY2VpdmVyKTtcbiAgICAgICAgfSxcbiAgICAgICAgc2V0KF8sIHByb3AsIHZhbHVlLCByZWNlaXZlcikge1xuICAgICAgICAgICAgdGFyZ2V0ID8/ICh0YXJnZXQgPSBnZXR0ZXIoKSk7XG4gICAgICAgICAgICByZXR1cm4gUmVmbGVjdC5zZXQodGFyZ2V0LCBwcm9wLCB2YWx1ZSwgcmVjZWl2ZXIpO1xuICAgICAgICB9LFxuICAgICAgICBoYXMoXywgcHJvcCkge1xuICAgICAgICAgICAgdGFyZ2V0ID8/ICh0YXJnZXQgPSBnZXR0ZXIoKSk7XG4gICAgICAgICAgICByZXR1cm4gUmVmbGVjdC5oYXModGFyZ2V0LCBwcm9wKTtcbiAgICAgICAgfSxcbiAgICAgICAgZGVsZXRlUHJvcGVydHkoXywgcHJvcCkge1xuICAgICAgICAgICAgdGFyZ2V0ID8/ICh0YXJnZXQgPSBnZXR0ZXIoKSk7XG4gICAgICAgICAgICByZXR1cm4gUmVmbGVjdC5kZWxldGVQcm9wZXJ0eSh0YXJnZXQsIHByb3ApO1xuICAgICAgICB9LFxuICAgICAgICBvd25LZXlzKF8pIHtcbiAgICAgICAgICAgIHRhcmdldCA/PyAodGFyZ2V0ID0gZ2V0dGVyKCkpO1xuICAgICAgICAgICAgcmV0dXJuIFJlZmxlY3Qub3duS2V5cyh0YXJnZXQpO1xuICAgICAgICB9LFxuICAgICAgICBnZXRPd25Qcm9wZXJ0eURlc2NyaXB0b3IoXywgcHJvcCkge1xuICAgICAgICAgICAgdGFyZ2V0ID8/ICh0YXJnZXQgPSBnZXR0ZXIoKSk7XG4gICAgICAgICAgICByZXR1cm4gUmVmbGVjdC5nZXRPd25Qcm9wZXJ0eURlc2NyaXB0b3IodGFyZ2V0LCBwcm9wKTtcbiAgICAgICAgfSxcbiAgICAgICAgZGVmaW5lUHJvcGVydHkoXywgcHJvcCwgZGVzY3JpcHRvcikge1xuICAgICAgICAgICAgdGFyZ2V0ID8/ICh0YXJnZXQgPSBnZXR0ZXIoKSk7XG4gICAgICAgICAgICByZXR1cm4gUmVmbGVjdC5kZWZpbmVQcm9wZXJ0eSh0YXJnZXQsIHByb3AsIGRlc2NyaXB0b3IpO1xuICAgICAgICB9LFxuICAgIH0pO1xufVxuZXhwb3J0IGZ1bmN0aW9uIHN0cmluZ2lmeVByaW1pdGl2ZSh2YWx1ZSkge1xuICAgIGlmICh0eXBlb2YgdmFsdWUgPT09IFwiYmlnaW50XCIpXG4gICAgICAgIHJldHVybiB2YWx1ZS50b1N0cmluZygpICsgXCJuXCI7XG4gICAgaWYgKHR5cGVvZiB2YWx1ZSA9PT0gXCJzdHJpbmdcIilcbiAgICAgICAgcmV0dXJuIGBcIiR7dmFsdWV9XCJgO1xuICAgIHJldHVybiBgJHt2YWx1ZX1gO1xufVxuZXhwb3J0IGZ1bmN0aW9uIG9wdGlvbmFsS2V5cyhzaGFwZSkge1xuICAgIHJldHVybiBPYmplY3Qua2V5cyhzaGFwZSkuZmlsdGVyKChrKSA9PiB7XG4gICAgICAgIHJldHVybiBzaGFwZVtrXS5fem9kLm9wdGluID09PSBcIm9wdGlvbmFsXCIgJiYgc2hhcGVba10uX3pvZC5vcHRvdXQgPT09IFwib3B0aW9uYWxcIjtcbiAgICB9KTtcbn1cbmV4cG9ydCBjb25zdCBOVU1CRVJfRk9STUFUX1JBTkdFUyA9IHtcbiAgICBzYWZlaW50OiBbTnVtYmVyLk1JTl9TQUZFX0lOVEVHRVIsIE51bWJlci5NQVhfU0FGRV9JTlRFR0VSXSxcbiAgICBpbnQzMjogWy0yMTQ3NDgzNjQ4LCAyMTQ3NDgzNjQ3XSxcbiAgICB1aW50MzI6IFswLCA0Mjk0OTY3Mjk1XSxcbiAgICBmbG9hdDMyOiBbLTMuNDAyODIzNDY2Mzg1Mjg4NmUzOCwgMy40MDI4MjM0NjYzODUyODg2ZTM4XSxcbiAgICBmbG9hdDY0OiBbLU51bWJlci5NQVhfVkFMVUUsIE51bWJlci5NQVhfVkFMVUVdLFxufTtcbmV4cG9ydCBjb25zdCBCSUdJTlRfRk9STUFUX1JBTkdFUyA9IHtcbiAgICBpbnQ2NDogWy8qIEBfX1BVUkVfXyovIEJpZ0ludChcIi05MjIzMzcyMDM2ODU0Nzc1ODA4XCIpLCAvKiBAX19QVVJFX18qLyBCaWdJbnQoXCI5MjIzMzcyMDM2ODU0Nzc1ODA3XCIpXSxcbiAgICB1aW50NjQ6IFsvKiBAX19QVVJFX18qLyBCaWdJbnQoMCksIC8qIEBfX1BVUkVfXyovIEJpZ0ludChcIjE4NDQ2NzQ0MDczNzA5NTUxNjE1XCIpXSxcbn07XG5leHBvcnQgZnVuY3Rpb24gcGljayhzY2hlbWEsIG1hc2spIHtcbiAgICBjb25zdCBuZXdTaGFwZSA9IHt9O1xuICAgIGNvbnN0IGN1cnJEZWYgPSBzY2hlbWEuX3pvZC5kZWY7IC8vLnNoYXBlO1xuICAgIGZvciAoY29uc3Qga2V5IGluIG1hc2spIHtcbiAgICAgICAgaWYgKCEoa2V5IGluIGN1cnJEZWYuc2hhcGUpKSB7XG4gICAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoYFVucmVjb2duaXplZCBrZXk6IFwiJHtrZXl9XCJgKTtcbiAgICAgICAgfVxuICAgICAgICBpZiAoIW1hc2tba2V5XSlcbiAgICAgICAgICAgIGNvbnRpbnVlO1xuICAgICAgICAvLyBwaWNrIGtleVxuICAgICAgICBuZXdTaGFwZVtrZXldID0gY3VyckRlZi5zaGFwZVtrZXldO1xuICAgIH1cbiAgICByZXR1cm4gY2xvbmUoc2NoZW1hLCB7XG4gICAgICAgIC4uLnNjaGVtYS5fem9kLmRlZixcbiAgICAgICAgc2hhcGU6IG5ld1NoYXBlLFxuICAgICAgICBjaGVja3M6IFtdLFxuICAgIH0pO1xufVxuZXhwb3J0IGZ1bmN0aW9uIG9taXQoc2NoZW1hLCBtYXNrKSB7XG4gICAgY29uc3QgbmV3U2hhcGUgPSB7IC4uLnNjaGVtYS5fem9kLmRlZi5zaGFwZSB9O1xuICAgIGNvbnN0IGN1cnJEZWYgPSBzY2hlbWEuX3pvZC5kZWY7IC8vLnNoYXBlO1xuICAgIGZvciAoY29uc3Qga2V5IGluIG1hc2spIHtcbiAgICAgICAgaWYgKCEoa2V5IGluIGN1cnJEZWYuc2hhcGUpKSB7XG4gICAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoYFVucmVjb2duaXplZCBrZXk6IFwiJHtrZXl9XCJgKTtcbiAgICAgICAgfVxuICAgICAgICBpZiAoIW1hc2tba2V5XSlcbiAgICAgICAgICAgIGNvbnRpbnVlO1xuICAgICAgICBkZWxldGUgbmV3U2hhcGVba2V5XTtcbiAgICB9XG4gICAgcmV0dXJuIGNsb25lKHNjaGVtYSwge1xuICAgICAgICAuLi5zY2hlbWEuX3pvZC5kZWYsXG4gICAgICAgIHNoYXBlOiBuZXdTaGFwZSxcbiAgICAgICAgY2hlY2tzOiBbXSxcbiAgICB9KTtcbn1cbmV4cG9ydCBmdW5jdGlvbiBleHRlbmQoc2NoZW1hLCBzaGFwZSkge1xuICAgIGlmICghaXNQbGFpbk9iamVjdChzaGFwZSkpIHtcbiAgICAgICAgdGhyb3cgbmV3IEVycm9yKFwiSW52YWxpZCBpbnB1dCB0byBleHRlbmQ6IGV4cGVjdGVkIGEgcGxhaW4gb2JqZWN0XCIpO1xuICAgIH1cbiAgICBjb25zdCBkZWYgPSB7XG4gICAgICAgIC4uLnNjaGVtYS5fem9kLmRlZixcbiAgICAgICAgZ2V0IHNoYXBlKCkge1xuICAgICAgICAgICAgY29uc3QgX3NoYXBlID0geyAuLi5zY2hlbWEuX3pvZC5kZWYuc2hhcGUsIC4uLnNoYXBlIH07XG4gICAgICAgICAgICBhc3NpZ25Qcm9wKHRoaXMsIFwic2hhcGVcIiwgX3NoYXBlKTsgLy8gc2VsZi1jYWNoaW5nXG4gICAgICAgICAgICByZXR1cm4gX3NoYXBlO1xuICAgICAgICB9LFxuICAgICAgICBjaGVja3M6IFtdLCAvLyBkZWxldGUgZXhpc3RpbmcgY2hlY2tzXG4gICAgfTtcbiAgICByZXR1cm4gY2xvbmUoc2NoZW1hLCBkZWYpO1xufVxuZXhwb3J0IGZ1bmN0aW9uIG1lcmdlKGEsIGIpIHtcbiAgICByZXR1cm4gY2xvbmUoYSwge1xuICAgICAgICAuLi5hLl96b2QuZGVmLFxuICAgICAgICBnZXQgc2hhcGUoKSB7XG4gICAgICAgICAgICBjb25zdCBfc2hhcGUgPSB7IC4uLmEuX3pvZC5kZWYuc2hhcGUsIC4uLmIuX3pvZC5kZWYuc2hhcGUgfTtcbiAgICAgICAgICAgIGFzc2lnblByb3AodGhpcywgXCJzaGFwZVwiLCBfc2hhcGUpOyAvLyBzZWxmLWNhY2hpbmdcbiAgICAgICAgICAgIHJldHVybiBfc2hhcGU7XG4gICAgICAgIH0sXG4gICAgICAgIGNhdGNoYWxsOiBiLl96b2QuZGVmLmNhdGNoYWxsLFxuICAgICAgICBjaGVja3M6IFtdLCAvLyBkZWxldGUgZXhpc3RpbmcgY2hlY2tzXG4gICAgfSk7XG59XG5leHBvcnQgZnVuY3Rpb24gcGFydGlhbChDbGFzcywgc2NoZW1hLCBtYXNrKSB7XG4gICAgY29uc3Qgb2xkU2hhcGUgPSBzY2hlbWEuX3pvZC5kZWYuc2hhcGU7XG4gICAgY29uc3Qgc2hhcGUgPSB7IC4uLm9sZFNoYXBlIH07XG4gICAgaWYgKG1hc2spIHtcbiAgICAgICAgZm9yIChjb25zdCBrZXkgaW4gbWFzaykge1xuICAgICAgICAgICAgaWYgKCEoa2V5IGluIG9sZFNoYXBlKSkge1xuICAgICAgICAgICAgICAgIHRocm93IG5ldyBFcnJvcihgVW5yZWNvZ25pemVkIGtleTogXCIke2tleX1cImApO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgaWYgKCFtYXNrW2tleV0pXG4gICAgICAgICAgICAgICAgY29udGludWU7XG4gICAgICAgICAgICAvLyBpZiAob2xkU2hhcGVba2V5XSEuX3pvZC5vcHRpbiA9PT0gXCJvcHRpb25hbFwiKSBjb250aW51ZTtcbiAgICAgICAgICAgIHNoYXBlW2tleV0gPSBDbGFzc1xuICAgICAgICAgICAgICAgID8gbmV3IENsYXNzKHtcbiAgICAgICAgICAgICAgICAgICAgdHlwZTogXCJvcHRpb25hbFwiLFxuICAgICAgICAgICAgICAgICAgICBpbm5lclR5cGU6IG9sZFNoYXBlW2tleV0sXG4gICAgICAgICAgICAgICAgfSlcbiAgICAgICAgICAgICAgICA6IG9sZFNoYXBlW2tleV07XG4gICAgICAgIH1cbiAgICB9XG4gICAgZWxzZSB7XG4gICAgICAgIGZvciAoY29uc3Qga2V5IGluIG9sZFNoYXBlKSB7XG4gICAgICAgICAgICAvLyBpZiAob2xkU2hhcGVba2V5XSEuX3pvZC5vcHRpbiA9PT0gXCJvcHRpb25hbFwiKSBjb250aW51ZTtcbiAgICAgICAgICAgIHNoYXBlW2tleV0gPSBDbGFzc1xuICAgICAgICAgICAgICAgID8gbmV3IENsYXNzKHtcbiAgICAgICAgICAgICAgICAgICAgdHlwZTogXCJvcHRpb25hbFwiLFxuICAgICAgICAgICAgICAgICAgICBpbm5lclR5cGU6IG9sZFNoYXBlW2tleV0sXG4gICAgICAgICAgICAgICAgfSlcbiAgICAgICAgICAgICAgICA6IG9sZFNoYXBlW2tleV07XG4gICAgICAgIH1cbiAgICB9XG4gICAgcmV0dXJuIGNsb25lKHNjaGVtYSwge1xuICAgICAgICAuLi5zY2hlbWEuX3pvZC5kZWYsXG4gICAgICAgIHNoYXBlLFxuICAgICAgICBjaGVja3M6IFtdLFxuICAgIH0pO1xufVxuZXhwb3J0IGZ1bmN0aW9uIHJlcXVpcmVkKENsYXNzLCBzY2hlbWEsIG1hc2spIHtcbiAgICBjb25zdCBvbGRTaGFwZSA9IHNjaGVtYS5fem9kLmRlZi5zaGFwZTtcbiAgICBjb25zdCBzaGFwZSA9IHsgLi4ub2xkU2hhcGUgfTtcbiAgICBpZiAobWFzaykge1xuICAgICAgICBmb3IgKGNvbnN0IGtleSBpbiBtYXNrKSB7XG4gICAgICAgICAgICBpZiAoIShrZXkgaW4gc2hhcGUpKSB7XG4gICAgICAgICAgICAgICAgdGhyb3cgbmV3IEVycm9yKGBVbnJlY29nbml6ZWQga2V5OiBcIiR7a2V5fVwiYCk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBpZiAoIW1hc2tba2V5XSlcbiAgICAgICAgICAgICAgICBjb250aW51ZTtcbiAgICAgICAgICAgIC8vIG92ZXJ3cml0ZSB3aXRoIG5vbi1vcHRpb25hbFxuICAgICAgICAgICAgc2hhcGVba2V5XSA9IG5ldyBDbGFzcyh7XG4gICAgICAgICAgICAgICAgdHlwZTogXCJub25vcHRpb25hbFwiLFxuICAgICAgICAgICAgICAgIGlubmVyVHlwZTogb2xkU2hhcGVba2V5XSxcbiAgICAgICAgICAgIH0pO1xuICAgICAgICB9XG4gICAgfVxuICAgIGVsc2Uge1xuICAgICAgICBmb3IgKGNvbnN0IGtleSBpbiBvbGRTaGFwZSkge1xuICAgICAgICAgICAgLy8gb3ZlcndyaXRlIHdpdGggbm9uLW9wdGlvbmFsXG4gICAgICAgICAgICBzaGFwZVtrZXldID0gbmV3IENsYXNzKHtcbiAgICAgICAgICAgICAgICB0eXBlOiBcIm5vbm9wdGlvbmFsXCIsXG4gICAgICAgICAgICAgICAgaW5uZXJUeXBlOiBvbGRTaGFwZVtrZXldLFxuICAgICAgICAgICAgfSk7XG4gICAgICAgIH1cbiAgICB9XG4gICAgcmV0dXJuIGNsb25lKHNjaGVtYSwge1xuICAgICAgICAuLi5zY2hlbWEuX3pvZC5kZWYsXG4gICAgICAgIHNoYXBlLFxuICAgICAgICAvLyBvcHRpb25hbDogW10sXG4gICAgICAgIGNoZWNrczogW10sXG4gICAgfSk7XG59XG5leHBvcnQgZnVuY3Rpb24gYWJvcnRlZCh4LCBzdGFydEluZGV4ID0gMCkge1xuICAgIGZvciAobGV0IGkgPSBzdGFydEluZGV4OyBpIDwgeC5pc3N1ZXMubGVuZ3RoOyBpKyspIHtcbiAgICAgICAgaWYgKHguaXNzdWVzW2ldPy5jb250aW51ZSAhPT0gdHJ1ZSlcbiAgICAgICAgICAgIHJldHVybiB0cnVlO1xuICAgIH1cbiAgICByZXR1cm4gZmFsc2U7XG59XG5leHBvcnQgZnVuY3Rpb24gcHJlZml4SXNzdWVzKHBhdGgsIGlzc3Vlcykge1xuICAgIHJldHVybiBpc3N1ZXMubWFwKChpc3MpID0+IHtcbiAgICAgICAgdmFyIF9hO1xuICAgICAgICAoX2EgPSBpc3MpLnBhdGggPz8gKF9hLnBhdGggPSBbXSk7XG4gICAgICAgIGlzcy5wYXRoLnVuc2hpZnQocGF0aCk7XG4gICAgICAgIHJldHVybiBpc3M7XG4gICAgfSk7XG59XG5leHBvcnQgZnVuY3Rpb24gdW53cmFwTWVzc2FnZShtZXNzYWdlKSB7XG4gICAgcmV0dXJuIHR5cGVvZiBtZXNzYWdlID09PSBcInN0cmluZ1wiID8gbWVzc2FnZSA6IG1lc3NhZ2U/Lm1lc3NhZ2U7XG59XG5leHBvcnQgZnVuY3Rpb24gZmluYWxpemVJc3N1ZShpc3MsIGN0eCwgY29uZmlnKSB7XG4gICAgY29uc3QgZnVsbCA9IHsgLi4uaXNzLCBwYXRoOiBpc3MucGF0aCA/PyBbXSB9O1xuICAgIC8vIGZvciBiYWNrd2FyZHMgY29tcGF0aWJpbGl0eVxuICAgIGlmICghaXNzLm1lc3NhZ2UpIHtcbiAgICAgICAgY29uc3QgbWVzc2FnZSA9IHVud3JhcE1lc3NhZ2UoaXNzLmluc3Q/Ll96b2QuZGVmPy5lcnJvcj8uKGlzcykpID8/XG4gICAgICAgICAgICB1bndyYXBNZXNzYWdlKGN0eD8uZXJyb3I/Lihpc3MpKSA/P1xuICAgICAgICAgICAgdW53cmFwTWVzc2FnZShjb25maWcuY3VzdG9tRXJyb3I/Lihpc3MpKSA/P1xuICAgICAgICAgICAgdW53cmFwTWVzc2FnZShjb25maWcubG9jYWxlRXJyb3I/Lihpc3MpKSA/P1xuICAgICAgICAgICAgXCJJbnZhbGlkIGlucHV0XCI7XG4gICAgICAgIGZ1bGwubWVzc2FnZSA9IG1lc3NhZ2U7XG4gICAgfVxuICAgIC8vIGRlbGV0ZSAoZnVsbCBhcyBhbnkpLmRlZjtcbiAgICBkZWxldGUgZnVsbC5pbnN0O1xuICAgIGRlbGV0ZSBmdWxsLmNvbnRpbnVlO1xuICAgIGlmICghY3R4Py5yZXBvcnRJbnB1dCkge1xuICAgICAgICBkZWxldGUgZnVsbC5pbnB1dDtcbiAgICB9XG4gICAgcmV0dXJuIGZ1bGw7XG59XG5leHBvcnQgZnVuY3Rpb24gZ2V0U2l6YWJsZU9yaWdpbihpbnB1dCkge1xuICAgIGlmIChpbnB1dCBpbnN0YW5jZW9mIFNldClcbiAgICAgICAgcmV0dXJuIFwic2V0XCI7XG4gICAgaWYgKGlucHV0IGluc3RhbmNlb2YgTWFwKVxuICAgICAgICByZXR1cm4gXCJtYXBcIjtcbiAgICBpZiAoaW5wdXQgaW5zdGFuY2VvZiBGaWxlKVxuICAgICAgICByZXR1cm4gXCJmaWxlXCI7XG4gICAgcmV0dXJuIFwidW5rbm93blwiO1xufVxuZXhwb3J0IGZ1bmN0aW9uIGdldExlbmd0aGFibGVPcmlnaW4oaW5wdXQpIHtcbiAgICBpZiAoQXJyYXkuaXNBcnJheShpbnB1dCkpXG4gICAgICAgIHJldHVybiBcImFycmF5XCI7XG4gICAgaWYgKHR5cGVvZiBpbnB1dCA9PT0gXCJzdHJpbmdcIilcbiAgICAgICAgcmV0dXJuIFwic3RyaW5nXCI7XG4gICAgcmV0dXJuIFwidW5rbm93blwiO1xufVxuZXhwb3J0IGZ1bmN0aW9uIGlzc3VlKC4uLmFyZ3MpIHtcbiAgICBjb25zdCBbaXNzLCBpbnB1dCwgaW5zdF0gPSBhcmdzO1xuICAgIGlmICh0eXBlb2YgaXNzID09PSBcInN0cmluZ1wiKSB7XG4gICAgICAgIHJldHVybiB7XG4gICAgICAgICAgICBtZXNzYWdlOiBpc3MsXG4gICAgICAgICAgICBjb2RlOiBcImN1c3RvbVwiLFxuICAgICAgICAgICAgaW5wdXQsXG4gICAgICAgICAgICBpbnN0LFxuICAgICAgICB9O1xuICAgIH1cbiAgICByZXR1cm4geyAuLi5pc3MgfTtcbn1cbmV4cG9ydCBmdW5jdGlvbiBjbGVhbkVudW0ob2JqKSB7XG4gICAgcmV0dXJuIE9iamVjdC5lbnRyaWVzKG9iailcbiAgICAgICAgLmZpbHRlcigoW2ssIF9dKSA9PiB7XG4gICAgICAgIC8vIHJldHVybiB0cnVlIGlmIE5hTiwgbWVhbmluZyBpdCdzIG5vdCBhIG51bWJlciwgdGh1cyBhIHN0cmluZyBrZXlcbiAgICAgICAgcmV0dXJuIE51bWJlci5pc05hTihOdW1iZXIucGFyc2VJbnQoaywgMTApKTtcbiAgICB9KVxuICAgICAgICAubWFwKChlbCkgPT4gZWxbMV0pO1xufVxuLy8gaW5zdGFuY2VvZlxuZXhwb3J0IGNsYXNzIENsYXNzIHtcbiAgICBjb25zdHJ1Y3RvciguLi5fYXJncykgeyB9XG59XG4iLCJleHBvcnQgY29uc3QgJG91dHB1dCA9IFN5bWJvbChcIlpvZE91dHB1dFwiKTtcbmV4cG9ydCBjb25zdCAkaW5wdXQgPSBTeW1ib2woXCJab2RJbnB1dFwiKTtcbmV4cG9ydCBjbGFzcyAkWm9kUmVnaXN0cnkge1xuICAgIGNvbnN0cnVjdG9yKCkge1xuICAgICAgICB0aGlzLl9tYXAgPSBuZXcgTWFwKCk7XG4gICAgICAgIHRoaXMuX2lkbWFwID0gbmV3IE1hcCgpO1xuICAgIH1cbiAgICBhZGQoc2NoZW1hLCAuLi5fbWV0YSkge1xuICAgICAgICBjb25zdCBtZXRhID0gX21ldGFbMF07XG4gICAgICAgIHRoaXMuX21hcC5zZXQoc2NoZW1hLCBtZXRhKTtcbiAgICAgICAgaWYgKG1ldGEgJiYgdHlwZW9mIG1ldGEgPT09IFwib2JqZWN0XCIgJiYgXCJpZFwiIGluIG1ldGEpIHtcbiAgICAgICAgICAgIGlmICh0aGlzLl9pZG1hcC5oYXMobWV0YS5pZCkpIHtcbiAgICAgICAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoYElEICR7bWV0YS5pZH0gYWxyZWFkeSBleGlzdHMgaW4gdGhlIHJlZ2lzdHJ5YCk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICB0aGlzLl9pZG1hcC5zZXQobWV0YS5pZCwgc2NoZW1hKTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gdGhpcztcbiAgICB9XG4gICAgY2xlYXIoKSB7XG4gICAgICAgIHRoaXMuX21hcCA9IG5ldyBNYXAoKTtcbiAgICAgICAgdGhpcy5faWRtYXAgPSBuZXcgTWFwKCk7XG4gICAgICAgIHJldHVybiB0aGlzO1xuICAgIH1cbiAgICByZW1vdmUoc2NoZW1hKSB7XG4gICAgICAgIGNvbnN0IG1ldGEgPSB0aGlzLl9tYXAuZ2V0KHNjaGVtYSk7XG4gICAgICAgIGlmIChtZXRhICYmIHR5cGVvZiBtZXRhID09PSBcIm9iamVjdFwiICYmIFwiaWRcIiBpbiBtZXRhKSB7XG4gICAgICAgICAgICB0aGlzLl9pZG1hcC5kZWxldGUobWV0YS5pZCk7XG4gICAgICAgIH1cbiAgICAgICAgdGhpcy5fbWFwLmRlbGV0ZShzY2hlbWEpO1xuICAgICAgICByZXR1cm4gdGhpcztcbiAgICB9XG4gICAgZ2V0KHNjaGVtYSkge1xuICAgICAgICAvLyByZXR1cm4gdGhpcy5fbWFwLmdldChzY2hlbWEpIGFzIGFueTtcbiAgICAgICAgLy8gaW5oZXJpdCBtZXRhZGF0YVxuICAgICAgICBjb25zdCBwID0gc2NoZW1hLl96b2QucGFyZW50O1xuICAgICAgICBpZiAocCkge1xuICAgICAgICAgICAgY29uc3QgcG0gPSB7IC4uLih0aGlzLmdldChwKSA/PyB7fSkgfTtcbiAgICAgICAgICAgIGRlbGV0ZSBwbS5pZDsgLy8gZG8gbm90IGluaGVyaXQgaWRcbiAgICAgICAgICAgIHJldHVybiB7IC4uLnBtLCAuLi50aGlzLl9tYXAuZ2V0KHNjaGVtYSkgfTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gdGhpcy5fbWFwLmdldChzY2hlbWEpO1xuICAgIH1cbiAgICBoYXMoc2NoZW1hKSB7XG4gICAgICAgIHJldHVybiB0aGlzLl9tYXAuaGFzKHNjaGVtYSk7XG4gICAgfVxufVxuLy8gcmVnaXN0cmllc1xuZXhwb3J0IGZ1bmN0aW9uIHJlZ2lzdHJ5KCkge1xuICAgIHJldHVybiBuZXcgJFpvZFJlZ2lzdHJ5KCk7XG59XG5leHBvcnQgY29uc3QgZ2xvYmFsUmVnaXN0cnkgPSAvKkBfX1BVUkVfXyovIHJlZ2lzdHJ5KCk7XG4iLCJpbXBvcnQgeyAkWm9kUmVnaXN0cnksIGdsb2JhbFJlZ2lzdHJ5IH0gZnJvbSBcIi4vcmVnaXN0cmllcy5qc1wiO1xuaW1wb3J0IHsgZ2V0RW51bVZhbHVlcyB9IGZyb20gXCIuL3V0aWwuanNcIjtcbmV4cG9ydCBjbGFzcyBKU09OU2NoZW1hR2VuZXJhdG9yIHtcbiAgICBjb25zdHJ1Y3RvcihwYXJhbXMpIHtcbiAgICAgICAgdGhpcy5jb3VudGVyID0gMDtcbiAgICAgICAgdGhpcy5tZXRhZGF0YVJlZ2lzdHJ5ID0gcGFyYW1zPy5tZXRhZGF0YSA/PyBnbG9iYWxSZWdpc3RyeTtcbiAgICAgICAgdGhpcy50YXJnZXQgPSBwYXJhbXM/LnRhcmdldCA/PyBcImRyYWZ0LTIwMjAtMTJcIjtcbiAgICAgICAgdGhpcy51bnJlcHJlc2VudGFibGUgPSBwYXJhbXM/LnVucmVwcmVzZW50YWJsZSA/PyBcInRocm93XCI7XG4gICAgICAgIHRoaXMub3ZlcnJpZGUgPSBwYXJhbXM/Lm92ZXJyaWRlID8/ICgoKSA9PiB7IH0pO1xuICAgICAgICB0aGlzLmlvID0gcGFyYW1zPy5pbyA/PyBcIm91dHB1dFwiO1xuICAgICAgICB0aGlzLnNlZW4gPSBuZXcgTWFwKCk7XG4gICAgfVxuICAgIHByb2Nlc3Moc2NoZW1hLCBfcGFyYW1zID0geyBwYXRoOiBbXSwgc2NoZW1hUGF0aDogW10gfSkge1xuICAgICAgICB2YXIgX2E7XG4gICAgICAgIGNvbnN0IGRlZiA9IHNjaGVtYS5fem9kLmRlZjtcbiAgICAgICAgY29uc3QgZm9ybWF0TWFwID0ge1xuICAgICAgICAgICAgZ3VpZDogXCJ1dWlkXCIsXG4gICAgICAgICAgICB1cmw6IFwidXJpXCIsXG4gICAgICAgICAgICBkYXRldGltZTogXCJkYXRlLXRpbWVcIixcbiAgICAgICAgICAgIGpzb25fc3RyaW5nOiBcImpzb24tc3RyaW5nXCIsXG4gICAgICAgICAgICByZWdleDogXCJcIiwgLy8gZG8gbm90IHNldFxuICAgICAgICB9O1xuICAgICAgICAvLyBjaGVjayBmb3Igc2NoZW1hIGluIHNlZW5zXG4gICAgICAgIGNvbnN0IHNlZW4gPSB0aGlzLnNlZW4uZ2V0KHNjaGVtYSk7XG4gICAgICAgIGlmIChzZWVuKSB7XG4gICAgICAgICAgICBzZWVuLmNvdW50Kys7XG4gICAgICAgICAgICAvLyBjaGVjayBpZiBjeWNsZVxuICAgICAgICAgICAgY29uc3QgaXNDeWNsZSA9IF9wYXJhbXMuc2NoZW1hUGF0aC5pbmNsdWRlcyhzY2hlbWEpO1xuICAgICAgICAgICAgaWYgKGlzQ3ljbGUpIHtcbiAgICAgICAgICAgICAgICBzZWVuLmN5Y2xlID0gX3BhcmFtcy5wYXRoO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgcmV0dXJuIHNlZW4uc2NoZW1hO1xuICAgICAgICB9XG4gICAgICAgIC8vIGluaXRpYWxpemVcbiAgICAgICAgY29uc3QgcmVzdWx0ID0geyBzY2hlbWE6IHt9LCBjb3VudDogMSwgY3ljbGU6IHVuZGVmaW5lZCwgcGF0aDogX3BhcmFtcy5wYXRoIH07XG4gICAgICAgIHRoaXMuc2Vlbi5zZXQoc2NoZW1hLCByZXN1bHQpO1xuICAgICAgICAvLyBjdXN0b20gbWV0aG9kIG92ZXJyaWRlcyBkZWZhdWx0IGJlaGF2aW9yXG4gICAgICAgIGNvbnN0IG92ZXJyaWRlU2NoZW1hID0gc2NoZW1hLl96b2QudG9KU09OU2NoZW1hPy4oKTtcbiAgICAgICAgaWYgKG92ZXJyaWRlU2NoZW1hKSB7XG4gICAgICAgICAgICByZXN1bHQuc2NoZW1hID0gb3ZlcnJpZGVTY2hlbWE7XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICBjb25zdCBwYXJhbXMgPSB7XG4gICAgICAgICAgICAgICAgLi4uX3BhcmFtcyxcbiAgICAgICAgICAgICAgICBzY2hlbWFQYXRoOiBbLi4uX3BhcmFtcy5zY2hlbWFQYXRoLCBzY2hlbWFdLFxuICAgICAgICAgICAgICAgIHBhdGg6IF9wYXJhbXMucGF0aCxcbiAgICAgICAgICAgIH07XG4gICAgICAgICAgICBjb25zdCBwYXJlbnQgPSBzY2hlbWEuX3pvZC5wYXJlbnQ7XG4gICAgICAgICAgICBpZiAocGFyZW50KSB7XG4gICAgICAgICAgICAgICAgLy8gc2NoZW1hIHdhcyBjbG9uZWQgZnJvbSBhbm90aGVyIHNjaGVtYVxuICAgICAgICAgICAgICAgIHJlc3VsdC5yZWYgPSBwYXJlbnQ7XG4gICAgICAgICAgICAgICAgdGhpcy5wcm9jZXNzKHBhcmVudCwgcGFyYW1zKTtcbiAgICAgICAgICAgICAgICB0aGlzLnNlZW4uZ2V0KHBhcmVudCkuaXNQYXJlbnQgPSB0cnVlO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICAgICAgY29uc3QgX2pzb24gPSByZXN1bHQuc2NoZW1hO1xuICAgICAgICAgICAgICAgIHN3aXRjaCAoZGVmLnR5cGUpIHtcbiAgICAgICAgICAgICAgICAgICAgY2FzZSBcInN0cmluZ1wiOiB7XG4gICAgICAgICAgICAgICAgICAgICAgICBjb25zdCBqc29uID0gX2pzb247XG4gICAgICAgICAgICAgICAgICAgICAgICBqc29uLnR5cGUgPSBcInN0cmluZ1wiO1xuICAgICAgICAgICAgICAgICAgICAgICAgY29uc3QgeyBtaW5pbXVtLCBtYXhpbXVtLCBmb3JtYXQsIHBhdHRlcm5zLCBjb250ZW50RW5jb2RpbmcgfSA9IHNjaGVtYS5fem9kXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgLmJhZztcbiAgICAgICAgICAgICAgICAgICAgICAgIGlmICh0eXBlb2YgbWluaW11bSA9PT0gXCJudW1iZXJcIilcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBqc29uLm1pbkxlbmd0aCA9IG1pbmltdW07XG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAodHlwZW9mIG1heGltdW0gPT09IFwibnVtYmVyXCIpXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAganNvbi5tYXhMZW5ndGggPSBtYXhpbXVtO1xuICAgICAgICAgICAgICAgICAgICAgICAgLy8gY3VzdG9tIHBhdHRlcm4gb3ZlcnJpZGVzIGZvcm1hdFxuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKGZvcm1hdCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGpzb24uZm9ybWF0ID0gZm9ybWF0TWFwW2Zvcm1hdF0gPz8gZm9ybWF0O1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmIChqc29uLmZvcm1hdCA9PT0gXCJcIilcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZGVsZXRlIGpzb24uZm9ybWF0OyAvLyBlbXB0eSBmb3JtYXQgaXMgbm90IHZhbGlkXG4gICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAoY29udGVudEVuY29kaW5nKVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGpzb24uY29udGVudEVuY29kaW5nID0gY29udGVudEVuY29kaW5nO1xuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKHBhdHRlcm5zICYmIHBhdHRlcm5zLnNpemUgPiAwKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgY29uc3QgcmVnZXhlcyA9IFsuLi5wYXR0ZXJuc107XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKHJlZ2V4ZXMubGVuZ3RoID09PSAxKVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBqc29uLnBhdHRlcm4gPSByZWdleGVzWzBdLnNvdXJjZTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBlbHNlIGlmIChyZWdleGVzLmxlbmd0aCA+IDEpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcmVzdWx0LnNjaGVtYS5hbGxPZiA9IFtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIC4uLnJlZ2V4ZXMubWFwKChyZWdleCkgPT4gKHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAuLi4odGhpcy50YXJnZXQgPT09IFwiZHJhZnQtN1wiID8geyB0eXBlOiBcInN0cmluZ1wiIH0gOiB7fSksXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcGF0dGVybjogcmVnZXguc291cmNlLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfSkpLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBdO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIGNhc2UgXCJudW1iZXJcIjoge1xuICAgICAgICAgICAgICAgICAgICAgICAgY29uc3QganNvbiA9IF9qc29uO1xuICAgICAgICAgICAgICAgICAgICAgICAgY29uc3QgeyBtaW5pbXVtLCBtYXhpbXVtLCBmb3JtYXQsIG11bHRpcGxlT2YsIGV4Y2x1c2l2ZU1heGltdW0sIGV4Y2x1c2l2ZU1pbmltdW0gfSA9IHNjaGVtYS5fem9kLmJhZztcbiAgICAgICAgICAgICAgICAgICAgICAgIGlmICh0eXBlb2YgZm9ybWF0ID09PSBcInN0cmluZ1wiICYmIGZvcm1hdC5pbmNsdWRlcyhcImludFwiKSlcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBqc29uLnR5cGUgPSBcImludGVnZXJcIjtcbiAgICAgICAgICAgICAgICAgICAgICAgIGVsc2VcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBqc29uLnR5cGUgPSBcIm51bWJlclwiO1xuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKHR5cGVvZiBleGNsdXNpdmVNaW5pbXVtID09PSBcIm51bWJlclwiKVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGpzb24uZXhjbHVzaXZlTWluaW11bSA9IGV4Y2x1c2l2ZU1pbmltdW07XG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAodHlwZW9mIG1pbmltdW0gPT09IFwibnVtYmVyXCIpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBqc29uLm1pbmltdW0gPSBtaW5pbXVtO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmICh0eXBlb2YgZXhjbHVzaXZlTWluaW11bSA9PT0gXCJudW1iZXJcIikge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAoZXhjbHVzaXZlTWluaW11bSA+PSBtaW5pbXVtKVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZGVsZXRlIGpzb24ubWluaW11bTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZWxzZVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZGVsZXRlIGpzb24uZXhjbHVzaXZlTWluaW11bTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAodHlwZW9mIGV4Y2x1c2l2ZU1heGltdW0gPT09IFwibnVtYmVyXCIpXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAganNvbi5leGNsdXNpdmVNYXhpbXVtID0gZXhjbHVzaXZlTWF4aW11bTtcbiAgICAgICAgICAgICAgICAgICAgICAgIGlmICh0eXBlb2YgbWF4aW11bSA9PT0gXCJudW1iZXJcIikge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGpzb24ubWF4aW11bSA9IG1heGltdW07XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKHR5cGVvZiBleGNsdXNpdmVNYXhpbXVtID09PSBcIm51bWJlclwiKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmIChleGNsdXNpdmVNYXhpbXVtIDw9IG1heGltdW0pXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBkZWxldGUganNvbi5tYXhpbXVtO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBlbHNlXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBkZWxldGUganNvbi5leGNsdXNpdmVNYXhpbXVtO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgIGlmICh0eXBlb2YgbXVsdGlwbGVPZiA9PT0gXCJudW1iZXJcIilcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBqc29uLm11bHRpcGxlT2YgPSBtdWx0aXBsZU9mO1xuICAgICAgICAgICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgY2FzZSBcImJvb2xlYW5cIjoge1xuICAgICAgICAgICAgICAgICAgICAgICAgY29uc3QganNvbiA9IF9qc29uO1xuICAgICAgICAgICAgICAgICAgICAgICAganNvbi50eXBlID0gXCJib29sZWFuXCI7XG4gICAgICAgICAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICBjYXNlIFwiYmlnaW50XCI6IHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGlmICh0aGlzLnVucmVwcmVzZW50YWJsZSA9PT0gXCJ0aHJvd1wiKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgdGhyb3cgbmV3IEVycm9yKFwiQmlnSW50IGNhbm5vdCBiZSByZXByZXNlbnRlZCBpbiBKU09OIFNjaGVtYVwiKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIGNhc2UgXCJzeW1ib2xcIjoge1xuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKHRoaXMudW5yZXByZXNlbnRhYmxlID09PSBcInRocm93XCIpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoXCJTeW1ib2xzIGNhbm5vdCBiZSByZXByZXNlbnRlZCBpbiBKU09OIFNjaGVtYVwiKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIGNhc2UgXCJudWxsXCI6IHtcbiAgICAgICAgICAgICAgICAgICAgICAgIF9qc29uLnR5cGUgPSBcIm51bGxcIjtcbiAgICAgICAgICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIGNhc2UgXCJhbnlcIjoge1xuICAgICAgICAgICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgY2FzZSBcInVua25vd25cIjoge1xuICAgICAgICAgICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgY2FzZSBcInVuZGVmaW5lZFwiOiB7XG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAodGhpcy51bnJlcHJlc2VudGFibGUgPT09IFwidGhyb3dcIikge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRocm93IG5ldyBFcnJvcihcIlVuZGVmaW5lZCBjYW5ub3QgYmUgcmVwcmVzZW50ZWQgaW4gSlNPTiBTY2hlbWFcIik7XG4gICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICBjYXNlIFwidm9pZFwiOiB7XG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAodGhpcy51bnJlcHJlc2VudGFibGUgPT09IFwidGhyb3dcIikge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRocm93IG5ldyBFcnJvcihcIlZvaWQgY2Fubm90IGJlIHJlcHJlc2VudGVkIGluIEpTT04gU2NoZW1hXCIpO1xuICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgY2FzZSBcIm5ldmVyXCI6IHtcbiAgICAgICAgICAgICAgICAgICAgICAgIF9qc29uLm5vdCA9IHt9O1xuICAgICAgICAgICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgY2FzZSBcImRhdGVcIjoge1xuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKHRoaXMudW5yZXByZXNlbnRhYmxlID09PSBcInRocm93XCIpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoXCJEYXRlIGNhbm5vdCBiZSByZXByZXNlbnRlZCBpbiBKU09OIFNjaGVtYVwiKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIGNhc2UgXCJhcnJheVwiOiB7XG4gICAgICAgICAgICAgICAgICAgICAgICBjb25zdCBqc29uID0gX2pzb247XG4gICAgICAgICAgICAgICAgICAgICAgICBjb25zdCB7IG1pbmltdW0sIG1heGltdW0gfSA9IHNjaGVtYS5fem9kLmJhZztcbiAgICAgICAgICAgICAgICAgICAgICAgIGlmICh0eXBlb2YgbWluaW11bSA9PT0gXCJudW1iZXJcIilcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBqc29uLm1pbkl0ZW1zID0gbWluaW11bTtcbiAgICAgICAgICAgICAgICAgICAgICAgIGlmICh0eXBlb2YgbWF4aW11bSA9PT0gXCJudW1iZXJcIilcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBqc29uLm1heEl0ZW1zID0gbWF4aW11bTtcbiAgICAgICAgICAgICAgICAgICAgICAgIGpzb24udHlwZSA9IFwiYXJyYXlcIjtcbiAgICAgICAgICAgICAgICAgICAgICAgIGpzb24uaXRlbXMgPSB0aGlzLnByb2Nlc3MoZGVmLmVsZW1lbnQsIHsgLi4ucGFyYW1zLCBwYXRoOiBbLi4ucGFyYW1zLnBhdGgsIFwiaXRlbXNcIl0gfSk7XG4gICAgICAgICAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICBjYXNlIFwib2JqZWN0XCI6IHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGNvbnN0IGpzb24gPSBfanNvbjtcbiAgICAgICAgICAgICAgICAgICAgICAgIGpzb24udHlwZSA9IFwib2JqZWN0XCI7XG4gICAgICAgICAgICAgICAgICAgICAgICBqc29uLnByb3BlcnRpZXMgPSB7fTtcbiAgICAgICAgICAgICAgICAgICAgICAgIGNvbnN0IHNoYXBlID0gZGVmLnNoYXBlOyAvLyBwYXJhbXMuc2hhcGVDYWNoZS5nZXQoc2NoZW1hKSE7XG4gICAgICAgICAgICAgICAgICAgICAgICBmb3IgKGNvbnN0IGtleSBpbiBzaGFwZSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGpzb24ucHJvcGVydGllc1trZXldID0gdGhpcy5wcm9jZXNzKHNoYXBlW2tleV0sIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgLi4ucGFyYW1zLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBwYXRoOiBbLi4ucGFyYW1zLnBhdGgsIFwicHJvcGVydGllc1wiLCBrZXldLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgLy8gcmVxdWlyZWQga2V5c1xuICAgICAgICAgICAgICAgICAgICAgICAgY29uc3QgYWxsS2V5cyA9IG5ldyBTZXQoT2JqZWN0LmtleXMoc2hhcGUpKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIC8vIGNvbnN0IG9wdGlvbmFsS2V5cyA9IG5ldyBTZXQoZGVmLm9wdGlvbmFsKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIGNvbnN0IHJlcXVpcmVkS2V5cyA9IG5ldyBTZXQoWy4uLmFsbEtleXNdLmZpbHRlcigoa2V5KSA9PiB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgY29uc3QgdiA9IGRlZi5zaGFwZVtrZXldLl96b2Q7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKHRoaXMuaW8gPT09IFwiaW5wdXRcIikge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gdi5vcHRpbiA9PT0gdW5kZWZpbmVkO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIHYub3B0b3V0ID09PSB1bmRlZmluZWQ7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgfSkpO1xuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKHJlcXVpcmVkS2V5cy5zaXplID4gMCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGpzb24ucmVxdWlyZWQgPSBBcnJheS5mcm9tKHJlcXVpcmVkS2V5cyk7XG4gICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICAvLyBjYXRjaGFsbFxuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKGRlZi5jYXRjaGFsbD8uX3pvZC5kZWYudHlwZSA9PT0gXCJuZXZlclwiKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgLy8gc3RyaWN0XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAganNvbi5hZGRpdGlvbmFsUHJvcGVydGllcyA9IGZhbHNlO1xuICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgZWxzZSBpZiAoIWRlZi5jYXRjaGFsbCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIC8vIHJlZ3VsYXJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAodGhpcy5pbyA9PT0gXCJvdXRwdXRcIilcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAganNvbi5hZGRpdGlvbmFsUHJvcGVydGllcyA9IGZhbHNlO1xuICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgZWxzZSBpZiAoZGVmLmNhdGNoYWxsKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAganNvbi5hZGRpdGlvbmFsUHJvcGVydGllcyA9IHRoaXMucHJvY2VzcyhkZWYuY2F0Y2hhbGwsIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgLi4ucGFyYW1zLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBwYXRoOiBbLi4ucGFyYW1zLnBhdGgsIFwiYWRkaXRpb25hbFByb3BlcnRpZXNcIl0sXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICBjYXNlIFwidW5pb25cIjoge1xuICAgICAgICAgICAgICAgICAgICAgICAgY29uc3QganNvbiA9IF9qc29uO1xuICAgICAgICAgICAgICAgICAgICAgICAganNvbi5hbnlPZiA9IGRlZi5vcHRpb25zLm1hcCgoeCwgaSkgPT4gdGhpcy5wcm9jZXNzKHgsIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAuLi5wYXJhbXMsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgcGF0aDogWy4uLnBhcmFtcy5wYXRoLCBcImFueU9mXCIsIGldLFxuICAgICAgICAgICAgICAgICAgICAgICAgfSkpO1xuICAgICAgICAgICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgY2FzZSBcImludGVyc2VjdGlvblwiOiB7XG4gICAgICAgICAgICAgICAgICAgICAgICBjb25zdCBqc29uID0gX2pzb247XG4gICAgICAgICAgICAgICAgICAgICAgICBjb25zdCBhID0gdGhpcy5wcm9jZXNzKGRlZi5sZWZ0LCB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgLi4ucGFyYW1zLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHBhdGg6IFsuLi5wYXJhbXMucGF0aCwgXCJhbGxPZlwiLCAwXSxcbiAgICAgICAgICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgICAgICAgICAgICAgY29uc3QgYiA9IHRoaXMucHJvY2VzcyhkZWYucmlnaHQsIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAuLi5wYXJhbXMsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgcGF0aDogWy4uLnBhcmFtcy5wYXRoLCBcImFsbE9mXCIsIDFdLFxuICAgICAgICAgICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICAgICAgICAgICAgICBjb25zdCBpc1NpbXBsZUludGVyc2VjdGlvbiA9ICh2YWwpID0+IFwiYWxsT2ZcIiBpbiB2YWwgJiYgT2JqZWN0LmtleXModmFsKS5sZW5ndGggPT09IDE7XG4gICAgICAgICAgICAgICAgICAgICAgICBjb25zdCBhbGxPZiA9IFtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAuLi4oaXNTaW1wbGVJbnRlcnNlY3Rpb24oYSkgPyBhLmFsbE9mIDogW2FdKSxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAuLi4oaXNTaW1wbGVJbnRlcnNlY3Rpb24oYikgPyBiLmFsbE9mIDogW2JdKSxcbiAgICAgICAgICAgICAgICAgICAgICAgIF07XG4gICAgICAgICAgICAgICAgICAgICAgICBqc29uLmFsbE9mID0gYWxsT2Y7XG4gICAgICAgICAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICBjYXNlIFwidHVwbGVcIjoge1xuICAgICAgICAgICAgICAgICAgICAgICAgY29uc3QganNvbiA9IF9qc29uO1xuICAgICAgICAgICAgICAgICAgICAgICAganNvbi50eXBlID0gXCJhcnJheVwiO1xuICAgICAgICAgICAgICAgICAgICAgICAgY29uc3QgcHJlZml4SXRlbXMgPSBkZWYuaXRlbXMubWFwKCh4LCBpKSA9PiB0aGlzLnByb2Nlc3MoeCwgeyAuLi5wYXJhbXMsIHBhdGg6IFsuLi5wYXJhbXMucGF0aCwgXCJwcmVmaXhJdGVtc1wiLCBpXSB9KSk7XG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAodGhpcy50YXJnZXQgPT09IFwiZHJhZnQtMjAyMC0xMlwiKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAganNvbi5wcmVmaXhJdGVtcyA9IHByZWZpeEl0ZW1zO1xuICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAganNvbi5pdGVtcyA9IHByZWZpeEl0ZW1zO1xuICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKGRlZi5yZXN0KSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgY29uc3QgcmVzdCA9IHRoaXMucHJvY2VzcyhkZWYucmVzdCwge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAuLi5wYXJhbXMsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHBhdGg6IFsuLi5wYXJhbXMucGF0aCwgXCJpdGVtc1wiXSxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAodGhpcy50YXJnZXQgPT09IFwiZHJhZnQtMjAyMC0xMlwiKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGpzb24uaXRlbXMgPSByZXN0O1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAganNvbi5hZGRpdGlvbmFsSXRlbXMgPSByZXN0O1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgIC8vIGFkZGl0aW9uYWxJdGVtc1xuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKGRlZi5yZXN0KSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAganNvbi5pdGVtcyA9IHRoaXMucHJvY2VzcyhkZWYucmVzdCwge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAuLi5wYXJhbXMsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHBhdGg6IFsuLi5wYXJhbXMucGF0aCwgXCJpdGVtc1wiXSxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgIC8vIGxlbmd0aFxuICAgICAgICAgICAgICAgICAgICAgICAgY29uc3QgeyBtaW5pbXVtLCBtYXhpbXVtIH0gPSBzY2hlbWEuX3pvZC5iYWc7XG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAodHlwZW9mIG1pbmltdW0gPT09IFwibnVtYmVyXCIpXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAganNvbi5taW5JdGVtcyA9IG1pbmltdW07XG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAodHlwZW9mIG1heGltdW0gPT09IFwibnVtYmVyXCIpXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAganNvbi5tYXhJdGVtcyA9IG1heGltdW07XG4gICAgICAgICAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICBjYXNlIFwicmVjb3JkXCI6IHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGNvbnN0IGpzb24gPSBfanNvbjtcbiAgICAgICAgICAgICAgICAgICAgICAgIGpzb24udHlwZSA9IFwib2JqZWN0XCI7XG4gICAgICAgICAgICAgICAgICAgICAgICBqc29uLnByb3BlcnR5TmFtZXMgPSB0aGlzLnByb2Nlc3MoZGVmLmtleVR5cGUsIHsgLi4ucGFyYW1zLCBwYXRoOiBbLi4ucGFyYW1zLnBhdGgsIFwicHJvcGVydHlOYW1lc1wiXSB9KTtcbiAgICAgICAgICAgICAgICAgICAgICAgIGpzb24uYWRkaXRpb25hbFByb3BlcnRpZXMgPSB0aGlzLnByb2Nlc3MoZGVmLnZhbHVlVHlwZSwge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIC4uLnBhcmFtcyxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBwYXRoOiBbLi4ucGFyYW1zLnBhdGgsIFwiYWRkaXRpb25hbFByb3BlcnRpZXNcIl0sXG4gICAgICAgICAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIGNhc2UgXCJtYXBcIjoge1xuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKHRoaXMudW5yZXByZXNlbnRhYmxlID09PSBcInRocm93XCIpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoXCJNYXAgY2Fubm90IGJlIHJlcHJlc2VudGVkIGluIEpTT04gU2NoZW1hXCIpO1xuICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgY2FzZSBcInNldFwiOiB7XG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAodGhpcy51bnJlcHJlc2VudGFibGUgPT09IFwidGhyb3dcIikge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRocm93IG5ldyBFcnJvcihcIlNldCBjYW5ub3QgYmUgcmVwcmVzZW50ZWQgaW4gSlNPTiBTY2hlbWFcIik7XG4gICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICBjYXNlIFwiZW51bVwiOiB7XG4gICAgICAgICAgICAgICAgICAgICAgICBjb25zdCBqc29uID0gX2pzb247XG4gICAgICAgICAgICAgICAgICAgICAgICBjb25zdCB2YWx1ZXMgPSBnZXRFbnVtVmFsdWVzKGRlZi5lbnRyaWVzKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIC8vIE51bWJlciBlbnVtcyBjYW4gaGF2ZSBib3RoIHN0cmluZyBhbmQgbnVtYmVyIHZhbHVlc1xuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKHZhbHVlcy5ldmVyeSgodikgPT4gdHlwZW9mIHYgPT09IFwibnVtYmVyXCIpKVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGpzb24udHlwZSA9IFwibnVtYmVyXCI7XG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAodmFsdWVzLmV2ZXJ5KCh2KSA9PiB0eXBlb2YgdiA9PT0gXCJzdHJpbmdcIikpXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAganNvbi50eXBlID0gXCJzdHJpbmdcIjtcbiAgICAgICAgICAgICAgICAgICAgICAgIGpzb24uZW51bSA9IHZhbHVlcztcbiAgICAgICAgICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIGNhc2UgXCJsaXRlcmFsXCI6IHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGNvbnN0IGpzb24gPSBfanNvbjtcbiAgICAgICAgICAgICAgICAgICAgICAgIGNvbnN0IHZhbHMgPSBbXTtcbiAgICAgICAgICAgICAgICAgICAgICAgIGZvciAoY29uc3QgdmFsIG9mIGRlZi52YWx1ZXMpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAodmFsID09PSB1bmRlZmluZWQpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKHRoaXMudW5yZXByZXNlbnRhYmxlID09PSBcInRocm93XCIpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRocm93IG5ldyBFcnJvcihcIkxpdGVyYWwgYHVuZGVmaW5lZGAgY2Fubm90IGJlIHJlcHJlc2VudGVkIGluIEpTT04gU2NoZW1hXCIpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgLy8gZG8gbm90IGFkZCB0byB2YWxzXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgZWxzZSBpZiAodHlwZW9mIHZhbCA9PT0gXCJiaWdpbnRcIikge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAodGhpcy51bnJlcHJlc2VudGFibGUgPT09IFwidGhyb3dcIikge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdGhyb3cgbmV3IEVycm9yKFwiQmlnSW50IGxpdGVyYWxzIGNhbm5vdCBiZSByZXByZXNlbnRlZCBpbiBKU09OIFNjaGVtYVwiKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHZhbHMucHVzaChOdW1iZXIodmFsKSk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHZhbHMucHVzaCh2YWwpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgIGlmICh2YWxzLmxlbmd0aCA9PT0gMCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIC8vIGRvIG5vdGhpbmcgKGFuIHVuZGVmaW5lZCBsaXRlcmFsIHdhcyBzdHJpcHBlZClcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgIGVsc2UgaWYgKHZhbHMubGVuZ3RoID09PSAxKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgY29uc3QgdmFsID0gdmFsc1swXTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBqc29uLnR5cGUgPSB2YWwgPT09IG51bGwgPyBcIm51bGxcIiA6IHR5cGVvZiB2YWw7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAganNvbi5jb25zdCA9IHZhbDtcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmICh2YWxzLmV2ZXJ5KCh2KSA9PiB0eXBlb2YgdiA9PT0gXCJudW1iZXJcIikpXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGpzb24udHlwZSA9IFwibnVtYmVyXCI7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKHZhbHMuZXZlcnkoKHYpID0+IHR5cGVvZiB2ID09PSBcInN0cmluZ1wiKSlcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAganNvbi50eXBlID0gXCJzdHJpbmdcIjtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAodmFscy5ldmVyeSgodikgPT4gdHlwZW9mIHYgPT09IFwiYm9vbGVhblwiKSlcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAganNvbi50eXBlID0gXCJzdHJpbmdcIjtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAodmFscy5ldmVyeSgodikgPT4gdiA9PT0gbnVsbCkpXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGpzb24udHlwZSA9IFwibnVsbFwiO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGpzb24uZW51bSA9IHZhbHM7XG4gICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICBjYXNlIFwiZmlsZVwiOiB7XG4gICAgICAgICAgICAgICAgICAgICAgICBjb25zdCBqc29uID0gX2pzb247XG4gICAgICAgICAgICAgICAgICAgICAgICBjb25zdCBmaWxlID0ge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHR5cGU6IFwic3RyaW5nXCIsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgZm9ybWF0OiBcImJpbmFyeVwiLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNvbnRlbnRFbmNvZGluZzogXCJiaW5hcnlcIixcbiAgICAgICAgICAgICAgICAgICAgICAgIH07XG4gICAgICAgICAgICAgICAgICAgICAgICBjb25zdCB7IG1pbmltdW0sIG1heGltdW0sIG1pbWUgfSA9IHNjaGVtYS5fem9kLmJhZztcbiAgICAgICAgICAgICAgICAgICAgICAgIGlmIChtaW5pbXVtICE9PSB1bmRlZmluZWQpXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgZmlsZS5taW5MZW5ndGggPSBtaW5pbXVtO1xuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKG1heGltdW0gIT09IHVuZGVmaW5lZClcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBmaWxlLm1heExlbmd0aCA9IG1heGltdW07XG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAobWltZSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmIChtaW1lLmxlbmd0aCA9PT0gMSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBmaWxlLmNvbnRlbnRNZWRpYVR5cGUgPSBtaW1lWzBdO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBPYmplY3QuYXNzaWduKGpzb24sIGZpbGUpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAganNvbi5hbnlPZiA9IG1pbWUubWFwKChtKSA9PiB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjb25zdCBtRmlsZSA9IHsgLi4uZmlsZSwgY29udGVudE1lZGlhVHlwZTogbSB9O1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIG1GaWxlO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBPYmplY3QuYXNzaWduKGpzb24sIGZpbGUpO1xuICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgLy8gaWYgKHRoaXMudW5yZXByZXNlbnRhYmxlID09PSBcInRocm93XCIpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIC8vICAgdGhyb3cgbmV3IEVycm9yKFwiRmlsZSBjYW5ub3QgYmUgcmVwcmVzZW50ZWQgaW4gSlNPTiBTY2hlbWFcIik7XG4gICAgICAgICAgICAgICAgICAgICAgICAvLyB9XG4gICAgICAgICAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICBjYXNlIFwidHJhbnNmb3JtXCI6IHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGlmICh0aGlzLnVucmVwcmVzZW50YWJsZSA9PT0gXCJ0aHJvd1wiKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgdGhyb3cgbmV3IEVycm9yKFwiVHJhbnNmb3JtcyBjYW5ub3QgYmUgcmVwcmVzZW50ZWQgaW4gSlNPTiBTY2hlbWFcIik7XG4gICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICBjYXNlIFwibnVsbGFibGVcIjoge1xuICAgICAgICAgICAgICAgICAgICAgICAgY29uc3QgaW5uZXIgPSB0aGlzLnByb2Nlc3MoZGVmLmlubmVyVHlwZSwgcGFyYW1zKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIF9qc29uLmFueU9mID0gW2lubmVyLCB7IHR5cGU6IFwibnVsbFwiIH1dO1xuICAgICAgICAgICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgY2FzZSBcIm5vbm9wdGlvbmFsXCI6IHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMucHJvY2VzcyhkZWYuaW5uZXJUeXBlLCBwYXJhbXMpO1xuICAgICAgICAgICAgICAgICAgICAgICAgcmVzdWx0LnJlZiA9IGRlZi5pbm5lclR5cGU7XG4gICAgICAgICAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICBjYXNlIFwic3VjY2Vzc1wiOiB7XG4gICAgICAgICAgICAgICAgICAgICAgICBjb25zdCBqc29uID0gX2pzb247XG4gICAgICAgICAgICAgICAgICAgICAgICBqc29uLnR5cGUgPSBcImJvb2xlYW5cIjtcbiAgICAgICAgICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIGNhc2UgXCJkZWZhdWx0XCI6IHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMucHJvY2VzcyhkZWYuaW5uZXJUeXBlLCBwYXJhbXMpO1xuICAgICAgICAgICAgICAgICAgICAgICAgcmVzdWx0LnJlZiA9IGRlZi5pbm5lclR5cGU7XG4gICAgICAgICAgICAgICAgICAgICAgICBfanNvbi5kZWZhdWx0ID0gSlNPTi5wYXJzZShKU09OLnN0cmluZ2lmeShkZWYuZGVmYXVsdFZhbHVlKSk7XG4gICAgICAgICAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICBjYXNlIFwicHJlZmF1bHRcIjoge1xuICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5wcm9jZXNzKGRlZi5pbm5lclR5cGUsIHBhcmFtcyk7XG4gICAgICAgICAgICAgICAgICAgICAgICByZXN1bHQucmVmID0gZGVmLmlubmVyVHlwZTtcbiAgICAgICAgICAgICAgICAgICAgICAgIGlmICh0aGlzLmlvID09PSBcImlucHV0XCIpXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgX2pzb24uX3ByZWZhdWx0ID0gSlNPTi5wYXJzZShKU09OLnN0cmluZ2lmeShkZWYuZGVmYXVsdFZhbHVlKSk7XG4gICAgICAgICAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICBjYXNlIFwiY2F0Y2hcIjoge1xuICAgICAgICAgICAgICAgICAgICAgICAgLy8gdXNlIGNvbmRpdGlvbmFsc1xuICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5wcm9jZXNzKGRlZi5pbm5lclR5cGUsIHBhcmFtcyk7XG4gICAgICAgICAgICAgICAgICAgICAgICByZXN1bHQucmVmID0gZGVmLmlubmVyVHlwZTtcbiAgICAgICAgICAgICAgICAgICAgICAgIGxldCBjYXRjaFZhbHVlO1xuICAgICAgICAgICAgICAgICAgICAgICAgdHJ5IHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBjYXRjaFZhbHVlID0gZGVmLmNhdGNoVmFsdWUodW5kZWZpbmVkKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgIGNhdGNoIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoXCJEeW5hbWljIGNhdGNoIHZhbHVlcyBhcmUgbm90IHN1cHBvcnRlZCBpbiBKU09OIFNjaGVtYVwiKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgIF9qc29uLmRlZmF1bHQgPSBjYXRjaFZhbHVlO1xuICAgICAgICAgICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgY2FzZSBcIm5hblwiOiB7XG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAodGhpcy51bnJlcHJlc2VudGFibGUgPT09IFwidGhyb3dcIikge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRocm93IG5ldyBFcnJvcihcIk5hTiBjYW5ub3QgYmUgcmVwcmVzZW50ZWQgaW4gSlNPTiBTY2hlbWFcIik7XG4gICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICBjYXNlIFwidGVtcGxhdGVfbGl0ZXJhbFwiOiB7XG4gICAgICAgICAgICAgICAgICAgICAgICBjb25zdCBqc29uID0gX2pzb247XG4gICAgICAgICAgICAgICAgICAgICAgICBjb25zdCBwYXR0ZXJuID0gc2NoZW1hLl96b2QucGF0dGVybjtcbiAgICAgICAgICAgICAgICAgICAgICAgIGlmICghcGF0dGVybilcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoXCJQYXR0ZXJuIG5vdCBmb3VuZCBpbiB0ZW1wbGF0ZSBsaXRlcmFsXCIpO1xuICAgICAgICAgICAgICAgICAgICAgICAganNvbi50eXBlID0gXCJzdHJpbmdcIjtcbiAgICAgICAgICAgICAgICAgICAgICAgIGpzb24ucGF0dGVybiA9IHBhdHRlcm4uc291cmNlO1xuICAgICAgICAgICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgY2FzZSBcInBpcGVcIjoge1xuICAgICAgICAgICAgICAgICAgICAgICAgY29uc3QgaW5uZXJUeXBlID0gdGhpcy5pbyA9PT0gXCJpbnB1dFwiID8gKGRlZi5pbi5fem9kLmRlZi50eXBlID09PSBcInRyYW5zZm9ybVwiID8gZGVmLm91dCA6IGRlZi5pbikgOiBkZWYub3V0O1xuICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5wcm9jZXNzKGlubmVyVHlwZSwgcGFyYW1zKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIHJlc3VsdC5yZWYgPSBpbm5lclR5cGU7XG4gICAgICAgICAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICBjYXNlIFwicmVhZG9ubHlcIjoge1xuICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5wcm9jZXNzKGRlZi5pbm5lclR5cGUsIHBhcmFtcyk7XG4gICAgICAgICAgICAgICAgICAgICAgICByZXN1bHQucmVmID0gZGVmLmlubmVyVHlwZTtcbiAgICAgICAgICAgICAgICAgICAgICAgIF9qc29uLnJlYWRPbmx5ID0gdHJ1ZTtcbiAgICAgICAgICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIC8vIHBhc3N0aHJvdWdoIHR5cGVzXG4gICAgICAgICAgICAgICAgICAgIGNhc2UgXCJwcm9taXNlXCI6IHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMucHJvY2VzcyhkZWYuaW5uZXJUeXBlLCBwYXJhbXMpO1xuICAgICAgICAgICAgICAgICAgICAgICAgcmVzdWx0LnJlZiA9IGRlZi5pbm5lclR5cGU7XG4gICAgICAgICAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICBjYXNlIFwib3B0aW9uYWxcIjoge1xuICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5wcm9jZXNzKGRlZi5pbm5lclR5cGUsIHBhcmFtcyk7XG4gICAgICAgICAgICAgICAgICAgICAgICByZXN1bHQucmVmID0gZGVmLmlubmVyVHlwZTtcbiAgICAgICAgICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIGNhc2UgXCJsYXp5XCI6IHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGNvbnN0IGlubmVyVHlwZSA9IHNjaGVtYS5fem9kLmlubmVyVHlwZTtcbiAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMucHJvY2Vzcyhpbm5lclR5cGUsIHBhcmFtcyk7XG4gICAgICAgICAgICAgICAgICAgICAgICByZXN1bHQucmVmID0gaW5uZXJUeXBlO1xuICAgICAgICAgICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgY2FzZSBcImN1c3RvbVwiOiB7XG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAodGhpcy51bnJlcHJlc2VudGFibGUgPT09IFwidGhyb3dcIikge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRocm93IG5ldyBFcnJvcihcIkN1c3RvbSB0eXBlcyBjYW5ub3QgYmUgcmVwcmVzZW50ZWQgaW4gSlNPTiBTY2hlbWFcIik7XG4gICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICBkZWZhdWx0OiB7XG4gICAgICAgICAgICAgICAgICAgICAgICBkZWY7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgLy8gbWV0YWRhdGFcbiAgICAgICAgY29uc3QgbWV0YSA9IHRoaXMubWV0YWRhdGFSZWdpc3RyeS5nZXQoc2NoZW1hKTtcbiAgICAgICAgaWYgKG1ldGEpXG4gICAgICAgICAgICBPYmplY3QuYXNzaWduKHJlc3VsdC5zY2hlbWEsIG1ldGEpO1xuICAgICAgICBpZiAodGhpcy5pbyA9PT0gXCJpbnB1dFwiICYmIGlzVHJhbnNmb3JtaW5nKHNjaGVtYSkpIHtcbiAgICAgICAgICAgIC8vIGV4YW1wbGVzL2RlZmF1bHRzIG9ubHkgYXBwbHkgdG8gb3V0cHV0IHR5cGUgb2YgcGlwZVxuICAgICAgICAgICAgZGVsZXRlIHJlc3VsdC5zY2hlbWEuZXhhbXBsZXM7XG4gICAgICAgICAgICBkZWxldGUgcmVzdWx0LnNjaGVtYS5kZWZhdWx0O1xuICAgICAgICB9XG4gICAgICAgIC8vIHNldCBwcmVmYXVsdCBhcyBkZWZhdWx0XG4gICAgICAgIGlmICh0aGlzLmlvID09PSBcImlucHV0XCIgJiYgcmVzdWx0LnNjaGVtYS5fcHJlZmF1bHQpXG4gICAgICAgICAgICAoX2EgPSByZXN1bHQuc2NoZW1hKS5kZWZhdWx0ID8/IChfYS5kZWZhdWx0ID0gcmVzdWx0LnNjaGVtYS5fcHJlZmF1bHQpO1xuICAgICAgICBkZWxldGUgcmVzdWx0LnNjaGVtYS5fcHJlZmF1bHQ7XG4gICAgICAgIC8vIHB1bGxpbmcgZnJlc2ggZnJvbSB0aGlzLnNlZW4gaW4gY2FzZSBpdCB3YXMgb3ZlcndyaXR0ZW5cbiAgICAgICAgY29uc3QgX3Jlc3VsdCA9IHRoaXMuc2Vlbi5nZXQoc2NoZW1hKTtcbiAgICAgICAgcmV0dXJuIF9yZXN1bHQuc2NoZW1hO1xuICAgIH1cbiAgICBlbWl0KHNjaGVtYSwgX3BhcmFtcykge1xuICAgICAgICBjb25zdCBwYXJhbXMgPSB7XG4gICAgICAgICAgICBjeWNsZXM6IF9wYXJhbXM/LmN5Y2xlcyA/PyBcInJlZlwiLFxuICAgICAgICAgICAgcmV1c2VkOiBfcGFyYW1zPy5yZXVzZWQgPz8gXCJpbmxpbmVcIixcbiAgICAgICAgICAgIC8vIHVucmVwcmVzZW50YWJsZTogX3BhcmFtcz8udW5yZXByZXNlbnRhYmxlID8/IFwidGhyb3dcIixcbiAgICAgICAgICAgIC8vIHVyaTogX3BhcmFtcz8udXJpID8/ICgoaWQpID0+IGAke2lkfWApLFxuICAgICAgICAgICAgZXh0ZXJuYWw6IF9wYXJhbXM/LmV4dGVybmFsID8/IHVuZGVmaW5lZCxcbiAgICAgICAgfTtcbiAgICAgICAgLy8gaXRlcmF0ZSBvdmVyIHNlZW4gbWFwO1xuICAgICAgICBjb25zdCByb290ID0gdGhpcy5zZWVuLmdldChzY2hlbWEpO1xuICAgICAgICBpZiAoIXJvb3QpXG4gICAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoXCJVbnByb2Nlc3NlZCBzY2hlbWEuIFRoaXMgaXMgYSBidWcgaW4gWm9kLlwiKTtcbiAgICAgICAgLy8gaW5pdGlhbGl6ZSByZXN1bHQgd2l0aCByb290IHNjaGVtYSBmaWVsZHNcbiAgICAgICAgLy8gT2JqZWN0LmFzc2lnbihyZXN1bHQsIHNlZW4uY2FjaGVkKTtcbiAgICAgICAgLy8gcmV0dXJucyBhIHJlZiB0byB0aGUgc2NoZW1hXG4gICAgICAgIC8vIGRlZklkIHdpbGwgYmUgZW1wdHkgaWYgdGhlIHJlZiBwb2ludHMgdG8gYW4gZXh0ZXJuYWwgc2NoZW1hIChvciAjKVxuICAgICAgICBjb25zdCBtYWtlVVJJID0gKGVudHJ5KSA9PiB7XG4gICAgICAgICAgICAvLyBjb21wYXJpbmcgdGhlIHNlZW4gb2JqZWN0cyBiZWNhdXNlIHNvbWV0aW1lc1xuICAgICAgICAgICAgLy8gbXVsdGlwbGUgc2NoZW1hcyBtYXAgdG8gdGhlIHNhbWUgc2VlbiBvYmplY3QuXG4gICAgICAgICAgICAvLyBlLmcuIGxhenlcbiAgICAgICAgICAgIC8vIGV4dGVybmFsIGlzIGNvbmZpZ3VyZWRcbiAgICAgICAgICAgIGNvbnN0IGRlZnNTZWdtZW50ID0gdGhpcy50YXJnZXQgPT09IFwiZHJhZnQtMjAyMC0xMlwiID8gXCIkZGVmc1wiIDogXCJkZWZpbml0aW9uc1wiO1xuICAgICAgICAgICAgaWYgKHBhcmFtcy5leHRlcm5hbCkge1xuICAgICAgICAgICAgICAgIGNvbnN0IGV4dGVybmFsSWQgPSBwYXJhbXMuZXh0ZXJuYWwucmVnaXN0cnkuZ2V0KGVudHJ5WzBdKT8uaWQ7IC8vID8/IFwiX19zaGFyZWRcIjsvLyBgX19zY2hlbWEke3RoaXMuY291bnRlcisrfWA7XG4gICAgICAgICAgICAgICAgLy8gY2hlY2sgaWYgc2NoZW1hIGlzIGluIHRoZSBleHRlcm5hbCByZWdpc3RyeVxuICAgICAgICAgICAgICAgIGNvbnN0IHVyaUdlbmVyYXRvciA9IHBhcmFtcy5leHRlcm5hbC51cmkgPz8gKChpZCkgPT4gaWQpO1xuICAgICAgICAgICAgICAgIGlmIChleHRlcm5hbElkKSB7XG4gICAgICAgICAgICAgICAgICAgIHJldHVybiB7IHJlZjogdXJpR2VuZXJhdG9yKGV4dGVybmFsSWQpIH07XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIC8vIG90aGVyd2lzZSwgYWRkIHRvIF9fc2hhcmVkXG4gICAgICAgICAgICAgICAgY29uc3QgaWQgPSBlbnRyeVsxXS5kZWZJZCA/PyBlbnRyeVsxXS5zY2hlbWEuaWQgPz8gYHNjaGVtYSR7dGhpcy5jb3VudGVyKyt9YDtcbiAgICAgICAgICAgICAgICBlbnRyeVsxXS5kZWZJZCA9IGlkOyAvLyBzZXQgZGVmSWQgc28gaXQgd2lsbCBiZSByZXVzZWQgaWYgbmVlZGVkXG4gICAgICAgICAgICAgICAgcmV0dXJuIHsgZGVmSWQ6IGlkLCByZWY6IGAke3VyaUdlbmVyYXRvcihcIl9fc2hhcmVkXCIpfSMvJHtkZWZzU2VnbWVudH0vJHtpZH1gIH07XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBpZiAoZW50cnlbMV0gPT09IHJvb3QpIHtcbiAgICAgICAgICAgICAgICByZXR1cm4geyByZWY6IFwiI1wiIH07XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICAvLyBzZWxmLWNvbnRhaW5lZCBzY2hlbWFcbiAgICAgICAgICAgIGNvbnN0IHVyaVByZWZpeCA9IGAjYDtcbiAgICAgICAgICAgIGNvbnN0IGRlZlVyaVByZWZpeCA9IGAke3VyaVByZWZpeH0vJHtkZWZzU2VnbWVudH0vYDtcbiAgICAgICAgICAgIGNvbnN0IGRlZklkID0gZW50cnlbMV0uc2NoZW1hLmlkID8/IGBfX3NjaGVtYSR7dGhpcy5jb3VudGVyKyt9YDtcbiAgICAgICAgICAgIHJldHVybiB7IGRlZklkLCByZWY6IGRlZlVyaVByZWZpeCArIGRlZklkIH07XG4gICAgICAgIH07XG4gICAgICAgIC8vIHN0b3JlZCBjYWNoZWQgdmVyc2lvbiBpbiBgZGVmYCBwcm9wZXJ0eVxuICAgICAgICAvLyByZW1vdmUgYWxsIHByb3BlcnRpZXMsIHNldCAkcmVmXG4gICAgICAgIGNvbnN0IGV4dHJhY3RUb0RlZiA9IChlbnRyeSkgPT4ge1xuICAgICAgICAgICAgLy8gaWYgdGhlIHNjaGVtYSBpcyBhbHJlYWR5IGEgcmVmZXJlbmNlLCBkbyBub3QgZXh0cmFjdCBpdFxuICAgICAgICAgICAgaWYgKGVudHJ5WzFdLnNjaGVtYS4kcmVmKSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgY29uc3Qgc2VlbiA9IGVudHJ5WzFdO1xuICAgICAgICAgICAgY29uc3QgeyByZWYsIGRlZklkIH0gPSBtYWtlVVJJKGVudHJ5KTtcbiAgICAgICAgICAgIHNlZW4uZGVmID0geyAuLi5zZWVuLnNjaGVtYSB9O1xuICAgICAgICAgICAgLy8gZGVmSWQgd29uJ3QgYmUgc2V0IGlmIHRoZSBzY2hlbWEgaXMgYSByZWZlcmVuY2UgdG8gYW4gZXh0ZXJuYWwgc2NoZW1hXG4gICAgICAgICAgICBpZiAoZGVmSWQpXG4gICAgICAgICAgICAgICAgc2Vlbi5kZWZJZCA9IGRlZklkO1xuICAgICAgICAgICAgLy8gd2lwZSBhd2F5IGFsbCBwcm9wZXJ0aWVzIGV4Y2VwdCAkcmVmXG4gICAgICAgICAgICBjb25zdCBzY2hlbWEgPSBzZWVuLnNjaGVtYTtcbiAgICAgICAgICAgIGZvciAoY29uc3Qga2V5IGluIHNjaGVtYSkge1xuICAgICAgICAgICAgICAgIGRlbGV0ZSBzY2hlbWFba2V5XTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHNjaGVtYS4kcmVmID0gcmVmO1xuICAgICAgICB9O1xuICAgICAgICAvLyB0aHJvdyBvbiBjeWNsZXNcbiAgICAgICAgLy8gYnJlYWsgY3ljbGVzXG4gICAgICAgIGlmIChwYXJhbXMuY3ljbGVzID09PSBcInRocm93XCIpIHtcbiAgICAgICAgICAgIGZvciAoY29uc3QgZW50cnkgb2YgdGhpcy5zZWVuLmVudHJpZXMoKSkge1xuICAgICAgICAgICAgICAgIGNvbnN0IHNlZW4gPSBlbnRyeVsxXTtcbiAgICAgICAgICAgICAgICBpZiAoc2Vlbi5jeWNsZSkge1xuICAgICAgICAgICAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoXCJDeWNsZSBkZXRlY3RlZDogXCIgK1xuICAgICAgICAgICAgICAgICAgICAgICAgYCMvJHtzZWVuLmN5Y2xlPy5qb2luKFwiL1wiKX0vPHJvb3Q+YCArXG4gICAgICAgICAgICAgICAgICAgICAgICAnXFxuXFxuU2V0IHRoZSBgY3ljbGVzYCBwYXJhbWV0ZXIgdG8gYFwicmVmXCJgIHRvIHJlc29sdmUgY3ljbGljYWwgc2NoZW1hcyB3aXRoIGRlZnMuJyk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIC8vIGV4dHJhY3Qgc2NoZW1hcyBpbnRvICRkZWZzXG4gICAgICAgIGZvciAoY29uc3QgZW50cnkgb2YgdGhpcy5zZWVuLmVudHJpZXMoKSkge1xuICAgICAgICAgICAgY29uc3Qgc2VlbiA9IGVudHJ5WzFdO1xuICAgICAgICAgICAgLy8gY29udmVydCByb290IHNjaGVtYSB0byAjICRyZWZcbiAgICAgICAgICAgIGlmIChzY2hlbWEgPT09IGVudHJ5WzBdKSB7XG4gICAgICAgICAgICAgICAgZXh0cmFjdFRvRGVmKGVudHJ5KTsgLy8gdGhpcyBoYXMgc3BlY2lhbCBoYW5kbGluZyBmb3IgdGhlIHJvb3Qgc2NoZW1hXG4gICAgICAgICAgICAgICAgY29udGludWU7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICAvLyBleHRyYWN0IHNjaGVtYXMgdGhhdCBhcmUgaW4gdGhlIGV4dGVybmFsIHJlZ2lzdHJ5XG4gICAgICAgICAgICBpZiAocGFyYW1zLmV4dGVybmFsKSB7XG4gICAgICAgICAgICAgICAgY29uc3QgZXh0ID0gcGFyYW1zLmV4dGVybmFsLnJlZ2lzdHJ5LmdldChlbnRyeVswXSk/LmlkO1xuICAgICAgICAgICAgICAgIGlmIChzY2hlbWEgIT09IGVudHJ5WzBdICYmIGV4dCkge1xuICAgICAgICAgICAgICAgICAgICBleHRyYWN0VG9EZWYoZW50cnkpO1xuICAgICAgICAgICAgICAgICAgICBjb250aW51ZTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICAvLyBleHRyYWN0IHNjaGVtYXMgd2l0aCBgaWRgIG1ldGFcbiAgICAgICAgICAgIGNvbnN0IGlkID0gdGhpcy5tZXRhZGF0YVJlZ2lzdHJ5LmdldChlbnRyeVswXSk/LmlkO1xuICAgICAgICAgICAgaWYgKGlkKSB7XG4gICAgICAgICAgICAgICAgZXh0cmFjdFRvRGVmKGVudHJ5KTtcbiAgICAgICAgICAgICAgICBjb250aW51ZTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIC8vIGJyZWFrIGN5Y2xlc1xuICAgICAgICAgICAgaWYgKHNlZW4uY3ljbGUpIHtcbiAgICAgICAgICAgICAgICAvLyBhbnlcbiAgICAgICAgICAgICAgICBleHRyYWN0VG9EZWYoZW50cnkpO1xuICAgICAgICAgICAgICAgIGNvbnRpbnVlO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgLy8gZXh0cmFjdCByZXVzZWQgc2NoZW1hc1xuICAgICAgICAgICAgaWYgKHNlZW4uY291bnQgPiAxKSB7XG4gICAgICAgICAgICAgICAgaWYgKHBhcmFtcy5yZXVzZWQgPT09IFwicmVmXCIpIHtcbiAgICAgICAgICAgICAgICAgICAgZXh0cmFjdFRvRGVmKGVudHJ5KTtcbiAgICAgICAgICAgICAgICAgICAgLy8gYmlvbWUtaWdub3JlIGxpbnQ6XG4gICAgICAgICAgICAgICAgICAgIGNvbnRpbnVlO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICAvLyBmbGF0dGVuIF9yZWZzXG4gICAgICAgIGNvbnN0IGZsYXR0ZW5SZWYgPSAoem9kU2NoZW1hLCBwYXJhbXMpID0+IHtcbiAgICAgICAgICAgIGNvbnN0IHNlZW4gPSB0aGlzLnNlZW4uZ2V0KHpvZFNjaGVtYSk7XG4gICAgICAgICAgICBjb25zdCBzY2hlbWEgPSBzZWVuLmRlZiA/PyBzZWVuLnNjaGVtYTtcbiAgICAgICAgICAgIGNvbnN0IF9jYWNoZWQgPSB7IC4uLnNjaGVtYSB9O1xuICAgICAgICAgICAgLy8gYWxyZWFkeSBzZWVuXG4gICAgICAgICAgICBpZiAoc2Vlbi5yZWYgPT09IG51bGwpIHtcbiAgICAgICAgICAgICAgICByZXR1cm47XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICAvLyBmbGF0dGVuIHJlZiBpZiBkZWZpbmVkXG4gICAgICAgICAgICBjb25zdCByZWYgPSBzZWVuLnJlZjtcbiAgICAgICAgICAgIHNlZW4ucmVmID0gbnVsbDsgLy8gcHJldmVudCByZWN1cnNpb25cbiAgICAgICAgICAgIGlmIChyZWYpIHtcbiAgICAgICAgICAgICAgICBmbGF0dGVuUmVmKHJlZiwgcGFyYW1zKTtcbiAgICAgICAgICAgICAgICAvLyBtZXJnZSByZWZlcmVuY2VkIHNjaGVtYSBpbnRvIGN1cnJlbnRcbiAgICAgICAgICAgICAgICBjb25zdCByZWZTY2hlbWEgPSB0aGlzLnNlZW4uZ2V0KHJlZikuc2NoZW1hO1xuICAgICAgICAgICAgICAgIGlmIChyZWZTY2hlbWEuJHJlZiAmJiBwYXJhbXMudGFyZ2V0ID09PSBcImRyYWZ0LTdcIikge1xuICAgICAgICAgICAgICAgICAgICBzY2hlbWEuYWxsT2YgPSBzY2hlbWEuYWxsT2YgPz8gW107XG4gICAgICAgICAgICAgICAgICAgIHNjaGVtYS5hbGxPZi5wdXNoKHJlZlNjaGVtYSk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICBPYmplY3QuYXNzaWduKHNjaGVtYSwgcmVmU2NoZW1hKTtcbiAgICAgICAgICAgICAgICAgICAgT2JqZWN0LmFzc2lnbihzY2hlbWEsIF9jYWNoZWQpOyAvLyBwcmV2ZW50IG92ZXJ3cml0aW5nIGFueSBmaWVsZHMgaW4gdGhlIG9yaWdpbmFsIHNjaGVtYVxuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIC8vIGV4ZWN1dGUgb3ZlcnJpZGVzXG4gICAgICAgICAgICBpZiAoIXNlZW4uaXNQYXJlbnQpXG4gICAgICAgICAgICAgICAgdGhpcy5vdmVycmlkZSh7XG4gICAgICAgICAgICAgICAgICAgIHpvZFNjaGVtYTogem9kU2NoZW1hLFxuICAgICAgICAgICAgICAgICAgICBqc29uU2NoZW1hOiBzY2hlbWEsXG4gICAgICAgICAgICAgICAgICAgIHBhdGg6IHNlZW4ucGF0aCA/PyBbXSxcbiAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgfTtcbiAgICAgICAgZm9yIChjb25zdCBlbnRyeSBvZiBbLi4udGhpcy5zZWVuLmVudHJpZXMoKV0ucmV2ZXJzZSgpKSB7XG4gICAgICAgICAgICBmbGF0dGVuUmVmKGVudHJ5WzBdLCB7IHRhcmdldDogdGhpcy50YXJnZXQgfSk7XG4gICAgICAgIH1cbiAgICAgICAgY29uc3QgcmVzdWx0ID0ge307XG4gICAgICAgIGlmICh0aGlzLnRhcmdldCA9PT0gXCJkcmFmdC0yMDIwLTEyXCIpIHtcbiAgICAgICAgICAgIHJlc3VsdC4kc2NoZW1hID0gXCJodHRwczovL2pzb24tc2NoZW1hLm9yZy9kcmFmdC8yMDIwLTEyL3NjaGVtYVwiO1xuICAgICAgICB9XG4gICAgICAgIGVsc2UgaWYgKHRoaXMudGFyZ2V0ID09PSBcImRyYWZ0LTdcIikge1xuICAgICAgICAgICAgcmVzdWx0LiRzY2hlbWEgPSBcImh0dHA6Ly9qc29uLXNjaGVtYS5vcmcvZHJhZnQtMDcvc2NoZW1hI1wiO1xuICAgICAgICB9XG4gICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgY29uc29sZS53YXJuKGBJbnZhbGlkIHRhcmdldDogJHt0aGlzLnRhcmdldH1gKTtcbiAgICAgICAgfVxuICAgICAgICBpZiAocGFyYW1zLmV4dGVybmFsPy51cmkpIHtcbiAgICAgICAgICAgIGNvbnN0IGlkID0gcGFyYW1zLmV4dGVybmFsLnJlZ2lzdHJ5LmdldChzY2hlbWEpPy5pZDtcbiAgICAgICAgICAgIGlmICghaWQpXG4gICAgICAgICAgICAgICAgdGhyb3cgbmV3IEVycm9yKFwiU2NoZW1hIGlzIG1pc3NpbmcgYW4gYGlkYCBwcm9wZXJ0eVwiKTtcbiAgICAgICAgICAgIHJlc3VsdC4kaWQgPSBwYXJhbXMuZXh0ZXJuYWwudXJpKGlkKTtcbiAgICAgICAgfVxuICAgICAgICBPYmplY3QuYXNzaWduKHJlc3VsdCwgcm9vdC5kZWYpO1xuICAgICAgICAvLyBidWlsZCBkZWZzIG9iamVjdFxuICAgICAgICBjb25zdCBkZWZzID0gcGFyYW1zLmV4dGVybmFsPy5kZWZzID8/IHt9O1xuICAgICAgICBmb3IgKGNvbnN0IGVudHJ5IG9mIHRoaXMuc2Vlbi5lbnRyaWVzKCkpIHtcbiAgICAgICAgICAgIGNvbnN0IHNlZW4gPSBlbnRyeVsxXTtcbiAgICAgICAgICAgIGlmIChzZWVuLmRlZiAmJiBzZWVuLmRlZklkKSB7XG4gICAgICAgICAgICAgICAgZGVmc1tzZWVuLmRlZklkXSA9IHNlZW4uZGVmO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIC8vIHNldCBkZWZpbml0aW9ucyBpbiByZXN1bHRcbiAgICAgICAgaWYgKHBhcmFtcy5leHRlcm5hbCkge1xuICAgICAgICB9XG4gICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgaWYgKE9iamVjdC5rZXlzKGRlZnMpLmxlbmd0aCA+IDApIHtcbiAgICAgICAgICAgICAgICBpZiAodGhpcy50YXJnZXQgPT09IFwiZHJhZnQtMjAyMC0xMlwiKSB7XG4gICAgICAgICAgICAgICAgICAgIHJlc3VsdC4kZGVmcyA9IGRlZnM7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICByZXN1bHQuZGVmaW5pdGlvbnMgPSBkZWZzO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICB0cnkge1xuICAgICAgICAgICAgLy8gdGhpcyBcImZpbmFsaXplc1wiIHRoaXMgc2NoZW1hIGFuZCBlbnN1cmVzIGFsbCBjeWNsZXMgYXJlIHJlbW92ZWRcbiAgICAgICAgICAgIC8vIGVhY2ggY2FsbCB0byAuZW1pdCgpIGlzIGZ1bmN0aW9uYWxseSBpbmRlcGVuZGVudFxuICAgICAgICAgICAgLy8gdGhvdWdoIHRoZSBzZWVuIG1hcCBpcyBzaGFyZWRcbiAgICAgICAgICAgIHJldHVybiBKU09OLnBhcnNlKEpTT04uc3RyaW5naWZ5KHJlc3VsdCkpO1xuICAgICAgICB9XG4gICAgICAgIGNhdGNoIChfZXJyKSB7XG4gICAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoXCJFcnJvciBjb252ZXJ0aW5nIHNjaGVtYSB0byBKU09OLlwiKTtcbiAgICAgICAgfVxuICAgIH1cbn1cbmV4cG9ydCBmdW5jdGlvbiB0b0pTT05TY2hlbWEoaW5wdXQsIF9wYXJhbXMpIHtcbiAgICBpZiAoaW5wdXQgaW5zdGFuY2VvZiAkWm9kUmVnaXN0cnkpIHtcbiAgICAgICAgY29uc3QgZ2VuID0gbmV3IEpTT05TY2hlbWFHZW5lcmF0b3IoX3BhcmFtcyk7XG4gICAgICAgIGNvbnN0IGRlZnMgPSB7fTtcbiAgICAgICAgZm9yIChjb25zdCBlbnRyeSBvZiBpbnB1dC5faWRtYXAuZW50cmllcygpKSB7XG4gICAgICAgICAgICBjb25zdCBbXywgc2NoZW1hXSA9IGVudHJ5O1xuICAgICAgICAgICAgZ2VuLnByb2Nlc3Moc2NoZW1hKTtcbiAgICAgICAgfVxuICAgICAgICBjb25zdCBzY2hlbWFzID0ge307XG4gICAgICAgIGNvbnN0IGV4dGVybmFsID0ge1xuICAgICAgICAgICAgcmVnaXN0cnk6IGlucHV0LFxuICAgICAgICAgICAgdXJpOiBfcGFyYW1zPy51cmksXG4gICAgICAgICAgICBkZWZzLFxuICAgICAgICB9O1xuICAgICAgICBmb3IgKGNvbnN0IGVudHJ5IG9mIGlucHV0Ll9pZG1hcC5lbnRyaWVzKCkpIHtcbiAgICAgICAgICAgIGNvbnN0IFtrZXksIHNjaGVtYV0gPSBlbnRyeTtcbiAgICAgICAgICAgIHNjaGVtYXNba2V5XSA9IGdlbi5lbWl0KHNjaGVtYSwge1xuICAgICAgICAgICAgICAgIC4uLl9wYXJhbXMsXG4gICAgICAgICAgICAgICAgZXh0ZXJuYWwsXG4gICAgICAgICAgICB9KTtcbiAgICAgICAgfVxuICAgICAgICBpZiAoT2JqZWN0LmtleXMoZGVmcykubGVuZ3RoID4gMCkge1xuICAgICAgICAgICAgY29uc3QgZGVmc1NlZ21lbnQgPSBnZW4udGFyZ2V0ID09PSBcImRyYWZ0LTIwMjAtMTJcIiA/IFwiJGRlZnNcIiA6IFwiZGVmaW5pdGlvbnNcIjtcbiAgICAgICAgICAgIHNjaGVtYXMuX19zaGFyZWQgPSB7XG4gICAgICAgICAgICAgICAgW2RlZnNTZWdtZW50XTogZGVmcyxcbiAgICAgICAgICAgIH07XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIHsgc2NoZW1hcyB9O1xuICAgIH1cbiAgICBjb25zdCBnZW4gPSBuZXcgSlNPTlNjaGVtYUdlbmVyYXRvcihfcGFyYW1zKTtcbiAgICBnZW4ucHJvY2VzcyhpbnB1dCk7XG4gICAgcmV0dXJuIGdlbi5lbWl0KGlucHV0LCBfcGFyYW1zKTtcbn1cbmZ1bmN0aW9uIGlzVHJhbnNmb3JtaW5nKF9zY2hlbWEsIF9jdHgpIHtcbiAgICBjb25zdCBjdHggPSBfY3R4ID8/IHsgc2VlbjogbmV3IFNldCgpIH07XG4gICAgaWYgKGN0eC5zZWVuLmhhcyhfc2NoZW1hKSlcbiAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgIGN0eC5zZWVuLmFkZChfc2NoZW1hKTtcbiAgICBjb25zdCBzY2hlbWEgPSBfc2NoZW1hO1xuICAgIGNvbnN0IGRlZiA9IHNjaGVtYS5fem9kLmRlZjtcbiAgICBzd2l0Y2ggKGRlZi50eXBlKSB7XG4gICAgICAgIGNhc2UgXCJzdHJpbmdcIjpcbiAgICAgICAgY2FzZSBcIm51bWJlclwiOlxuICAgICAgICBjYXNlIFwiYmlnaW50XCI6XG4gICAgICAgIGNhc2UgXCJib29sZWFuXCI6XG4gICAgICAgIGNhc2UgXCJkYXRlXCI6XG4gICAgICAgIGNhc2UgXCJzeW1ib2xcIjpcbiAgICAgICAgY2FzZSBcInVuZGVmaW5lZFwiOlxuICAgICAgICBjYXNlIFwibnVsbFwiOlxuICAgICAgICBjYXNlIFwiYW55XCI6XG4gICAgICAgIGNhc2UgXCJ1bmtub3duXCI6XG4gICAgICAgIGNhc2UgXCJuZXZlclwiOlxuICAgICAgICBjYXNlIFwidm9pZFwiOlxuICAgICAgICBjYXNlIFwibGl0ZXJhbFwiOlxuICAgICAgICBjYXNlIFwiZW51bVwiOlxuICAgICAgICBjYXNlIFwibmFuXCI6XG4gICAgICAgIGNhc2UgXCJmaWxlXCI6XG4gICAgICAgIGNhc2UgXCJ0ZW1wbGF0ZV9saXRlcmFsXCI6XG4gICAgICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgICAgIGNhc2UgXCJhcnJheVwiOiB7XG4gICAgICAgICAgICByZXR1cm4gaXNUcmFuc2Zvcm1pbmcoZGVmLmVsZW1lbnQsIGN0eCk7XG4gICAgICAgIH1cbiAgICAgICAgY2FzZSBcIm9iamVjdFwiOiB7XG4gICAgICAgICAgICBmb3IgKGNvbnN0IGtleSBpbiBkZWYuc2hhcGUpIHtcbiAgICAgICAgICAgICAgICBpZiAoaXNUcmFuc2Zvcm1pbmcoZGVmLnNoYXBlW2tleV0sIGN0eCkpXG4gICAgICAgICAgICAgICAgICAgIHJldHVybiB0cnVlO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgICAgICB9XG4gICAgICAgIGNhc2UgXCJ1bmlvblwiOiB7XG4gICAgICAgICAgICBmb3IgKGNvbnN0IG9wdGlvbiBvZiBkZWYub3B0aW9ucykge1xuICAgICAgICAgICAgICAgIGlmIChpc1RyYW5zZm9ybWluZyhvcHRpb24sIGN0eCkpXG4gICAgICAgICAgICAgICAgICAgIHJldHVybiB0cnVlO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgICAgICB9XG4gICAgICAgIGNhc2UgXCJpbnRlcnNlY3Rpb25cIjoge1xuICAgICAgICAgICAgcmV0dXJuIGlzVHJhbnNmb3JtaW5nKGRlZi5sZWZ0LCBjdHgpIHx8IGlzVHJhbnNmb3JtaW5nKGRlZi5yaWdodCwgY3R4KTtcbiAgICAgICAgfVxuICAgICAgICBjYXNlIFwidHVwbGVcIjoge1xuICAgICAgICAgICAgZm9yIChjb25zdCBpdGVtIG9mIGRlZi5pdGVtcykge1xuICAgICAgICAgICAgICAgIGlmIChpc1RyYW5zZm9ybWluZyhpdGVtLCBjdHgpKVxuICAgICAgICAgICAgICAgICAgICByZXR1cm4gdHJ1ZTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGlmIChkZWYucmVzdCAmJiBpc1RyYW5zZm9ybWluZyhkZWYucmVzdCwgY3R4KSlcbiAgICAgICAgICAgICAgICByZXR1cm4gdHJ1ZTtcbiAgICAgICAgICAgIHJldHVybiBmYWxzZTtcbiAgICAgICAgfVxuICAgICAgICBjYXNlIFwicmVjb3JkXCI6IHtcbiAgICAgICAgICAgIHJldHVybiBpc1RyYW5zZm9ybWluZyhkZWYua2V5VHlwZSwgY3R4KSB8fCBpc1RyYW5zZm9ybWluZyhkZWYudmFsdWVUeXBlLCBjdHgpO1xuICAgICAgICB9XG4gICAgICAgIGNhc2UgXCJtYXBcIjoge1xuICAgICAgICAgICAgcmV0dXJuIGlzVHJhbnNmb3JtaW5nKGRlZi5rZXlUeXBlLCBjdHgpIHx8IGlzVHJhbnNmb3JtaW5nKGRlZi52YWx1ZVR5cGUsIGN0eCk7XG4gICAgICAgIH1cbiAgICAgICAgY2FzZSBcInNldFwiOiB7XG4gICAgICAgICAgICByZXR1cm4gaXNUcmFuc2Zvcm1pbmcoZGVmLnZhbHVlVHlwZSwgY3R4KTtcbiAgICAgICAgfVxuICAgICAgICAvLyBpbm5lciB0eXBlc1xuICAgICAgICBjYXNlIFwicHJvbWlzZVwiOlxuICAgICAgICBjYXNlIFwib3B0aW9uYWxcIjpcbiAgICAgICAgY2FzZSBcIm5vbm9wdGlvbmFsXCI6XG4gICAgICAgIGNhc2UgXCJudWxsYWJsZVwiOlxuICAgICAgICBjYXNlIFwicmVhZG9ubHlcIjpcbiAgICAgICAgICAgIHJldHVybiBpc1RyYW5zZm9ybWluZyhkZWYuaW5uZXJUeXBlLCBjdHgpO1xuICAgICAgICBjYXNlIFwibGF6eVwiOlxuICAgICAgICAgICAgcmV0dXJuIGlzVHJhbnNmb3JtaW5nKGRlZi5nZXR0ZXIoKSwgY3R4KTtcbiAgICAgICAgY2FzZSBcImRlZmF1bHRcIjoge1xuICAgICAgICAgICAgcmV0dXJuIGlzVHJhbnNmb3JtaW5nKGRlZi5pbm5lclR5cGUsIGN0eCk7XG4gICAgICAgIH1cbiAgICAgICAgY2FzZSBcInByZWZhdWx0XCI6IHtcbiAgICAgICAgICAgIHJldHVybiBpc1RyYW5zZm9ybWluZyhkZWYuaW5uZXJUeXBlLCBjdHgpO1xuICAgICAgICB9XG4gICAgICAgIGNhc2UgXCJjdXN0b21cIjoge1xuICAgICAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgICAgICB9XG4gICAgICAgIGNhc2UgXCJ0cmFuc2Zvcm1cIjoge1xuICAgICAgICAgICAgcmV0dXJuIHRydWU7XG4gICAgICAgIH1cbiAgICAgICAgY2FzZSBcInBpcGVcIjoge1xuICAgICAgICAgICAgcmV0dXJuIGlzVHJhbnNmb3JtaW5nKGRlZi5pbiwgY3R4KSB8fCBpc1RyYW5zZm9ybWluZyhkZWYub3V0LCBjdHgpO1xuICAgICAgICB9XG4gICAgICAgIGNhc2UgXCJzdWNjZXNzXCI6IHtcbiAgICAgICAgICAgIHJldHVybiBmYWxzZTtcbiAgICAgICAgfVxuICAgICAgICBjYXNlIFwiY2F0Y2hcIjoge1xuICAgICAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgICAgICB9XG4gICAgICAgIGRlZmF1bHQ6XG4gICAgICAgICAgICBkZWY7XG4gICAgfVxuICAgIHRocm93IG5ldyBFcnJvcihgVW5rbm93biBzY2hlbWEgdHlwZTogJHtkZWYudHlwZX1gKTtcbn1cbiIsImltcG9ydCB7IENvbnRlbnRGaWx0ZXJGaW5pc2hSZWFzb25FcnJvciwgTGVuZ3RoRmluaXNoUmVhc29uRXJyb3IsIE9wZW5BSUVycm9yIH0gZnJvbSBcIi4uL2Vycm9yLm1qc1wiO1xuZXhwb3J0IGZ1bmN0aW9uIGlzQ2hhdENvbXBsZXRpb25GdW5jdGlvblRvb2wodG9vbCkge1xuICAgIHJldHVybiB0b29sICE9PSB1bmRlZmluZWQgJiYgJ2Z1bmN0aW9uJyBpbiB0b29sICYmIHRvb2wuZnVuY3Rpb24gIT09IHVuZGVmaW5lZDtcbn1cbmV4cG9ydCBmdW5jdGlvbiBtYWtlUGFyc2VhYmxlUmVzcG9uc2VGb3JtYXQocmVzcG9uc2VfZm9ybWF0LCBwYXJzZXIpIHtcbiAgICBjb25zdCBvYmogPSB7IC4uLnJlc3BvbnNlX2Zvcm1hdCB9O1xuICAgIE9iamVjdC5kZWZpbmVQcm9wZXJ0aWVzKG9iaiwge1xuICAgICAgICAkYnJhbmQ6IHtcbiAgICAgICAgICAgIHZhbHVlOiAnYXV0by1wYXJzZWFibGUtcmVzcG9uc2UtZm9ybWF0JyxcbiAgICAgICAgICAgIGVudW1lcmFibGU6IGZhbHNlLFxuICAgICAgICB9LFxuICAgICAgICAkcGFyc2VSYXc6IHtcbiAgICAgICAgICAgIHZhbHVlOiBwYXJzZXIsXG4gICAgICAgICAgICBlbnVtZXJhYmxlOiBmYWxzZSxcbiAgICAgICAgfSxcbiAgICB9KTtcbiAgICByZXR1cm4gb2JqO1xufVxuZXhwb3J0IGZ1bmN0aW9uIG1ha2VQYXJzZWFibGVUZXh0Rm9ybWF0KHJlc3BvbnNlX2Zvcm1hdCwgcGFyc2VyKSB7XG4gICAgY29uc3Qgb2JqID0geyAuLi5yZXNwb25zZV9mb3JtYXQgfTtcbiAgICBPYmplY3QuZGVmaW5lUHJvcGVydGllcyhvYmosIHtcbiAgICAgICAgJGJyYW5kOiB7XG4gICAgICAgICAgICB2YWx1ZTogJ2F1dG8tcGFyc2VhYmxlLXJlc3BvbnNlLWZvcm1hdCcsXG4gICAgICAgICAgICBlbnVtZXJhYmxlOiBmYWxzZSxcbiAgICAgICAgfSxcbiAgICAgICAgJHBhcnNlUmF3OiB7XG4gICAgICAgICAgICB2YWx1ZTogcGFyc2VyLFxuICAgICAgICAgICAgZW51bWVyYWJsZTogZmFsc2UsXG4gICAgICAgIH0sXG4gICAgfSk7XG4gICAgcmV0dXJuIG9iajtcbn1cbmV4cG9ydCBmdW5jdGlvbiBpc0F1dG9QYXJzYWJsZVJlc3BvbnNlRm9ybWF0KHJlc3BvbnNlX2Zvcm1hdCkge1xuICAgIHJldHVybiByZXNwb25zZV9mb3JtYXQ/LlsnJGJyYW5kJ10gPT09ICdhdXRvLXBhcnNlYWJsZS1yZXNwb25zZS1mb3JtYXQnO1xufVxuZXhwb3J0IGZ1bmN0aW9uIG1ha2VQYXJzZWFibGVUb29sKHRvb2wsIHsgcGFyc2VyLCBjYWxsYmFjaywgfSkge1xuICAgIGNvbnN0IG9iaiA9IHsgLi4udG9vbCB9O1xuICAgIE9iamVjdC5kZWZpbmVQcm9wZXJ0aWVzKG9iaiwge1xuICAgICAgICAkYnJhbmQ6IHtcbiAgICAgICAgICAgIHZhbHVlOiAnYXV0by1wYXJzZWFibGUtdG9vbCcsXG4gICAgICAgICAgICBlbnVtZXJhYmxlOiBmYWxzZSxcbiAgICAgICAgfSxcbiAgICAgICAgJHBhcnNlUmF3OiB7XG4gICAgICAgICAgICB2YWx1ZTogcGFyc2VyLFxuICAgICAgICAgICAgZW51bWVyYWJsZTogZmFsc2UsXG4gICAgICAgIH0sXG4gICAgICAgICRjYWxsYmFjazoge1xuICAgICAgICAgICAgdmFsdWU6IGNhbGxiYWNrLFxuICAgICAgICAgICAgZW51bWVyYWJsZTogZmFsc2UsXG4gICAgICAgIH0sXG4gICAgfSk7XG4gICAgcmV0dXJuIG9iajtcbn1cbmV4cG9ydCBmdW5jdGlvbiBpc0F1dG9QYXJzYWJsZVRvb2wodG9vbCkge1xuICAgIHJldHVybiB0b29sPy5bJyRicmFuZCddID09PSAnYXV0by1wYXJzZWFibGUtdG9vbCc7XG59XG5leHBvcnQgZnVuY3Rpb24gbWF5YmVQYXJzZUNoYXRDb21wbGV0aW9uKGNvbXBsZXRpb24sIHBhcmFtcykge1xuICAgIGlmICghcGFyYW1zIHx8ICFoYXNBdXRvUGFyc2VhYmxlSW5wdXQocGFyYW1zKSkge1xuICAgICAgICByZXR1cm4ge1xuICAgICAgICAgICAgLi4uY29tcGxldGlvbixcbiAgICAgICAgICAgIGNob2ljZXM6IGNvbXBsZXRpb24uY2hvaWNlcy5tYXAoKGNob2ljZSkgPT4ge1xuICAgICAgICAgICAgICAgIGFzc2VydFRvb2xDYWxsc0FyZUNoYXRDb21wbGV0aW9uRnVuY3Rpb25Ub29sQ2FsbHMoY2hvaWNlLm1lc3NhZ2UudG9vbF9jYWxscyk7XG4gICAgICAgICAgICAgICAgcmV0dXJuIHtcbiAgICAgICAgICAgICAgICAgICAgLi4uY2hvaWNlLFxuICAgICAgICAgICAgICAgICAgICBtZXNzYWdlOiB7XG4gICAgICAgICAgICAgICAgICAgICAgICAuLi5jaG9pY2UubWVzc2FnZSxcbiAgICAgICAgICAgICAgICAgICAgICAgIHBhcnNlZDogbnVsbCxcbiAgICAgICAgICAgICAgICAgICAgICAgIC4uLihjaG9pY2UubWVzc2FnZS50b29sX2NhbGxzID9cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRvb2xfY2FsbHM6IGNob2ljZS5tZXNzYWdlLnRvb2xfY2FsbHMsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIDogdW5kZWZpbmVkKSxcbiAgICAgICAgICAgICAgICAgICAgfSxcbiAgICAgICAgICAgICAgICB9O1xuICAgICAgICAgICAgfSksXG4gICAgICAgIH07XG4gICAgfVxuICAgIHJldHVybiBwYXJzZUNoYXRDb21wbGV0aW9uKGNvbXBsZXRpb24sIHBhcmFtcyk7XG59XG5leHBvcnQgZnVuY3Rpb24gcGFyc2VDaGF0Q29tcGxldGlvbihjb21wbGV0aW9uLCBwYXJhbXMpIHtcbiAgICBjb25zdCBjaG9pY2VzID0gY29tcGxldGlvbi5jaG9pY2VzLm1hcCgoY2hvaWNlKSA9PiB7XG4gICAgICAgIGlmIChjaG9pY2UuZmluaXNoX3JlYXNvbiA9PT0gJ2xlbmd0aCcpIHtcbiAgICAgICAgICAgIHRocm93IG5ldyBMZW5ndGhGaW5pc2hSZWFzb25FcnJvcigpO1xuICAgICAgICB9XG4gICAgICAgIGlmIChjaG9pY2UuZmluaXNoX3JlYXNvbiA9PT0gJ2NvbnRlbnRfZmlsdGVyJykge1xuICAgICAgICAgICAgdGhyb3cgbmV3IENvbnRlbnRGaWx0ZXJGaW5pc2hSZWFzb25FcnJvcigpO1xuICAgICAgICB9XG4gICAgICAgIGFzc2VydFRvb2xDYWxsc0FyZUNoYXRDb21wbGV0aW9uRnVuY3Rpb25Ub29sQ2FsbHMoY2hvaWNlLm1lc3NhZ2UudG9vbF9jYWxscyk7XG4gICAgICAgIHJldHVybiB7XG4gICAgICAgICAgICAuLi5jaG9pY2UsXG4gICAgICAgICAgICBtZXNzYWdlOiB7XG4gICAgICAgICAgICAgICAgLi4uY2hvaWNlLm1lc3NhZ2UsXG4gICAgICAgICAgICAgICAgLi4uKGNob2ljZS5tZXNzYWdlLnRvb2xfY2FsbHMgP1xuICAgICAgICAgICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgICAgICAgICB0b29sX2NhbGxzOiBjaG9pY2UubWVzc2FnZS50b29sX2NhbGxzPy5tYXAoKHRvb2xDYWxsKSA9PiBwYXJzZVRvb2xDYWxsKHBhcmFtcywgdG9vbENhbGwpKSA/PyB1bmRlZmluZWQsXG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgOiB1bmRlZmluZWQpLFxuICAgICAgICAgICAgICAgIHBhcnNlZDogY2hvaWNlLm1lc3NhZ2UuY29udGVudCAmJiAhY2hvaWNlLm1lc3NhZ2UucmVmdXNhbCA/XG4gICAgICAgICAgICAgICAgICAgIHBhcnNlUmVzcG9uc2VGb3JtYXQocGFyYW1zLCBjaG9pY2UubWVzc2FnZS5jb250ZW50KVxuICAgICAgICAgICAgICAgICAgICA6IG51bGwsXG4gICAgICAgICAgICB9LFxuICAgICAgICB9O1xuICAgIH0pO1xuICAgIHJldHVybiB7IC4uLmNvbXBsZXRpb24sIGNob2ljZXMgfTtcbn1cbmZ1bmN0aW9uIHBhcnNlUmVzcG9uc2VGb3JtYXQocGFyYW1zLCBjb250ZW50KSB7XG4gICAgaWYgKHBhcmFtcy5yZXNwb25zZV9mb3JtYXQ/LnR5cGUgIT09ICdqc29uX3NjaGVtYScpIHtcbiAgICAgICAgcmV0dXJuIG51bGw7XG4gICAgfVxuICAgIGlmIChwYXJhbXMucmVzcG9uc2VfZm9ybWF0Py50eXBlID09PSAnanNvbl9zY2hlbWEnKSB7XG4gICAgICAgIGlmICgnJHBhcnNlUmF3JyBpbiBwYXJhbXMucmVzcG9uc2VfZm9ybWF0KSB7XG4gICAgICAgICAgICBjb25zdCByZXNwb25zZV9mb3JtYXQgPSBwYXJhbXMucmVzcG9uc2VfZm9ybWF0O1xuICAgICAgICAgICAgcmV0dXJuIHJlc3BvbnNlX2Zvcm1hdC4kcGFyc2VSYXcoY29udGVudCk7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIEpTT04ucGFyc2UoY29udGVudCk7XG4gICAgfVxuICAgIHJldHVybiBudWxsO1xufVxuZnVuY3Rpb24gcGFyc2VUb29sQ2FsbChwYXJhbXMsIHRvb2xDYWxsKSB7XG4gICAgY29uc3QgaW5wdXRUb29sID0gcGFyYW1zLnRvb2xzPy5maW5kKChpbnB1dFRvb2wpID0+IGlzQ2hhdENvbXBsZXRpb25GdW5jdGlvblRvb2woaW5wdXRUb29sKSAmJiBpbnB1dFRvb2wuZnVuY3Rpb24/Lm5hbWUgPT09IHRvb2xDYWxsLmZ1bmN0aW9uLm5hbWUpOyAvLyBUUyBkb2Vzbid0IG5hcnJvdyBiYXNlZCBvbiBpc0NoYXRDb21wbGV0aW9uVG9vbFxuICAgIHJldHVybiB7XG4gICAgICAgIC4uLnRvb2xDYWxsLFxuICAgICAgICBmdW5jdGlvbjoge1xuICAgICAgICAgICAgLi4udG9vbENhbGwuZnVuY3Rpb24sXG4gICAgICAgICAgICBwYXJzZWRfYXJndW1lbnRzOiBpc0F1dG9QYXJzYWJsZVRvb2woaW5wdXRUb29sKSA/IGlucHV0VG9vbC4kcGFyc2VSYXcodG9vbENhbGwuZnVuY3Rpb24uYXJndW1lbnRzKVxuICAgICAgICAgICAgICAgIDogaW5wdXRUb29sPy5mdW5jdGlvbi5zdHJpY3QgPyBKU09OLnBhcnNlKHRvb2xDYWxsLmZ1bmN0aW9uLmFyZ3VtZW50cylcbiAgICAgICAgICAgICAgICAgICAgOiBudWxsLFxuICAgICAgICB9LFxuICAgIH07XG59XG5leHBvcnQgZnVuY3Rpb24gc2hvdWxkUGFyc2VUb29sQ2FsbChwYXJhbXMsIHRvb2xDYWxsKSB7XG4gICAgaWYgKCFwYXJhbXMgfHwgISgndG9vbHMnIGluIHBhcmFtcykgfHwgIXBhcmFtcy50b29scykge1xuICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgfVxuICAgIGNvbnN0IGlucHV0VG9vbCA9IHBhcmFtcy50b29scz8uZmluZCgoaW5wdXRUb29sKSA9PiBpc0NoYXRDb21wbGV0aW9uRnVuY3Rpb25Ub29sKGlucHV0VG9vbCkgJiYgaW5wdXRUb29sLmZ1bmN0aW9uPy5uYW1lID09PSB0b29sQ2FsbC5mdW5jdGlvbi5uYW1lKTtcbiAgICByZXR1cm4gKGlzQ2hhdENvbXBsZXRpb25GdW5jdGlvblRvb2woaW5wdXRUb29sKSAmJlxuICAgICAgICAoaXNBdXRvUGFyc2FibGVUb29sKGlucHV0VG9vbCkgfHwgaW5wdXRUb29sPy5mdW5jdGlvbi5zdHJpY3QgfHwgZmFsc2UpKTtcbn1cbmV4cG9ydCBmdW5jdGlvbiBoYXNBdXRvUGFyc2VhYmxlSW5wdXQocGFyYW1zKSB7XG4gICAgaWYgKGlzQXV0b1BhcnNhYmxlUmVzcG9uc2VGb3JtYXQocGFyYW1zLnJlc3BvbnNlX2Zvcm1hdCkpIHtcbiAgICAgICAgcmV0dXJuIHRydWU7XG4gICAgfVxuICAgIHJldHVybiAocGFyYW1zLnRvb2xzPy5zb21lKCh0KSA9PiBpc0F1dG9QYXJzYWJsZVRvb2wodCkgfHwgKHQudHlwZSA9PT0gJ2Z1bmN0aW9uJyAmJiB0LmZ1bmN0aW9uLnN0cmljdCA9PT0gdHJ1ZSkpID8/IGZhbHNlKTtcbn1cbmV4cG9ydCBmdW5jdGlvbiBhc3NlcnRUb29sQ2FsbHNBcmVDaGF0Q29tcGxldGlvbkZ1bmN0aW9uVG9vbENhbGxzKHRvb2xDYWxscykge1xuICAgIGZvciAoY29uc3QgdG9vbENhbGwgb2YgdG9vbENhbGxzIHx8IFtdKSB7XG4gICAgICAgIGlmICh0b29sQ2FsbC50eXBlICE9PSAnZnVuY3Rpb24nKSB7XG4gICAgICAgICAgICB0aHJvdyBuZXcgT3BlbkFJRXJyb3IoYEN1cnJlbnRseSBvbmx5IFxcYGZ1bmN0aW9uXFxgIHRvb2wgY2FsbHMgYXJlIHN1cHBvcnRlZDsgUmVjZWl2ZWQgXFxgJHt0b29sQ2FsbC50eXBlfVxcYGApO1xuICAgICAgICB9XG4gICAgfVxufVxuZXhwb3J0IGZ1bmN0aW9uIHZhbGlkYXRlSW5wdXRUb29scyh0b29scykge1xuICAgIGZvciAoY29uc3QgdG9vbCBvZiB0b29scyA/PyBbXSkge1xuICAgICAgICBpZiAodG9vbC50eXBlICE9PSAnZnVuY3Rpb24nKSB7XG4gICAgICAgICAgICB0aHJvdyBuZXcgT3BlbkFJRXJyb3IoYEN1cnJlbnRseSBvbmx5IFxcYGZ1bmN0aW9uXFxgIHRvb2wgdHlwZXMgc3VwcG9ydCBhdXRvLXBhcnNpbmc7IFJlY2VpdmVkIFxcYCR7dG9vbC50eXBlfVxcYGApO1xuICAgICAgICB9XG4gICAgICAgIGlmICh0b29sLmZ1bmN0aW9uLnN0cmljdCAhPT0gdHJ1ZSkge1xuICAgICAgICAgICAgdGhyb3cgbmV3IE9wZW5BSUVycm9yKGBUaGUgXFxgJHt0b29sLmZ1bmN0aW9uLm5hbWV9XFxgIHRvb2wgaXMgbm90IG1hcmtlZCB3aXRoIFxcYHN0cmljdDogdHJ1ZVxcYC4gT25seSBzdHJpY3QgZnVuY3Rpb24gdG9vbHMgY2FuIGJlIGF1dG8tcGFyc2VkYCk7XG4gICAgICAgIH1cbiAgICB9XG59XG4vLyMgc291cmNlTWFwcGluZ1VSTD1wYXJzZXIubWpzLm1hcCIsImV4cG9ydCBjb25zdCBpZ25vcmVPdmVycmlkZSA9IFN5bWJvbCgnTGV0IHpvZFRvSnNvblNjaGVtYSBkZWNpZGUgb24gd2hpY2ggcGFyc2VyIHRvIHVzZScpO1xuY29uc3QgZGVmYXVsdE9wdGlvbnMgPSB7XG4gICAgbmFtZTogdW5kZWZpbmVkLFxuICAgICRyZWZTdHJhdGVneTogJ3Jvb3QnLFxuICAgIGVmZmVjdFN0cmF0ZWd5OiAnaW5wdXQnLFxuICAgIHBpcGVTdHJhdGVneTogJ2FsbCcsXG4gICAgZGF0ZVN0cmF0ZWd5OiAnZm9ybWF0OmRhdGUtdGltZScsXG4gICAgbWFwU3RyYXRlZ3k6ICdlbnRyaWVzJyxcbiAgICBudWxsYWJsZVN0cmF0ZWd5OiAnZnJvbS10YXJnZXQnLFxuICAgIHJlbW92ZUFkZGl0aW9uYWxTdHJhdGVneTogJ3Bhc3N0aHJvdWdoJyxcbiAgICBkZWZpbml0aW9uUGF0aDogJ2RlZmluaXRpb25zJyxcbiAgICB0YXJnZXQ6ICdqc29uU2NoZW1hNycsXG4gICAgc3RyaWN0VW5pb25zOiBmYWxzZSxcbiAgICBlcnJvck1lc3NhZ2VzOiBmYWxzZSxcbiAgICBtYXJrZG93bkRlc2NyaXB0aW9uOiBmYWxzZSxcbiAgICBwYXR0ZXJuU3RyYXRlZ3k6ICdlc2NhcGUnLFxuICAgIGFwcGx5UmVnZXhGbGFnczogZmFsc2UsXG4gICAgZW1haWxTdHJhdGVneTogJ2Zvcm1hdDplbWFpbCcsXG4gICAgYmFzZTY0U3RyYXRlZ3k6ICdjb250ZW50RW5jb2Rpbmc6YmFzZTY0JyxcbiAgICBuYW1lU3RyYXRlZ3k6ICdyZWYnLFxufTtcbmV4cG9ydCBjb25zdCBnZXREZWZhdWx0T3B0aW9ucyA9IChvcHRpb25zKSA9PiB7XG4gICAgLy8gV2UgbmVlZCB0byBhZGQgYGRlZmluaXRpb25zYCBoZXJlIGFzIHdlIG1heSBtdXRhdGUgaXRcbiAgICByZXR1cm4gKHR5cGVvZiBvcHRpb25zID09PSAnc3RyaW5nJyA/XG4gICAgICAgIHtcbiAgICAgICAgICAgIC4uLmRlZmF1bHRPcHRpb25zLFxuICAgICAgICAgICAgYmFzZVBhdGg6IFsnIyddLFxuICAgICAgICAgICAgZGVmaW5pdGlvbnM6IHt9LFxuICAgICAgICAgICAgbmFtZTogb3B0aW9ucyxcbiAgICAgICAgfVxuICAgICAgICA6IHtcbiAgICAgICAgICAgIC4uLmRlZmF1bHRPcHRpb25zLFxuICAgICAgICAgICAgYmFzZVBhdGg6IFsnIyddLFxuICAgICAgICAgICAgZGVmaW5pdGlvbnM6IHt9LFxuICAgICAgICAgICAgLi4ub3B0aW9ucyxcbiAgICAgICAgfSk7XG59O1xuLy8jIHNvdXJjZU1hcHBpbmdVUkw9T3B0aW9ucy5tanMubWFwIiwiZXhwb3J0IGNvbnN0IHpvZERlZiA9ICh6b2RTY2hlbWEpID0+IHtcbiAgICByZXR1cm4gJ19kZWYnIGluIHpvZFNjaGVtYSA/IHpvZFNjaGVtYS5fZGVmIDogem9kU2NoZW1hO1xufTtcbmV4cG9ydCBmdW5jdGlvbiBpc0VtcHR5T2JqKG9iaikge1xuICAgIGlmICghb2JqKVxuICAgICAgICByZXR1cm4gdHJ1ZTtcbiAgICBmb3IgKGNvbnN0IF9rIGluIG9iailcbiAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgIHJldHVybiB0cnVlO1xufVxuLy8jIHNvdXJjZU1hcHBpbmdVUkw9dXRpbC5tanMubWFwIiwiaW1wb3J0IHsgZ2V0RGVmYXVsdE9wdGlvbnMgfSBmcm9tIFwiLi9PcHRpb25zLm1qc1wiO1xuaW1wb3J0IHsgem9kRGVmIH0gZnJvbSBcIi4vdXRpbC5tanNcIjtcbmV4cG9ydCBjb25zdCBnZXRSZWZzID0gKG9wdGlvbnMpID0+IHtcbiAgICBjb25zdCBfb3B0aW9ucyA9IGdldERlZmF1bHRPcHRpb25zKG9wdGlvbnMpO1xuICAgIGNvbnN0IGN1cnJlbnRQYXRoID0gX29wdGlvbnMubmFtZSAhPT0gdW5kZWZpbmVkID9cbiAgICAgICAgWy4uLl9vcHRpb25zLmJhc2VQYXRoLCBfb3B0aW9ucy5kZWZpbml0aW9uUGF0aCwgX29wdGlvbnMubmFtZV1cbiAgICAgICAgOiBfb3B0aW9ucy5iYXNlUGF0aDtcbiAgICByZXR1cm4ge1xuICAgICAgICAuLi5fb3B0aW9ucyxcbiAgICAgICAgY3VycmVudFBhdGg6IGN1cnJlbnRQYXRoLFxuICAgICAgICBwcm9wZXJ0eVBhdGg6IHVuZGVmaW5lZCxcbiAgICAgICAgc2VlblJlZnM6IG5ldyBTZXQoKSxcbiAgICAgICAgc2VlbjogbmV3IE1hcChPYmplY3QuZW50cmllcyhfb3B0aW9ucy5kZWZpbml0aW9ucykubWFwKChbbmFtZSwgZGVmXSkgPT4gW1xuICAgICAgICAgICAgem9kRGVmKGRlZiksXG4gICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgZGVmOiB6b2REZWYoZGVmKSxcbiAgICAgICAgICAgICAgICBwYXRoOiBbLi4uX29wdGlvbnMuYmFzZVBhdGgsIF9vcHRpb25zLmRlZmluaXRpb25QYXRoLCBuYW1lXSxcbiAgICAgICAgICAgICAgICAvLyBSZXNvbHV0aW9uIG9mIHJlZmVyZW5jZXMgd2lsbCBiZSBmb3JjZWQgZXZlbiB0aG91Z2ggc2Vlbiwgc28gaXQncyBvayB0aGF0IHRoZSBzY2hlbWEgaXMgdW5kZWZpbmVkIGhlcmUgZm9yIG5vdy5cbiAgICAgICAgICAgICAgICBqc29uU2NoZW1hOiB1bmRlZmluZWQsXG4gICAgICAgICAgICB9LFxuICAgICAgICBdKSksXG4gICAgfTtcbn07XG4vLyMgc291cmNlTWFwcGluZ1VSTD1SZWZzLm1qcy5tYXAiLCJleHBvcnQgZnVuY3Rpb24gYWRkRXJyb3JNZXNzYWdlKHJlcywga2V5LCBlcnJvck1lc3NhZ2UsIHJlZnMpIHtcbiAgICBpZiAoIXJlZnM/LmVycm9yTWVzc2FnZXMpXG4gICAgICAgIHJldHVybjtcbiAgICBpZiAoZXJyb3JNZXNzYWdlKSB7XG4gICAgICAgIHJlcy5lcnJvck1lc3NhZ2UgPSB7XG4gICAgICAgICAgICAuLi5yZXMuZXJyb3JNZXNzYWdlLFxuICAgICAgICAgICAgW2tleV06IGVycm9yTWVzc2FnZSxcbiAgICAgICAgfTtcbiAgICB9XG59XG5leHBvcnQgZnVuY3Rpb24gc2V0UmVzcG9uc2VWYWx1ZUFuZEVycm9ycyhyZXMsIGtleSwgdmFsdWUsIGVycm9yTWVzc2FnZSwgcmVmcykge1xuICAgIHJlc1trZXldID0gdmFsdWU7XG4gICAgYWRkRXJyb3JNZXNzYWdlKHJlcywga2V5LCBlcnJvck1lc3NhZ2UsIHJlZnMpO1xufVxuLy8jIHNvdXJjZU1hcHBpbmdVUkw9ZXJyb3JNZXNzYWdlcy5tanMubWFwIiwiZXhwb3J0IHZhciB1dGlsO1xuKGZ1bmN0aW9uICh1dGlsKSB7XG4gICAgdXRpbC5hc3NlcnRFcXVhbCA9IChfKSA9PiB7IH07XG4gICAgZnVuY3Rpb24gYXNzZXJ0SXMoX2FyZykgeyB9XG4gICAgdXRpbC5hc3NlcnRJcyA9IGFzc2VydElzO1xuICAgIGZ1bmN0aW9uIGFzc2VydE5ldmVyKF94KSB7XG4gICAgICAgIHRocm93IG5ldyBFcnJvcigpO1xuICAgIH1cbiAgICB1dGlsLmFzc2VydE5ldmVyID0gYXNzZXJ0TmV2ZXI7XG4gICAgdXRpbC5hcnJheVRvRW51bSA9IChpdGVtcykgPT4ge1xuICAgICAgICBjb25zdCBvYmogPSB7fTtcbiAgICAgICAgZm9yIChjb25zdCBpdGVtIG9mIGl0ZW1zKSB7XG4gICAgICAgICAgICBvYmpbaXRlbV0gPSBpdGVtO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiBvYmo7XG4gICAgfTtcbiAgICB1dGlsLmdldFZhbGlkRW51bVZhbHVlcyA9IChvYmopID0+IHtcbiAgICAgICAgY29uc3QgdmFsaWRLZXlzID0gdXRpbC5vYmplY3RLZXlzKG9iaikuZmlsdGVyKChrKSA9PiB0eXBlb2Ygb2JqW29ialtrXV0gIT09IFwibnVtYmVyXCIpO1xuICAgICAgICBjb25zdCBmaWx0ZXJlZCA9IHt9O1xuICAgICAgICBmb3IgKGNvbnN0IGsgb2YgdmFsaWRLZXlzKSB7XG4gICAgICAgICAgICBmaWx0ZXJlZFtrXSA9IG9ialtrXTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gdXRpbC5vYmplY3RWYWx1ZXMoZmlsdGVyZWQpO1xuICAgIH07XG4gICAgdXRpbC5vYmplY3RWYWx1ZXMgPSAob2JqKSA9PiB7XG4gICAgICAgIHJldHVybiB1dGlsLm9iamVjdEtleXMob2JqKS5tYXAoZnVuY3Rpb24gKGUpIHtcbiAgICAgICAgICAgIHJldHVybiBvYmpbZV07XG4gICAgICAgIH0pO1xuICAgIH07XG4gICAgdXRpbC5vYmplY3RLZXlzID0gdHlwZW9mIE9iamVjdC5rZXlzID09PSBcImZ1bmN0aW9uXCIgLy8gZXNsaW50LWRpc2FibGUtbGluZSBiYW4vYmFuXG4gICAgICAgID8gKG9iaikgPT4gT2JqZWN0LmtleXMob2JqKSAvLyBlc2xpbnQtZGlzYWJsZS1saW5lIGJhbi9iYW5cbiAgICAgICAgOiAob2JqZWN0KSA9PiB7XG4gICAgICAgICAgICBjb25zdCBrZXlzID0gW107XG4gICAgICAgICAgICBmb3IgKGNvbnN0IGtleSBpbiBvYmplY3QpIHtcbiAgICAgICAgICAgICAgICBpZiAoT2JqZWN0LnByb3RvdHlwZS5oYXNPd25Qcm9wZXJ0eS5jYWxsKG9iamVjdCwga2V5KSkge1xuICAgICAgICAgICAgICAgICAgICBrZXlzLnB1c2goa2V5KTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICByZXR1cm4ga2V5cztcbiAgICAgICAgfTtcbiAgICB1dGlsLmZpbmQgPSAoYXJyLCBjaGVja2VyKSA9PiB7XG4gICAgICAgIGZvciAoY29uc3QgaXRlbSBvZiBhcnIpIHtcbiAgICAgICAgICAgIGlmIChjaGVja2VyKGl0ZW0pKVxuICAgICAgICAgICAgICAgIHJldHVybiBpdGVtO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiB1bmRlZmluZWQ7XG4gICAgfTtcbiAgICB1dGlsLmlzSW50ZWdlciA9IHR5cGVvZiBOdW1iZXIuaXNJbnRlZ2VyID09PSBcImZ1bmN0aW9uXCJcbiAgICAgICAgPyAodmFsKSA9PiBOdW1iZXIuaXNJbnRlZ2VyKHZhbCkgLy8gZXNsaW50LWRpc2FibGUtbGluZSBiYW4vYmFuXG4gICAgICAgIDogKHZhbCkgPT4gdHlwZW9mIHZhbCA9PT0gXCJudW1iZXJcIiAmJiBOdW1iZXIuaXNGaW5pdGUodmFsKSAmJiBNYXRoLmZsb29yKHZhbCkgPT09IHZhbDtcbiAgICBmdW5jdGlvbiBqb2luVmFsdWVzKGFycmF5LCBzZXBhcmF0b3IgPSBcIiB8IFwiKSB7XG4gICAgICAgIHJldHVybiBhcnJheS5tYXAoKHZhbCkgPT4gKHR5cGVvZiB2YWwgPT09IFwic3RyaW5nXCIgPyBgJyR7dmFsfSdgIDogdmFsKSkuam9pbihzZXBhcmF0b3IpO1xuICAgIH1cbiAgICB1dGlsLmpvaW5WYWx1ZXMgPSBqb2luVmFsdWVzO1xuICAgIHV0aWwuanNvblN0cmluZ2lmeVJlcGxhY2VyID0gKF8sIHZhbHVlKSA9PiB7XG4gICAgICAgIGlmICh0eXBlb2YgdmFsdWUgPT09IFwiYmlnaW50XCIpIHtcbiAgICAgICAgICAgIHJldHVybiB2YWx1ZS50b1N0cmluZygpO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiB2YWx1ZTtcbiAgICB9O1xufSkodXRpbCB8fCAodXRpbCA9IHt9KSk7XG5leHBvcnQgdmFyIG9iamVjdFV0aWw7XG4oZnVuY3Rpb24gKG9iamVjdFV0aWwpIHtcbiAgICBvYmplY3RVdGlsLm1lcmdlU2hhcGVzID0gKGZpcnN0LCBzZWNvbmQpID0+IHtcbiAgICAgICAgcmV0dXJuIHtcbiAgICAgICAgICAgIC4uLmZpcnN0LFxuICAgICAgICAgICAgLi4uc2Vjb25kLCAvLyBzZWNvbmQgb3ZlcndyaXRlcyBmaXJzdFxuICAgICAgICB9O1xuICAgIH07XG59KShvYmplY3RVdGlsIHx8IChvYmplY3RVdGlsID0ge30pKTtcbmV4cG9ydCBjb25zdCBab2RQYXJzZWRUeXBlID0gdXRpbC5hcnJheVRvRW51bShbXG4gICAgXCJzdHJpbmdcIixcbiAgICBcIm5hblwiLFxuICAgIFwibnVtYmVyXCIsXG4gICAgXCJpbnRlZ2VyXCIsXG4gICAgXCJmbG9hdFwiLFxuICAgIFwiYm9vbGVhblwiLFxuICAgIFwiZGF0ZVwiLFxuICAgIFwiYmlnaW50XCIsXG4gICAgXCJzeW1ib2xcIixcbiAgICBcImZ1bmN0aW9uXCIsXG4gICAgXCJ1bmRlZmluZWRcIixcbiAgICBcIm51bGxcIixcbiAgICBcImFycmF5XCIsXG4gICAgXCJvYmplY3RcIixcbiAgICBcInVua25vd25cIixcbiAgICBcInByb21pc2VcIixcbiAgICBcInZvaWRcIixcbiAgICBcIm5ldmVyXCIsXG4gICAgXCJtYXBcIixcbiAgICBcInNldFwiLFxuXSk7XG5leHBvcnQgY29uc3QgZ2V0UGFyc2VkVHlwZSA9IChkYXRhKSA9PiB7XG4gICAgY29uc3QgdCA9IHR5cGVvZiBkYXRhO1xuICAgIHN3aXRjaCAodCkge1xuICAgICAgICBjYXNlIFwidW5kZWZpbmVkXCI6XG4gICAgICAgICAgICByZXR1cm4gWm9kUGFyc2VkVHlwZS51bmRlZmluZWQ7XG4gICAgICAgIGNhc2UgXCJzdHJpbmdcIjpcbiAgICAgICAgICAgIHJldHVybiBab2RQYXJzZWRUeXBlLnN0cmluZztcbiAgICAgICAgY2FzZSBcIm51bWJlclwiOlxuICAgICAgICAgICAgcmV0dXJuIE51bWJlci5pc05hTihkYXRhKSA/IFpvZFBhcnNlZFR5cGUubmFuIDogWm9kUGFyc2VkVHlwZS5udW1iZXI7XG4gICAgICAgIGNhc2UgXCJib29sZWFuXCI6XG4gICAgICAgICAgICByZXR1cm4gWm9kUGFyc2VkVHlwZS5ib29sZWFuO1xuICAgICAgICBjYXNlIFwiZnVuY3Rpb25cIjpcbiAgICAgICAgICAgIHJldHVybiBab2RQYXJzZWRUeXBlLmZ1bmN0aW9uO1xuICAgICAgICBjYXNlIFwiYmlnaW50XCI6XG4gICAgICAgICAgICByZXR1cm4gWm9kUGFyc2VkVHlwZS5iaWdpbnQ7XG4gICAgICAgIGNhc2UgXCJzeW1ib2xcIjpcbiAgICAgICAgICAgIHJldHVybiBab2RQYXJzZWRUeXBlLnN5bWJvbDtcbiAgICAgICAgY2FzZSBcIm9iamVjdFwiOlxuICAgICAgICAgICAgaWYgKEFycmF5LmlzQXJyYXkoZGF0YSkpIHtcbiAgICAgICAgICAgICAgICByZXR1cm4gWm9kUGFyc2VkVHlwZS5hcnJheTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGlmIChkYXRhID09PSBudWxsKSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuIFpvZFBhcnNlZFR5cGUubnVsbDtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGlmIChkYXRhLnRoZW4gJiYgdHlwZW9mIGRhdGEudGhlbiA9PT0gXCJmdW5jdGlvblwiICYmIGRhdGEuY2F0Y2ggJiYgdHlwZW9mIGRhdGEuY2F0Y2ggPT09IFwiZnVuY3Rpb25cIikge1xuICAgICAgICAgICAgICAgIHJldHVybiBab2RQYXJzZWRUeXBlLnByb21pc2U7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBpZiAodHlwZW9mIE1hcCAhPT0gXCJ1bmRlZmluZWRcIiAmJiBkYXRhIGluc3RhbmNlb2YgTWFwKSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuIFpvZFBhcnNlZFR5cGUubWFwO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgaWYgKHR5cGVvZiBTZXQgIT09IFwidW5kZWZpbmVkXCIgJiYgZGF0YSBpbnN0YW5jZW9mIFNldCkge1xuICAgICAgICAgICAgICAgIHJldHVybiBab2RQYXJzZWRUeXBlLnNldDtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGlmICh0eXBlb2YgRGF0ZSAhPT0gXCJ1bmRlZmluZWRcIiAmJiBkYXRhIGluc3RhbmNlb2YgRGF0ZSkge1xuICAgICAgICAgICAgICAgIHJldHVybiBab2RQYXJzZWRUeXBlLmRhdGU7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICByZXR1cm4gWm9kUGFyc2VkVHlwZS5vYmplY3Q7XG4gICAgICAgIGRlZmF1bHQ6XG4gICAgICAgICAgICByZXR1cm4gWm9kUGFyc2VkVHlwZS51bmtub3duO1xuICAgIH1cbn07XG4iLCJpbXBvcnQgeyB1dGlsIH0gZnJvbSBcIi4vaGVscGVycy91dGlsLmpzXCI7XG5leHBvcnQgY29uc3QgWm9kSXNzdWVDb2RlID0gdXRpbC5hcnJheVRvRW51bShbXG4gICAgXCJpbnZhbGlkX3R5cGVcIixcbiAgICBcImludmFsaWRfbGl0ZXJhbFwiLFxuICAgIFwiY3VzdG9tXCIsXG4gICAgXCJpbnZhbGlkX3VuaW9uXCIsXG4gICAgXCJpbnZhbGlkX3VuaW9uX2Rpc2NyaW1pbmF0b3JcIixcbiAgICBcImludmFsaWRfZW51bV92YWx1ZVwiLFxuICAgIFwidW5yZWNvZ25pemVkX2tleXNcIixcbiAgICBcImludmFsaWRfYXJndW1lbnRzXCIsXG4gICAgXCJpbnZhbGlkX3JldHVybl90eXBlXCIsXG4gICAgXCJpbnZhbGlkX2RhdGVcIixcbiAgICBcImludmFsaWRfc3RyaW5nXCIsXG4gICAgXCJ0b29fc21hbGxcIixcbiAgICBcInRvb19iaWdcIixcbiAgICBcImludmFsaWRfaW50ZXJzZWN0aW9uX3R5cGVzXCIsXG4gICAgXCJub3RfbXVsdGlwbGVfb2ZcIixcbiAgICBcIm5vdF9maW5pdGVcIixcbl0pO1xuZXhwb3J0IGNvbnN0IHF1b3RlbGVzc0pzb24gPSAob2JqKSA9PiB7XG4gICAgY29uc3QganNvbiA9IEpTT04uc3RyaW5naWZ5KG9iaiwgbnVsbCwgMik7XG4gICAgcmV0dXJuIGpzb24ucmVwbGFjZSgvXCIoW15cIl0rKVwiOi9nLCBcIiQxOlwiKTtcbn07XG5leHBvcnQgY2xhc3MgWm9kRXJyb3IgZXh0ZW5kcyBFcnJvciB7XG4gICAgZ2V0IGVycm9ycygpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuaXNzdWVzO1xuICAgIH1cbiAgICBjb25zdHJ1Y3Rvcihpc3N1ZXMpIHtcbiAgICAgICAgc3VwZXIoKTtcbiAgICAgICAgdGhpcy5pc3N1ZXMgPSBbXTtcbiAgICAgICAgdGhpcy5hZGRJc3N1ZSA9IChzdWIpID0+IHtcbiAgICAgICAgICAgIHRoaXMuaXNzdWVzID0gWy4uLnRoaXMuaXNzdWVzLCBzdWJdO1xuICAgICAgICB9O1xuICAgICAgICB0aGlzLmFkZElzc3VlcyA9IChzdWJzID0gW10pID0+IHtcbiAgICAgICAgICAgIHRoaXMuaXNzdWVzID0gWy4uLnRoaXMuaXNzdWVzLCAuLi5zdWJzXTtcbiAgICAgICAgfTtcbiAgICAgICAgY29uc3QgYWN0dWFsUHJvdG8gPSBuZXcudGFyZ2V0LnByb3RvdHlwZTtcbiAgICAgICAgaWYgKE9iamVjdC5zZXRQcm90b3R5cGVPZikge1xuICAgICAgICAgICAgLy8gZXNsaW50LWRpc2FibGUtbmV4dC1saW5lIGJhbi9iYW5cbiAgICAgICAgICAgIE9iamVjdC5zZXRQcm90b3R5cGVPZih0aGlzLCBhY3R1YWxQcm90byk7XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICB0aGlzLl9fcHJvdG9fXyA9IGFjdHVhbFByb3RvO1xuICAgICAgICB9XG4gICAgICAgIHRoaXMubmFtZSA9IFwiWm9kRXJyb3JcIjtcbiAgICAgICAgdGhpcy5pc3N1ZXMgPSBpc3N1ZXM7XG4gICAgfVxuICAgIGZvcm1hdChfbWFwcGVyKSB7XG4gICAgICAgIGNvbnN0IG1hcHBlciA9IF9tYXBwZXIgfHxcbiAgICAgICAgICAgIGZ1bmN0aW9uIChpc3N1ZSkge1xuICAgICAgICAgICAgICAgIHJldHVybiBpc3N1ZS5tZXNzYWdlO1xuICAgICAgICAgICAgfTtcbiAgICAgICAgY29uc3QgZmllbGRFcnJvcnMgPSB7IF9lcnJvcnM6IFtdIH07XG4gICAgICAgIGNvbnN0IHByb2Nlc3NFcnJvciA9IChlcnJvcikgPT4ge1xuICAgICAgICAgICAgZm9yIChjb25zdCBpc3N1ZSBvZiBlcnJvci5pc3N1ZXMpIHtcbiAgICAgICAgICAgICAgICBpZiAoaXNzdWUuY29kZSA9PT0gXCJpbnZhbGlkX3VuaW9uXCIpIHtcbiAgICAgICAgICAgICAgICAgICAgaXNzdWUudW5pb25FcnJvcnMubWFwKHByb2Nlc3NFcnJvcik7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGVsc2UgaWYgKGlzc3VlLmNvZGUgPT09IFwiaW52YWxpZF9yZXR1cm5fdHlwZVwiKSB7XG4gICAgICAgICAgICAgICAgICAgIHByb2Nlc3NFcnJvcihpc3N1ZS5yZXR1cm5UeXBlRXJyb3IpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBlbHNlIGlmIChpc3N1ZS5jb2RlID09PSBcImludmFsaWRfYXJndW1lbnRzXCIpIHtcbiAgICAgICAgICAgICAgICAgICAgcHJvY2Vzc0Vycm9yKGlzc3VlLmFyZ3VtZW50c0Vycm9yKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgZWxzZSBpZiAoaXNzdWUucGF0aC5sZW5ndGggPT09IDApIHtcbiAgICAgICAgICAgICAgICAgICAgZmllbGRFcnJvcnMuX2Vycm9ycy5wdXNoKG1hcHBlcihpc3N1ZSkpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgbGV0IGN1cnIgPSBmaWVsZEVycm9ycztcbiAgICAgICAgICAgICAgICAgICAgbGV0IGkgPSAwO1xuICAgICAgICAgICAgICAgICAgICB3aGlsZSAoaSA8IGlzc3VlLnBhdGgubGVuZ3RoKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBjb25zdCBlbCA9IGlzc3VlLnBhdGhbaV07XG4gICAgICAgICAgICAgICAgICAgICAgICBjb25zdCB0ZXJtaW5hbCA9IGkgPT09IGlzc3VlLnBhdGgubGVuZ3RoIC0gMTtcbiAgICAgICAgICAgICAgICAgICAgICAgIGlmICghdGVybWluYWwpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBjdXJyW2VsXSA9IGN1cnJbZWxdIHx8IHsgX2Vycm9yczogW10gfTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAvLyBpZiAodHlwZW9mIGVsID09PSBcInN0cmluZ1wiKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgLy8gICBjdXJyW2VsXSA9IGN1cnJbZWxdIHx8IHsgX2Vycm9yczogW10gfTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAvLyB9IGVsc2UgaWYgKHR5cGVvZiBlbCA9PT0gXCJudW1iZXJcIikge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIC8vICAgY29uc3QgZXJyb3JBcnJheTogYW55ID0gW107XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgLy8gICBlcnJvckFycmF5Ll9lcnJvcnMgPSBbXTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAvLyAgIGN1cnJbZWxdID0gY3VycltlbF0gfHwgZXJyb3JBcnJheTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAvLyB9XG4gICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBjdXJyW2VsXSA9IGN1cnJbZWxdIHx8IHsgX2Vycm9yczogW10gfTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBjdXJyW2VsXS5fZXJyb3JzLnB1c2gobWFwcGVyKGlzc3VlKSk7XG4gICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICBjdXJyID0gY3VycltlbF07XG4gICAgICAgICAgICAgICAgICAgICAgICBpKys7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgIH07XG4gICAgICAgIHByb2Nlc3NFcnJvcih0aGlzKTtcbiAgICAgICAgcmV0dXJuIGZpZWxkRXJyb3JzO1xuICAgIH1cbiAgICBzdGF0aWMgYXNzZXJ0KHZhbHVlKSB7XG4gICAgICAgIGlmICghKHZhbHVlIGluc3RhbmNlb2YgWm9kRXJyb3IpKSB7XG4gICAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoYE5vdCBhIFpvZEVycm9yOiAke3ZhbHVlfWApO1xuICAgICAgICB9XG4gICAgfVxuICAgIHRvU3RyaW5nKCkge1xuICAgICAgICByZXR1cm4gdGhpcy5tZXNzYWdlO1xuICAgIH1cbiAgICBnZXQgbWVzc2FnZSgpIHtcbiAgICAgICAgcmV0dXJuIEpTT04uc3RyaW5naWZ5KHRoaXMuaXNzdWVzLCB1dGlsLmpzb25TdHJpbmdpZnlSZXBsYWNlciwgMik7XG4gICAgfVxuICAgIGdldCBpc0VtcHR5KCkge1xuICAgICAgICByZXR1cm4gdGhpcy5pc3N1ZXMubGVuZ3RoID09PSAwO1xuICAgIH1cbiAgICBmbGF0dGVuKG1hcHBlciA9IChpc3N1ZSkgPT4gaXNzdWUubWVzc2FnZSkge1xuICAgICAgICBjb25zdCBmaWVsZEVycm9ycyA9IHt9O1xuICAgICAgICBjb25zdCBmb3JtRXJyb3JzID0gW107XG4gICAgICAgIGZvciAoY29uc3Qgc3ViIG9mIHRoaXMuaXNzdWVzKSB7XG4gICAgICAgICAgICBpZiAoc3ViLnBhdGgubGVuZ3RoID4gMCkge1xuICAgICAgICAgICAgICAgIGNvbnN0IGZpcnN0RWwgPSBzdWIucGF0aFswXTtcbiAgICAgICAgICAgICAgICBmaWVsZEVycm9yc1tmaXJzdEVsXSA9IGZpZWxkRXJyb3JzW2ZpcnN0RWxdIHx8IFtdO1xuICAgICAgICAgICAgICAgIGZpZWxkRXJyb3JzW2ZpcnN0RWxdLnB1c2gobWFwcGVyKHN1YikpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICAgICAgZm9ybUVycm9ycy5wdXNoKG1hcHBlcihzdWIpKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICByZXR1cm4geyBmb3JtRXJyb3JzLCBmaWVsZEVycm9ycyB9O1xuICAgIH1cbiAgICBnZXQgZm9ybUVycm9ycygpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuZmxhdHRlbigpO1xuICAgIH1cbn1cblpvZEVycm9yLmNyZWF0ZSA9IChpc3N1ZXMpID0+IHtcbiAgICBjb25zdCBlcnJvciA9IG5ldyBab2RFcnJvcihpc3N1ZXMpO1xuICAgIHJldHVybiBlcnJvcjtcbn07XG4iLCJpbXBvcnQgeyBab2RJc3N1ZUNvZGUgfSBmcm9tIFwiLi4vWm9kRXJyb3IuanNcIjtcbmltcG9ydCB7IHV0aWwsIFpvZFBhcnNlZFR5cGUgfSBmcm9tIFwiLi4vaGVscGVycy91dGlsLmpzXCI7XG5jb25zdCBlcnJvck1hcCA9IChpc3N1ZSwgX2N0eCkgPT4ge1xuICAgIGxldCBtZXNzYWdlO1xuICAgIHN3aXRjaCAoaXNzdWUuY29kZSkge1xuICAgICAgICBjYXNlIFpvZElzc3VlQ29kZS5pbnZhbGlkX3R5cGU6XG4gICAgICAgICAgICBpZiAoaXNzdWUucmVjZWl2ZWQgPT09IFpvZFBhcnNlZFR5cGUudW5kZWZpbmVkKSB7XG4gICAgICAgICAgICAgICAgbWVzc2FnZSA9IFwiUmVxdWlyZWRcIjtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgICAgIG1lc3NhZ2UgPSBgRXhwZWN0ZWQgJHtpc3N1ZS5leHBlY3RlZH0sIHJlY2VpdmVkICR7aXNzdWUucmVjZWl2ZWR9YDtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICBjYXNlIFpvZElzc3VlQ29kZS5pbnZhbGlkX2xpdGVyYWw6XG4gICAgICAgICAgICBtZXNzYWdlID0gYEludmFsaWQgbGl0ZXJhbCB2YWx1ZSwgZXhwZWN0ZWQgJHtKU09OLnN0cmluZ2lmeShpc3N1ZS5leHBlY3RlZCwgdXRpbC5qc29uU3RyaW5naWZ5UmVwbGFjZXIpfWA7XG4gICAgICAgICAgICBicmVhaztcbiAgICAgICAgY2FzZSBab2RJc3N1ZUNvZGUudW5yZWNvZ25pemVkX2tleXM6XG4gICAgICAgICAgICBtZXNzYWdlID0gYFVucmVjb2duaXplZCBrZXkocykgaW4gb2JqZWN0OiAke3V0aWwuam9pblZhbHVlcyhpc3N1ZS5rZXlzLCBcIiwgXCIpfWA7XG4gICAgICAgICAgICBicmVhaztcbiAgICAgICAgY2FzZSBab2RJc3N1ZUNvZGUuaW52YWxpZF91bmlvbjpcbiAgICAgICAgICAgIG1lc3NhZ2UgPSBgSW52YWxpZCBpbnB1dGA7XG4gICAgICAgICAgICBicmVhaztcbiAgICAgICAgY2FzZSBab2RJc3N1ZUNvZGUuaW52YWxpZF91bmlvbl9kaXNjcmltaW5hdG9yOlxuICAgICAgICAgICAgbWVzc2FnZSA9IGBJbnZhbGlkIGRpc2NyaW1pbmF0b3IgdmFsdWUuIEV4cGVjdGVkICR7dXRpbC5qb2luVmFsdWVzKGlzc3VlLm9wdGlvbnMpfWA7XG4gICAgICAgICAgICBicmVhaztcbiAgICAgICAgY2FzZSBab2RJc3N1ZUNvZGUuaW52YWxpZF9lbnVtX3ZhbHVlOlxuICAgICAgICAgICAgbWVzc2FnZSA9IGBJbnZhbGlkIGVudW0gdmFsdWUuIEV4cGVjdGVkICR7dXRpbC5qb2luVmFsdWVzKGlzc3VlLm9wdGlvbnMpfSwgcmVjZWl2ZWQgJyR7aXNzdWUucmVjZWl2ZWR9J2A7XG4gICAgICAgICAgICBicmVhaztcbiAgICAgICAgY2FzZSBab2RJc3N1ZUNvZGUuaW52YWxpZF9hcmd1bWVudHM6XG4gICAgICAgICAgICBtZXNzYWdlID0gYEludmFsaWQgZnVuY3Rpb24gYXJndW1lbnRzYDtcbiAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICBjYXNlIFpvZElzc3VlQ29kZS5pbnZhbGlkX3JldHVybl90eXBlOlxuICAgICAgICAgICAgbWVzc2FnZSA9IGBJbnZhbGlkIGZ1bmN0aW9uIHJldHVybiB0eXBlYDtcbiAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICBjYXNlIFpvZElzc3VlQ29kZS5pbnZhbGlkX2RhdGU6XG4gICAgICAgICAgICBtZXNzYWdlID0gYEludmFsaWQgZGF0ZWA7XG4gICAgICAgICAgICBicmVhaztcbiAgICAgICAgY2FzZSBab2RJc3N1ZUNvZGUuaW52YWxpZF9zdHJpbmc6XG4gICAgICAgICAgICBpZiAodHlwZW9mIGlzc3VlLnZhbGlkYXRpb24gPT09IFwib2JqZWN0XCIpIHtcbiAgICAgICAgICAgICAgICBpZiAoXCJpbmNsdWRlc1wiIGluIGlzc3VlLnZhbGlkYXRpb24pIHtcbiAgICAgICAgICAgICAgICAgICAgbWVzc2FnZSA9IGBJbnZhbGlkIGlucHV0OiBtdXN0IGluY2x1ZGUgXCIke2lzc3VlLnZhbGlkYXRpb24uaW5jbHVkZXN9XCJgO1xuICAgICAgICAgICAgICAgICAgICBpZiAodHlwZW9mIGlzc3VlLnZhbGlkYXRpb24ucG9zaXRpb24gPT09IFwibnVtYmVyXCIpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIG1lc3NhZ2UgPSBgJHttZXNzYWdlfSBhdCBvbmUgb3IgbW9yZSBwb3NpdGlvbnMgZ3JlYXRlciB0aGFuIG9yIGVxdWFsIHRvICR7aXNzdWUudmFsaWRhdGlvbi5wb3NpdGlvbn1gO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGVsc2UgaWYgKFwic3RhcnRzV2l0aFwiIGluIGlzc3VlLnZhbGlkYXRpb24pIHtcbiAgICAgICAgICAgICAgICAgICAgbWVzc2FnZSA9IGBJbnZhbGlkIGlucHV0OiBtdXN0IHN0YXJ0IHdpdGggXCIke2lzc3VlLnZhbGlkYXRpb24uc3RhcnRzV2l0aH1cImA7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGVsc2UgaWYgKFwiZW5kc1dpdGhcIiBpbiBpc3N1ZS52YWxpZGF0aW9uKSB7XG4gICAgICAgICAgICAgICAgICAgIG1lc3NhZ2UgPSBgSW52YWxpZCBpbnB1dDogbXVzdCBlbmQgd2l0aCBcIiR7aXNzdWUudmFsaWRhdGlvbi5lbmRzV2l0aH1cImA7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICB1dGlsLmFzc2VydE5ldmVyKGlzc3VlLnZhbGlkYXRpb24pO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGVsc2UgaWYgKGlzc3VlLnZhbGlkYXRpb24gIT09IFwicmVnZXhcIikge1xuICAgICAgICAgICAgICAgIG1lc3NhZ2UgPSBgSW52YWxpZCAke2lzc3VlLnZhbGlkYXRpb259YDtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgICAgIG1lc3NhZ2UgPSBcIkludmFsaWRcIjtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICBjYXNlIFpvZElzc3VlQ29kZS50b29fc21hbGw6XG4gICAgICAgICAgICBpZiAoaXNzdWUudHlwZSA9PT0gXCJhcnJheVwiKVxuICAgICAgICAgICAgICAgIG1lc3NhZ2UgPSBgQXJyYXkgbXVzdCBjb250YWluICR7aXNzdWUuZXhhY3QgPyBcImV4YWN0bHlcIiA6IGlzc3VlLmluY2x1c2l2ZSA/IGBhdCBsZWFzdGAgOiBgbW9yZSB0aGFuYH0gJHtpc3N1ZS5taW5pbXVtfSBlbGVtZW50KHMpYDtcbiAgICAgICAgICAgIGVsc2UgaWYgKGlzc3VlLnR5cGUgPT09IFwic3RyaW5nXCIpXG4gICAgICAgICAgICAgICAgbWVzc2FnZSA9IGBTdHJpbmcgbXVzdCBjb250YWluICR7aXNzdWUuZXhhY3QgPyBcImV4YWN0bHlcIiA6IGlzc3VlLmluY2x1c2l2ZSA/IGBhdCBsZWFzdGAgOiBgb3ZlcmB9ICR7aXNzdWUubWluaW11bX0gY2hhcmFjdGVyKHMpYDtcbiAgICAgICAgICAgIGVsc2UgaWYgKGlzc3VlLnR5cGUgPT09IFwibnVtYmVyXCIpXG4gICAgICAgICAgICAgICAgbWVzc2FnZSA9IGBOdW1iZXIgbXVzdCBiZSAke2lzc3VlLmV4YWN0ID8gYGV4YWN0bHkgZXF1YWwgdG8gYCA6IGlzc3VlLmluY2x1c2l2ZSA/IGBncmVhdGVyIHRoYW4gb3IgZXF1YWwgdG8gYCA6IGBncmVhdGVyIHRoYW4gYH0ke2lzc3VlLm1pbmltdW19YDtcbiAgICAgICAgICAgIGVsc2UgaWYgKGlzc3VlLnR5cGUgPT09IFwiYmlnaW50XCIpXG4gICAgICAgICAgICAgICAgbWVzc2FnZSA9IGBOdW1iZXIgbXVzdCBiZSAke2lzc3VlLmV4YWN0ID8gYGV4YWN0bHkgZXF1YWwgdG8gYCA6IGlzc3VlLmluY2x1c2l2ZSA/IGBncmVhdGVyIHRoYW4gb3IgZXF1YWwgdG8gYCA6IGBncmVhdGVyIHRoYW4gYH0ke2lzc3VlLm1pbmltdW19YDtcbiAgICAgICAgICAgIGVsc2UgaWYgKGlzc3VlLnR5cGUgPT09IFwiZGF0ZVwiKVxuICAgICAgICAgICAgICAgIG1lc3NhZ2UgPSBgRGF0ZSBtdXN0IGJlICR7aXNzdWUuZXhhY3QgPyBgZXhhY3RseSBlcXVhbCB0byBgIDogaXNzdWUuaW5jbHVzaXZlID8gYGdyZWF0ZXIgdGhhbiBvciBlcXVhbCB0byBgIDogYGdyZWF0ZXIgdGhhbiBgfSR7bmV3IERhdGUoTnVtYmVyKGlzc3VlLm1pbmltdW0pKX1gO1xuICAgICAgICAgICAgZWxzZVxuICAgICAgICAgICAgICAgIG1lc3NhZ2UgPSBcIkludmFsaWQgaW5wdXRcIjtcbiAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICBjYXNlIFpvZElzc3VlQ29kZS50b29fYmlnOlxuICAgICAgICAgICAgaWYgKGlzc3VlLnR5cGUgPT09IFwiYXJyYXlcIilcbiAgICAgICAgICAgICAgICBtZXNzYWdlID0gYEFycmF5IG11c3QgY29udGFpbiAke2lzc3VlLmV4YWN0ID8gYGV4YWN0bHlgIDogaXNzdWUuaW5jbHVzaXZlID8gYGF0IG1vc3RgIDogYGxlc3MgdGhhbmB9ICR7aXNzdWUubWF4aW11bX0gZWxlbWVudChzKWA7XG4gICAgICAgICAgICBlbHNlIGlmIChpc3N1ZS50eXBlID09PSBcInN0cmluZ1wiKVxuICAgICAgICAgICAgICAgIG1lc3NhZ2UgPSBgU3RyaW5nIG11c3QgY29udGFpbiAke2lzc3VlLmV4YWN0ID8gYGV4YWN0bHlgIDogaXNzdWUuaW5jbHVzaXZlID8gYGF0IG1vc3RgIDogYHVuZGVyYH0gJHtpc3N1ZS5tYXhpbXVtfSBjaGFyYWN0ZXIocylgO1xuICAgICAgICAgICAgZWxzZSBpZiAoaXNzdWUudHlwZSA9PT0gXCJudW1iZXJcIilcbiAgICAgICAgICAgICAgICBtZXNzYWdlID0gYE51bWJlciBtdXN0IGJlICR7aXNzdWUuZXhhY3QgPyBgZXhhY3RseWAgOiBpc3N1ZS5pbmNsdXNpdmUgPyBgbGVzcyB0aGFuIG9yIGVxdWFsIHRvYCA6IGBsZXNzIHRoYW5gfSAke2lzc3VlLm1heGltdW19YDtcbiAgICAgICAgICAgIGVsc2UgaWYgKGlzc3VlLnR5cGUgPT09IFwiYmlnaW50XCIpXG4gICAgICAgICAgICAgICAgbWVzc2FnZSA9IGBCaWdJbnQgbXVzdCBiZSAke2lzc3VlLmV4YWN0ID8gYGV4YWN0bHlgIDogaXNzdWUuaW5jbHVzaXZlID8gYGxlc3MgdGhhbiBvciBlcXVhbCB0b2AgOiBgbGVzcyB0aGFuYH0gJHtpc3N1ZS5tYXhpbXVtfWA7XG4gICAgICAgICAgICBlbHNlIGlmIChpc3N1ZS50eXBlID09PSBcImRhdGVcIilcbiAgICAgICAgICAgICAgICBtZXNzYWdlID0gYERhdGUgbXVzdCBiZSAke2lzc3VlLmV4YWN0ID8gYGV4YWN0bHlgIDogaXNzdWUuaW5jbHVzaXZlID8gYHNtYWxsZXIgdGhhbiBvciBlcXVhbCB0b2AgOiBgc21hbGxlciB0aGFuYH0gJHtuZXcgRGF0ZShOdW1iZXIoaXNzdWUubWF4aW11bSkpfWA7XG4gICAgICAgICAgICBlbHNlXG4gICAgICAgICAgICAgICAgbWVzc2FnZSA9IFwiSW52YWxpZCBpbnB1dFwiO1xuICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgIGNhc2UgWm9kSXNzdWVDb2RlLmN1c3RvbTpcbiAgICAgICAgICAgIG1lc3NhZ2UgPSBgSW52YWxpZCBpbnB1dGA7XG4gICAgICAgICAgICBicmVhaztcbiAgICAgICAgY2FzZSBab2RJc3N1ZUNvZGUuaW52YWxpZF9pbnRlcnNlY3Rpb25fdHlwZXM6XG4gICAgICAgICAgICBtZXNzYWdlID0gYEludGVyc2VjdGlvbiByZXN1bHRzIGNvdWxkIG5vdCBiZSBtZXJnZWRgO1xuICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgIGNhc2UgWm9kSXNzdWVDb2RlLm5vdF9tdWx0aXBsZV9vZjpcbiAgICAgICAgICAgIG1lc3NhZ2UgPSBgTnVtYmVyIG11c3QgYmUgYSBtdWx0aXBsZSBvZiAke2lzc3VlLm11bHRpcGxlT2Z9YDtcbiAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICBjYXNlIFpvZElzc3VlQ29kZS5ub3RfZmluaXRlOlxuICAgICAgICAgICAgbWVzc2FnZSA9IFwiTnVtYmVyIG11c3QgYmUgZmluaXRlXCI7XG4gICAgICAgICAgICBicmVhaztcbiAgICAgICAgZGVmYXVsdDpcbiAgICAgICAgICAgIG1lc3NhZ2UgPSBfY3R4LmRlZmF1bHRFcnJvcjtcbiAgICAgICAgICAgIHV0aWwuYXNzZXJ0TmV2ZXIoaXNzdWUpO1xuICAgIH1cbiAgICByZXR1cm4geyBtZXNzYWdlIH07XG59O1xuZXhwb3J0IGRlZmF1bHQgZXJyb3JNYXA7XG4iLCJpbXBvcnQgZGVmYXVsdEVycm9yTWFwIGZyb20gXCIuL2xvY2FsZXMvZW4uanNcIjtcbmxldCBvdmVycmlkZUVycm9yTWFwID0gZGVmYXVsdEVycm9yTWFwO1xuZXhwb3J0IHsgZGVmYXVsdEVycm9yTWFwIH07XG5leHBvcnQgZnVuY3Rpb24gc2V0RXJyb3JNYXAobWFwKSB7XG4gICAgb3ZlcnJpZGVFcnJvck1hcCA9IG1hcDtcbn1cbmV4cG9ydCBmdW5jdGlvbiBnZXRFcnJvck1hcCgpIHtcbiAgICByZXR1cm4gb3ZlcnJpZGVFcnJvck1hcDtcbn1cbiIsImltcG9ydCB7IGdldEVycm9yTWFwIH0gZnJvbSBcIi4uL2Vycm9ycy5qc1wiO1xuaW1wb3J0IGRlZmF1bHRFcnJvck1hcCBmcm9tIFwiLi4vbG9jYWxlcy9lbi5qc1wiO1xuZXhwb3J0IGNvbnN0IG1ha2VJc3N1ZSA9IChwYXJhbXMpID0+IHtcbiAgICBjb25zdCB7IGRhdGEsIHBhdGgsIGVycm9yTWFwcywgaXNzdWVEYXRhIH0gPSBwYXJhbXM7XG4gICAgY29uc3QgZnVsbFBhdGggPSBbLi4ucGF0aCwgLi4uKGlzc3VlRGF0YS5wYXRoIHx8IFtdKV07XG4gICAgY29uc3QgZnVsbElzc3VlID0ge1xuICAgICAgICAuLi5pc3N1ZURhdGEsXG4gICAgICAgIHBhdGg6IGZ1bGxQYXRoLFxuICAgIH07XG4gICAgaWYgKGlzc3VlRGF0YS5tZXNzYWdlICE9PSB1bmRlZmluZWQpIHtcbiAgICAgICAgcmV0dXJuIHtcbiAgICAgICAgICAgIC4uLmlzc3VlRGF0YSxcbiAgICAgICAgICAgIHBhdGg6IGZ1bGxQYXRoLFxuICAgICAgICAgICAgbWVzc2FnZTogaXNzdWVEYXRhLm1lc3NhZ2UsXG4gICAgICAgIH07XG4gICAgfVxuICAgIGxldCBlcnJvck1lc3NhZ2UgPSBcIlwiO1xuICAgIGNvbnN0IG1hcHMgPSBlcnJvck1hcHNcbiAgICAgICAgLmZpbHRlcigobSkgPT4gISFtKVxuICAgICAgICAuc2xpY2UoKVxuICAgICAgICAucmV2ZXJzZSgpO1xuICAgIGZvciAoY29uc3QgbWFwIG9mIG1hcHMpIHtcbiAgICAgICAgZXJyb3JNZXNzYWdlID0gbWFwKGZ1bGxJc3N1ZSwgeyBkYXRhLCBkZWZhdWx0RXJyb3I6IGVycm9yTWVzc2FnZSB9KS5tZXNzYWdlO1xuICAgIH1cbiAgICByZXR1cm4ge1xuICAgICAgICAuLi5pc3N1ZURhdGEsXG4gICAgICAgIHBhdGg6IGZ1bGxQYXRoLFxuICAgICAgICBtZXNzYWdlOiBlcnJvck1lc3NhZ2UsXG4gICAgfTtcbn07XG5leHBvcnQgY29uc3QgRU1QVFlfUEFUSCA9IFtdO1xuZXhwb3J0IGZ1bmN0aW9uIGFkZElzc3VlVG9Db250ZXh0KGN0eCwgaXNzdWVEYXRhKSB7XG4gICAgY29uc3Qgb3ZlcnJpZGVNYXAgPSBnZXRFcnJvck1hcCgpO1xuICAgIGNvbnN0IGlzc3VlID0gbWFrZUlzc3VlKHtcbiAgICAgICAgaXNzdWVEYXRhOiBpc3N1ZURhdGEsXG4gICAgICAgIGRhdGE6IGN0eC5kYXRhLFxuICAgICAgICBwYXRoOiBjdHgucGF0aCxcbiAgICAgICAgZXJyb3JNYXBzOiBbXG4gICAgICAgICAgICBjdHguY29tbW9uLmNvbnRleHR1YWxFcnJvck1hcCwgLy8gY29udGV4dHVhbCBlcnJvciBtYXAgaXMgZmlyc3QgcHJpb3JpdHlcbiAgICAgICAgICAgIGN0eC5zY2hlbWFFcnJvck1hcCwgLy8gdGhlbiBzY2hlbWEtYm91bmQgbWFwIGlmIGF2YWlsYWJsZVxuICAgICAgICAgICAgb3ZlcnJpZGVNYXAsIC8vIHRoZW4gZ2xvYmFsIG92ZXJyaWRlIG1hcFxuICAgICAgICAgICAgb3ZlcnJpZGVNYXAgPT09IGRlZmF1bHRFcnJvck1hcCA/IHVuZGVmaW5lZCA6IGRlZmF1bHRFcnJvck1hcCwgLy8gdGhlbiBnbG9iYWwgZGVmYXVsdCBtYXBcbiAgICAgICAgXS5maWx0ZXIoKHgpID0+ICEheCksXG4gICAgfSk7XG4gICAgY3R4LmNvbW1vbi5pc3N1ZXMucHVzaChpc3N1ZSk7XG59XG5leHBvcnQgY2xhc3MgUGFyc2VTdGF0dXMge1xuICAgIGNvbnN0cnVjdG9yKCkge1xuICAgICAgICB0aGlzLnZhbHVlID0gXCJ2YWxpZFwiO1xuICAgIH1cbiAgICBkaXJ0eSgpIHtcbiAgICAgICAgaWYgKHRoaXMudmFsdWUgPT09IFwidmFsaWRcIilcbiAgICAgICAgICAgIHRoaXMudmFsdWUgPSBcImRpcnR5XCI7XG4gICAgfVxuICAgIGFib3J0KCkge1xuICAgICAgICBpZiAodGhpcy52YWx1ZSAhPT0gXCJhYm9ydGVkXCIpXG4gICAgICAgICAgICB0aGlzLnZhbHVlID0gXCJhYm9ydGVkXCI7XG4gICAgfVxuICAgIHN0YXRpYyBtZXJnZUFycmF5KHN0YXR1cywgcmVzdWx0cykge1xuICAgICAgICBjb25zdCBhcnJheVZhbHVlID0gW107XG4gICAgICAgIGZvciAoY29uc3QgcyBvZiByZXN1bHRzKSB7XG4gICAgICAgICAgICBpZiAocy5zdGF0dXMgPT09IFwiYWJvcnRlZFwiKVxuICAgICAgICAgICAgICAgIHJldHVybiBJTlZBTElEO1xuICAgICAgICAgICAgaWYgKHMuc3RhdHVzID09PSBcImRpcnR5XCIpXG4gICAgICAgICAgICAgICAgc3RhdHVzLmRpcnR5KCk7XG4gICAgICAgICAgICBhcnJheVZhbHVlLnB1c2gocy52YWx1ZSk7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIHsgc3RhdHVzOiBzdGF0dXMudmFsdWUsIHZhbHVlOiBhcnJheVZhbHVlIH07XG4gICAgfVxuICAgIHN0YXRpYyBhc3luYyBtZXJnZU9iamVjdEFzeW5jKHN0YXR1cywgcGFpcnMpIHtcbiAgICAgICAgY29uc3Qgc3luY1BhaXJzID0gW107XG4gICAgICAgIGZvciAoY29uc3QgcGFpciBvZiBwYWlycykge1xuICAgICAgICAgICAgY29uc3Qga2V5ID0gYXdhaXQgcGFpci5rZXk7XG4gICAgICAgICAgICBjb25zdCB2YWx1ZSA9IGF3YWl0IHBhaXIudmFsdWU7XG4gICAgICAgICAgICBzeW5jUGFpcnMucHVzaCh7XG4gICAgICAgICAgICAgICAga2V5LFxuICAgICAgICAgICAgICAgIHZhbHVlLFxuICAgICAgICAgICAgfSk7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIFBhcnNlU3RhdHVzLm1lcmdlT2JqZWN0U3luYyhzdGF0dXMsIHN5bmNQYWlycyk7XG4gICAgfVxuICAgIHN0YXRpYyBtZXJnZU9iamVjdFN5bmMoc3RhdHVzLCBwYWlycykge1xuICAgICAgICBjb25zdCBmaW5hbE9iamVjdCA9IHt9O1xuICAgICAgICBmb3IgKGNvbnN0IHBhaXIgb2YgcGFpcnMpIHtcbiAgICAgICAgICAgIGNvbnN0IHsga2V5LCB2YWx1ZSB9ID0gcGFpcjtcbiAgICAgICAgICAgIGlmIChrZXkuc3RhdHVzID09PSBcImFib3J0ZWRcIilcbiAgICAgICAgICAgICAgICByZXR1cm4gSU5WQUxJRDtcbiAgICAgICAgICAgIGlmICh2YWx1ZS5zdGF0dXMgPT09IFwiYWJvcnRlZFwiKVxuICAgICAgICAgICAgICAgIHJldHVybiBJTlZBTElEO1xuICAgICAgICAgICAgaWYgKGtleS5zdGF0dXMgPT09IFwiZGlydHlcIilcbiAgICAgICAgICAgICAgICBzdGF0dXMuZGlydHkoKTtcbiAgICAgICAgICAgIGlmICh2YWx1ZS5zdGF0dXMgPT09IFwiZGlydHlcIilcbiAgICAgICAgICAgICAgICBzdGF0dXMuZGlydHkoKTtcbiAgICAgICAgICAgIGlmIChrZXkudmFsdWUgIT09IFwiX19wcm90b19fXCIgJiYgKHR5cGVvZiB2YWx1ZS52YWx1ZSAhPT0gXCJ1bmRlZmluZWRcIiB8fCBwYWlyLmFsd2F5c1NldCkpIHtcbiAgICAgICAgICAgICAgICBmaW5hbE9iamVjdFtrZXkudmFsdWVdID0gdmFsdWUudmFsdWU7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIHsgc3RhdHVzOiBzdGF0dXMudmFsdWUsIHZhbHVlOiBmaW5hbE9iamVjdCB9O1xuICAgIH1cbn1cbmV4cG9ydCBjb25zdCBJTlZBTElEID0gT2JqZWN0LmZyZWV6ZSh7XG4gICAgc3RhdHVzOiBcImFib3J0ZWRcIixcbn0pO1xuZXhwb3J0IGNvbnN0IERJUlRZID0gKHZhbHVlKSA9PiAoeyBzdGF0dXM6IFwiZGlydHlcIiwgdmFsdWUgfSk7XG5leHBvcnQgY29uc3QgT0sgPSAodmFsdWUpID0+ICh7IHN0YXR1czogXCJ2YWxpZFwiLCB2YWx1ZSB9KTtcbmV4cG9ydCBjb25zdCBpc0Fib3J0ZWQgPSAoeCkgPT4geC5zdGF0dXMgPT09IFwiYWJvcnRlZFwiO1xuZXhwb3J0IGNvbnN0IGlzRGlydHkgPSAoeCkgPT4geC5zdGF0dXMgPT09IFwiZGlydHlcIjtcbmV4cG9ydCBjb25zdCBpc1ZhbGlkID0gKHgpID0+IHguc3RhdHVzID09PSBcInZhbGlkXCI7XG5leHBvcnQgY29uc3QgaXNBc3luYyA9ICh4KSA9PiB0eXBlb2YgUHJvbWlzZSAhPT0gXCJ1bmRlZmluZWRcIiAmJiB4IGluc3RhbmNlb2YgUHJvbWlzZTtcbiIsImV4cG9ydCB2YXIgZXJyb3JVdGlsO1xuKGZ1bmN0aW9uIChlcnJvclV0aWwpIHtcbiAgICBlcnJvclV0aWwuZXJyVG9PYmogPSAobWVzc2FnZSkgPT4gdHlwZW9mIG1lc3NhZ2UgPT09IFwic3RyaW5nXCIgPyB7IG1lc3NhZ2UgfSA6IG1lc3NhZ2UgfHwge307XG4gICAgLy8gYmlvbWUtaWdub3JlIGxpbnQ6XG4gICAgZXJyb3JVdGlsLnRvU3RyaW5nID0gKG1lc3NhZ2UpID0+IHR5cGVvZiBtZXNzYWdlID09PSBcInN0cmluZ1wiID8gbWVzc2FnZSA6IG1lc3NhZ2U/Lm1lc3NhZ2U7XG59KShlcnJvclV0aWwgfHwgKGVycm9yVXRpbCA9IHt9KSk7XG4iLCJpbXBvcnQgeyBab2RFcnJvciwgWm9kSXNzdWVDb2RlLCB9IGZyb20gXCIuL1pvZEVycm9yLmpzXCI7XG5pbXBvcnQgeyBkZWZhdWx0RXJyb3JNYXAsIGdldEVycm9yTWFwIH0gZnJvbSBcIi4vZXJyb3JzLmpzXCI7XG5pbXBvcnQgeyBlcnJvclV0aWwgfSBmcm9tIFwiLi9oZWxwZXJzL2Vycm9yVXRpbC5qc1wiO1xuaW1wb3J0IHsgRElSVFksIElOVkFMSUQsIE9LLCBQYXJzZVN0YXR1cywgYWRkSXNzdWVUb0NvbnRleHQsIGlzQWJvcnRlZCwgaXNBc3luYywgaXNEaXJ0eSwgaXNWYWxpZCwgbWFrZUlzc3VlLCB9IGZyb20gXCIuL2hlbHBlcnMvcGFyc2VVdGlsLmpzXCI7XG5pbXBvcnQgeyB1dGlsLCBab2RQYXJzZWRUeXBlLCBnZXRQYXJzZWRUeXBlIH0gZnJvbSBcIi4vaGVscGVycy91dGlsLmpzXCI7XG5jbGFzcyBQYXJzZUlucHV0TGF6eVBhdGgge1xuICAgIGNvbnN0cnVjdG9yKHBhcmVudCwgdmFsdWUsIHBhdGgsIGtleSkge1xuICAgICAgICB0aGlzLl9jYWNoZWRQYXRoID0gW107XG4gICAgICAgIHRoaXMucGFyZW50ID0gcGFyZW50O1xuICAgICAgICB0aGlzLmRhdGEgPSB2YWx1ZTtcbiAgICAgICAgdGhpcy5fcGF0aCA9IHBhdGg7XG4gICAgICAgIHRoaXMuX2tleSA9IGtleTtcbiAgICB9XG4gICAgZ2V0IHBhdGgoKSB7XG4gICAgICAgIGlmICghdGhpcy5fY2FjaGVkUGF0aC5sZW5ndGgpIHtcbiAgICAgICAgICAgIGlmIChBcnJheS5pc0FycmF5KHRoaXMuX2tleSkpIHtcbiAgICAgICAgICAgICAgICB0aGlzLl9jYWNoZWRQYXRoLnB1c2goLi4udGhpcy5fcGF0aCwgLi4udGhpcy5fa2V5KTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgICAgIHRoaXMuX2NhY2hlZFBhdGgucHVzaCguLi50aGlzLl9wYXRoLCB0aGlzLl9rZXkpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIHJldHVybiB0aGlzLl9jYWNoZWRQYXRoO1xuICAgIH1cbn1cbmNvbnN0IGhhbmRsZVJlc3VsdCA9IChjdHgsIHJlc3VsdCkgPT4ge1xuICAgIGlmIChpc1ZhbGlkKHJlc3VsdCkpIHtcbiAgICAgICAgcmV0dXJuIHsgc3VjY2VzczogdHJ1ZSwgZGF0YTogcmVzdWx0LnZhbHVlIH07XG4gICAgfVxuICAgIGVsc2Uge1xuICAgICAgICBpZiAoIWN0eC5jb21tb24uaXNzdWVzLmxlbmd0aCkge1xuICAgICAgICAgICAgdGhyb3cgbmV3IEVycm9yKFwiVmFsaWRhdGlvbiBmYWlsZWQgYnV0IG5vIGlzc3VlcyBkZXRlY3RlZC5cIik7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIHtcbiAgICAgICAgICAgIHN1Y2Nlc3M6IGZhbHNlLFxuICAgICAgICAgICAgZ2V0IGVycm9yKCkge1xuICAgICAgICAgICAgICAgIGlmICh0aGlzLl9lcnJvcilcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIHRoaXMuX2Vycm9yO1xuICAgICAgICAgICAgICAgIGNvbnN0IGVycm9yID0gbmV3IFpvZEVycm9yKGN0eC5jb21tb24uaXNzdWVzKTtcbiAgICAgICAgICAgICAgICB0aGlzLl9lcnJvciA9IGVycm9yO1xuICAgICAgICAgICAgICAgIHJldHVybiB0aGlzLl9lcnJvcjtcbiAgICAgICAgICAgIH0sXG4gICAgICAgIH07XG4gICAgfVxufTtcbmZ1bmN0aW9uIHByb2Nlc3NDcmVhdGVQYXJhbXMocGFyYW1zKSB7XG4gICAgaWYgKCFwYXJhbXMpXG4gICAgICAgIHJldHVybiB7fTtcbiAgICBjb25zdCB7IGVycm9yTWFwLCBpbnZhbGlkX3R5cGVfZXJyb3IsIHJlcXVpcmVkX2Vycm9yLCBkZXNjcmlwdGlvbiB9ID0gcGFyYW1zO1xuICAgIGlmIChlcnJvck1hcCAmJiAoaW52YWxpZF90eXBlX2Vycm9yIHx8IHJlcXVpcmVkX2Vycm9yKSkge1xuICAgICAgICB0aHJvdyBuZXcgRXJyb3IoYENhbid0IHVzZSBcImludmFsaWRfdHlwZV9lcnJvclwiIG9yIFwicmVxdWlyZWRfZXJyb3JcIiBpbiBjb25qdW5jdGlvbiB3aXRoIGN1c3RvbSBlcnJvciBtYXAuYCk7XG4gICAgfVxuICAgIGlmIChlcnJvck1hcClcbiAgICAgICAgcmV0dXJuIHsgZXJyb3JNYXA6IGVycm9yTWFwLCBkZXNjcmlwdGlvbiB9O1xuICAgIGNvbnN0IGN1c3RvbU1hcCA9IChpc3MsIGN0eCkgPT4ge1xuICAgICAgICBjb25zdCB7IG1lc3NhZ2UgfSA9IHBhcmFtcztcbiAgICAgICAgaWYgKGlzcy5jb2RlID09PSBcImludmFsaWRfZW51bV92YWx1ZVwiKSB7XG4gICAgICAgICAgICByZXR1cm4geyBtZXNzYWdlOiBtZXNzYWdlID8/IGN0eC5kZWZhdWx0RXJyb3IgfTtcbiAgICAgICAgfVxuICAgICAgICBpZiAodHlwZW9mIGN0eC5kYXRhID09PSBcInVuZGVmaW5lZFwiKSB7XG4gICAgICAgICAgICByZXR1cm4geyBtZXNzYWdlOiBtZXNzYWdlID8/IHJlcXVpcmVkX2Vycm9yID8/IGN0eC5kZWZhdWx0RXJyb3IgfTtcbiAgICAgICAgfVxuICAgICAgICBpZiAoaXNzLmNvZGUgIT09IFwiaW52YWxpZF90eXBlXCIpXG4gICAgICAgICAgICByZXR1cm4geyBtZXNzYWdlOiBjdHguZGVmYXVsdEVycm9yIH07XG4gICAgICAgIHJldHVybiB7IG1lc3NhZ2U6IG1lc3NhZ2UgPz8gaW52YWxpZF90eXBlX2Vycm9yID8/IGN0eC5kZWZhdWx0RXJyb3IgfTtcbiAgICB9O1xuICAgIHJldHVybiB7IGVycm9yTWFwOiBjdXN0b21NYXAsIGRlc2NyaXB0aW9uIH07XG59XG5leHBvcnQgY2xhc3MgWm9kVHlwZSB7XG4gICAgZ2V0IGRlc2NyaXB0aW9uKCkge1xuICAgICAgICByZXR1cm4gdGhpcy5fZGVmLmRlc2NyaXB0aW9uO1xuICAgIH1cbiAgICBfZ2V0VHlwZShpbnB1dCkge1xuICAgICAgICByZXR1cm4gZ2V0UGFyc2VkVHlwZShpbnB1dC5kYXRhKTtcbiAgICB9XG4gICAgX2dldE9yUmV0dXJuQ3R4KGlucHV0LCBjdHgpIHtcbiAgICAgICAgcmV0dXJuIChjdHggfHwge1xuICAgICAgICAgICAgY29tbW9uOiBpbnB1dC5wYXJlbnQuY29tbW9uLFxuICAgICAgICAgICAgZGF0YTogaW5wdXQuZGF0YSxcbiAgICAgICAgICAgIHBhcnNlZFR5cGU6IGdldFBhcnNlZFR5cGUoaW5wdXQuZGF0YSksXG4gICAgICAgICAgICBzY2hlbWFFcnJvck1hcDogdGhpcy5fZGVmLmVycm9yTWFwLFxuICAgICAgICAgICAgcGF0aDogaW5wdXQucGF0aCxcbiAgICAgICAgICAgIHBhcmVudDogaW5wdXQucGFyZW50LFxuICAgICAgICB9KTtcbiAgICB9XG4gICAgX3Byb2Nlc3NJbnB1dFBhcmFtcyhpbnB1dCkge1xuICAgICAgICByZXR1cm4ge1xuICAgICAgICAgICAgc3RhdHVzOiBuZXcgUGFyc2VTdGF0dXMoKSxcbiAgICAgICAgICAgIGN0eDoge1xuICAgICAgICAgICAgICAgIGNvbW1vbjogaW5wdXQucGFyZW50LmNvbW1vbixcbiAgICAgICAgICAgICAgICBkYXRhOiBpbnB1dC5kYXRhLFxuICAgICAgICAgICAgICAgIHBhcnNlZFR5cGU6IGdldFBhcnNlZFR5cGUoaW5wdXQuZGF0YSksXG4gICAgICAgICAgICAgICAgc2NoZW1hRXJyb3JNYXA6IHRoaXMuX2RlZi5lcnJvck1hcCxcbiAgICAgICAgICAgICAgICBwYXRoOiBpbnB1dC5wYXRoLFxuICAgICAgICAgICAgICAgIHBhcmVudDogaW5wdXQucGFyZW50LFxuICAgICAgICAgICAgfSxcbiAgICAgICAgfTtcbiAgICB9XG4gICAgX3BhcnNlU3luYyhpbnB1dCkge1xuICAgICAgICBjb25zdCByZXN1bHQgPSB0aGlzLl9wYXJzZShpbnB1dCk7XG4gICAgICAgIGlmIChpc0FzeW5jKHJlc3VsdCkpIHtcbiAgICAgICAgICAgIHRocm93IG5ldyBFcnJvcihcIlN5bmNocm9ub3VzIHBhcnNlIGVuY291bnRlcmVkIHByb21pc2UuXCIpO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiByZXN1bHQ7XG4gICAgfVxuICAgIF9wYXJzZUFzeW5jKGlucHV0KSB7XG4gICAgICAgIGNvbnN0IHJlc3VsdCA9IHRoaXMuX3BhcnNlKGlucHV0KTtcbiAgICAgICAgcmV0dXJuIFByb21pc2UucmVzb2x2ZShyZXN1bHQpO1xuICAgIH1cbiAgICBwYXJzZShkYXRhLCBwYXJhbXMpIHtcbiAgICAgICAgY29uc3QgcmVzdWx0ID0gdGhpcy5zYWZlUGFyc2UoZGF0YSwgcGFyYW1zKTtcbiAgICAgICAgaWYgKHJlc3VsdC5zdWNjZXNzKVxuICAgICAgICAgICAgcmV0dXJuIHJlc3VsdC5kYXRhO1xuICAgICAgICB0aHJvdyByZXN1bHQuZXJyb3I7XG4gICAgfVxuICAgIHNhZmVQYXJzZShkYXRhLCBwYXJhbXMpIHtcbiAgICAgICAgY29uc3QgY3R4ID0ge1xuICAgICAgICAgICAgY29tbW9uOiB7XG4gICAgICAgICAgICAgICAgaXNzdWVzOiBbXSxcbiAgICAgICAgICAgICAgICBhc3luYzogcGFyYW1zPy5hc3luYyA/PyBmYWxzZSxcbiAgICAgICAgICAgICAgICBjb250ZXh0dWFsRXJyb3JNYXA6IHBhcmFtcz8uZXJyb3JNYXAsXG4gICAgICAgICAgICB9LFxuICAgICAgICAgICAgcGF0aDogcGFyYW1zPy5wYXRoIHx8IFtdLFxuICAgICAgICAgICAgc2NoZW1hRXJyb3JNYXA6IHRoaXMuX2RlZi5lcnJvck1hcCxcbiAgICAgICAgICAgIHBhcmVudDogbnVsbCxcbiAgICAgICAgICAgIGRhdGEsXG4gICAgICAgICAgICBwYXJzZWRUeXBlOiBnZXRQYXJzZWRUeXBlKGRhdGEpLFxuICAgICAgICB9O1xuICAgICAgICBjb25zdCByZXN1bHQgPSB0aGlzLl9wYXJzZVN5bmMoeyBkYXRhLCBwYXRoOiBjdHgucGF0aCwgcGFyZW50OiBjdHggfSk7XG4gICAgICAgIHJldHVybiBoYW5kbGVSZXN1bHQoY3R4LCByZXN1bHQpO1xuICAgIH1cbiAgICBcIn52YWxpZGF0ZVwiKGRhdGEpIHtcbiAgICAgICAgY29uc3QgY3R4ID0ge1xuICAgICAgICAgICAgY29tbW9uOiB7XG4gICAgICAgICAgICAgICAgaXNzdWVzOiBbXSxcbiAgICAgICAgICAgICAgICBhc3luYzogISF0aGlzW1wifnN0YW5kYXJkXCJdLmFzeW5jLFxuICAgICAgICAgICAgfSxcbiAgICAgICAgICAgIHBhdGg6IFtdLFxuICAgICAgICAgICAgc2NoZW1hRXJyb3JNYXA6IHRoaXMuX2RlZi5lcnJvck1hcCxcbiAgICAgICAgICAgIHBhcmVudDogbnVsbCxcbiAgICAgICAgICAgIGRhdGEsXG4gICAgICAgICAgICBwYXJzZWRUeXBlOiBnZXRQYXJzZWRUeXBlKGRhdGEpLFxuICAgICAgICB9O1xuICAgICAgICBpZiAoIXRoaXNbXCJ+c3RhbmRhcmRcIl0uYXN5bmMpIHtcbiAgICAgICAgICAgIHRyeSB7XG4gICAgICAgICAgICAgICAgY29uc3QgcmVzdWx0ID0gdGhpcy5fcGFyc2VTeW5jKHsgZGF0YSwgcGF0aDogW10sIHBhcmVudDogY3R4IH0pO1xuICAgICAgICAgICAgICAgIHJldHVybiBpc1ZhbGlkKHJlc3VsdClcbiAgICAgICAgICAgICAgICAgICAgPyB7XG4gICAgICAgICAgICAgICAgICAgICAgICB2YWx1ZTogcmVzdWx0LnZhbHVlLFxuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIDoge1xuICAgICAgICAgICAgICAgICAgICAgICAgaXNzdWVzOiBjdHguY29tbW9uLmlzc3VlcyxcbiAgICAgICAgICAgICAgICAgICAgfTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGNhdGNoIChlcnIpIHtcbiAgICAgICAgICAgICAgICBpZiAoZXJyPy5tZXNzYWdlPy50b0xvd2VyQ2FzZSgpPy5pbmNsdWRlcyhcImVuY291bnRlcmVkXCIpKSB7XG4gICAgICAgICAgICAgICAgICAgIHRoaXNbXCJ+c3RhbmRhcmRcIl0uYXN5bmMgPSB0cnVlO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBjdHguY29tbW9uID0ge1xuICAgICAgICAgICAgICAgICAgICBpc3N1ZXM6IFtdLFxuICAgICAgICAgICAgICAgICAgICBhc3luYzogdHJ1ZSxcbiAgICAgICAgICAgICAgICB9O1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIHJldHVybiB0aGlzLl9wYXJzZUFzeW5jKHsgZGF0YSwgcGF0aDogW10sIHBhcmVudDogY3R4IH0pLnRoZW4oKHJlc3VsdCkgPT4gaXNWYWxpZChyZXN1bHQpXG4gICAgICAgICAgICA/IHtcbiAgICAgICAgICAgICAgICB2YWx1ZTogcmVzdWx0LnZhbHVlLFxuICAgICAgICAgICAgfVxuICAgICAgICAgICAgOiB7XG4gICAgICAgICAgICAgICAgaXNzdWVzOiBjdHguY29tbW9uLmlzc3VlcyxcbiAgICAgICAgICAgIH0pO1xuICAgIH1cbiAgICBhc3luYyBwYXJzZUFzeW5jKGRhdGEsIHBhcmFtcykge1xuICAgICAgICBjb25zdCByZXN1bHQgPSBhd2FpdCB0aGlzLnNhZmVQYXJzZUFzeW5jKGRhdGEsIHBhcmFtcyk7XG4gICAgICAgIGlmIChyZXN1bHQuc3VjY2VzcylcbiAgICAgICAgICAgIHJldHVybiByZXN1bHQuZGF0YTtcbiAgICAgICAgdGhyb3cgcmVzdWx0LmVycm9yO1xuICAgIH1cbiAgICBhc3luYyBzYWZlUGFyc2VBc3luYyhkYXRhLCBwYXJhbXMpIHtcbiAgICAgICAgY29uc3QgY3R4ID0ge1xuICAgICAgICAgICAgY29tbW9uOiB7XG4gICAgICAgICAgICAgICAgaXNzdWVzOiBbXSxcbiAgICAgICAgICAgICAgICBjb250ZXh0dWFsRXJyb3JNYXA6IHBhcmFtcz8uZXJyb3JNYXAsXG4gICAgICAgICAgICAgICAgYXN5bmM6IHRydWUsXG4gICAgICAgICAgICB9LFxuICAgICAgICAgICAgcGF0aDogcGFyYW1zPy5wYXRoIHx8IFtdLFxuICAgICAgICAgICAgc2NoZW1hRXJyb3JNYXA6IHRoaXMuX2RlZi5lcnJvck1hcCxcbiAgICAgICAgICAgIHBhcmVudDogbnVsbCxcbiAgICAgICAgICAgIGRhdGEsXG4gICAgICAgICAgICBwYXJzZWRUeXBlOiBnZXRQYXJzZWRUeXBlKGRhdGEpLFxuICAgICAgICB9O1xuICAgICAgICBjb25zdCBtYXliZUFzeW5jUmVzdWx0ID0gdGhpcy5fcGFyc2UoeyBkYXRhLCBwYXRoOiBjdHgucGF0aCwgcGFyZW50OiBjdHggfSk7XG4gICAgICAgIGNvbnN0IHJlc3VsdCA9IGF3YWl0IChpc0FzeW5jKG1heWJlQXN5bmNSZXN1bHQpID8gbWF5YmVBc3luY1Jlc3VsdCA6IFByb21pc2UucmVzb2x2ZShtYXliZUFzeW5jUmVzdWx0KSk7XG4gICAgICAgIHJldHVybiBoYW5kbGVSZXN1bHQoY3R4LCByZXN1bHQpO1xuICAgIH1cbiAgICByZWZpbmUoY2hlY2ssIG1lc3NhZ2UpIHtcbiAgICAgICAgY29uc3QgZ2V0SXNzdWVQcm9wZXJ0aWVzID0gKHZhbCkgPT4ge1xuICAgICAgICAgICAgaWYgKHR5cGVvZiBtZXNzYWdlID09PSBcInN0cmluZ1wiIHx8IHR5cGVvZiBtZXNzYWdlID09PSBcInVuZGVmaW5lZFwiKSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuIHsgbWVzc2FnZSB9O1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgZWxzZSBpZiAodHlwZW9mIG1lc3NhZ2UgPT09IFwiZnVuY3Rpb25cIikge1xuICAgICAgICAgICAgICAgIHJldHVybiBtZXNzYWdlKHZhbCk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgICAgICByZXR1cm4gbWVzc2FnZTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfTtcbiAgICAgICAgcmV0dXJuIHRoaXMuX3JlZmluZW1lbnQoKHZhbCwgY3R4KSA9PiB7XG4gICAgICAgICAgICBjb25zdCByZXN1bHQgPSBjaGVjayh2YWwpO1xuICAgICAgICAgICAgY29uc3Qgc2V0RXJyb3IgPSAoKSA9PiBjdHguYWRkSXNzdWUoe1xuICAgICAgICAgICAgICAgIGNvZGU6IFpvZElzc3VlQ29kZS5jdXN0b20sXG4gICAgICAgICAgICAgICAgLi4uZ2V0SXNzdWVQcm9wZXJ0aWVzKHZhbCksXG4gICAgICAgICAgICB9KTtcbiAgICAgICAgICAgIGlmICh0eXBlb2YgUHJvbWlzZSAhPT0gXCJ1bmRlZmluZWRcIiAmJiByZXN1bHQgaW5zdGFuY2VvZiBQcm9taXNlKSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuIHJlc3VsdC50aGVuKChkYXRhKSA9PiB7XG4gICAgICAgICAgICAgICAgICAgIGlmICghZGF0YSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgc2V0RXJyb3IoKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiBmYWxzZTtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiB0cnVlO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBpZiAoIXJlc3VsdCkge1xuICAgICAgICAgICAgICAgIHNldEVycm9yKCk7XG4gICAgICAgICAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuIHRydWU7XG4gICAgICAgICAgICB9XG4gICAgICAgIH0pO1xuICAgIH1cbiAgICByZWZpbmVtZW50KGNoZWNrLCByZWZpbmVtZW50RGF0YSkge1xuICAgICAgICByZXR1cm4gdGhpcy5fcmVmaW5lbWVudCgodmFsLCBjdHgpID0+IHtcbiAgICAgICAgICAgIGlmICghY2hlY2sodmFsKSkge1xuICAgICAgICAgICAgICAgIGN0eC5hZGRJc3N1ZSh0eXBlb2YgcmVmaW5lbWVudERhdGEgPT09IFwiZnVuY3Rpb25cIiA/IHJlZmluZW1lbnREYXRhKHZhbCwgY3R4KSA6IHJlZmluZW1lbnREYXRhKTtcbiAgICAgICAgICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgICAgICByZXR1cm4gdHJ1ZTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfSk7XG4gICAgfVxuICAgIF9yZWZpbmVtZW50KHJlZmluZW1lbnQpIHtcbiAgICAgICAgcmV0dXJuIG5ldyBab2RFZmZlY3RzKHtcbiAgICAgICAgICAgIHNjaGVtYTogdGhpcyxcbiAgICAgICAgICAgIHR5cGVOYW1lOiBab2RGaXJzdFBhcnR5VHlwZUtpbmQuWm9kRWZmZWN0cyxcbiAgICAgICAgICAgIGVmZmVjdDogeyB0eXBlOiBcInJlZmluZW1lbnRcIiwgcmVmaW5lbWVudCB9LFxuICAgICAgICB9KTtcbiAgICB9XG4gICAgc3VwZXJSZWZpbmUocmVmaW5lbWVudCkge1xuICAgICAgICByZXR1cm4gdGhpcy5fcmVmaW5lbWVudChyZWZpbmVtZW50KTtcbiAgICB9XG4gICAgY29uc3RydWN0b3IoZGVmKSB7XG4gICAgICAgIC8qKiBBbGlhcyBvZiBzYWZlUGFyc2VBc3luYyAqL1xuICAgICAgICB0aGlzLnNwYSA9IHRoaXMuc2FmZVBhcnNlQXN5bmM7XG4gICAgICAgIHRoaXMuX2RlZiA9IGRlZjtcbiAgICAgICAgdGhpcy5wYXJzZSA9IHRoaXMucGFyc2UuYmluZCh0aGlzKTtcbiAgICAgICAgdGhpcy5zYWZlUGFyc2UgPSB0aGlzLnNhZmVQYXJzZS5iaW5kKHRoaXMpO1xuICAgICAgICB0aGlzLnBhcnNlQXN5bmMgPSB0aGlzLnBhcnNlQXN5bmMuYmluZCh0aGlzKTtcbiAgICAgICAgdGhpcy5zYWZlUGFyc2VBc3luYyA9IHRoaXMuc2FmZVBhcnNlQXN5bmMuYmluZCh0aGlzKTtcbiAgICAgICAgdGhpcy5zcGEgPSB0aGlzLnNwYS5iaW5kKHRoaXMpO1xuICAgICAgICB0aGlzLnJlZmluZSA9IHRoaXMucmVmaW5lLmJpbmQodGhpcyk7XG4gICAgICAgIHRoaXMucmVmaW5lbWVudCA9IHRoaXMucmVmaW5lbWVudC5iaW5kKHRoaXMpO1xuICAgICAgICB0aGlzLnN1cGVyUmVmaW5lID0gdGhpcy5zdXBlclJlZmluZS5iaW5kKHRoaXMpO1xuICAgICAgICB0aGlzLm9wdGlvbmFsID0gdGhpcy5vcHRpb25hbC5iaW5kKHRoaXMpO1xuICAgICAgICB0aGlzLm51bGxhYmxlID0gdGhpcy5udWxsYWJsZS5iaW5kKHRoaXMpO1xuICAgICAgICB0aGlzLm51bGxpc2ggPSB0aGlzLm51bGxpc2guYmluZCh0aGlzKTtcbiAgICAgICAgdGhpcy5hcnJheSA9IHRoaXMuYXJyYXkuYmluZCh0aGlzKTtcbiAgICAgICAgdGhpcy5wcm9taXNlID0gdGhpcy5wcm9taXNlLmJpbmQodGhpcyk7XG4gICAgICAgIHRoaXMub3IgPSB0aGlzLm9yLmJpbmQodGhpcyk7XG4gICAgICAgIHRoaXMuYW5kID0gdGhpcy5hbmQuYmluZCh0aGlzKTtcbiAgICAgICAgdGhpcy50cmFuc2Zvcm0gPSB0aGlzLnRyYW5zZm9ybS5iaW5kKHRoaXMpO1xuICAgICAgICB0aGlzLmJyYW5kID0gdGhpcy5icmFuZC5iaW5kKHRoaXMpO1xuICAgICAgICB0aGlzLmRlZmF1bHQgPSB0aGlzLmRlZmF1bHQuYmluZCh0aGlzKTtcbiAgICAgICAgdGhpcy5jYXRjaCA9IHRoaXMuY2F0Y2guYmluZCh0aGlzKTtcbiAgICAgICAgdGhpcy5kZXNjcmliZSA9IHRoaXMuZGVzY3JpYmUuYmluZCh0aGlzKTtcbiAgICAgICAgdGhpcy5waXBlID0gdGhpcy5waXBlLmJpbmQodGhpcyk7XG4gICAgICAgIHRoaXMucmVhZG9ubHkgPSB0aGlzLnJlYWRvbmx5LmJpbmQodGhpcyk7XG4gICAgICAgIHRoaXMuaXNOdWxsYWJsZSA9IHRoaXMuaXNOdWxsYWJsZS5iaW5kKHRoaXMpO1xuICAgICAgICB0aGlzLmlzT3B0aW9uYWwgPSB0aGlzLmlzT3B0aW9uYWwuYmluZCh0aGlzKTtcbiAgICAgICAgdGhpc1tcIn5zdGFuZGFyZFwiXSA9IHtcbiAgICAgICAgICAgIHZlcnNpb246IDEsXG4gICAgICAgICAgICB2ZW5kb3I6IFwiem9kXCIsXG4gICAgICAgICAgICB2YWxpZGF0ZTogKGRhdGEpID0+IHRoaXNbXCJ+dmFsaWRhdGVcIl0oZGF0YSksXG4gICAgICAgIH07XG4gICAgfVxuICAgIG9wdGlvbmFsKCkge1xuICAgICAgICByZXR1cm4gWm9kT3B0aW9uYWwuY3JlYXRlKHRoaXMsIHRoaXMuX2RlZik7XG4gICAgfVxuICAgIG51bGxhYmxlKCkge1xuICAgICAgICByZXR1cm4gWm9kTnVsbGFibGUuY3JlYXRlKHRoaXMsIHRoaXMuX2RlZik7XG4gICAgfVxuICAgIG51bGxpc2goKSB7XG4gICAgICAgIHJldHVybiB0aGlzLm51bGxhYmxlKCkub3B0aW9uYWwoKTtcbiAgICB9XG4gICAgYXJyYXkoKSB7XG4gICAgICAgIHJldHVybiBab2RBcnJheS5jcmVhdGUodGhpcyk7XG4gICAgfVxuICAgIHByb21pc2UoKSB7XG4gICAgICAgIHJldHVybiBab2RQcm9taXNlLmNyZWF0ZSh0aGlzLCB0aGlzLl9kZWYpO1xuICAgIH1cbiAgICBvcihvcHRpb24pIHtcbiAgICAgICAgcmV0dXJuIFpvZFVuaW9uLmNyZWF0ZShbdGhpcywgb3B0aW9uXSwgdGhpcy5fZGVmKTtcbiAgICB9XG4gICAgYW5kKGluY29taW5nKSB7XG4gICAgICAgIHJldHVybiBab2RJbnRlcnNlY3Rpb24uY3JlYXRlKHRoaXMsIGluY29taW5nLCB0aGlzLl9kZWYpO1xuICAgIH1cbiAgICB0cmFuc2Zvcm0odHJhbnNmb3JtKSB7XG4gICAgICAgIHJldHVybiBuZXcgWm9kRWZmZWN0cyh7XG4gICAgICAgICAgICAuLi5wcm9jZXNzQ3JlYXRlUGFyYW1zKHRoaXMuX2RlZiksXG4gICAgICAgICAgICBzY2hlbWE6IHRoaXMsXG4gICAgICAgICAgICB0eXBlTmFtZTogWm9kRmlyc3RQYXJ0eVR5cGVLaW5kLlpvZEVmZmVjdHMsXG4gICAgICAgICAgICBlZmZlY3Q6IHsgdHlwZTogXCJ0cmFuc2Zvcm1cIiwgdHJhbnNmb3JtIH0sXG4gICAgICAgIH0pO1xuICAgIH1cbiAgICBkZWZhdWx0KGRlZikge1xuICAgICAgICBjb25zdCBkZWZhdWx0VmFsdWVGdW5jID0gdHlwZW9mIGRlZiA9PT0gXCJmdW5jdGlvblwiID8gZGVmIDogKCkgPT4gZGVmO1xuICAgICAgICByZXR1cm4gbmV3IFpvZERlZmF1bHQoe1xuICAgICAgICAgICAgLi4ucHJvY2Vzc0NyZWF0ZVBhcmFtcyh0aGlzLl9kZWYpLFxuICAgICAgICAgICAgaW5uZXJUeXBlOiB0aGlzLFxuICAgICAgICAgICAgZGVmYXVsdFZhbHVlOiBkZWZhdWx0VmFsdWVGdW5jLFxuICAgICAgICAgICAgdHlwZU5hbWU6IFpvZEZpcnN0UGFydHlUeXBlS2luZC5ab2REZWZhdWx0LFxuICAgICAgICB9KTtcbiAgICB9XG4gICAgYnJhbmQoKSB7XG4gICAgICAgIHJldHVybiBuZXcgWm9kQnJhbmRlZCh7XG4gICAgICAgICAgICB0eXBlTmFtZTogWm9kRmlyc3RQYXJ0eVR5cGVLaW5kLlpvZEJyYW5kZWQsXG4gICAgICAgICAgICB0eXBlOiB0aGlzLFxuICAgICAgICAgICAgLi4ucHJvY2Vzc0NyZWF0ZVBhcmFtcyh0aGlzLl9kZWYpLFxuICAgICAgICB9KTtcbiAgICB9XG4gICAgY2F0Y2goZGVmKSB7XG4gICAgICAgIGNvbnN0IGNhdGNoVmFsdWVGdW5jID0gdHlwZW9mIGRlZiA9PT0gXCJmdW5jdGlvblwiID8gZGVmIDogKCkgPT4gZGVmO1xuICAgICAgICByZXR1cm4gbmV3IFpvZENhdGNoKHtcbiAgICAgICAgICAgIC4uLnByb2Nlc3NDcmVhdGVQYXJhbXModGhpcy5fZGVmKSxcbiAgICAgICAgICAgIGlubmVyVHlwZTogdGhpcyxcbiAgICAgICAgICAgIGNhdGNoVmFsdWU6IGNhdGNoVmFsdWVGdW5jLFxuICAgICAgICAgICAgdHlwZU5hbWU6IFpvZEZpcnN0UGFydHlUeXBlS2luZC5ab2RDYXRjaCxcbiAgICAgICAgfSk7XG4gICAgfVxuICAgIGRlc2NyaWJlKGRlc2NyaXB0aW9uKSB7XG4gICAgICAgIGNvbnN0IFRoaXMgPSB0aGlzLmNvbnN0cnVjdG9yO1xuICAgICAgICByZXR1cm4gbmV3IFRoaXMoe1xuICAgICAgICAgICAgLi4udGhpcy5fZGVmLFxuICAgICAgICAgICAgZGVzY3JpcHRpb24sXG4gICAgICAgIH0pO1xuICAgIH1cbiAgICBwaXBlKHRhcmdldCkge1xuICAgICAgICByZXR1cm4gWm9kUGlwZWxpbmUuY3JlYXRlKHRoaXMsIHRhcmdldCk7XG4gICAgfVxuICAgIHJlYWRvbmx5KCkge1xuICAgICAgICByZXR1cm4gWm9kUmVhZG9ubHkuY3JlYXRlKHRoaXMpO1xuICAgIH1cbiAgICBpc09wdGlvbmFsKCkge1xuICAgICAgICByZXR1cm4gdGhpcy5zYWZlUGFyc2UodW5kZWZpbmVkKS5zdWNjZXNzO1xuICAgIH1cbiAgICBpc051bGxhYmxlKCkge1xuICAgICAgICByZXR1cm4gdGhpcy5zYWZlUGFyc2UobnVsbCkuc3VjY2VzcztcbiAgICB9XG59XG5jb25zdCBjdWlkUmVnZXggPSAvXmNbXlxccy1dezgsfSQvaTtcbmNvbnN0IGN1aWQyUmVnZXggPSAvXlswLTlhLXpdKyQvO1xuY29uc3QgdWxpZFJlZ2V4ID0gL15bMC05QS1ISktNTlAtVFYtWl17MjZ9JC9pO1xuLy8gY29uc3QgdXVpZFJlZ2V4ID1cbi8vICAgL14oW2EtZjAtOV17OH0tW2EtZjAtOV17NH0tWzEtNV1bYS1mMC05XXszfS1bYS1mMC05XXs0fS1bYS1mMC05XXsxMn18MDAwMDAwMDAtMDAwMC0wMDAwLTAwMDAtMDAwMDAwMDAwMDAwKSQvaTtcbmNvbnN0IHV1aWRSZWdleCA9IC9eWzAtOWEtZkEtRl17OH1cXGItWzAtOWEtZkEtRl17NH1cXGItWzAtOWEtZkEtRl17NH1cXGItWzAtOWEtZkEtRl17NH1cXGItWzAtOWEtZkEtRl17MTJ9JC9pO1xuY29uc3QgbmFub2lkUmVnZXggPSAvXlthLXowLTlfLV17MjF9JC9pO1xuY29uc3Qgand0UmVnZXggPSAvXltBLVphLXowLTktX10rXFwuW0EtWmEtejAtOS1fXStcXC5bQS1aYS16MC05LV9dKiQvO1xuY29uc3QgZHVyYXRpb25SZWdleCA9IC9eWy0rXT9QKD8hJCkoPzooPzpbLStdP1xcZCtZKXwoPzpbLStdP1xcZCtbLixdXFxkK1kkKSk/KD86KD86Wy0rXT9cXGQrTSl8KD86Wy0rXT9cXGQrWy4sXVxcZCtNJCkpPyg/Oig/OlstK10/XFxkK1cpfCg/OlstK10/XFxkK1suLF1cXGQrVyQpKT8oPzooPzpbLStdP1xcZCtEKXwoPzpbLStdP1xcZCtbLixdXFxkK0QkKSk/KD86VCg/PVtcXGQrLV0pKD86KD86Wy0rXT9cXGQrSCl8KD86Wy0rXT9cXGQrWy4sXVxcZCtIJCkpPyg/Oig/OlstK10/XFxkK00pfCg/OlstK10/XFxkK1suLF1cXGQrTSQpKT8oPzpbLStdP1xcZCsoPzpbLixdXFxkKyk/Uyk/KT8/JC87XG4vLyBmcm9tIGh0dHBzOi8vc3RhY2tvdmVyZmxvdy5jb20vYS80NjE4MS8xNTUwMTU1XG4vLyBvbGQgdmVyc2lvbjogdG9vIHNsb3csIGRpZG4ndCBzdXBwb3J0IHVuaWNvZGVcbi8vIGNvbnN0IGVtYWlsUmVnZXggPSAvXigoKFthLXpdfFxcZHxbISNcXCQlJidcXCpcXCtcXC1cXC89XFw/XFxeX2B7XFx8fX5dfFtcXHUwMEEwLVxcdUQ3RkZcXHVGOTAwLVxcdUZEQ0ZcXHVGREYwLVxcdUZGRUZdKSsoXFwuKFthLXpdfFxcZHxbISNcXCQlJidcXCpcXCtcXC1cXC89XFw/XFxeX2B7XFx8fX5dfFtcXHUwMEEwLVxcdUQ3RkZcXHVGOTAwLVxcdUZEQ0ZcXHVGREYwLVxcdUZGRUZdKSspKil8KChcXHgyMikoKCgoXFx4MjB8XFx4MDkpKihcXHgwZFxceDBhKSk/KFxceDIwfFxceDA5KSspPygoW1xceDAxLVxceDA4XFx4MGJcXHgwY1xceDBlLVxceDFmXFx4N2ZdfFxceDIxfFtcXHgyMy1cXHg1Yl18W1xceDVkLVxceDdlXXxbXFx1MDBBMC1cXHVEN0ZGXFx1RjkwMC1cXHVGRENGXFx1RkRGMC1cXHVGRkVGXSl8KFxcXFwoW1xceDAxLVxceDA5XFx4MGJcXHgwY1xceDBkLVxceDdmXXxbXFx1MDBBMC1cXHVEN0ZGXFx1RjkwMC1cXHVGRENGXFx1RkRGMC1cXHVGRkVGXSkpKSkqKCgoXFx4MjB8XFx4MDkpKihcXHgwZFxceDBhKSk/KFxceDIwfFxceDA5KSspPyhcXHgyMikpKUAoKChbYS16XXxcXGR8W1xcdTAwQTAtXFx1RDdGRlxcdUY5MDAtXFx1RkRDRlxcdUZERjAtXFx1RkZFRl0pfCgoW2Etel18XFxkfFtcXHUwMEEwLVxcdUQ3RkZcXHVGOTAwLVxcdUZEQ0ZcXHVGREYwLVxcdUZGRUZdKShbYS16XXxcXGR8LXxcXC58X3x+fFtcXHUwMEEwLVxcdUQ3RkZcXHVGOTAwLVxcdUZEQ0ZcXHVGREYwLVxcdUZGRUZdKSooW2Etel18XFxkfFtcXHUwMEEwLVxcdUQ3RkZcXHVGOTAwLVxcdUZEQ0ZcXHVGREYwLVxcdUZGRUZdKSkpXFwuKSsoKFthLXpdfFtcXHUwMEEwLVxcdUQ3RkZcXHVGOTAwLVxcdUZEQ0ZcXHVGREYwLVxcdUZGRUZdKXwoKFthLXpdfFtcXHUwMEEwLVxcdUQ3RkZcXHVGOTAwLVxcdUZEQ0ZcXHVGREYwLVxcdUZGRUZdKShbYS16XXxcXGR8LXxcXC58X3x+fFtcXHUwMEEwLVxcdUQ3RkZcXHVGOTAwLVxcdUZEQ0ZcXHVGREYwLVxcdUZGRUZdKSooW2Etel18W1xcdTAwQTAtXFx1RDdGRlxcdUY5MDAtXFx1RkRDRlxcdUZERjAtXFx1RkZFRl0pKSkkL2k7XG4vL29sZCBlbWFpbCByZWdleFxuLy8gY29uc3QgZW1haWxSZWdleCA9IC9eKChbXjw+KClbXFxdLiw7Olxcc0BcIl0rKFxcLltePD4oKVtcXF0uLDs6XFxzQFwiXSspKil8KFwiLitcIikpQCgoPyEtKShbXjw+KClbXFxdLiw7Olxcc0BcIl0rXFwuKStbXjw+KClbXFxdLiw7Olxcc0BcIl17MSx9KVteLTw+KClbXFxdLiw7Olxcc0BcIl0kL2k7XG4vLyBlc2xpbnQtZGlzYWJsZS1uZXh0LWxpbmVcbi8vIGNvbnN0IGVtYWlsUmVnZXggPVxuLy8gICAvXigoW148PigpW1xcXVxcXFwuLDs6XFxzQFxcXCJdKyhcXC5bXjw+KClbXFxdXFxcXC4sOzpcXHNAXFxcIl0rKSopfChcXFwiLitcXFwiKSlAKChcXFsoKCgyNVswLTVdKXwoMlswLTRdWzAtOV0pfCgxWzAtOV17Mn0pfChbMC05XXsxLDJ9KSlcXC4pezN9KCgyNVswLTVdKXwoMlswLTRdWzAtOV0pfCgxWzAtOV17Mn0pfChbMC05XXsxLDJ9KSlcXF0pfChcXFtJUHY2OigoW2EtZjAtOV17MSw0fTopezd9fDo6KFthLWYwLTldezEsNH06KXswLDZ9fChbYS1mMC05XXsxLDR9Oil7MX06KFthLWYwLTldezEsNH06KXswLDV9fChbYS1mMC05XXsxLDR9Oil7Mn06KFthLWYwLTldezEsNH06KXswLDR9fChbYS1mMC05XXsxLDR9Oil7M306KFthLWYwLTldezEsNH06KXswLDN9fChbYS1mMC05XXsxLDR9Oil7NH06KFthLWYwLTldezEsNH06KXswLDJ9fChbYS1mMC05XXsxLDR9Oil7NX06KFthLWYwLTldezEsNH06KXswLDF9KShbYS1mMC05XXsxLDR9fCgoKDI1WzAtNV0pfCgyWzAtNF1bMC05XSl8KDFbMC05XXsyfSl8KFswLTldezEsMn0pKVxcLil7M30oKDI1WzAtNV0pfCgyWzAtNF1bMC05XSl8KDFbMC05XXsyfSl8KFswLTldezEsMn0pKSlcXF0pfChbQS1aYS16MC05XShbQS1aYS16MC05LV0qW0EtWmEtejAtOV0pKihcXC5bQS1aYS16XXsyLH0pKykpJC87XG4vLyBjb25zdCBlbWFpbFJlZ2V4ID1cbi8vICAgL15bYS16QS1aMC05XFwuXFwhXFwjXFwkXFwlXFwmXFwnXFwqXFwrXFwvXFw9XFw/XFxeXFxfXFxgXFx7XFx8XFx9XFx+XFwtXStAW2EtekEtWjAtOV0oPzpbYS16QS1aMC05LV17MCw2MX1bYS16QS1aMC05XSk/KD86XFwuW2EtekEtWjAtOV0oPzpbYS16QS1aMC05LV17MCw2MX1bYS16QS1aMC05XSk/KSokLztcbi8vIGNvbnN0IGVtYWlsUmVnZXggPVxuLy8gICAvXig/OlthLXowLTkhIyQlJicqKy89P15fYHt8fX4tXSsoPzpcXC5bYS16MC05ISMkJSYnKisvPT9eX2B7fH1+LV0rKSp8XCIoPzpbXFx4MDEtXFx4MDhcXHgwYlxceDBjXFx4MGUtXFx4MWZcXHgyMVxceDIzLVxceDViXFx4NWQtXFx4N2ZdfFxcXFxbXFx4MDEtXFx4MDlcXHgwYlxceDBjXFx4MGUtXFx4N2ZdKSpcIilAKD86KD86W2EtejAtOV0oPzpbYS16MC05LV0qW2EtejAtOV0pP1xcLikrW2EtejAtOV0oPzpbYS16MC05LV0qW2EtejAtOV0pP3xcXFsoPzooPzoyNVswLTVdfDJbMC00XVswLTldfFswMV0/WzAtOV1bMC05XT8pXFwuKXszfSg/OjI1WzAtNV18MlswLTRdWzAtOV18WzAxXT9bMC05XVswLTldP3xbYS16MC05LV0qW2EtejAtOV06KD86W1xceDAxLVxceDA4XFx4MGJcXHgwY1xceDBlLVxceDFmXFx4MjEtXFx4NWFcXHg1My1cXHg3Zl18XFxcXFtcXHgwMS1cXHgwOVxceDBiXFx4MGNcXHgwZS1cXHg3Zl0pKylcXF0pJC9pO1xuY29uc3QgZW1haWxSZWdleCA9IC9eKD8hXFwuKSg/IS4qXFwuXFwuKShbQS1aMC05XycrXFwtXFwuXSopW0EtWjAtOV8rLV1AKFtBLVowLTldW0EtWjAtOVxcLV0qXFwuKStbQS1aXXsyLH0kL2k7XG4vLyBjb25zdCBlbWFpbFJlZ2V4ID1cbi8vICAgL15bYS16MC05LiEjJCUm4oCZKisvPT9eX2B7fH1+LV0rQFthLXowLTktXSsoPzpcXC5bYS16MC05XFwtXSspKiQvaTtcbi8vIGZyb20gaHR0cHM6Ly90aGVrZXZpbnNjb3R0LmNvbS9lbW9qaXMtaW4tamF2YXNjcmlwdC8jd3JpdGluZy1hLXJlZ3VsYXItZXhwcmVzc2lvblxuY29uc3QgX2Vtb2ppUmVnZXggPSBgXihcXFxccHtFeHRlbmRlZF9QaWN0b2dyYXBoaWN9fFxcXFxwe0Vtb2ppX0NvbXBvbmVudH0pKyRgO1xubGV0IGVtb2ppUmVnZXg7XG4vLyBmYXN0ZXIsIHNpbXBsZXIsIHNhZmVyXG5jb25zdCBpcHY0UmVnZXggPSAvXig/Oig/OjI1WzAtNV18MlswLTRdWzAtOV18MVswLTldWzAtOV18WzEtOV1bMC05XXxbMC05XSlcXC4pezN9KD86MjVbMC01XXwyWzAtNF1bMC05XXwxWzAtOV1bMC05XXxbMS05XVswLTldfFswLTldKSQvO1xuY29uc3QgaXB2NENpZHJSZWdleCA9IC9eKD86KD86MjVbMC01XXwyWzAtNF1bMC05XXwxWzAtOV1bMC05XXxbMS05XVswLTldfFswLTldKVxcLil7M30oPzoyNVswLTVdfDJbMC00XVswLTldfDFbMC05XVswLTldfFsxLTldWzAtOV18WzAtOV0pXFwvKDNbMC0yXXxbMTJdP1swLTldKSQvO1xuLy8gY29uc3QgaXB2NlJlZ2V4ID1cbi8vIC9eKChbYS1mMC05XXsxLDR9Oil7N318OjooW2EtZjAtOV17MSw0fTopezAsNn18KFthLWYwLTldezEsNH06KXsxfTooW2EtZjAtOV17MSw0fTopezAsNX18KFthLWYwLTldezEsNH06KXsyfTooW2EtZjAtOV17MSw0fTopezAsNH18KFthLWYwLTldezEsNH06KXszfTooW2EtZjAtOV17MSw0fTopezAsM318KFthLWYwLTldezEsNH06KXs0fTooW2EtZjAtOV17MSw0fTopezAsMn18KFthLWYwLTldezEsNH06KXs1fTooW2EtZjAtOV17MSw0fTopezAsMX0pKFthLWYwLTldezEsNH18KCgoMjVbMC01XSl8KDJbMC00XVswLTldKXwoMVswLTldezJ9KXwoWzAtOV17MSwyfSkpXFwuKXszfSgoMjVbMC01XSl8KDJbMC00XVswLTldKXwoMVswLTldezJ9KXwoWzAtOV17MSwyfSkpKSQvO1xuY29uc3QgaXB2NlJlZ2V4ID0gL14oKFswLTlhLWZBLUZdezEsNH06KXs3LDd9WzAtOWEtZkEtRl17MSw0fXwoWzAtOWEtZkEtRl17MSw0fTopezEsN306fChbMC05YS1mQS1GXXsxLDR9Oil7MSw2fTpbMC05YS1mQS1GXXsxLDR9fChbMC05YS1mQS1GXXsxLDR9Oil7MSw1fSg6WzAtOWEtZkEtRl17MSw0fSl7MSwyfXwoWzAtOWEtZkEtRl17MSw0fTopezEsNH0oOlswLTlhLWZBLUZdezEsNH0pezEsM318KFswLTlhLWZBLUZdezEsNH06KXsxLDN9KDpbMC05YS1mQS1GXXsxLDR9KXsxLDR9fChbMC05YS1mQS1GXXsxLDR9Oil7MSwyfSg6WzAtOWEtZkEtRl17MSw0fSl7MSw1fXxbMC05YS1mQS1GXXsxLDR9OigoOlswLTlhLWZBLUZdezEsNH0pezEsNn0pfDooKDpbMC05YS1mQS1GXXsxLDR9KXsxLDd9fDopfGZlODA6KDpbMC05YS1mQS1GXXswLDR9KXswLDR9JVswLTlhLXpBLVpdezEsfXw6OihmZmZmKDowezEsNH0pezAsMX06KXswLDF9KCgyNVswLTVdfCgyWzAtNF18MXswLDF9WzAtOV0pezAsMX1bMC05XSlcXC4pezMsM30oMjVbMC01XXwoMlswLTRdfDF7MCwxfVswLTldKXswLDF9WzAtOV0pfChbMC05YS1mQS1GXXsxLDR9Oil7MSw0fTooKDI1WzAtNV18KDJbMC00XXwxezAsMX1bMC05XSl7MCwxfVswLTldKVxcLil7MywzfSgyNVswLTVdfCgyWzAtNF18MXswLDF9WzAtOV0pezAsMX1bMC05XSkpJC87XG5jb25zdCBpcHY2Q2lkclJlZ2V4ID0gL14oKFswLTlhLWZBLUZdezEsNH06KXs3LDd9WzAtOWEtZkEtRl17MSw0fXwoWzAtOWEtZkEtRl17MSw0fTopezEsN306fChbMC05YS1mQS1GXXsxLDR9Oil7MSw2fTpbMC05YS1mQS1GXXsxLDR9fChbMC05YS1mQS1GXXsxLDR9Oil7MSw1fSg6WzAtOWEtZkEtRl17MSw0fSl7MSwyfXwoWzAtOWEtZkEtRl17MSw0fTopezEsNH0oOlswLTlhLWZBLUZdezEsNH0pezEsM318KFswLTlhLWZBLUZdezEsNH06KXsxLDN9KDpbMC05YS1mQS1GXXsxLDR9KXsxLDR9fChbMC05YS1mQS1GXXsxLDR9Oil7MSwyfSg6WzAtOWEtZkEtRl17MSw0fSl7MSw1fXxbMC05YS1mQS1GXXsxLDR9OigoOlswLTlhLWZBLUZdezEsNH0pezEsNn0pfDooKDpbMC05YS1mQS1GXXsxLDR9KXsxLDd9fDopfGZlODA6KDpbMC05YS1mQS1GXXswLDR9KXswLDR9JVswLTlhLXpBLVpdezEsfXw6OihmZmZmKDowezEsNH0pezAsMX06KXswLDF9KCgyNVswLTVdfCgyWzAtNF18MXswLDF9WzAtOV0pezAsMX1bMC05XSlcXC4pezMsM30oMjVbMC01XXwoMlswLTRdfDF7MCwxfVswLTldKXswLDF9WzAtOV0pfChbMC05YS1mQS1GXXsxLDR9Oil7MSw0fTooKDI1WzAtNV18KDJbMC00XXwxezAsMX1bMC05XSl7MCwxfVswLTldKVxcLil7MywzfSgyNVswLTVdfCgyWzAtNF18MXswLDF9WzAtOV0pezAsMX1bMC05XSkpXFwvKDEyWzAtOF18MVswMV1bMC05XXxbMS05XT9bMC05XSkkLztcbi8vIGh0dHBzOi8vc3RhY2tvdmVyZmxvdy5jb20vcXVlc3Rpb25zLzc4NjAzOTIvZGV0ZXJtaW5lLWlmLXN0cmluZy1pcy1pbi1iYXNlNjQtdXNpbmctamF2YXNjcmlwdFxuY29uc3QgYmFzZTY0UmVnZXggPSAvXihbMC05YS16QS1aKy9dezR9KSooKFswLTlhLXpBLVorL117Mn09PSl8KFswLTlhLXpBLVorL117M309KSk/JC87XG4vLyBodHRwczovL2Jhc2U2NC5ndXJ1L3N0YW5kYXJkcy9iYXNlNjR1cmxcbmNvbnN0IGJhc2U2NHVybFJlZ2V4ID0gL14oWzAtOWEtekEtWi1fXXs0fSkqKChbMC05YS16QS1aLV9dezJ9KD09KT8pfChbMC05YS16QS1aLV9dezN9KD0pPykpPyQvO1xuLy8gc2ltcGxlXG4vLyBjb25zdCBkYXRlUmVnZXhTb3VyY2UgPSBgXFxcXGR7NH0tXFxcXGR7Mn0tXFxcXGR7Mn1gO1xuLy8gbm8gbGVhcCB5ZWFyIHZhbGlkYXRpb25cbi8vIGNvbnN0IGRhdGVSZWdleFNvdXJjZSA9IGBcXFxcZHs0fS0oKDBbMTM1NzhdfDEwfDEyKS0zMXwoMFsxMy05XXwxWzAtMl0pLTMwfCgwWzEtOV18MVswLTJdKS0oMFsxLTldfDFcXFxcZHwyXFxcXGQpKWA7XG4vLyB3aXRoIGxlYXAgeWVhciB2YWxpZGF0aW9uXG5jb25zdCBkYXRlUmVnZXhTb3VyY2UgPSBgKChcXFxcZFxcXFxkWzI0NjhdWzA0OF18XFxcXGRcXFxcZFsxMzU3OV1bMjZdfFxcXFxkXFxcXGQwWzQ4XXxbMDI0NjhdWzA0OF0wMHxbMTM1NzldWzI2XTAwKS0wMi0yOXxcXFxcZHs0fS0oKDBbMTM1NzhdfDFbMDJdKS0oMFsxLTldfFsxMl1cXFxcZHwzWzAxXSl8KDBbNDY5XXwxMSktKDBbMS05XXxbMTJdXFxcXGR8MzApfCgwMiktKDBbMS05XXwxXFxcXGR8MlswLThdKSkpYDtcbmNvbnN0IGRhdGVSZWdleCA9IG5ldyBSZWdFeHAoYF4ke2RhdGVSZWdleFNvdXJjZX0kYCk7XG5mdW5jdGlvbiB0aW1lUmVnZXhTb3VyY2UoYXJncykge1xuICAgIGxldCBzZWNvbmRzUmVnZXhTb3VyY2UgPSBgWzAtNV1cXFxcZGA7XG4gICAgaWYgKGFyZ3MucHJlY2lzaW9uKSB7XG4gICAgICAgIHNlY29uZHNSZWdleFNvdXJjZSA9IGAke3NlY29uZHNSZWdleFNvdXJjZX1cXFxcLlxcXFxkeyR7YXJncy5wcmVjaXNpb259fWA7XG4gICAgfVxuICAgIGVsc2UgaWYgKGFyZ3MucHJlY2lzaW9uID09IG51bGwpIHtcbiAgICAgICAgc2Vjb25kc1JlZ2V4U291cmNlID0gYCR7c2Vjb25kc1JlZ2V4U291cmNlfShcXFxcLlxcXFxkKyk/YDtcbiAgICB9XG4gICAgY29uc3Qgc2Vjb25kc1F1YW50aWZpZXIgPSBhcmdzLnByZWNpc2lvbiA/IFwiK1wiIDogXCI/XCI7IC8vIHJlcXVpcmUgc2Vjb25kcyBpZiBwcmVjaXNpb24gaXMgbm9uemVyb1xuICAgIHJldHVybiBgKFswMV1cXFxcZHwyWzAtM10pOlswLTVdXFxcXGQoOiR7c2Vjb25kc1JlZ2V4U291cmNlfSkke3NlY29uZHNRdWFudGlmaWVyfWA7XG59XG5mdW5jdGlvbiB0aW1lUmVnZXgoYXJncykge1xuICAgIHJldHVybiBuZXcgUmVnRXhwKGBeJHt0aW1lUmVnZXhTb3VyY2UoYXJncyl9JGApO1xufVxuLy8gQWRhcHRlZCBmcm9tIGh0dHBzOi8vc3RhY2tvdmVyZmxvdy5jb20vYS8zMTQzMjMxXG5leHBvcnQgZnVuY3Rpb24gZGF0ZXRpbWVSZWdleChhcmdzKSB7XG4gICAgbGV0IHJlZ2V4ID0gYCR7ZGF0ZVJlZ2V4U291cmNlfVQke3RpbWVSZWdleFNvdXJjZShhcmdzKX1gO1xuICAgIGNvbnN0IG9wdHMgPSBbXTtcbiAgICBvcHRzLnB1c2goYXJncy5sb2NhbCA/IGBaP2AgOiBgWmApO1xuICAgIGlmIChhcmdzLm9mZnNldClcbiAgICAgICAgb3B0cy5wdXNoKGAoWystXVxcXFxkezJ9Oj9cXFxcZHsyfSlgKTtcbiAgICByZWdleCA9IGAke3JlZ2V4fSgke29wdHMuam9pbihcInxcIil9KWA7XG4gICAgcmV0dXJuIG5ldyBSZWdFeHAoYF4ke3JlZ2V4fSRgKTtcbn1cbmZ1bmN0aW9uIGlzVmFsaWRJUChpcCwgdmVyc2lvbikge1xuICAgIGlmICgodmVyc2lvbiA9PT0gXCJ2NFwiIHx8ICF2ZXJzaW9uKSAmJiBpcHY0UmVnZXgudGVzdChpcCkpIHtcbiAgICAgICAgcmV0dXJuIHRydWU7XG4gICAgfVxuICAgIGlmICgodmVyc2lvbiA9PT0gXCJ2NlwiIHx8ICF2ZXJzaW9uKSAmJiBpcHY2UmVnZXgudGVzdChpcCkpIHtcbiAgICAgICAgcmV0dXJuIHRydWU7XG4gICAgfVxuICAgIHJldHVybiBmYWxzZTtcbn1cbmZ1bmN0aW9uIGlzVmFsaWRKV1Qoand0LCBhbGcpIHtcbiAgICBpZiAoIWp3dFJlZ2V4LnRlc3Qoand0KSlcbiAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgIHRyeSB7XG4gICAgICAgIGNvbnN0IFtoZWFkZXJdID0gand0LnNwbGl0KFwiLlwiKTtcbiAgICAgICAgaWYgKCFoZWFkZXIpXG4gICAgICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgICAgIC8vIENvbnZlcnQgYmFzZTY0dXJsIHRvIGJhc2U2NFxuICAgICAgICBjb25zdCBiYXNlNjQgPSBoZWFkZXJcbiAgICAgICAgICAgIC5yZXBsYWNlKC8tL2csIFwiK1wiKVxuICAgICAgICAgICAgLnJlcGxhY2UoL18vZywgXCIvXCIpXG4gICAgICAgICAgICAucGFkRW5kKGhlYWRlci5sZW5ndGggKyAoKDQgLSAoaGVhZGVyLmxlbmd0aCAlIDQpKSAlIDQpLCBcIj1cIik7XG4gICAgICAgIGNvbnN0IGRlY29kZWQgPSBKU09OLnBhcnNlKGF0b2IoYmFzZTY0KSk7XG4gICAgICAgIGlmICh0eXBlb2YgZGVjb2RlZCAhPT0gXCJvYmplY3RcIiB8fCBkZWNvZGVkID09PSBudWxsKVxuICAgICAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgICAgICBpZiAoXCJ0eXBcIiBpbiBkZWNvZGVkICYmIGRlY29kZWQ/LnR5cCAhPT0gXCJKV1RcIilcbiAgICAgICAgICAgIHJldHVybiBmYWxzZTtcbiAgICAgICAgaWYgKCFkZWNvZGVkLmFsZylcbiAgICAgICAgICAgIHJldHVybiBmYWxzZTtcbiAgICAgICAgaWYgKGFsZyAmJiBkZWNvZGVkLmFsZyAhPT0gYWxnKVxuICAgICAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgICAgICByZXR1cm4gdHJ1ZTtcbiAgICB9XG4gICAgY2F0Y2gge1xuICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgfVxufVxuZnVuY3Rpb24gaXNWYWxpZENpZHIoaXAsIHZlcnNpb24pIHtcbiAgICBpZiAoKHZlcnNpb24gPT09IFwidjRcIiB8fCAhdmVyc2lvbikgJiYgaXB2NENpZHJSZWdleC50ZXN0KGlwKSkge1xuICAgICAgICByZXR1cm4gdHJ1ZTtcbiAgICB9XG4gICAgaWYgKCh2ZXJzaW9uID09PSBcInY2XCIgfHwgIXZlcnNpb24pICYmIGlwdjZDaWRyUmVnZXgudGVzdChpcCkpIHtcbiAgICAgICAgcmV0dXJuIHRydWU7XG4gICAgfVxuICAgIHJldHVybiBmYWxzZTtcbn1cbmV4cG9ydCBjbGFzcyBab2RTdHJpbmcgZXh0ZW5kcyBab2RUeXBlIHtcbiAgICBfcGFyc2UoaW5wdXQpIHtcbiAgICAgICAgaWYgKHRoaXMuX2RlZi5jb2VyY2UpIHtcbiAgICAgICAgICAgIGlucHV0LmRhdGEgPSBTdHJpbmcoaW5wdXQuZGF0YSk7XG4gICAgICAgIH1cbiAgICAgICAgY29uc3QgcGFyc2VkVHlwZSA9IHRoaXMuX2dldFR5cGUoaW5wdXQpO1xuICAgICAgICBpZiAocGFyc2VkVHlwZSAhPT0gWm9kUGFyc2VkVHlwZS5zdHJpbmcpIHtcbiAgICAgICAgICAgIGNvbnN0IGN0eCA9IHRoaXMuX2dldE9yUmV0dXJuQ3R4KGlucHV0KTtcbiAgICAgICAgICAgIGFkZElzc3VlVG9Db250ZXh0KGN0eCwge1xuICAgICAgICAgICAgICAgIGNvZGU6IFpvZElzc3VlQ29kZS5pbnZhbGlkX3R5cGUsXG4gICAgICAgICAgICAgICAgZXhwZWN0ZWQ6IFpvZFBhcnNlZFR5cGUuc3RyaW5nLFxuICAgICAgICAgICAgICAgIHJlY2VpdmVkOiBjdHgucGFyc2VkVHlwZSxcbiAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgcmV0dXJuIElOVkFMSUQ7XG4gICAgICAgIH1cbiAgICAgICAgY29uc3Qgc3RhdHVzID0gbmV3IFBhcnNlU3RhdHVzKCk7XG4gICAgICAgIGxldCBjdHggPSB1bmRlZmluZWQ7XG4gICAgICAgIGZvciAoY29uc3QgY2hlY2sgb2YgdGhpcy5fZGVmLmNoZWNrcykge1xuICAgICAgICAgICAgaWYgKGNoZWNrLmtpbmQgPT09IFwibWluXCIpIHtcbiAgICAgICAgICAgICAgICBpZiAoaW5wdXQuZGF0YS5sZW5ndGggPCBjaGVjay52YWx1ZSkge1xuICAgICAgICAgICAgICAgICAgICBjdHggPSB0aGlzLl9nZXRPclJldHVybkN0eChpbnB1dCwgY3R4KTtcbiAgICAgICAgICAgICAgICAgICAgYWRkSXNzdWVUb0NvbnRleHQoY3R4LCB7XG4gICAgICAgICAgICAgICAgICAgICAgICBjb2RlOiBab2RJc3N1ZUNvZGUudG9vX3NtYWxsLFxuICAgICAgICAgICAgICAgICAgICAgICAgbWluaW11bTogY2hlY2sudmFsdWUsXG4gICAgICAgICAgICAgICAgICAgICAgICB0eXBlOiBcInN0cmluZ1wiLFxuICAgICAgICAgICAgICAgICAgICAgICAgaW5jbHVzaXZlOiB0cnVlLFxuICAgICAgICAgICAgICAgICAgICAgICAgZXhhY3Q6IGZhbHNlLFxuICAgICAgICAgICAgICAgICAgICAgICAgbWVzc2FnZTogY2hlY2subWVzc2FnZSxcbiAgICAgICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICAgICAgICAgIHN0YXR1cy5kaXJ0eSgpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGVsc2UgaWYgKGNoZWNrLmtpbmQgPT09IFwibWF4XCIpIHtcbiAgICAgICAgICAgICAgICBpZiAoaW5wdXQuZGF0YS5sZW5ndGggPiBjaGVjay52YWx1ZSkge1xuICAgICAgICAgICAgICAgICAgICBjdHggPSB0aGlzLl9nZXRPclJldHVybkN0eChpbnB1dCwgY3R4KTtcbiAgICAgICAgICAgICAgICAgICAgYWRkSXNzdWVUb0NvbnRleHQoY3R4LCB7XG4gICAgICAgICAgICAgICAgICAgICAgICBjb2RlOiBab2RJc3N1ZUNvZGUudG9vX2JpZyxcbiAgICAgICAgICAgICAgICAgICAgICAgIG1heGltdW06IGNoZWNrLnZhbHVlLFxuICAgICAgICAgICAgICAgICAgICAgICAgdHlwZTogXCJzdHJpbmdcIixcbiAgICAgICAgICAgICAgICAgICAgICAgIGluY2x1c2l2ZTogdHJ1ZSxcbiAgICAgICAgICAgICAgICAgICAgICAgIGV4YWN0OiBmYWxzZSxcbiAgICAgICAgICAgICAgICAgICAgICAgIG1lc3NhZ2U6IGNoZWNrLm1lc3NhZ2UsXG4gICAgICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgICAgICAgICBzdGF0dXMuZGlydHkoKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBlbHNlIGlmIChjaGVjay5raW5kID09PSBcImxlbmd0aFwiKSB7XG4gICAgICAgICAgICAgICAgY29uc3QgdG9vQmlnID0gaW5wdXQuZGF0YS5sZW5ndGggPiBjaGVjay52YWx1ZTtcbiAgICAgICAgICAgICAgICBjb25zdCB0b29TbWFsbCA9IGlucHV0LmRhdGEubGVuZ3RoIDwgY2hlY2sudmFsdWU7XG4gICAgICAgICAgICAgICAgaWYgKHRvb0JpZyB8fCB0b29TbWFsbCkge1xuICAgICAgICAgICAgICAgICAgICBjdHggPSB0aGlzLl9nZXRPclJldHVybkN0eChpbnB1dCwgY3R4KTtcbiAgICAgICAgICAgICAgICAgICAgaWYgKHRvb0JpZykge1xuICAgICAgICAgICAgICAgICAgICAgICAgYWRkSXNzdWVUb0NvbnRleHQoY3R4LCB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgY29kZTogWm9kSXNzdWVDb2RlLnRvb19iaWcsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgbWF4aW11bTogY2hlY2sudmFsdWUsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgdHlwZTogXCJzdHJpbmdcIixcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBpbmNsdXNpdmU6IHRydWUsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgZXhhY3Q6IHRydWUsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgbWVzc2FnZTogY2hlY2subWVzc2FnZSxcbiAgICAgICAgICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIGVsc2UgaWYgKHRvb1NtYWxsKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBhZGRJc3N1ZVRvQ29udGV4dChjdHgsIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBjb2RlOiBab2RJc3N1ZUNvZGUudG9vX3NtYWxsLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIG1pbmltdW06IGNoZWNrLnZhbHVlLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHR5cGU6IFwic3RyaW5nXCIsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgaW5jbHVzaXZlOiB0cnVlLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGV4YWN0OiB0cnVlLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIG1lc3NhZ2U6IGNoZWNrLm1lc3NhZ2UsXG4gICAgICAgICAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICBzdGF0dXMuZGlydHkoKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBlbHNlIGlmIChjaGVjay5raW5kID09PSBcImVtYWlsXCIpIHtcbiAgICAgICAgICAgICAgICBpZiAoIWVtYWlsUmVnZXgudGVzdChpbnB1dC5kYXRhKSkge1xuICAgICAgICAgICAgICAgICAgICBjdHggPSB0aGlzLl9nZXRPclJldHVybkN0eChpbnB1dCwgY3R4KTtcbiAgICAgICAgICAgICAgICAgICAgYWRkSXNzdWVUb0NvbnRleHQoY3R4LCB7XG4gICAgICAgICAgICAgICAgICAgICAgICB2YWxpZGF0aW9uOiBcImVtYWlsXCIsXG4gICAgICAgICAgICAgICAgICAgICAgICBjb2RlOiBab2RJc3N1ZUNvZGUuaW52YWxpZF9zdHJpbmcsXG4gICAgICAgICAgICAgICAgICAgICAgICBtZXNzYWdlOiBjaGVjay5tZXNzYWdlLFxuICAgICAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgICAgICAgICAgc3RhdHVzLmRpcnR5KCk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICAgICAgZWxzZSBpZiAoY2hlY2sua2luZCA9PT0gXCJlbW9qaVwiKSB7XG4gICAgICAgICAgICAgICAgaWYgKCFlbW9qaVJlZ2V4KSB7XG4gICAgICAgICAgICAgICAgICAgIGVtb2ppUmVnZXggPSBuZXcgUmVnRXhwKF9lbW9qaVJlZ2V4LCBcInVcIik7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGlmICghZW1vamlSZWdleC50ZXN0KGlucHV0LmRhdGEpKSB7XG4gICAgICAgICAgICAgICAgICAgIGN0eCA9IHRoaXMuX2dldE9yUmV0dXJuQ3R4KGlucHV0LCBjdHgpO1xuICAgICAgICAgICAgICAgICAgICBhZGRJc3N1ZVRvQ29udGV4dChjdHgsIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHZhbGlkYXRpb246IFwiZW1vamlcIixcbiAgICAgICAgICAgICAgICAgICAgICAgIGNvZGU6IFpvZElzc3VlQ29kZS5pbnZhbGlkX3N0cmluZyxcbiAgICAgICAgICAgICAgICAgICAgICAgIG1lc3NhZ2U6IGNoZWNrLm1lc3NhZ2UsXG4gICAgICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgICAgICAgICBzdGF0dXMuZGlydHkoKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBlbHNlIGlmIChjaGVjay5raW5kID09PSBcInV1aWRcIikge1xuICAgICAgICAgICAgICAgIGlmICghdXVpZFJlZ2V4LnRlc3QoaW5wdXQuZGF0YSkpIHtcbiAgICAgICAgICAgICAgICAgICAgY3R4ID0gdGhpcy5fZ2V0T3JSZXR1cm5DdHgoaW5wdXQsIGN0eCk7XG4gICAgICAgICAgICAgICAgICAgIGFkZElzc3VlVG9Db250ZXh0KGN0eCwge1xuICAgICAgICAgICAgICAgICAgICAgICAgdmFsaWRhdGlvbjogXCJ1dWlkXCIsXG4gICAgICAgICAgICAgICAgICAgICAgICBjb2RlOiBab2RJc3N1ZUNvZGUuaW52YWxpZF9zdHJpbmcsXG4gICAgICAgICAgICAgICAgICAgICAgICBtZXNzYWdlOiBjaGVjay5tZXNzYWdlLFxuICAgICAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgICAgICAgICAgc3RhdHVzLmRpcnR5KCk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICAgICAgZWxzZSBpZiAoY2hlY2sua2luZCA9PT0gXCJuYW5vaWRcIikge1xuICAgICAgICAgICAgICAgIGlmICghbmFub2lkUmVnZXgudGVzdChpbnB1dC5kYXRhKSkge1xuICAgICAgICAgICAgICAgICAgICBjdHggPSB0aGlzLl9nZXRPclJldHVybkN0eChpbnB1dCwgY3R4KTtcbiAgICAgICAgICAgICAgICAgICAgYWRkSXNzdWVUb0NvbnRleHQoY3R4LCB7XG4gICAgICAgICAgICAgICAgICAgICAgICB2YWxpZGF0aW9uOiBcIm5hbm9pZFwiLFxuICAgICAgICAgICAgICAgICAgICAgICAgY29kZTogWm9kSXNzdWVDb2RlLmludmFsaWRfc3RyaW5nLFxuICAgICAgICAgICAgICAgICAgICAgICAgbWVzc2FnZTogY2hlY2subWVzc2FnZSxcbiAgICAgICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICAgICAgICAgIHN0YXR1cy5kaXJ0eSgpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGVsc2UgaWYgKGNoZWNrLmtpbmQgPT09IFwiY3VpZFwiKSB7XG4gICAgICAgICAgICAgICAgaWYgKCFjdWlkUmVnZXgudGVzdChpbnB1dC5kYXRhKSkge1xuICAgICAgICAgICAgICAgICAgICBjdHggPSB0aGlzLl9nZXRPclJldHVybkN0eChpbnB1dCwgY3R4KTtcbiAgICAgICAgICAgICAgICAgICAgYWRkSXNzdWVUb0NvbnRleHQoY3R4LCB7XG4gICAgICAgICAgICAgICAgICAgICAgICB2YWxpZGF0aW9uOiBcImN1aWRcIixcbiAgICAgICAgICAgICAgICAgICAgICAgIGNvZGU6IFpvZElzc3VlQ29kZS5pbnZhbGlkX3N0cmluZyxcbiAgICAgICAgICAgICAgICAgICAgICAgIG1lc3NhZ2U6IGNoZWNrLm1lc3NhZ2UsXG4gICAgICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgICAgICAgICBzdGF0dXMuZGlydHkoKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBlbHNlIGlmIChjaGVjay5raW5kID09PSBcImN1aWQyXCIpIHtcbiAgICAgICAgICAgICAgICBpZiAoIWN1aWQyUmVnZXgudGVzdChpbnB1dC5kYXRhKSkge1xuICAgICAgICAgICAgICAgICAgICBjdHggPSB0aGlzLl9nZXRPclJldHVybkN0eChpbnB1dCwgY3R4KTtcbiAgICAgICAgICAgICAgICAgICAgYWRkSXNzdWVUb0NvbnRleHQoY3R4LCB7XG4gICAgICAgICAgICAgICAgICAgICAgICB2YWxpZGF0aW9uOiBcImN1aWQyXCIsXG4gICAgICAgICAgICAgICAgICAgICAgICBjb2RlOiBab2RJc3N1ZUNvZGUuaW52YWxpZF9zdHJpbmcsXG4gICAgICAgICAgICAgICAgICAgICAgICBtZXNzYWdlOiBjaGVjay5tZXNzYWdlLFxuICAgICAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgICAgICAgICAgc3RhdHVzLmRpcnR5KCk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICAgICAgZWxzZSBpZiAoY2hlY2sua2luZCA9PT0gXCJ1bGlkXCIpIHtcbiAgICAgICAgICAgICAgICBpZiAoIXVsaWRSZWdleC50ZXN0KGlucHV0LmRhdGEpKSB7XG4gICAgICAgICAgICAgICAgICAgIGN0eCA9IHRoaXMuX2dldE9yUmV0dXJuQ3R4KGlucHV0LCBjdHgpO1xuICAgICAgICAgICAgICAgICAgICBhZGRJc3N1ZVRvQ29udGV4dChjdHgsIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHZhbGlkYXRpb246IFwidWxpZFwiLFxuICAgICAgICAgICAgICAgICAgICAgICAgY29kZTogWm9kSXNzdWVDb2RlLmludmFsaWRfc3RyaW5nLFxuICAgICAgICAgICAgICAgICAgICAgICAgbWVzc2FnZTogY2hlY2subWVzc2FnZSxcbiAgICAgICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICAgICAgICAgIHN0YXR1cy5kaXJ0eSgpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGVsc2UgaWYgKGNoZWNrLmtpbmQgPT09IFwidXJsXCIpIHtcbiAgICAgICAgICAgICAgICB0cnkge1xuICAgICAgICAgICAgICAgICAgICBuZXcgVVJMKGlucHV0LmRhdGEpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBjYXRjaCB7XG4gICAgICAgICAgICAgICAgICAgIGN0eCA9IHRoaXMuX2dldE9yUmV0dXJuQ3R4KGlucHV0LCBjdHgpO1xuICAgICAgICAgICAgICAgICAgICBhZGRJc3N1ZVRvQ29udGV4dChjdHgsIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHZhbGlkYXRpb246IFwidXJsXCIsXG4gICAgICAgICAgICAgICAgICAgICAgICBjb2RlOiBab2RJc3N1ZUNvZGUuaW52YWxpZF9zdHJpbmcsXG4gICAgICAgICAgICAgICAgICAgICAgICBtZXNzYWdlOiBjaGVjay5tZXNzYWdlLFxuICAgICAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgICAgICAgICAgc3RhdHVzLmRpcnR5KCk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICAgICAgZWxzZSBpZiAoY2hlY2sua2luZCA9PT0gXCJyZWdleFwiKSB7XG4gICAgICAgICAgICAgICAgY2hlY2sucmVnZXgubGFzdEluZGV4ID0gMDtcbiAgICAgICAgICAgICAgICBjb25zdCB0ZXN0UmVzdWx0ID0gY2hlY2sucmVnZXgudGVzdChpbnB1dC5kYXRhKTtcbiAgICAgICAgICAgICAgICBpZiAoIXRlc3RSZXN1bHQpIHtcbiAgICAgICAgICAgICAgICAgICAgY3R4ID0gdGhpcy5fZ2V0T3JSZXR1cm5DdHgoaW5wdXQsIGN0eCk7XG4gICAgICAgICAgICAgICAgICAgIGFkZElzc3VlVG9Db250ZXh0KGN0eCwge1xuICAgICAgICAgICAgICAgICAgICAgICAgdmFsaWRhdGlvbjogXCJyZWdleFwiLFxuICAgICAgICAgICAgICAgICAgICAgICAgY29kZTogWm9kSXNzdWVDb2RlLmludmFsaWRfc3RyaW5nLFxuICAgICAgICAgICAgICAgICAgICAgICAgbWVzc2FnZTogY2hlY2subWVzc2FnZSxcbiAgICAgICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICAgICAgICAgIHN0YXR1cy5kaXJ0eSgpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGVsc2UgaWYgKGNoZWNrLmtpbmQgPT09IFwidHJpbVwiKSB7XG4gICAgICAgICAgICAgICAgaW5wdXQuZGF0YSA9IGlucHV0LmRhdGEudHJpbSgpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgZWxzZSBpZiAoY2hlY2sua2luZCA9PT0gXCJpbmNsdWRlc1wiKSB7XG4gICAgICAgICAgICAgICAgaWYgKCFpbnB1dC5kYXRhLmluY2x1ZGVzKGNoZWNrLnZhbHVlLCBjaGVjay5wb3NpdGlvbikpIHtcbiAgICAgICAgICAgICAgICAgICAgY3R4ID0gdGhpcy5fZ2V0T3JSZXR1cm5DdHgoaW5wdXQsIGN0eCk7XG4gICAgICAgICAgICAgICAgICAgIGFkZElzc3VlVG9Db250ZXh0KGN0eCwge1xuICAgICAgICAgICAgICAgICAgICAgICAgY29kZTogWm9kSXNzdWVDb2RlLmludmFsaWRfc3RyaW5nLFxuICAgICAgICAgICAgICAgICAgICAgICAgdmFsaWRhdGlvbjogeyBpbmNsdWRlczogY2hlY2sudmFsdWUsIHBvc2l0aW9uOiBjaGVjay5wb3NpdGlvbiB9LFxuICAgICAgICAgICAgICAgICAgICAgICAgbWVzc2FnZTogY2hlY2subWVzc2FnZSxcbiAgICAgICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICAgICAgICAgIHN0YXR1cy5kaXJ0eSgpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGVsc2UgaWYgKGNoZWNrLmtpbmQgPT09IFwidG9Mb3dlckNhc2VcIikge1xuICAgICAgICAgICAgICAgIGlucHV0LmRhdGEgPSBpbnB1dC5kYXRhLnRvTG93ZXJDYXNlKCk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBlbHNlIGlmIChjaGVjay5raW5kID09PSBcInRvVXBwZXJDYXNlXCIpIHtcbiAgICAgICAgICAgICAgICBpbnB1dC5kYXRhID0gaW5wdXQuZGF0YS50b1VwcGVyQ2FzZSgpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgZWxzZSBpZiAoY2hlY2sua2luZCA9PT0gXCJzdGFydHNXaXRoXCIpIHtcbiAgICAgICAgICAgICAgICBpZiAoIWlucHV0LmRhdGEuc3RhcnRzV2l0aChjaGVjay52YWx1ZSkpIHtcbiAgICAgICAgICAgICAgICAgICAgY3R4ID0gdGhpcy5fZ2V0T3JSZXR1cm5DdHgoaW5wdXQsIGN0eCk7XG4gICAgICAgICAgICAgICAgICAgIGFkZElzc3VlVG9Db250ZXh0KGN0eCwge1xuICAgICAgICAgICAgICAgICAgICAgICAgY29kZTogWm9kSXNzdWVDb2RlLmludmFsaWRfc3RyaW5nLFxuICAgICAgICAgICAgICAgICAgICAgICAgdmFsaWRhdGlvbjogeyBzdGFydHNXaXRoOiBjaGVjay52YWx1ZSB9LFxuICAgICAgICAgICAgICAgICAgICAgICAgbWVzc2FnZTogY2hlY2subWVzc2FnZSxcbiAgICAgICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICAgICAgICAgIHN0YXR1cy5kaXJ0eSgpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGVsc2UgaWYgKGNoZWNrLmtpbmQgPT09IFwiZW5kc1dpdGhcIikge1xuICAgICAgICAgICAgICAgIGlmICghaW5wdXQuZGF0YS5lbmRzV2l0aChjaGVjay52YWx1ZSkpIHtcbiAgICAgICAgICAgICAgICAgICAgY3R4ID0gdGhpcy5fZ2V0T3JSZXR1cm5DdHgoaW5wdXQsIGN0eCk7XG4gICAgICAgICAgICAgICAgICAgIGFkZElzc3VlVG9Db250ZXh0KGN0eCwge1xuICAgICAgICAgICAgICAgICAgICAgICAgY29kZTogWm9kSXNzdWVDb2RlLmludmFsaWRfc3RyaW5nLFxuICAgICAgICAgICAgICAgICAgICAgICAgdmFsaWRhdGlvbjogeyBlbmRzV2l0aDogY2hlY2sudmFsdWUgfSxcbiAgICAgICAgICAgICAgICAgICAgICAgIG1lc3NhZ2U6IGNoZWNrLm1lc3NhZ2UsXG4gICAgICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgICAgICAgICBzdGF0dXMuZGlydHkoKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBlbHNlIGlmIChjaGVjay5raW5kID09PSBcImRhdGV0aW1lXCIpIHtcbiAgICAgICAgICAgICAgICBjb25zdCByZWdleCA9IGRhdGV0aW1lUmVnZXgoY2hlY2spO1xuICAgICAgICAgICAgICAgIGlmICghcmVnZXgudGVzdChpbnB1dC5kYXRhKSkge1xuICAgICAgICAgICAgICAgICAgICBjdHggPSB0aGlzLl9nZXRPclJldHVybkN0eChpbnB1dCwgY3R4KTtcbiAgICAgICAgICAgICAgICAgICAgYWRkSXNzdWVUb0NvbnRleHQoY3R4LCB7XG4gICAgICAgICAgICAgICAgICAgICAgICBjb2RlOiBab2RJc3N1ZUNvZGUuaW52YWxpZF9zdHJpbmcsXG4gICAgICAgICAgICAgICAgICAgICAgICB2YWxpZGF0aW9uOiBcImRhdGV0aW1lXCIsXG4gICAgICAgICAgICAgICAgICAgICAgICBtZXNzYWdlOiBjaGVjay5tZXNzYWdlLFxuICAgICAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgICAgICAgICAgc3RhdHVzLmRpcnR5KCk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICAgICAgZWxzZSBpZiAoY2hlY2sua2luZCA9PT0gXCJkYXRlXCIpIHtcbiAgICAgICAgICAgICAgICBjb25zdCByZWdleCA9IGRhdGVSZWdleDtcbiAgICAgICAgICAgICAgICBpZiAoIXJlZ2V4LnRlc3QoaW5wdXQuZGF0YSkpIHtcbiAgICAgICAgICAgICAgICAgICAgY3R4ID0gdGhpcy5fZ2V0T3JSZXR1cm5DdHgoaW5wdXQsIGN0eCk7XG4gICAgICAgICAgICAgICAgICAgIGFkZElzc3VlVG9Db250ZXh0KGN0eCwge1xuICAgICAgICAgICAgICAgICAgICAgICAgY29kZTogWm9kSXNzdWVDb2RlLmludmFsaWRfc3RyaW5nLFxuICAgICAgICAgICAgICAgICAgICAgICAgdmFsaWRhdGlvbjogXCJkYXRlXCIsXG4gICAgICAgICAgICAgICAgICAgICAgICBtZXNzYWdlOiBjaGVjay5tZXNzYWdlLFxuICAgICAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgICAgICAgICAgc3RhdHVzLmRpcnR5KCk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICAgICAgZWxzZSBpZiAoY2hlY2sua2luZCA9PT0gXCJ0aW1lXCIpIHtcbiAgICAgICAgICAgICAgICBjb25zdCByZWdleCA9IHRpbWVSZWdleChjaGVjayk7XG4gICAgICAgICAgICAgICAgaWYgKCFyZWdleC50ZXN0KGlucHV0LmRhdGEpKSB7XG4gICAgICAgICAgICAgICAgICAgIGN0eCA9IHRoaXMuX2dldE9yUmV0dXJuQ3R4KGlucHV0LCBjdHgpO1xuICAgICAgICAgICAgICAgICAgICBhZGRJc3N1ZVRvQ29udGV4dChjdHgsIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGNvZGU6IFpvZElzc3VlQ29kZS5pbnZhbGlkX3N0cmluZyxcbiAgICAgICAgICAgICAgICAgICAgICAgIHZhbGlkYXRpb246IFwidGltZVwiLFxuICAgICAgICAgICAgICAgICAgICAgICAgbWVzc2FnZTogY2hlY2subWVzc2FnZSxcbiAgICAgICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICAgICAgICAgIHN0YXR1cy5kaXJ0eSgpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGVsc2UgaWYgKGNoZWNrLmtpbmQgPT09IFwiZHVyYXRpb25cIikge1xuICAgICAgICAgICAgICAgIGlmICghZHVyYXRpb25SZWdleC50ZXN0KGlucHV0LmRhdGEpKSB7XG4gICAgICAgICAgICAgICAgICAgIGN0eCA9IHRoaXMuX2dldE9yUmV0dXJuQ3R4KGlucHV0LCBjdHgpO1xuICAgICAgICAgICAgICAgICAgICBhZGRJc3N1ZVRvQ29udGV4dChjdHgsIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHZhbGlkYXRpb246IFwiZHVyYXRpb25cIixcbiAgICAgICAgICAgICAgICAgICAgICAgIGNvZGU6IFpvZElzc3VlQ29kZS5pbnZhbGlkX3N0cmluZyxcbiAgICAgICAgICAgICAgICAgICAgICAgIG1lc3NhZ2U6IGNoZWNrLm1lc3NhZ2UsXG4gICAgICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgICAgICAgICBzdGF0dXMuZGlydHkoKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBlbHNlIGlmIChjaGVjay5raW5kID09PSBcImlwXCIpIHtcbiAgICAgICAgICAgICAgICBpZiAoIWlzVmFsaWRJUChpbnB1dC5kYXRhLCBjaGVjay52ZXJzaW9uKSkge1xuICAgICAgICAgICAgICAgICAgICBjdHggPSB0aGlzLl9nZXRPclJldHVybkN0eChpbnB1dCwgY3R4KTtcbiAgICAgICAgICAgICAgICAgICAgYWRkSXNzdWVUb0NvbnRleHQoY3R4LCB7XG4gICAgICAgICAgICAgICAgICAgICAgICB2YWxpZGF0aW9uOiBcImlwXCIsXG4gICAgICAgICAgICAgICAgICAgICAgICBjb2RlOiBab2RJc3N1ZUNvZGUuaW52YWxpZF9zdHJpbmcsXG4gICAgICAgICAgICAgICAgICAgICAgICBtZXNzYWdlOiBjaGVjay5tZXNzYWdlLFxuICAgICAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgICAgICAgICAgc3RhdHVzLmRpcnR5KCk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICAgICAgZWxzZSBpZiAoY2hlY2sua2luZCA9PT0gXCJqd3RcIikge1xuICAgICAgICAgICAgICAgIGlmICghaXNWYWxpZEpXVChpbnB1dC5kYXRhLCBjaGVjay5hbGcpKSB7XG4gICAgICAgICAgICAgICAgICAgIGN0eCA9IHRoaXMuX2dldE9yUmV0dXJuQ3R4KGlucHV0LCBjdHgpO1xuICAgICAgICAgICAgICAgICAgICBhZGRJc3N1ZVRvQ29udGV4dChjdHgsIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHZhbGlkYXRpb246IFwiand0XCIsXG4gICAgICAgICAgICAgICAgICAgICAgICBjb2RlOiBab2RJc3N1ZUNvZGUuaW52YWxpZF9zdHJpbmcsXG4gICAgICAgICAgICAgICAgICAgICAgICBtZXNzYWdlOiBjaGVjay5tZXNzYWdlLFxuICAgICAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgICAgICAgICAgc3RhdHVzLmRpcnR5KCk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICAgICAgZWxzZSBpZiAoY2hlY2sua2luZCA9PT0gXCJjaWRyXCIpIHtcbiAgICAgICAgICAgICAgICBpZiAoIWlzVmFsaWRDaWRyKGlucHV0LmRhdGEsIGNoZWNrLnZlcnNpb24pKSB7XG4gICAgICAgICAgICAgICAgICAgIGN0eCA9IHRoaXMuX2dldE9yUmV0dXJuQ3R4KGlucHV0LCBjdHgpO1xuICAgICAgICAgICAgICAgICAgICBhZGRJc3N1ZVRvQ29udGV4dChjdHgsIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHZhbGlkYXRpb246IFwiY2lkclwiLFxuICAgICAgICAgICAgICAgICAgICAgICAgY29kZTogWm9kSXNzdWVDb2RlLmludmFsaWRfc3RyaW5nLFxuICAgICAgICAgICAgICAgICAgICAgICAgbWVzc2FnZTogY2hlY2subWVzc2FnZSxcbiAgICAgICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICAgICAgICAgIHN0YXR1cy5kaXJ0eSgpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGVsc2UgaWYgKGNoZWNrLmtpbmQgPT09IFwiYmFzZTY0XCIpIHtcbiAgICAgICAgICAgICAgICBpZiAoIWJhc2U2NFJlZ2V4LnRlc3QoaW5wdXQuZGF0YSkpIHtcbiAgICAgICAgICAgICAgICAgICAgY3R4ID0gdGhpcy5fZ2V0T3JSZXR1cm5DdHgoaW5wdXQsIGN0eCk7XG4gICAgICAgICAgICAgICAgICAgIGFkZElzc3VlVG9Db250ZXh0KGN0eCwge1xuICAgICAgICAgICAgICAgICAgICAgICAgdmFsaWRhdGlvbjogXCJiYXNlNjRcIixcbiAgICAgICAgICAgICAgICAgICAgICAgIGNvZGU6IFpvZElzc3VlQ29kZS5pbnZhbGlkX3N0cmluZyxcbiAgICAgICAgICAgICAgICAgICAgICAgIG1lc3NhZ2U6IGNoZWNrLm1lc3NhZ2UsXG4gICAgICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgICAgICAgICBzdGF0dXMuZGlydHkoKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBlbHNlIGlmIChjaGVjay5raW5kID09PSBcImJhc2U2NHVybFwiKSB7XG4gICAgICAgICAgICAgICAgaWYgKCFiYXNlNjR1cmxSZWdleC50ZXN0KGlucHV0LmRhdGEpKSB7XG4gICAgICAgICAgICAgICAgICAgIGN0eCA9IHRoaXMuX2dldE9yUmV0dXJuQ3R4KGlucHV0LCBjdHgpO1xuICAgICAgICAgICAgICAgICAgICBhZGRJc3N1ZVRvQ29udGV4dChjdHgsIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHZhbGlkYXRpb246IFwiYmFzZTY0dXJsXCIsXG4gICAgICAgICAgICAgICAgICAgICAgICBjb2RlOiBab2RJc3N1ZUNvZGUuaW52YWxpZF9zdHJpbmcsXG4gICAgICAgICAgICAgICAgICAgICAgICBtZXNzYWdlOiBjaGVjay5tZXNzYWdlLFxuICAgICAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgICAgICAgICAgc3RhdHVzLmRpcnR5KCk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICAgICAgdXRpbC5hc3NlcnROZXZlcihjaGVjayk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIHsgc3RhdHVzOiBzdGF0dXMudmFsdWUsIHZhbHVlOiBpbnB1dC5kYXRhIH07XG4gICAgfVxuICAgIF9yZWdleChyZWdleCwgdmFsaWRhdGlvbiwgbWVzc2FnZSkge1xuICAgICAgICByZXR1cm4gdGhpcy5yZWZpbmVtZW50KChkYXRhKSA9PiByZWdleC50ZXN0KGRhdGEpLCB7XG4gICAgICAgICAgICB2YWxpZGF0aW9uLFxuICAgICAgICAgICAgY29kZTogWm9kSXNzdWVDb2RlLmludmFsaWRfc3RyaW5nLFxuICAgICAgICAgICAgLi4uZXJyb3JVdGlsLmVyclRvT2JqKG1lc3NhZ2UpLFxuICAgICAgICB9KTtcbiAgICB9XG4gICAgX2FkZENoZWNrKGNoZWNrKSB7XG4gICAgICAgIHJldHVybiBuZXcgWm9kU3RyaW5nKHtcbiAgICAgICAgICAgIC4uLnRoaXMuX2RlZixcbiAgICAgICAgICAgIGNoZWNrczogWy4uLnRoaXMuX2RlZi5jaGVja3MsIGNoZWNrXSxcbiAgICAgICAgfSk7XG4gICAgfVxuICAgIGVtYWlsKG1lc3NhZ2UpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuX2FkZENoZWNrKHsga2luZDogXCJlbWFpbFwiLCAuLi5lcnJvclV0aWwuZXJyVG9PYmoobWVzc2FnZSkgfSk7XG4gICAgfVxuICAgIHVybChtZXNzYWdlKSB7XG4gICAgICAgIHJldHVybiB0aGlzLl9hZGRDaGVjayh7IGtpbmQ6IFwidXJsXCIsIC4uLmVycm9yVXRpbC5lcnJUb09iaihtZXNzYWdlKSB9KTtcbiAgICB9XG4gICAgZW1vamkobWVzc2FnZSkge1xuICAgICAgICByZXR1cm4gdGhpcy5fYWRkQ2hlY2soeyBraW5kOiBcImVtb2ppXCIsIC4uLmVycm9yVXRpbC5lcnJUb09iaihtZXNzYWdlKSB9KTtcbiAgICB9XG4gICAgdXVpZChtZXNzYWdlKSB7XG4gICAgICAgIHJldHVybiB0aGlzLl9hZGRDaGVjayh7IGtpbmQ6IFwidXVpZFwiLCAuLi5lcnJvclV0aWwuZXJyVG9PYmoobWVzc2FnZSkgfSk7XG4gICAgfVxuICAgIG5hbm9pZChtZXNzYWdlKSB7XG4gICAgICAgIHJldHVybiB0aGlzLl9hZGRDaGVjayh7IGtpbmQ6IFwibmFub2lkXCIsIC4uLmVycm9yVXRpbC5lcnJUb09iaihtZXNzYWdlKSB9KTtcbiAgICB9XG4gICAgY3VpZChtZXNzYWdlKSB7XG4gICAgICAgIHJldHVybiB0aGlzLl9hZGRDaGVjayh7IGtpbmQ6IFwiY3VpZFwiLCAuLi5lcnJvclV0aWwuZXJyVG9PYmoobWVzc2FnZSkgfSk7XG4gICAgfVxuICAgIGN1aWQyKG1lc3NhZ2UpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuX2FkZENoZWNrKHsga2luZDogXCJjdWlkMlwiLCAuLi5lcnJvclV0aWwuZXJyVG9PYmoobWVzc2FnZSkgfSk7XG4gICAgfVxuICAgIHVsaWQobWVzc2FnZSkge1xuICAgICAgICByZXR1cm4gdGhpcy5fYWRkQ2hlY2soeyBraW5kOiBcInVsaWRcIiwgLi4uZXJyb3JVdGlsLmVyclRvT2JqKG1lc3NhZ2UpIH0pO1xuICAgIH1cbiAgICBiYXNlNjQobWVzc2FnZSkge1xuICAgICAgICByZXR1cm4gdGhpcy5fYWRkQ2hlY2soeyBraW5kOiBcImJhc2U2NFwiLCAuLi5lcnJvclV0aWwuZXJyVG9PYmoobWVzc2FnZSkgfSk7XG4gICAgfVxuICAgIGJhc2U2NHVybChtZXNzYWdlKSB7XG4gICAgICAgIC8vIGJhc2U2NHVybCBlbmNvZGluZyBpcyBhIG1vZGlmaWNhdGlvbiBvZiBiYXNlNjQgdGhhdCBjYW4gc2FmZWx5IGJlIHVzZWQgaW4gVVJMcyBhbmQgZmlsZW5hbWVzXG4gICAgICAgIHJldHVybiB0aGlzLl9hZGRDaGVjayh7XG4gICAgICAgICAgICBraW5kOiBcImJhc2U2NHVybFwiLFxuICAgICAgICAgICAgLi4uZXJyb3JVdGlsLmVyclRvT2JqKG1lc3NhZ2UpLFxuICAgICAgICB9KTtcbiAgICB9XG4gICAgand0KG9wdGlvbnMpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuX2FkZENoZWNrKHsga2luZDogXCJqd3RcIiwgLi4uZXJyb3JVdGlsLmVyclRvT2JqKG9wdGlvbnMpIH0pO1xuICAgIH1cbiAgICBpcChvcHRpb25zKSB7XG4gICAgICAgIHJldHVybiB0aGlzLl9hZGRDaGVjayh7IGtpbmQ6IFwiaXBcIiwgLi4uZXJyb3JVdGlsLmVyclRvT2JqKG9wdGlvbnMpIH0pO1xuICAgIH1cbiAgICBjaWRyKG9wdGlvbnMpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuX2FkZENoZWNrKHsga2luZDogXCJjaWRyXCIsIC4uLmVycm9yVXRpbC5lcnJUb09iaihvcHRpb25zKSB9KTtcbiAgICB9XG4gICAgZGF0ZXRpbWUob3B0aW9ucykge1xuICAgICAgICBpZiAodHlwZW9mIG9wdGlvbnMgPT09IFwic3RyaW5nXCIpIHtcbiAgICAgICAgICAgIHJldHVybiB0aGlzLl9hZGRDaGVjayh7XG4gICAgICAgICAgICAgICAga2luZDogXCJkYXRldGltZVwiLFxuICAgICAgICAgICAgICAgIHByZWNpc2lvbjogbnVsbCxcbiAgICAgICAgICAgICAgICBvZmZzZXQ6IGZhbHNlLFxuICAgICAgICAgICAgICAgIGxvY2FsOiBmYWxzZSxcbiAgICAgICAgICAgICAgICBtZXNzYWdlOiBvcHRpb25zLFxuICAgICAgICAgICAgfSk7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIHRoaXMuX2FkZENoZWNrKHtcbiAgICAgICAgICAgIGtpbmQ6IFwiZGF0ZXRpbWVcIixcbiAgICAgICAgICAgIHByZWNpc2lvbjogdHlwZW9mIG9wdGlvbnM/LnByZWNpc2lvbiA9PT0gXCJ1bmRlZmluZWRcIiA/IG51bGwgOiBvcHRpb25zPy5wcmVjaXNpb24sXG4gICAgICAgICAgICBvZmZzZXQ6IG9wdGlvbnM/Lm9mZnNldCA/PyBmYWxzZSxcbiAgICAgICAgICAgIGxvY2FsOiBvcHRpb25zPy5sb2NhbCA/PyBmYWxzZSxcbiAgICAgICAgICAgIC4uLmVycm9yVXRpbC5lcnJUb09iaihvcHRpb25zPy5tZXNzYWdlKSxcbiAgICAgICAgfSk7XG4gICAgfVxuICAgIGRhdGUobWVzc2FnZSkge1xuICAgICAgICByZXR1cm4gdGhpcy5fYWRkQ2hlY2soeyBraW5kOiBcImRhdGVcIiwgbWVzc2FnZSB9KTtcbiAgICB9XG4gICAgdGltZShvcHRpb25zKSB7XG4gICAgICAgIGlmICh0eXBlb2Ygb3B0aW9ucyA9PT0gXCJzdHJpbmdcIikge1xuICAgICAgICAgICAgcmV0dXJuIHRoaXMuX2FkZENoZWNrKHtcbiAgICAgICAgICAgICAgICBraW5kOiBcInRpbWVcIixcbiAgICAgICAgICAgICAgICBwcmVjaXNpb246IG51bGwsXG4gICAgICAgICAgICAgICAgbWVzc2FnZTogb3B0aW9ucyxcbiAgICAgICAgICAgIH0pO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiB0aGlzLl9hZGRDaGVjayh7XG4gICAgICAgICAgICBraW5kOiBcInRpbWVcIixcbiAgICAgICAgICAgIHByZWNpc2lvbjogdHlwZW9mIG9wdGlvbnM/LnByZWNpc2lvbiA9PT0gXCJ1bmRlZmluZWRcIiA/IG51bGwgOiBvcHRpb25zPy5wcmVjaXNpb24sXG4gICAgICAgICAgICAuLi5lcnJvclV0aWwuZXJyVG9PYmoob3B0aW9ucz8ubWVzc2FnZSksXG4gICAgICAgIH0pO1xuICAgIH1cbiAgICBkdXJhdGlvbihtZXNzYWdlKSB7XG4gICAgICAgIHJldHVybiB0aGlzLl9hZGRDaGVjayh7IGtpbmQ6IFwiZHVyYXRpb25cIiwgLi4uZXJyb3JVdGlsLmVyclRvT2JqKG1lc3NhZ2UpIH0pO1xuICAgIH1cbiAgICByZWdleChyZWdleCwgbWVzc2FnZSkge1xuICAgICAgICByZXR1cm4gdGhpcy5fYWRkQ2hlY2soe1xuICAgICAgICAgICAga2luZDogXCJyZWdleFwiLFxuICAgICAgICAgICAgcmVnZXg6IHJlZ2V4LFxuICAgICAgICAgICAgLi4uZXJyb3JVdGlsLmVyclRvT2JqKG1lc3NhZ2UpLFxuICAgICAgICB9KTtcbiAgICB9XG4gICAgaW5jbHVkZXModmFsdWUsIG9wdGlvbnMpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuX2FkZENoZWNrKHtcbiAgICAgICAgICAgIGtpbmQ6IFwiaW5jbHVkZXNcIixcbiAgICAgICAgICAgIHZhbHVlOiB2YWx1ZSxcbiAgICAgICAgICAgIHBvc2l0aW9uOiBvcHRpb25zPy5wb3NpdGlvbixcbiAgICAgICAgICAgIC4uLmVycm9yVXRpbC5lcnJUb09iaihvcHRpb25zPy5tZXNzYWdlKSxcbiAgICAgICAgfSk7XG4gICAgfVxuICAgIHN0YXJ0c1dpdGgodmFsdWUsIG1lc3NhZ2UpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuX2FkZENoZWNrKHtcbiAgICAgICAgICAgIGtpbmQ6IFwic3RhcnRzV2l0aFwiLFxuICAgICAgICAgICAgdmFsdWU6IHZhbHVlLFxuICAgICAgICAgICAgLi4uZXJyb3JVdGlsLmVyclRvT2JqKG1lc3NhZ2UpLFxuICAgICAgICB9KTtcbiAgICB9XG4gICAgZW5kc1dpdGgodmFsdWUsIG1lc3NhZ2UpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuX2FkZENoZWNrKHtcbiAgICAgICAgICAgIGtpbmQ6IFwiZW5kc1dpdGhcIixcbiAgICAgICAgICAgIHZhbHVlOiB2YWx1ZSxcbiAgICAgICAgICAgIC4uLmVycm9yVXRpbC5lcnJUb09iaihtZXNzYWdlKSxcbiAgICAgICAgfSk7XG4gICAgfVxuICAgIG1pbihtaW5MZW5ndGgsIG1lc3NhZ2UpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuX2FkZENoZWNrKHtcbiAgICAgICAgICAgIGtpbmQ6IFwibWluXCIsXG4gICAgICAgICAgICB2YWx1ZTogbWluTGVuZ3RoLFxuICAgICAgICAgICAgLi4uZXJyb3JVdGlsLmVyclRvT2JqKG1lc3NhZ2UpLFxuICAgICAgICB9KTtcbiAgICB9XG4gICAgbWF4KG1heExlbmd0aCwgbWVzc2FnZSkge1xuICAgICAgICByZXR1cm4gdGhpcy5fYWRkQ2hlY2soe1xuICAgICAgICAgICAga2luZDogXCJtYXhcIixcbiAgICAgICAgICAgIHZhbHVlOiBtYXhMZW5ndGgsXG4gICAgICAgICAgICAuLi5lcnJvclV0aWwuZXJyVG9PYmoobWVzc2FnZSksXG4gICAgICAgIH0pO1xuICAgIH1cbiAgICBsZW5ndGgobGVuLCBtZXNzYWdlKSB7XG4gICAgICAgIHJldHVybiB0aGlzLl9hZGRDaGVjayh7XG4gICAgICAgICAgICBraW5kOiBcImxlbmd0aFwiLFxuICAgICAgICAgICAgdmFsdWU6IGxlbixcbiAgICAgICAgICAgIC4uLmVycm9yVXRpbC5lcnJUb09iaihtZXNzYWdlKSxcbiAgICAgICAgfSk7XG4gICAgfVxuICAgIC8qKlxuICAgICAqIEVxdWl2YWxlbnQgdG8gYC5taW4oMSlgXG4gICAgICovXG4gICAgbm9uZW1wdHkobWVzc2FnZSkge1xuICAgICAgICByZXR1cm4gdGhpcy5taW4oMSwgZXJyb3JVdGlsLmVyclRvT2JqKG1lc3NhZ2UpKTtcbiAgICB9XG4gICAgdHJpbSgpIHtcbiAgICAgICAgcmV0dXJuIG5ldyBab2RTdHJpbmcoe1xuICAgICAgICAgICAgLi4udGhpcy5fZGVmLFxuICAgICAgICAgICAgY2hlY2tzOiBbLi4udGhpcy5fZGVmLmNoZWNrcywgeyBraW5kOiBcInRyaW1cIiB9XSxcbiAgICAgICAgfSk7XG4gICAgfVxuICAgIHRvTG93ZXJDYXNlKCkge1xuICAgICAgICByZXR1cm4gbmV3IFpvZFN0cmluZyh7XG4gICAgICAgICAgICAuLi50aGlzLl9kZWYsXG4gICAgICAgICAgICBjaGVja3M6IFsuLi50aGlzLl9kZWYuY2hlY2tzLCB7IGtpbmQ6IFwidG9Mb3dlckNhc2VcIiB9XSxcbiAgICAgICAgfSk7XG4gICAgfVxuICAgIHRvVXBwZXJDYXNlKCkge1xuICAgICAgICByZXR1cm4gbmV3IFpvZFN0cmluZyh7XG4gICAgICAgICAgICAuLi50aGlzLl9kZWYsXG4gICAgICAgICAgICBjaGVja3M6IFsuLi50aGlzLl9kZWYuY2hlY2tzLCB7IGtpbmQ6IFwidG9VcHBlckNhc2VcIiB9XSxcbiAgICAgICAgfSk7XG4gICAgfVxuICAgIGdldCBpc0RhdGV0aW1lKCkge1xuICAgICAgICByZXR1cm4gISF0aGlzLl9kZWYuY2hlY2tzLmZpbmQoKGNoKSA9PiBjaC5raW5kID09PSBcImRhdGV0aW1lXCIpO1xuICAgIH1cbiAgICBnZXQgaXNEYXRlKCkge1xuICAgICAgICByZXR1cm4gISF0aGlzLl9kZWYuY2hlY2tzLmZpbmQoKGNoKSA9PiBjaC5raW5kID09PSBcImRhdGVcIik7XG4gICAgfVxuICAgIGdldCBpc1RpbWUoKSB7XG4gICAgICAgIHJldHVybiAhIXRoaXMuX2RlZi5jaGVja3MuZmluZCgoY2gpID0+IGNoLmtpbmQgPT09IFwidGltZVwiKTtcbiAgICB9XG4gICAgZ2V0IGlzRHVyYXRpb24oKSB7XG4gICAgICAgIHJldHVybiAhIXRoaXMuX2RlZi5jaGVja3MuZmluZCgoY2gpID0+IGNoLmtpbmQgPT09IFwiZHVyYXRpb25cIik7XG4gICAgfVxuICAgIGdldCBpc0VtYWlsKCkge1xuICAgICAgICByZXR1cm4gISF0aGlzLl9kZWYuY2hlY2tzLmZpbmQoKGNoKSA9PiBjaC5raW5kID09PSBcImVtYWlsXCIpO1xuICAgIH1cbiAgICBnZXQgaXNVUkwoKSB7XG4gICAgICAgIHJldHVybiAhIXRoaXMuX2RlZi5jaGVja3MuZmluZCgoY2gpID0+IGNoLmtpbmQgPT09IFwidXJsXCIpO1xuICAgIH1cbiAgICBnZXQgaXNFbW9qaSgpIHtcbiAgICAgICAgcmV0dXJuICEhdGhpcy5fZGVmLmNoZWNrcy5maW5kKChjaCkgPT4gY2gua2luZCA9PT0gXCJlbW9qaVwiKTtcbiAgICB9XG4gICAgZ2V0IGlzVVVJRCgpIHtcbiAgICAgICAgcmV0dXJuICEhdGhpcy5fZGVmLmNoZWNrcy5maW5kKChjaCkgPT4gY2gua2luZCA9PT0gXCJ1dWlkXCIpO1xuICAgIH1cbiAgICBnZXQgaXNOQU5PSUQoKSB7XG4gICAgICAgIHJldHVybiAhIXRoaXMuX2RlZi5jaGVja3MuZmluZCgoY2gpID0+IGNoLmtpbmQgPT09IFwibmFub2lkXCIpO1xuICAgIH1cbiAgICBnZXQgaXNDVUlEKCkge1xuICAgICAgICByZXR1cm4gISF0aGlzLl9kZWYuY2hlY2tzLmZpbmQoKGNoKSA9PiBjaC5raW5kID09PSBcImN1aWRcIik7XG4gICAgfVxuICAgIGdldCBpc0NVSUQyKCkge1xuICAgICAgICByZXR1cm4gISF0aGlzLl9kZWYuY2hlY2tzLmZpbmQoKGNoKSA9PiBjaC5raW5kID09PSBcImN1aWQyXCIpO1xuICAgIH1cbiAgICBnZXQgaXNVTElEKCkge1xuICAgICAgICByZXR1cm4gISF0aGlzLl9kZWYuY2hlY2tzLmZpbmQoKGNoKSA9PiBjaC5raW5kID09PSBcInVsaWRcIik7XG4gICAgfVxuICAgIGdldCBpc0lQKCkge1xuICAgICAgICByZXR1cm4gISF0aGlzLl9kZWYuY2hlY2tzLmZpbmQoKGNoKSA9PiBjaC5raW5kID09PSBcImlwXCIpO1xuICAgIH1cbiAgICBnZXQgaXNDSURSKCkge1xuICAgICAgICByZXR1cm4gISF0aGlzLl9kZWYuY2hlY2tzLmZpbmQoKGNoKSA9PiBjaC5raW5kID09PSBcImNpZHJcIik7XG4gICAgfVxuICAgIGdldCBpc0Jhc2U2NCgpIHtcbiAgICAgICAgcmV0dXJuICEhdGhpcy5fZGVmLmNoZWNrcy5maW5kKChjaCkgPT4gY2gua2luZCA9PT0gXCJiYXNlNjRcIik7XG4gICAgfVxuICAgIGdldCBpc0Jhc2U2NHVybCgpIHtcbiAgICAgICAgLy8gYmFzZTY0dXJsIGVuY29kaW5nIGlzIGEgbW9kaWZpY2F0aW9uIG9mIGJhc2U2NCB0aGF0IGNhbiBzYWZlbHkgYmUgdXNlZCBpbiBVUkxzIGFuZCBmaWxlbmFtZXNcbiAgICAgICAgcmV0dXJuICEhdGhpcy5fZGVmLmNoZWNrcy5maW5kKChjaCkgPT4gY2gua2luZCA9PT0gXCJiYXNlNjR1cmxcIik7XG4gICAgfVxuICAgIGdldCBtaW5MZW5ndGgoKSB7XG4gICAgICAgIGxldCBtaW4gPSBudWxsO1xuICAgICAgICBmb3IgKGNvbnN0IGNoIG9mIHRoaXMuX2RlZi5jaGVja3MpIHtcbiAgICAgICAgICAgIGlmIChjaC5raW5kID09PSBcIm1pblwiKSB7XG4gICAgICAgICAgICAgICAgaWYgKG1pbiA9PT0gbnVsbCB8fCBjaC52YWx1ZSA+IG1pbilcbiAgICAgICAgICAgICAgICAgICAgbWluID0gY2gudmFsdWU7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIG1pbjtcbiAgICB9XG4gICAgZ2V0IG1heExlbmd0aCgpIHtcbiAgICAgICAgbGV0IG1heCA9IG51bGw7XG4gICAgICAgIGZvciAoY29uc3QgY2ggb2YgdGhpcy5fZGVmLmNoZWNrcykge1xuICAgICAgICAgICAgaWYgKGNoLmtpbmQgPT09IFwibWF4XCIpIHtcbiAgICAgICAgICAgICAgICBpZiAobWF4ID09PSBudWxsIHx8IGNoLnZhbHVlIDwgbWF4KVxuICAgICAgICAgICAgICAgICAgICBtYXggPSBjaC52YWx1ZTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gbWF4O1xuICAgIH1cbn1cblpvZFN0cmluZy5jcmVhdGUgPSAocGFyYW1zKSA9PiB7XG4gICAgcmV0dXJuIG5ldyBab2RTdHJpbmcoe1xuICAgICAgICBjaGVja3M6IFtdLFxuICAgICAgICB0eXBlTmFtZTogWm9kRmlyc3RQYXJ0eVR5cGVLaW5kLlpvZFN0cmluZyxcbiAgICAgICAgY29lcmNlOiBwYXJhbXM/LmNvZXJjZSA/PyBmYWxzZSxcbiAgICAgICAgLi4ucHJvY2Vzc0NyZWF0ZVBhcmFtcyhwYXJhbXMpLFxuICAgIH0pO1xufTtcbi8vIGh0dHBzOi8vc3RhY2tvdmVyZmxvdy5jb20vcXVlc3Rpb25zLzM5NjY0ODQvd2h5LWRvZXMtbW9kdWx1cy1vcGVyYXRvci1yZXR1cm4tZnJhY3Rpb25hbC1udW1iZXItaW4tamF2YXNjcmlwdC8zMTcxMTAzNCMzMTcxMTAzNFxuZnVuY3Rpb24gZmxvYXRTYWZlUmVtYWluZGVyKHZhbCwgc3RlcCkge1xuICAgIGNvbnN0IHZhbERlY0NvdW50ID0gKHZhbC50b1N0cmluZygpLnNwbGl0KFwiLlwiKVsxXSB8fCBcIlwiKS5sZW5ndGg7XG4gICAgY29uc3Qgc3RlcERlY0NvdW50ID0gKHN0ZXAudG9TdHJpbmcoKS5zcGxpdChcIi5cIilbMV0gfHwgXCJcIikubGVuZ3RoO1xuICAgIGNvbnN0IGRlY0NvdW50ID0gdmFsRGVjQ291bnQgPiBzdGVwRGVjQ291bnQgPyB2YWxEZWNDb3VudCA6IHN0ZXBEZWNDb3VudDtcbiAgICBjb25zdCB2YWxJbnQgPSBOdW1iZXIucGFyc2VJbnQodmFsLnRvRml4ZWQoZGVjQ291bnQpLnJlcGxhY2UoXCIuXCIsIFwiXCIpKTtcbiAgICBjb25zdCBzdGVwSW50ID0gTnVtYmVyLnBhcnNlSW50KHN0ZXAudG9GaXhlZChkZWNDb3VudCkucmVwbGFjZShcIi5cIiwgXCJcIikpO1xuICAgIHJldHVybiAodmFsSW50ICUgc3RlcEludCkgLyAxMCAqKiBkZWNDb3VudDtcbn1cbmV4cG9ydCBjbGFzcyBab2ROdW1iZXIgZXh0ZW5kcyBab2RUeXBlIHtcbiAgICBjb25zdHJ1Y3RvcigpIHtcbiAgICAgICAgc3VwZXIoLi4uYXJndW1lbnRzKTtcbiAgICAgICAgdGhpcy5taW4gPSB0aGlzLmd0ZTtcbiAgICAgICAgdGhpcy5tYXggPSB0aGlzLmx0ZTtcbiAgICAgICAgdGhpcy5zdGVwID0gdGhpcy5tdWx0aXBsZU9mO1xuICAgIH1cbiAgICBfcGFyc2UoaW5wdXQpIHtcbiAgICAgICAgaWYgKHRoaXMuX2RlZi5jb2VyY2UpIHtcbiAgICAgICAgICAgIGlucHV0LmRhdGEgPSBOdW1iZXIoaW5wdXQuZGF0YSk7XG4gICAgICAgIH1cbiAgICAgICAgY29uc3QgcGFyc2VkVHlwZSA9IHRoaXMuX2dldFR5cGUoaW5wdXQpO1xuICAgICAgICBpZiAocGFyc2VkVHlwZSAhPT0gWm9kUGFyc2VkVHlwZS5udW1iZXIpIHtcbiAgICAgICAgICAgIGNvbnN0IGN0eCA9IHRoaXMuX2dldE9yUmV0dXJuQ3R4KGlucHV0KTtcbiAgICAgICAgICAgIGFkZElzc3VlVG9Db250ZXh0KGN0eCwge1xuICAgICAgICAgICAgICAgIGNvZGU6IFpvZElzc3VlQ29kZS5pbnZhbGlkX3R5cGUsXG4gICAgICAgICAgICAgICAgZXhwZWN0ZWQ6IFpvZFBhcnNlZFR5cGUubnVtYmVyLFxuICAgICAgICAgICAgICAgIHJlY2VpdmVkOiBjdHgucGFyc2VkVHlwZSxcbiAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgcmV0dXJuIElOVkFMSUQ7XG4gICAgICAgIH1cbiAgICAgICAgbGV0IGN0eCA9IHVuZGVmaW5lZDtcbiAgICAgICAgY29uc3Qgc3RhdHVzID0gbmV3IFBhcnNlU3RhdHVzKCk7XG4gICAgICAgIGZvciAoY29uc3QgY2hlY2sgb2YgdGhpcy5fZGVmLmNoZWNrcykge1xuICAgICAgICAgICAgaWYgKGNoZWNrLmtpbmQgPT09IFwiaW50XCIpIHtcbiAgICAgICAgICAgICAgICBpZiAoIXV0aWwuaXNJbnRlZ2VyKGlucHV0LmRhdGEpKSB7XG4gICAgICAgICAgICAgICAgICAgIGN0eCA9IHRoaXMuX2dldE9yUmV0dXJuQ3R4KGlucHV0LCBjdHgpO1xuICAgICAgICAgICAgICAgICAgICBhZGRJc3N1ZVRvQ29udGV4dChjdHgsIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGNvZGU6IFpvZElzc3VlQ29kZS5pbnZhbGlkX3R5cGUsXG4gICAgICAgICAgICAgICAgICAgICAgICBleHBlY3RlZDogXCJpbnRlZ2VyXCIsXG4gICAgICAgICAgICAgICAgICAgICAgICByZWNlaXZlZDogXCJmbG9hdFwiLFxuICAgICAgICAgICAgICAgICAgICAgICAgbWVzc2FnZTogY2hlY2subWVzc2FnZSxcbiAgICAgICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICAgICAgICAgIHN0YXR1cy5kaXJ0eSgpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGVsc2UgaWYgKGNoZWNrLmtpbmQgPT09IFwibWluXCIpIHtcbiAgICAgICAgICAgICAgICBjb25zdCB0b29TbWFsbCA9IGNoZWNrLmluY2x1c2l2ZSA/IGlucHV0LmRhdGEgPCBjaGVjay52YWx1ZSA6IGlucHV0LmRhdGEgPD0gY2hlY2sudmFsdWU7XG4gICAgICAgICAgICAgICAgaWYgKHRvb1NtYWxsKSB7XG4gICAgICAgICAgICAgICAgICAgIGN0eCA9IHRoaXMuX2dldE9yUmV0dXJuQ3R4KGlucHV0LCBjdHgpO1xuICAgICAgICAgICAgICAgICAgICBhZGRJc3N1ZVRvQ29udGV4dChjdHgsIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGNvZGU6IFpvZElzc3VlQ29kZS50b29fc21hbGwsXG4gICAgICAgICAgICAgICAgICAgICAgICBtaW5pbXVtOiBjaGVjay52YWx1ZSxcbiAgICAgICAgICAgICAgICAgICAgICAgIHR5cGU6IFwibnVtYmVyXCIsXG4gICAgICAgICAgICAgICAgICAgICAgICBpbmNsdXNpdmU6IGNoZWNrLmluY2x1c2l2ZSxcbiAgICAgICAgICAgICAgICAgICAgICAgIGV4YWN0OiBmYWxzZSxcbiAgICAgICAgICAgICAgICAgICAgICAgIG1lc3NhZ2U6IGNoZWNrLm1lc3NhZ2UsXG4gICAgICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgICAgICAgICBzdGF0dXMuZGlydHkoKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBlbHNlIGlmIChjaGVjay5raW5kID09PSBcIm1heFwiKSB7XG4gICAgICAgICAgICAgICAgY29uc3QgdG9vQmlnID0gY2hlY2suaW5jbHVzaXZlID8gaW5wdXQuZGF0YSA+IGNoZWNrLnZhbHVlIDogaW5wdXQuZGF0YSA+PSBjaGVjay52YWx1ZTtcbiAgICAgICAgICAgICAgICBpZiAodG9vQmlnKSB7XG4gICAgICAgICAgICAgICAgICAgIGN0eCA9IHRoaXMuX2dldE9yUmV0dXJuQ3R4KGlucHV0LCBjdHgpO1xuICAgICAgICAgICAgICAgICAgICBhZGRJc3N1ZVRvQ29udGV4dChjdHgsIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGNvZGU6IFpvZElzc3VlQ29kZS50b29fYmlnLFxuICAgICAgICAgICAgICAgICAgICAgICAgbWF4aW11bTogY2hlY2sudmFsdWUsXG4gICAgICAgICAgICAgICAgICAgICAgICB0eXBlOiBcIm51bWJlclwiLFxuICAgICAgICAgICAgICAgICAgICAgICAgaW5jbHVzaXZlOiBjaGVjay5pbmNsdXNpdmUsXG4gICAgICAgICAgICAgICAgICAgICAgICBleGFjdDogZmFsc2UsXG4gICAgICAgICAgICAgICAgICAgICAgICBtZXNzYWdlOiBjaGVjay5tZXNzYWdlLFxuICAgICAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgICAgICAgICAgc3RhdHVzLmRpcnR5KCk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICAgICAgZWxzZSBpZiAoY2hlY2sua2luZCA9PT0gXCJtdWx0aXBsZU9mXCIpIHtcbiAgICAgICAgICAgICAgICBpZiAoZmxvYXRTYWZlUmVtYWluZGVyKGlucHV0LmRhdGEsIGNoZWNrLnZhbHVlKSAhPT0gMCkge1xuICAgICAgICAgICAgICAgICAgICBjdHggPSB0aGlzLl9nZXRPclJldHVybkN0eChpbnB1dCwgY3R4KTtcbiAgICAgICAgICAgICAgICAgICAgYWRkSXNzdWVUb0NvbnRleHQoY3R4LCB7XG4gICAgICAgICAgICAgICAgICAgICAgICBjb2RlOiBab2RJc3N1ZUNvZGUubm90X211bHRpcGxlX29mLFxuICAgICAgICAgICAgICAgICAgICAgICAgbXVsdGlwbGVPZjogY2hlY2sudmFsdWUsXG4gICAgICAgICAgICAgICAgICAgICAgICBtZXNzYWdlOiBjaGVjay5tZXNzYWdlLFxuICAgICAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgICAgICAgICAgc3RhdHVzLmRpcnR5KCk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICAgICAgZWxzZSBpZiAoY2hlY2sua2luZCA9PT0gXCJmaW5pdGVcIikge1xuICAgICAgICAgICAgICAgIGlmICghTnVtYmVyLmlzRmluaXRlKGlucHV0LmRhdGEpKSB7XG4gICAgICAgICAgICAgICAgICAgIGN0eCA9IHRoaXMuX2dldE9yUmV0dXJuQ3R4KGlucHV0LCBjdHgpO1xuICAgICAgICAgICAgICAgICAgICBhZGRJc3N1ZVRvQ29udGV4dChjdHgsIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGNvZGU6IFpvZElzc3VlQ29kZS5ub3RfZmluaXRlLFxuICAgICAgICAgICAgICAgICAgICAgICAgbWVzc2FnZTogY2hlY2subWVzc2FnZSxcbiAgICAgICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICAgICAgICAgIHN0YXR1cy5kaXJ0eSgpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgICAgIHV0aWwuYXNzZXJ0TmV2ZXIoY2hlY2spO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIHJldHVybiB7IHN0YXR1czogc3RhdHVzLnZhbHVlLCB2YWx1ZTogaW5wdXQuZGF0YSB9O1xuICAgIH1cbiAgICBndGUodmFsdWUsIG1lc3NhZ2UpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuc2V0TGltaXQoXCJtaW5cIiwgdmFsdWUsIHRydWUsIGVycm9yVXRpbC50b1N0cmluZyhtZXNzYWdlKSk7XG4gICAgfVxuICAgIGd0KHZhbHVlLCBtZXNzYWdlKSB7XG4gICAgICAgIHJldHVybiB0aGlzLnNldExpbWl0KFwibWluXCIsIHZhbHVlLCBmYWxzZSwgZXJyb3JVdGlsLnRvU3RyaW5nKG1lc3NhZ2UpKTtcbiAgICB9XG4gICAgbHRlKHZhbHVlLCBtZXNzYWdlKSB7XG4gICAgICAgIHJldHVybiB0aGlzLnNldExpbWl0KFwibWF4XCIsIHZhbHVlLCB0cnVlLCBlcnJvclV0aWwudG9TdHJpbmcobWVzc2FnZSkpO1xuICAgIH1cbiAgICBsdCh2YWx1ZSwgbWVzc2FnZSkge1xuICAgICAgICByZXR1cm4gdGhpcy5zZXRMaW1pdChcIm1heFwiLCB2YWx1ZSwgZmFsc2UsIGVycm9yVXRpbC50b1N0cmluZyhtZXNzYWdlKSk7XG4gICAgfVxuICAgIHNldExpbWl0KGtpbmQsIHZhbHVlLCBpbmNsdXNpdmUsIG1lc3NhZ2UpIHtcbiAgICAgICAgcmV0dXJuIG5ldyBab2ROdW1iZXIoe1xuICAgICAgICAgICAgLi4udGhpcy5fZGVmLFxuICAgICAgICAgICAgY2hlY2tzOiBbXG4gICAgICAgICAgICAgICAgLi4udGhpcy5fZGVmLmNoZWNrcyxcbiAgICAgICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgICAgIGtpbmQsXG4gICAgICAgICAgICAgICAgICAgIHZhbHVlLFxuICAgICAgICAgICAgICAgICAgICBpbmNsdXNpdmUsXG4gICAgICAgICAgICAgICAgICAgIG1lc3NhZ2U6IGVycm9yVXRpbC50b1N0cmluZyhtZXNzYWdlKSxcbiAgICAgICAgICAgICAgICB9LFxuICAgICAgICAgICAgXSxcbiAgICAgICAgfSk7XG4gICAgfVxuICAgIF9hZGRDaGVjayhjaGVjaykge1xuICAgICAgICByZXR1cm4gbmV3IFpvZE51bWJlcih7XG4gICAgICAgICAgICAuLi50aGlzLl9kZWYsXG4gICAgICAgICAgICBjaGVja3M6IFsuLi50aGlzLl9kZWYuY2hlY2tzLCBjaGVja10sXG4gICAgICAgIH0pO1xuICAgIH1cbiAgICBpbnQobWVzc2FnZSkge1xuICAgICAgICByZXR1cm4gdGhpcy5fYWRkQ2hlY2soe1xuICAgICAgICAgICAga2luZDogXCJpbnRcIixcbiAgICAgICAgICAgIG1lc3NhZ2U6IGVycm9yVXRpbC50b1N0cmluZyhtZXNzYWdlKSxcbiAgICAgICAgfSk7XG4gICAgfVxuICAgIHBvc2l0aXZlKG1lc3NhZ2UpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuX2FkZENoZWNrKHtcbiAgICAgICAgICAgIGtpbmQ6IFwibWluXCIsXG4gICAgICAgICAgICB2YWx1ZTogMCxcbiAgICAgICAgICAgIGluY2x1c2l2ZTogZmFsc2UsXG4gICAgICAgICAgICBtZXNzYWdlOiBlcnJvclV0aWwudG9TdHJpbmcobWVzc2FnZSksXG4gICAgICAgIH0pO1xuICAgIH1cbiAgICBuZWdhdGl2ZShtZXNzYWdlKSB7XG4gICAgICAgIHJldHVybiB0aGlzLl9hZGRDaGVjayh7XG4gICAgICAgICAgICBraW5kOiBcIm1heFwiLFxuICAgICAgICAgICAgdmFsdWU6IDAsXG4gICAgICAgICAgICBpbmNsdXNpdmU6IGZhbHNlLFxuICAgICAgICAgICAgbWVzc2FnZTogZXJyb3JVdGlsLnRvU3RyaW5nKG1lc3NhZ2UpLFxuICAgICAgICB9KTtcbiAgICB9XG4gICAgbm9ucG9zaXRpdmUobWVzc2FnZSkge1xuICAgICAgICByZXR1cm4gdGhpcy5fYWRkQ2hlY2soe1xuICAgICAgICAgICAga2luZDogXCJtYXhcIixcbiAgICAgICAgICAgIHZhbHVlOiAwLFxuICAgICAgICAgICAgaW5jbHVzaXZlOiB0cnVlLFxuICAgICAgICAgICAgbWVzc2FnZTogZXJyb3JVdGlsLnRvU3RyaW5nKG1lc3NhZ2UpLFxuICAgICAgICB9KTtcbiAgICB9XG4gICAgbm9ubmVnYXRpdmUobWVzc2FnZSkge1xuICAgICAgICByZXR1cm4gdGhpcy5fYWRkQ2hlY2soe1xuICAgICAgICAgICAga2luZDogXCJtaW5cIixcbiAgICAgICAgICAgIHZhbHVlOiAwLFxuICAgICAgICAgICAgaW5jbHVzaXZlOiB0cnVlLFxuICAgICAgICAgICAgbWVzc2FnZTogZXJyb3JVdGlsLnRvU3RyaW5nKG1lc3NhZ2UpLFxuICAgICAgICB9KTtcbiAgICB9XG4gICAgbXVsdGlwbGVPZih2YWx1ZSwgbWVzc2FnZSkge1xuICAgICAgICByZXR1cm4gdGhpcy5fYWRkQ2hlY2soe1xuICAgICAgICAgICAga2luZDogXCJtdWx0aXBsZU9mXCIsXG4gICAgICAgICAgICB2YWx1ZTogdmFsdWUsXG4gICAgICAgICAgICBtZXNzYWdlOiBlcnJvclV0aWwudG9TdHJpbmcobWVzc2FnZSksXG4gICAgICAgIH0pO1xuICAgIH1cbiAgICBmaW5pdGUobWVzc2FnZSkge1xuICAgICAgICByZXR1cm4gdGhpcy5fYWRkQ2hlY2soe1xuICAgICAgICAgICAga2luZDogXCJmaW5pdGVcIixcbiAgICAgICAgICAgIG1lc3NhZ2U6IGVycm9yVXRpbC50b1N0cmluZyhtZXNzYWdlKSxcbiAgICAgICAgfSk7XG4gICAgfVxuICAgIHNhZmUobWVzc2FnZSkge1xuICAgICAgICByZXR1cm4gdGhpcy5fYWRkQ2hlY2soe1xuICAgICAgICAgICAga2luZDogXCJtaW5cIixcbiAgICAgICAgICAgIGluY2x1c2l2ZTogdHJ1ZSxcbiAgICAgICAgICAgIHZhbHVlOiBOdW1iZXIuTUlOX1NBRkVfSU5URUdFUixcbiAgICAgICAgICAgIG1lc3NhZ2U6IGVycm9yVXRpbC50b1N0cmluZyhtZXNzYWdlKSxcbiAgICAgICAgfSkuX2FkZENoZWNrKHtcbiAgICAgICAgICAgIGtpbmQ6IFwibWF4XCIsXG4gICAgICAgICAgICBpbmNsdXNpdmU6IHRydWUsXG4gICAgICAgICAgICB2YWx1ZTogTnVtYmVyLk1BWF9TQUZFX0lOVEVHRVIsXG4gICAgICAgICAgICBtZXNzYWdlOiBlcnJvclV0aWwudG9TdHJpbmcobWVzc2FnZSksXG4gICAgICAgIH0pO1xuICAgIH1cbiAgICBnZXQgbWluVmFsdWUoKSB7XG4gICAgICAgIGxldCBtaW4gPSBudWxsO1xuICAgICAgICBmb3IgKGNvbnN0IGNoIG9mIHRoaXMuX2RlZi5jaGVja3MpIHtcbiAgICAgICAgICAgIGlmIChjaC5raW5kID09PSBcIm1pblwiKSB7XG4gICAgICAgICAgICAgICAgaWYgKG1pbiA9PT0gbnVsbCB8fCBjaC52YWx1ZSA+IG1pbilcbiAgICAgICAgICAgICAgICAgICAgbWluID0gY2gudmFsdWU7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIG1pbjtcbiAgICB9XG4gICAgZ2V0IG1heFZhbHVlKCkge1xuICAgICAgICBsZXQgbWF4ID0gbnVsbDtcbiAgICAgICAgZm9yIChjb25zdCBjaCBvZiB0aGlzLl9kZWYuY2hlY2tzKSB7XG4gICAgICAgICAgICBpZiAoY2gua2luZCA9PT0gXCJtYXhcIikge1xuICAgICAgICAgICAgICAgIGlmIChtYXggPT09IG51bGwgfHwgY2gudmFsdWUgPCBtYXgpXG4gICAgICAgICAgICAgICAgICAgIG1heCA9IGNoLnZhbHVlO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIHJldHVybiBtYXg7XG4gICAgfVxuICAgIGdldCBpc0ludCgpIHtcbiAgICAgICAgcmV0dXJuICEhdGhpcy5fZGVmLmNoZWNrcy5maW5kKChjaCkgPT4gY2gua2luZCA9PT0gXCJpbnRcIiB8fCAoY2gua2luZCA9PT0gXCJtdWx0aXBsZU9mXCIgJiYgdXRpbC5pc0ludGVnZXIoY2gudmFsdWUpKSk7XG4gICAgfVxuICAgIGdldCBpc0Zpbml0ZSgpIHtcbiAgICAgICAgbGV0IG1heCA9IG51bGw7XG4gICAgICAgIGxldCBtaW4gPSBudWxsO1xuICAgICAgICBmb3IgKGNvbnN0IGNoIG9mIHRoaXMuX2RlZi5jaGVja3MpIHtcbiAgICAgICAgICAgIGlmIChjaC5raW5kID09PSBcImZpbml0ZVwiIHx8IGNoLmtpbmQgPT09IFwiaW50XCIgfHwgY2gua2luZCA9PT0gXCJtdWx0aXBsZU9mXCIpIHtcbiAgICAgICAgICAgICAgICByZXR1cm4gdHJ1ZTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGVsc2UgaWYgKGNoLmtpbmQgPT09IFwibWluXCIpIHtcbiAgICAgICAgICAgICAgICBpZiAobWluID09PSBudWxsIHx8IGNoLnZhbHVlID4gbWluKVxuICAgICAgICAgICAgICAgICAgICBtaW4gPSBjaC52YWx1ZTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGVsc2UgaWYgKGNoLmtpbmQgPT09IFwibWF4XCIpIHtcbiAgICAgICAgICAgICAgICBpZiAobWF4ID09PSBudWxsIHx8IGNoLnZhbHVlIDwgbWF4KVxuICAgICAgICAgICAgICAgICAgICBtYXggPSBjaC52YWx1ZTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gTnVtYmVyLmlzRmluaXRlKG1pbikgJiYgTnVtYmVyLmlzRmluaXRlKG1heCk7XG4gICAgfVxufVxuWm9kTnVtYmVyLmNyZWF0ZSA9IChwYXJhbXMpID0+IHtcbiAgICByZXR1cm4gbmV3IFpvZE51bWJlcih7XG4gICAgICAgIGNoZWNrczogW10sXG4gICAgICAgIHR5cGVOYW1lOiBab2RGaXJzdFBhcnR5VHlwZUtpbmQuWm9kTnVtYmVyLFxuICAgICAgICBjb2VyY2U6IHBhcmFtcz8uY29lcmNlIHx8IGZhbHNlLFxuICAgICAgICAuLi5wcm9jZXNzQ3JlYXRlUGFyYW1zKHBhcmFtcyksXG4gICAgfSk7XG59O1xuZXhwb3J0IGNsYXNzIFpvZEJpZ0ludCBleHRlbmRzIFpvZFR5cGUge1xuICAgIGNvbnN0cnVjdG9yKCkge1xuICAgICAgICBzdXBlciguLi5hcmd1bWVudHMpO1xuICAgICAgICB0aGlzLm1pbiA9IHRoaXMuZ3RlO1xuICAgICAgICB0aGlzLm1heCA9IHRoaXMubHRlO1xuICAgIH1cbiAgICBfcGFyc2UoaW5wdXQpIHtcbiAgICAgICAgaWYgKHRoaXMuX2RlZi5jb2VyY2UpIHtcbiAgICAgICAgICAgIHRyeSB7XG4gICAgICAgICAgICAgICAgaW5wdXQuZGF0YSA9IEJpZ0ludChpbnB1dC5kYXRhKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGNhdGNoIHtcbiAgICAgICAgICAgICAgICByZXR1cm4gdGhpcy5fZ2V0SW52YWxpZElucHV0KGlucHV0KTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICBjb25zdCBwYXJzZWRUeXBlID0gdGhpcy5fZ2V0VHlwZShpbnB1dCk7XG4gICAgICAgIGlmIChwYXJzZWRUeXBlICE9PSBab2RQYXJzZWRUeXBlLmJpZ2ludCkge1xuICAgICAgICAgICAgcmV0dXJuIHRoaXMuX2dldEludmFsaWRJbnB1dChpbnB1dCk7XG4gICAgICAgIH1cbiAgICAgICAgbGV0IGN0eCA9IHVuZGVmaW5lZDtcbiAgICAgICAgY29uc3Qgc3RhdHVzID0gbmV3IFBhcnNlU3RhdHVzKCk7XG4gICAgICAgIGZvciAoY29uc3QgY2hlY2sgb2YgdGhpcy5fZGVmLmNoZWNrcykge1xuICAgICAgICAgICAgaWYgKGNoZWNrLmtpbmQgPT09IFwibWluXCIpIHtcbiAgICAgICAgICAgICAgICBjb25zdCB0b29TbWFsbCA9IGNoZWNrLmluY2x1c2l2ZSA/IGlucHV0LmRhdGEgPCBjaGVjay52YWx1ZSA6IGlucHV0LmRhdGEgPD0gY2hlY2sudmFsdWU7XG4gICAgICAgICAgICAgICAgaWYgKHRvb1NtYWxsKSB7XG4gICAgICAgICAgICAgICAgICAgIGN0eCA9IHRoaXMuX2dldE9yUmV0dXJuQ3R4KGlucHV0LCBjdHgpO1xuICAgICAgICAgICAgICAgICAgICBhZGRJc3N1ZVRvQ29udGV4dChjdHgsIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGNvZGU6IFpvZElzc3VlQ29kZS50b29fc21hbGwsXG4gICAgICAgICAgICAgICAgICAgICAgICB0eXBlOiBcImJpZ2ludFwiLFxuICAgICAgICAgICAgICAgICAgICAgICAgbWluaW11bTogY2hlY2sudmFsdWUsXG4gICAgICAgICAgICAgICAgICAgICAgICBpbmNsdXNpdmU6IGNoZWNrLmluY2x1c2l2ZSxcbiAgICAgICAgICAgICAgICAgICAgICAgIG1lc3NhZ2U6IGNoZWNrLm1lc3NhZ2UsXG4gICAgICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgICAgICAgICBzdGF0dXMuZGlydHkoKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBlbHNlIGlmIChjaGVjay5raW5kID09PSBcIm1heFwiKSB7XG4gICAgICAgICAgICAgICAgY29uc3QgdG9vQmlnID0gY2hlY2suaW5jbHVzaXZlID8gaW5wdXQuZGF0YSA+IGNoZWNrLnZhbHVlIDogaW5wdXQuZGF0YSA+PSBjaGVjay52YWx1ZTtcbiAgICAgICAgICAgICAgICBpZiAodG9vQmlnKSB7XG4gICAgICAgICAgICAgICAgICAgIGN0eCA9IHRoaXMuX2dldE9yUmV0dXJuQ3R4KGlucHV0LCBjdHgpO1xuICAgICAgICAgICAgICAgICAgICBhZGRJc3N1ZVRvQ29udGV4dChjdHgsIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGNvZGU6IFpvZElzc3VlQ29kZS50b29fYmlnLFxuICAgICAgICAgICAgICAgICAgICAgICAgdHlwZTogXCJiaWdpbnRcIixcbiAgICAgICAgICAgICAgICAgICAgICAgIG1heGltdW06IGNoZWNrLnZhbHVlLFxuICAgICAgICAgICAgICAgICAgICAgICAgaW5jbHVzaXZlOiBjaGVjay5pbmNsdXNpdmUsXG4gICAgICAgICAgICAgICAgICAgICAgICBtZXNzYWdlOiBjaGVjay5tZXNzYWdlLFxuICAgICAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgICAgICAgICAgc3RhdHVzLmRpcnR5KCk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICAgICAgZWxzZSBpZiAoY2hlY2sua2luZCA9PT0gXCJtdWx0aXBsZU9mXCIpIHtcbiAgICAgICAgICAgICAgICBpZiAoaW5wdXQuZGF0YSAlIGNoZWNrLnZhbHVlICE9PSBCaWdJbnQoMCkpIHtcbiAgICAgICAgICAgICAgICAgICAgY3R4ID0gdGhpcy5fZ2V0T3JSZXR1cm5DdHgoaW5wdXQsIGN0eCk7XG4gICAgICAgICAgICAgICAgICAgIGFkZElzc3VlVG9Db250ZXh0KGN0eCwge1xuICAgICAgICAgICAgICAgICAgICAgICAgY29kZTogWm9kSXNzdWVDb2RlLm5vdF9tdWx0aXBsZV9vZixcbiAgICAgICAgICAgICAgICAgICAgICAgIG11bHRpcGxlT2Y6IGNoZWNrLnZhbHVlLFxuICAgICAgICAgICAgICAgICAgICAgICAgbWVzc2FnZTogY2hlY2subWVzc2FnZSxcbiAgICAgICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICAgICAgICAgIHN0YXR1cy5kaXJ0eSgpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgICAgIHV0aWwuYXNzZXJ0TmV2ZXIoY2hlY2spO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIHJldHVybiB7IHN0YXR1czogc3RhdHVzLnZhbHVlLCB2YWx1ZTogaW5wdXQuZGF0YSB9O1xuICAgIH1cbiAgICBfZ2V0SW52YWxpZElucHV0KGlucHV0KSB7XG4gICAgICAgIGNvbnN0IGN0eCA9IHRoaXMuX2dldE9yUmV0dXJuQ3R4KGlucHV0KTtcbiAgICAgICAgYWRkSXNzdWVUb0NvbnRleHQoY3R4LCB7XG4gICAgICAgICAgICBjb2RlOiBab2RJc3N1ZUNvZGUuaW52YWxpZF90eXBlLFxuICAgICAgICAgICAgZXhwZWN0ZWQ6IFpvZFBhcnNlZFR5cGUuYmlnaW50LFxuICAgICAgICAgICAgcmVjZWl2ZWQ6IGN0eC5wYXJzZWRUeXBlLFxuICAgICAgICB9KTtcbiAgICAgICAgcmV0dXJuIElOVkFMSUQ7XG4gICAgfVxuICAgIGd0ZSh2YWx1ZSwgbWVzc2FnZSkge1xuICAgICAgICByZXR1cm4gdGhpcy5zZXRMaW1pdChcIm1pblwiLCB2YWx1ZSwgdHJ1ZSwgZXJyb3JVdGlsLnRvU3RyaW5nKG1lc3NhZ2UpKTtcbiAgICB9XG4gICAgZ3QodmFsdWUsIG1lc3NhZ2UpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuc2V0TGltaXQoXCJtaW5cIiwgdmFsdWUsIGZhbHNlLCBlcnJvclV0aWwudG9TdHJpbmcobWVzc2FnZSkpO1xuICAgIH1cbiAgICBsdGUodmFsdWUsIG1lc3NhZ2UpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuc2V0TGltaXQoXCJtYXhcIiwgdmFsdWUsIHRydWUsIGVycm9yVXRpbC50b1N0cmluZyhtZXNzYWdlKSk7XG4gICAgfVxuICAgIGx0KHZhbHVlLCBtZXNzYWdlKSB7XG4gICAgICAgIHJldHVybiB0aGlzLnNldExpbWl0KFwibWF4XCIsIHZhbHVlLCBmYWxzZSwgZXJyb3JVdGlsLnRvU3RyaW5nKG1lc3NhZ2UpKTtcbiAgICB9XG4gICAgc2V0TGltaXQoa2luZCwgdmFsdWUsIGluY2x1c2l2ZSwgbWVzc2FnZSkge1xuICAgICAgICByZXR1cm4gbmV3IFpvZEJpZ0ludCh7XG4gICAgICAgICAgICAuLi50aGlzLl9kZWYsXG4gICAgICAgICAgICBjaGVja3M6IFtcbiAgICAgICAgICAgICAgICAuLi50aGlzLl9kZWYuY2hlY2tzLFxuICAgICAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICAgICAga2luZCxcbiAgICAgICAgICAgICAgICAgICAgdmFsdWUsXG4gICAgICAgICAgICAgICAgICAgIGluY2x1c2l2ZSxcbiAgICAgICAgICAgICAgICAgICAgbWVzc2FnZTogZXJyb3JVdGlsLnRvU3RyaW5nKG1lc3NhZ2UpLFxuICAgICAgICAgICAgICAgIH0sXG4gICAgICAgICAgICBdLFxuICAgICAgICB9KTtcbiAgICB9XG4gICAgX2FkZENoZWNrKGNoZWNrKSB7XG4gICAgICAgIHJldHVybiBuZXcgWm9kQmlnSW50KHtcbiAgICAgICAgICAgIC4uLnRoaXMuX2RlZixcbiAgICAgICAgICAgIGNoZWNrczogWy4uLnRoaXMuX2RlZi5jaGVja3MsIGNoZWNrXSxcbiAgICAgICAgfSk7XG4gICAgfVxuICAgIHBvc2l0aXZlKG1lc3NhZ2UpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuX2FkZENoZWNrKHtcbiAgICAgICAgICAgIGtpbmQ6IFwibWluXCIsXG4gICAgICAgICAgICB2YWx1ZTogQmlnSW50KDApLFxuICAgICAgICAgICAgaW5jbHVzaXZlOiBmYWxzZSxcbiAgICAgICAgICAgIG1lc3NhZ2U6IGVycm9yVXRpbC50b1N0cmluZyhtZXNzYWdlKSxcbiAgICAgICAgfSk7XG4gICAgfVxuICAgIG5lZ2F0aXZlKG1lc3NhZ2UpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuX2FkZENoZWNrKHtcbiAgICAgICAgICAgIGtpbmQ6IFwibWF4XCIsXG4gICAgICAgICAgICB2YWx1ZTogQmlnSW50KDApLFxuICAgICAgICAgICAgaW5jbHVzaXZlOiBmYWxzZSxcbiAgICAgICAgICAgIG1lc3NhZ2U6IGVycm9yVXRpbC50b1N0cmluZyhtZXNzYWdlKSxcbiAgICAgICAgfSk7XG4gICAgfVxuICAgIG5vbnBvc2l0aXZlKG1lc3NhZ2UpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuX2FkZENoZWNrKHtcbiAgICAgICAgICAgIGtpbmQ6IFwibWF4XCIsXG4gICAgICAgICAgICB2YWx1ZTogQmlnSW50KDApLFxuICAgICAgICAgICAgaW5jbHVzaXZlOiB0cnVlLFxuICAgICAgICAgICAgbWVzc2FnZTogZXJyb3JVdGlsLnRvU3RyaW5nKG1lc3NhZ2UpLFxuICAgICAgICB9KTtcbiAgICB9XG4gICAgbm9ubmVnYXRpdmUobWVzc2FnZSkge1xuICAgICAgICByZXR1cm4gdGhpcy5fYWRkQ2hlY2soe1xuICAgICAgICAgICAga2luZDogXCJtaW5cIixcbiAgICAgICAgICAgIHZhbHVlOiBCaWdJbnQoMCksXG4gICAgICAgICAgICBpbmNsdXNpdmU6IHRydWUsXG4gICAgICAgICAgICBtZXNzYWdlOiBlcnJvclV0aWwudG9TdHJpbmcobWVzc2FnZSksXG4gICAgICAgIH0pO1xuICAgIH1cbiAgICBtdWx0aXBsZU9mKHZhbHVlLCBtZXNzYWdlKSB7XG4gICAgICAgIHJldHVybiB0aGlzLl9hZGRDaGVjayh7XG4gICAgICAgICAgICBraW5kOiBcIm11bHRpcGxlT2ZcIixcbiAgICAgICAgICAgIHZhbHVlLFxuICAgICAgICAgICAgbWVzc2FnZTogZXJyb3JVdGlsLnRvU3RyaW5nKG1lc3NhZ2UpLFxuICAgICAgICB9KTtcbiAgICB9XG4gICAgZ2V0IG1pblZhbHVlKCkge1xuICAgICAgICBsZXQgbWluID0gbnVsbDtcbiAgICAgICAgZm9yIChjb25zdCBjaCBvZiB0aGlzLl9kZWYuY2hlY2tzKSB7XG4gICAgICAgICAgICBpZiAoY2gua2luZCA9PT0gXCJtaW5cIikge1xuICAgICAgICAgICAgICAgIGlmIChtaW4gPT09IG51bGwgfHwgY2gudmFsdWUgPiBtaW4pXG4gICAgICAgICAgICAgICAgICAgIG1pbiA9IGNoLnZhbHVlO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIHJldHVybiBtaW47XG4gICAgfVxuICAgIGdldCBtYXhWYWx1ZSgpIHtcbiAgICAgICAgbGV0IG1heCA9IG51bGw7XG4gICAgICAgIGZvciAoY29uc3QgY2ggb2YgdGhpcy5fZGVmLmNoZWNrcykge1xuICAgICAgICAgICAgaWYgKGNoLmtpbmQgPT09IFwibWF4XCIpIHtcbiAgICAgICAgICAgICAgICBpZiAobWF4ID09PSBudWxsIHx8IGNoLnZhbHVlIDwgbWF4KVxuICAgICAgICAgICAgICAgICAgICBtYXggPSBjaC52YWx1ZTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gbWF4O1xuICAgIH1cbn1cblpvZEJpZ0ludC5jcmVhdGUgPSAocGFyYW1zKSA9PiB7XG4gICAgcmV0dXJuIG5ldyBab2RCaWdJbnQoe1xuICAgICAgICBjaGVja3M6IFtdLFxuICAgICAgICB0eXBlTmFtZTogWm9kRmlyc3RQYXJ0eVR5cGVLaW5kLlpvZEJpZ0ludCxcbiAgICAgICAgY29lcmNlOiBwYXJhbXM/LmNvZXJjZSA/PyBmYWxzZSxcbiAgICAgICAgLi4ucHJvY2Vzc0NyZWF0ZVBhcmFtcyhwYXJhbXMpLFxuICAgIH0pO1xufTtcbmV4cG9ydCBjbGFzcyBab2RCb29sZWFuIGV4dGVuZHMgWm9kVHlwZSB7XG4gICAgX3BhcnNlKGlucHV0KSB7XG4gICAgICAgIGlmICh0aGlzLl9kZWYuY29lcmNlKSB7XG4gICAgICAgICAgICBpbnB1dC5kYXRhID0gQm9vbGVhbihpbnB1dC5kYXRhKTtcbiAgICAgICAgfVxuICAgICAgICBjb25zdCBwYXJzZWRUeXBlID0gdGhpcy5fZ2V0VHlwZShpbnB1dCk7XG4gICAgICAgIGlmIChwYXJzZWRUeXBlICE9PSBab2RQYXJzZWRUeXBlLmJvb2xlYW4pIHtcbiAgICAgICAgICAgIGNvbnN0IGN0eCA9IHRoaXMuX2dldE9yUmV0dXJuQ3R4KGlucHV0KTtcbiAgICAgICAgICAgIGFkZElzc3VlVG9Db250ZXh0KGN0eCwge1xuICAgICAgICAgICAgICAgIGNvZGU6IFpvZElzc3VlQ29kZS5pbnZhbGlkX3R5cGUsXG4gICAgICAgICAgICAgICAgZXhwZWN0ZWQ6IFpvZFBhcnNlZFR5cGUuYm9vbGVhbixcbiAgICAgICAgICAgICAgICByZWNlaXZlZDogY3R4LnBhcnNlZFR5cGUsXG4gICAgICAgICAgICB9KTtcbiAgICAgICAgICAgIHJldHVybiBJTlZBTElEO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiBPSyhpbnB1dC5kYXRhKTtcbiAgICB9XG59XG5ab2RCb29sZWFuLmNyZWF0ZSA9IChwYXJhbXMpID0+IHtcbiAgICByZXR1cm4gbmV3IFpvZEJvb2xlYW4oe1xuICAgICAgICB0eXBlTmFtZTogWm9kRmlyc3RQYXJ0eVR5cGVLaW5kLlpvZEJvb2xlYW4sXG4gICAgICAgIGNvZXJjZTogcGFyYW1zPy5jb2VyY2UgfHwgZmFsc2UsXG4gICAgICAgIC4uLnByb2Nlc3NDcmVhdGVQYXJhbXMocGFyYW1zKSxcbiAgICB9KTtcbn07XG5leHBvcnQgY2xhc3MgWm9kRGF0ZSBleHRlbmRzIFpvZFR5cGUge1xuICAgIF9wYXJzZShpbnB1dCkge1xuICAgICAgICBpZiAodGhpcy5fZGVmLmNvZXJjZSkge1xuICAgICAgICAgICAgaW5wdXQuZGF0YSA9IG5ldyBEYXRlKGlucHV0LmRhdGEpO1xuICAgICAgICB9XG4gICAgICAgIGNvbnN0IHBhcnNlZFR5cGUgPSB0aGlzLl9nZXRUeXBlKGlucHV0KTtcbiAgICAgICAgaWYgKHBhcnNlZFR5cGUgIT09IFpvZFBhcnNlZFR5cGUuZGF0ZSkge1xuICAgICAgICAgICAgY29uc3QgY3R4ID0gdGhpcy5fZ2V0T3JSZXR1cm5DdHgoaW5wdXQpO1xuICAgICAgICAgICAgYWRkSXNzdWVUb0NvbnRleHQoY3R4LCB7XG4gICAgICAgICAgICAgICAgY29kZTogWm9kSXNzdWVDb2RlLmludmFsaWRfdHlwZSxcbiAgICAgICAgICAgICAgICBleHBlY3RlZDogWm9kUGFyc2VkVHlwZS5kYXRlLFxuICAgICAgICAgICAgICAgIHJlY2VpdmVkOiBjdHgucGFyc2VkVHlwZSxcbiAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgcmV0dXJuIElOVkFMSUQ7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKE51bWJlci5pc05hTihpbnB1dC5kYXRhLmdldFRpbWUoKSkpIHtcbiAgICAgICAgICAgIGNvbnN0IGN0eCA9IHRoaXMuX2dldE9yUmV0dXJuQ3R4KGlucHV0KTtcbiAgICAgICAgICAgIGFkZElzc3VlVG9Db250ZXh0KGN0eCwge1xuICAgICAgICAgICAgICAgIGNvZGU6IFpvZElzc3VlQ29kZS5pbnZhbGlkX2RhdGUsXG4gICAgICAgICAgICB9KTtcbiAgICAgICAgICAgIHJldHVybiBJTlZBTElEO1xuICAgICAgICB9XG4gICAgICAgIGNvbnN0IHN0YXR1cyA9IG5ldyBQYXJzZVN0YXR1cygpO1xuICAgICAgICBsZXQgY3R4ID0gdW5kZWZpbmVkO1xuICAgICAgICBmb3IgKGNvbnN0IGNoZWNrIG9mIHRoaXMuX2RlZi5jaGVja3MpIHtcbiAgICAgICAgICAgIGlmIChjaGVjay5raW5kID09PSBcIm1pblwiKSB7XG4gICAgICAgICAgICAgICAgaWYgKGlucHV0LmRhdGEuZ2V0VGltZSgpIDwgY2hlY2sudmFsdWUpIHtcbiAgICAgICAgICAgICAgICAgICAgY3R4ID0gdGhpcy5fZ2V0T3JSZXR1cm5DdHgoaW5wdXQsIGN0eCk7XG4gICAgICAgICAgICAgICAgICAgIGFkZElzc3VlVG9Db250ZXh0KGN0eCwge1xuICAgICAgICAgICAgICAgICAgICAgICAgY29kZTogWm9kSXNzdWVDb2RlLnRvb19zbWFsbCxcbiAgICAgICAgICAgICAgICAgICAgICAgIG1lc3NhZ2U6IGNoZWNrLm1lc3NhZ2UsXG4gICAgICAgICAgICAgICAgICAgICAgICBpbmNsdXNpdmU6IHRydWUsXG4gICAgICAgICAgICAgICAgICAgICAgICBleGFjdDogZmFsc2UsXG4gICAgICAgICAgICAgICAgICAgICAgICBtaW5pbXVtOiBjaGVjay52YWx1ZSxcbiAgICAgICAgICAgICAgICAgICAgICAgIHR5cGU6IFwiZGF0ZVwiLFxuICAgICAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgICAgICAgICAgc3RhdHVzLmRpcnR5KCk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICAgICAgZWxzZSBpZiAoY2hlY2sua2luZCA9PT0gXCJtYXhcIikge1xuICAgICAgICAgICAgICAgIGlmIChpbnB1dC5kYXRhLmdldFRpbWUoKSA+IGNoZWNrLnZhbHVlKSB7XG4gICAgICAgICAgICAgICAgICAgIGN0eCA9IHRoaXMuX2dldE9yUmV0dXJuQ3R4KGlucHV0LCBjdHgpO1xuICAgICAgICAgICAgICAgICAgICBhZGRJc3N1ZVRvQ29udGV4dChjdHgsIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGNvZGU6IFpvZElzc3VlQ29kZS50b29fYmlnLFxuICAgICAgICAgICAgICAgICAgICAgICAgbWVzc2FnZTogY2hlY2subWVzc2FnZSxcbiAgICAgICAgICAgICAgICAgICAgICAgIGluY2x1c2l2ZTogdHJ1ZSxcbiAgICAgICAgICAgICAgICAgICAgICAgIGV4YWN0OiBmYWxzZSxcbiAgICAgICAgICAgICAgICAgICAgICAgIG1heGltdW06IGNoZWNrLnZhbHVlLFxuICAgICAgICAgICAgICAgICAgICAgICAgdHlwZTogXCJkYXRlXCIsXG4gICAgICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgICAgICAgICBzdGF0dXMuZGlydHkoKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgICAgICB1dGlsLmFzc2VydE5ldmVyKGNoZWNrKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICByZXR1cm4ge1xuICAgICAgICAgICAgc3RhdHVzOiBzdGF0dXMudmFsdWUsXG4gICAgICAgICAgICB2YWx1ZTogbmV3IERhdGUoaW5wdXQuZGF0YS5nZXRUaW1lKCkpLFxuICAgICAgICB9O1xuICAgIH1cbiAgICBfYWRkQ2hlY2soY2hlY2spIHtcbiAgICAgICAgcmV0dXJuIG5ldyBab2REYXRlKHtcbiAgICAgICAgICAgIC4uLnRoaXMuX2RlZixcbiAgICAgICAgICAgIGNoZWNrczogWy4uLnRoaXMuX2RlZi5jaGVja3MsIGNoZWNrXSxcbiAgICAgICAgfSk7XG4gICAgfVxuICAgIG1pbihtaW5EYXRlLCBtZXNzYWdlKSB7XG4gICAgICAgIHJldHVybiB0aGlzLl9hZGRDaGVjayh7XG4gICAgICAgICAgICBraW5kOiBcIm1pblwiLFxuICAgICAgICAgICAgdmFsdWU6IG1pbkRhdGUuZ2V0VGltZSgpLFxuICAgICAgICAgICAgbWVzc2FnZTogZXJyb3JVdGlsLnRvU3RyaW5nKG1lc3NhZ2UpLFxuICAgICAgICB9KTtcbiAgICB9XG4gICAgbWF4KG1heERhdGUsIG1lc3NhZ2UpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuX2FkZENoZWNrKHtcbiAgICAgICAgICAgIGtpbmQ6IFwibWF4XCIsXG4gICAgICAgICAgICB2YWx1ZTogbWF4RGF0ZS5nZXRUaW1lKCksXG4gICAgICAgICAgICBtZXNzYWdlOiBlcnJvclV0aWwudG9TdHJpbmcobWVzc2FnZSksXG4gICAgICAgIH0pO1xuICAgIH1cbiAgICBnZXQgbWluRGF0ZSgpIHtcbiAgICAgICAgbGV0IG1pbiA9IG51bGw7XG4gICAgICAgIGZvciAoY29uc3QgY2ggb2YgdGhpcy5fZGVmLmNoZWNrcykge1xuICAgICAgICAgICAgaWYgKGNoLmtpbmQgPT09IFwibWluXCIpIHtcbiAgICAgICAgICAgICAgICBpZiAobWluID09PSBudWxsIHx8IGNoLnZhbHVlID4gbWluKVxuICAgICAgICAgICAgICAgICAgICBtaW4gPSBjaC52YWx1ZTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gbWluICE9IG51bGwgPyBuZXcgRGF0ZShtaW4pIDogbnVsbDtcbiAgICB9XG4gICAgZ2V0IG1heERhdGUoKSB7XG4gICAgICAgIGxldCBtYXggPSBudWxsO1xuICAgICAgICBmb3IgKGNvbnN0IGNoIG9mIHRoaXMuX2RlZi5jaGVja3MpIHtcbiAgICAgICAgICAgIGlmIChjaC5raW5kID09PSBcIm1heFwiKSB7XG4gICAgICAgICAgICAgICAgaWYgKG1heCA9PT0gbnVsbCB8fCBjaC52YWx1ZSA8IG1heClcbiAgICAgICAgICAgICAgICAgICAgbWF4ID0gY2gudmFsdWU7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIG1heCAhPSBudWxsID8gbmV3IERhdGUobWF4KSA6IG51bGw7XG4gICAgfVxufVxuWm9kRGF0ZS5jcmVhdGUgPSAocGFyYW1zKSA9PiB7XG4gICAgcmV0dXJuIG5ldyBab2REYXRlKHtcbiAgICAgICAgY2hlY2tzOiBbXSxcbiAgICAgICAgY29lcmNlOiBwYXJhbXM/LmNvZXJjZSB8fCBmYWxzZSxcbiAgICAgICAgdHlwZU5hbWU6IFpvZEZpcnN0UGFydHlUeXBlS2luZC5ab2REYXRlLFxuICAgICAgICAuLi5wcm9jZXNzQ3JlYXRlUGFyYW1zKHBhcmFtcyksXG4gICAgfSk7XG59O1xuZXhwb3J0IGNsYXNzIFpvZFN5bWJvbCBleHRlbmRzIFpvZFR5cGUge1xuICAgIF9wYXJzZShpbnB1dCkge1xuICAgICAgICBjb25zdCBwYXJzZWRUeXBlID0gdGhpcy5fZ2V0VHlwZShpbnB1dCk7XG4gICAgICAgIGlmIChwYXJzZWRUeXBlICE9PSBab2RQYXJzZWRUeXBlLnN5bWJvbCkge1xuICAgICAgICAgICAgY29uc3QgY3R4ID0gdGhpcy5fZ2V0T3JSZXR1cm5DdHgoaW5wdXQpO1xuICAgICAgICAgICAgYWRkSXNzdWVUb0NvbnRleHQoY3R4LCB7XG4gICAgICAgICAgICAgICAgY29kZTogWm9kSXNzdWVDb2RlLmludmFsaWRfdHlwZSxcbiAgICAgICAgICAgICAgICBleHBlY3RlZDogWm9kUGFyc2VkVHlwZS5zeW1ib2wsXG4gICAgICAgICAgICAgICAgcmVjZWl2ZWQ6IGN0eC5wYXJzZWRUeXBlLFxuICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICByZXR1cm4gSU5WQUxJRDtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gT0soaW5wdXQuZGF0YSk7XG4gICAgfVxufVxuWm9kU3ltYm9sLmNyZWF0ZSA9IChwYXJhbXMpID0+IHtcbiAgICByZXR1cm4gbmV3IFpvZFN5bWJvbCh7XG4gICAgICAgIHR5cGVOYW1lOiBab2RGaXJzdFBhcnR5VHlwZUtpbmQuWm9kU3ltYm9sLFxuICAgICAgICAuLi5wcm9jZXNzQ3JlYXRlUGFyYW1zKHBhcmFtcyksXG4gICAgfSk7XG59O1xuZXhwb3J0IGNsYXNzIFpvZFVuZGVmaW5lZCBleHRlbmRzIFpvZFR5cGUge1xuICAgIF9wYXJzZShpbnB1dCkge1xuICAgICAgICBjb25zdCBwYXJzZWRUeXBlID0gdGhpcy5fZ2V0VHlwZShpbnB1dCk7XG4gICAgICAgIGlmIChwYXJzZWRUeXBlICE9PSBab2RQYXJzZWRUeXBlLnVuZGVmaW5lZCkge1xuICAgICAgICAgICAgY29uc3QgY3R4ID0gdGhpcy5fZ2V0T3JSZXR1cm5DdHgoaW5wdXQpO1xuICAgICAgICAgICAgYWRkSXNzdWVUb0NvbnRleHQoY3R4LCB7XG4gICAgICAgICAgICAgICAgY29kZTogWm9kSXNzdWVDb2RlLmludmFsaWRfdHlwZSxcbiAgICAgICAgICAgICAgICBleHBlY3RlZDogWm9kUGFyc2VkVHlwZS51bmRlZmluZWQsXG4gICAgICAgICAgICAgICAgcmVjZWl2ZWQ6IGN0eC5wYXJzZWRUeXBlLFxuICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICByZXR1cm4gSU5WQUxJRDtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gT0soaW5wdXQuZGF0YSk7XG4gICAgfVxufVxuWm9kVW5kZWZpbmVkLmNyZWF0ZSA9IChwYXJhbXMpID0+IHtcbiAgICByZXR1cm4gbmV3IFpvZFVuZGVmaW5lZCh7XG4gICAgICAgIHR5cGVOYW1lOiBab2RGaXJzdFBhcnR5VHlwZUtpbmQuWm9kVW5kZWZpbmVkLFxuICAgICAgICAuLi5wcm9jZXNzQ3JlYXRlUGFyYW1zKHBhcmFtcyksXG4gICAgfSk7XG59O1xuZXhwb3J0IGNsYXNzIFpvZE51bGwgZXh0ZW5kcyBab2RUeXBlIHtcbiAgICBfcGFyc2UoaW5wdXQpIHtcbiAgICAgICAgY29uc3QgcGFyc2VkVHlwZSA9IHRoaXMuX2dldFR5cGUoaW5wdXQpO1xuICAgICAgICBpZiAocGFyc2VkVHlwZSAhPT0gWm9kUGFyc2VkVHlwZS5udWxsKSB7XG4gICAgICAgICAgICBjb25zdCBjdHggPSB0aGlzLl9nZXRPclJldHVybkN0eChpbnB1dCk7XG4gICAgICAgICAgICBhZGRJc3N1ZVRvQ29udGV4dChjdHgsIHtcbiAgICAgICAgICAgICAgICBjb2RlOiBab2RJc3N1ZUNvZGUuaW52YWxpZF90eXBlLFxuICAgICAgICAgICAgICAgIGV4cGVjdGVkOiBab2RQYXJzZWRUeXBlLm51bGwsXG4gICAgICAgICAgICAgICAgcmVjZWl2ZWQ6IGN0eC5wYXJzZWRUeXBlLFxuICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICByZXR1cm4gSU5WQUxJRDtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gT0soaW5wdXQuZGF0YSk7XG4gICAgfVxufVxuWm9kTnVsbC5jcmVhdGUgPSAocGFyYW1zKSA9PiB7XG4gICAgcmV0dXJuIG5ldyBab2ROdWxsKHtcbiAgICAgICAgdHlwZU5hbWU6IFpvZEZpcnN0UGFydHlUeXBlS2luZC5ab2ROdWxsLFxuICAgICAgICAuLi5wcm9jZXNzQ3JlYXRlUGFyYW1zKHBhcmFtcyksXG4gICAgfSk7XG59O1xuZXhwb3J0IGNsYXNzIFpvZEFueSBleHRlbmRzIFpvZFR5cGUge1xuICAgIGNvbnN0cnVjdG9yKCkge1xuICAgICAgICBzdXBlciguLi5hcmd1bWVudHMpO1xuICAgICAgICAvLyB0byBwcmV2ZW50IGluc3RhbmNlcyBvZiBvdGhlciBjbGFzc2VzIGZyb20gZXh0ZW5kaW5nIFpvZEFueS4gdGhpcyBjYXVzZXMgaXNzdWVzIHdpdGggY2F0Y2hhbGwgaW4gWm9kT2JqZWN0LlxuICAgICAgICB0aGlzLl9hbnkgPSB0cnVlO1xuICAgIH1cbiAgICBfcGFyc2UoaW5wdXQpIHtcbiAgICAgICAgcmV0dXJuIE9LKGlucHV0LmRhdGEpO1xuICAgIH1cbn1cblpvZEFueS5jcmVhdGUgPSAocGFyYW1zKSA9PiB7XG4gICAgcmV0dXJuIG5ldyBab2RBbnkoe1xuICAgICAgICB0eXBlTmFtZTogWm9kRmlyc3RQYXJ0eVR5cGVLaW5kLlpvZEFueSxcbiAgICAgICAgLi4ucHJvY2Vzc0NyZWF0ZVBhcmFtcyhwYXJhbXMpLFxuICAgIH0pO1xufTtcbmV4cG9ydCBjbGFzcyBab2RVbmtub3duIGV4dGVuZHMgWm9kVHlwZSB7XG4gICAgY29uc3RydWN0b3IoKSB7XG4gICAgICAgIHN1cGVyKC4uLmFyZ3VtZW50cyk7XG4gICAgICAgIC8vIHJlcXVpcmVkXG4gICAgICAgIHRoaXMuX3Vua25vd24gPSB0cnVlO1xuICAgIH1cbiAgICBfcGFyc2UoaW5wdXQpIHtcbiAgICAgICAgcmV0dXJuIE9LKGlucHV0LmRhdGEpO1xuICAgIH1cbn1cblpvZFVua25vd24uY3JlYXRlID0gKHBhcmFtcykgPT4ge1xuICAgIHJldHVybiBuZXcgWm9kVW5rbm93bih7XG4gICAgICAgIHR5cGVOYW1lOiBab2RGaXJzdFBhcnR5VHlwZUtpbmQuWm9kVW5rbm93bixcbiAgICAgICAgLi4ucHJvY2Vzc0NyZWF0ZVBhcmFtcyhwYXJhbXMpLFxuICAgIH0pO1xufTtcbmV4cG9ydCBjbGFzcyBab2ROZXZlciBleHRlbmRzIFpvZFR5cGUge1xuICAgIF9wYXJzZShpbnB1dCkge1xuICAgICAgICBjb25zdCBjdHggPSB0aGlzLl9nZXRPclJldHVybkN0eChpbnB1dCk7XG4gICAgICAgIGFkZElzc3VlVG9Db250ZXh0KGN0eCwge1xuICAgICAgICAgICAgY29kZTogWm9kSXNzdWVDb2RlLmludmFsaWRfdHlwZSxcbiAgICAgICAgICAgIGV4cGVjdGVkOiBab2RQYXJzZWRUeXBlLm5ldmVyLFxuICAgICAgICAgICAgcmVjZWl2ZWQ6IGN0eC5wYXJzZWRUeXBlLFxuICAgICAgICB9KTtcbiAgICAgICAgcmV0dXJuIElOVkFMSUQ7XG4gICAgfVxufVxuWm9kTmV2ZXIuY3JlYXRlID0gKHBhcmFtcykgPT4ge1xuICAgIHJldHVybiBuZXcgWm9kTmV2ZXIoe1xuICAgICAgICB0eXBlTmFtZTogWm9kRmlyc3RQYXJ0eVR5cGVLaW5kLlpvZE5ldmVyLFxuICAgICAgICAuLi5wcm9jZXNzQ3JlYXRlUGFyYW1zKHBhcmFtcyksXG4gICAgfSk7XG59O1xuZXhwb3J0IGNsYXNzIFpvZFZvaWQgZXh0ZW5kcyBab2RUeXBlIHtcbiAgICBfcGFyc2UoaW5wdXQpIHtcbiAgICAgICAgY29uc3QgcGFyc2VkVHlwZSA9IHRoaXMuX2dldFR5cGUoaW5wdXQpO1xuICAgICAgICBpZiAocGFyc2VkVHlwZSAhPT0gWm9kUGFyc2VkVHlwZS51bmRlZmluZWQpIHtcbiAgICAgICAgICAgIGNvbnN0IGN0eCA9IHRoaXMuX2dldE9yUmV0dXJuQ3R4KGlucHV0KTtcbiAgICAgICAgICAgIGFkZElzc3VlVG9Db250ZXh0KGN0eCwge1xuICAgICAgICAgICAgICAgIGNvZGU6IFpvZElzc3VlQ29kZS5pbnZhbGlkX3R5cGUsXG4gICAgICAgICAgICAgICAgZXhwZWN0ZWQ6IFpvZFBhcnNlZFR5cGUudm9pZCxcbiAgICAgICAgICAgICAgICByZWNlaXZlZDogY3R4LnBhcnNlZFR5cGUsXG4gICAgICAgICAgICB9KTtcbiAgICAgICAgICAgIHJldHVybiBJTlZBTElEO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiBPSyhpbnB1dC5kYXRhKTtcbiAgICB9XG59XG5ab2RWb2lkLmNyZWF0ZSA9IChwYXJhbXMpID0+IHtcbiAgICByZXR1cm4gbmV3IFpvZFZvaWQoe1xuICAgICAgICB0eXBlTmFtZTogWm9kRmlyc3RQYXJ0eVR5cGVLaW5kLlpvZFZvaWQsXG4gICAgICAgIC4uLnByb2Nlc3NDcmVhdGVQYXJhbXMocGFyYW1zKSxcbiAgICB9KTtcbn07XG5leHBvcnQgY2xhc3MgWm9kQXJyYXkgZXh0ZW5kcyBab2RUeXBlIHtcbiAgICBfcGFyc2UoaW5wdXQpIHtcbiAgICAgICAgY29uc3QgeyBjdHgsIHN0YXR1cyB9ID0gdGhpcy5fcHJvY2Vzc0lucHV0UGFyYW1zKGlucHV0KTtcbiAgICAgICAgY29uc3QgZGVmID0gdGhpcy5fZGVmO1xuICAgICAgICBpZiAoY3R4LnBhcnNlZFR5cGUgIT09IFpvZFBhcnNlZFR5cGUuYXJyYXkpIHtcbiAgICAgICAgICAgIGFkZElzc3VlVG9Db250ZXh0KGN0eCwge1xuICAgICAgICAgICAgICAgIGNvZGU6IFpvZElzc3VlQ29kZS5pbnZhbGlkX3R5cGUsXG4gICAgICAgICAgICAgICAgZXhwZWN0ZWQ6IFpvZFBhcnNlZFR5cGUuYXJyYXksXG4gICAgICAgICAgICAgICAgcmVjZWl2ZWQ6IGN0eC5wYXJzZWRUeXBlLFxuICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICByZXR1cm4gSU5WQUxJRDtcbiAgICAgICAgfVxuICAgICAgICBpZiAoZGVmLmV4YWN0TGVuZ3RoICE9PSBudWxsKSB7XG4gICAgICAgICAgICBjb25zdCB0b29CaWcgPSBjdHguZGF0YS5sZW5ndGggPiBkZWYuZXhhY3RMZW5ndGgudmFsdWU7XG4gICAgICAgICAgICBjb25zdCB0b29TbWFsbCA9IGN0eC5kYXRhLmxlbmd0aCA8IGRlZi5leGFjdExlbmd0aC52YWx1ZTtcbiAgICAgICAgICAgIGlmICh0b29CaWcgfHwgdG9vU21hbGwpIHtcbiAgICAgICAgICAgICAgICBhZGRJc3N1ZVRvQ29udGV4dChjdHgsIHtcbiAgICAgICAgICAgICAgICAgICAgY29kZTogdG9vQmlnID8gWm9kSXNzdWVDb2RlLnRvb19iaWcgOiBab2RJc3N1ZUNvZGUudG9vX3NtYWxsLFxuICAgICAgICAgICAgICAgICAgICBtaW5pbXVtOiAodG9vU21hbGwgPyBkZWYuZXhhY3RMZW5ndGgudmFsdWUgOiB1bmRlZmluZWQpLFxuICAgICAgICAgICAgICAgICAgICBtYXhpbXVtOiAodG9vQmlnID8gZGVmLmV4YWN0TGVuZ3RoLnZhbHVlIDogdW5kZWZpbmVkKSxcbiAgICAgICAgICAgICAgICAgICAgdHlwZTogXCJhcnJheVwiLFxuICAgICAgICAgICAgICAgICAgICBpbmNsdXNpdmU6IHRydWUsXG4gICAgICAgICAgICAgICAgICAgIGV4YWN0OiB0cnVlLFxuICAgICAgICAgICAgICAgICAgICBtZXNzYWdlOiBkZWYuZXhhY3RMZW5ndGgubWVzc2FnZSxcbiAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgICAgICBzdGF0dXMuZGlydHkoKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICBpZiAoZGVmLm1pbkxlbmd0aCAhPT0gbnVsbCkge1xuICAgICAgICAgICAgaWYgKGN0eC5kYXRhLmxlbmd0aCA8IGRlZi5taW5MZW5ndGgudmFsdWUpIHtcbiAgICAgICAgICAgICAgICBhZGRJc3N1ZVRvQ29udGV4dChjdHgsIHtcbiAgICAgICAgICAgICAgICAgICAgY29kZTogWm9kSXNzdWVDb2RlLnRvb19zbWFsbCxcbiAgICAgICAgICAgICAgICAgICAgbWluaW11bTogZGVmLm1pbkxlbmd0aC52YWx1ZSxcbiAgICAgICAgICAgICAgICAgICAgdHlwZTogXCJhcnJheVwiLFxuICAgICAgICAgICAgICAgICAgICBpbmNsdXNpdmU6IHRydWUsXG4gICAgICAgICAgICAgICAgICAgIGV4YWN0OiBmYWxzZSxcbiAgICAgICAgICAgICAgICAgICAgbWVzc2FnZTogZGVmLm1pbkxlbmd0aC5tZXNzYWdlLFxuICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgICAgIHN0YXR1cy5kaXJ0eSgpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIGlmIChkZWYubWF4TGVuZ3RoICE9PSBudWxsKSB7XG4gICAgICAgICAgICBpZiAoY3R4LmRhdGEubGVuZ3RoID4gZGVmLm1heExlbmd0aC52YWx1ZSkge1xuICAgICAgICAgICAgICAgIGFkZElzc3VlVG9Db250ZXh0KGN0eCwge1xuICAgICAgICAgICAgICAgICAgICBjb2RlOiBab2RJc3N1ZUNvZGUudG9vX2JpZyxcbiAgICAgICAgICAgICAgICAgICAgbWF4aW11bTogZGVmLm1heExlbmd0aC52YWx1ZSxcbiAgICAgICAgICAgICAgICAgICAgdHlwZTogXCJhcnJheVwiLFxuICAgICAgICAgICAgICAgICAgICBpbmNsdXNpdmU6IHRydWUsXG4gICAgICAgICAgICAgICAgICAgIGV4YWN0OiBmYWxzZSxcbiAgICAgICAgICAgICAgICAgICAgbWVzc2FnZTogZGVmLm1heExlbmd0aC5tZXNzYWdlLFxuICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgICAgIHN0YXR1cy5kaXJ0eSgpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIGlmIChjdHguY29tbW9uLmFzeW5jKSB7XG4gICAgICAgICAgICByZXR1cm4gUHJvbWlzZS5hbGwoWy4uLmN0eC5kYXRhXS5tYXAoKGl0ZW0sIGkpID0+IHtcbiAgICAgICAgICAgICAgICByZXR1cm4gZGVmLnR5cGUuX3BhcnNlQXN5bmMobmV3IFBhcnNlSW5wdXRMYXp5UGF0aChjdHgsIGl0ZW0sIGN0eC5wYXRoLCBpKSk7XG4gICAgICAgICAgICB9KSkudGhlbigocmVzdWx0KSA9PiB7XG4gICAgICAgICAgICAgICAgcmV0dXJuIFBhcnNlU3RhdHVzLm1lcmdlQXJyYXkoc3RhdHVzLCByZXN1bHQpO1xuICAgICAgICAgICAgfSk7XG4gICAgICAgIH1cbiAgICAgICAgY29uc3QgcmVzdWx0ID0gWy4uLmN0eC5kYXRhXS5tYXAoKGl0ZW0sIGkpID0+IHtcbiAgICAgICAgICAgIHJldHVybiBkZWYudHlwZS5fcGFyc2VTeW5jKG5ldyBQYXJzZUlucHV0TGF6eVBhdGgoY3R4LCBpdGVtLCBjdHgucGF0aCwgaSkpO1xuICAgICAgICB9KTtcbiAgICAgICAgcmV0dXJuIFBhcnNlU3RhdHVzLm1lcmdlQXJyYXkoc3RhdHVzLCByZXN1bHQpO1xuICAgIH1cbiAgICBnZXQgZWxlbWVudCgpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuX2RlZi50eXBlO1xuICAgIH1cbiAgICBtaW4obWluTGVuZ3RoLCBtZXNzYWdlKSB7XG4gICAgICAgIHJldHVybiBuZXcgWm9kQXJyYXkoe1xuICAgICAgICAgICAgLi4udGhpcy5fZGVmLFxuICAgICAgICAgICAgbWluTGVuZ3RoOiB7IHZhbHVlOiBtaW5MZW5ndGgsIG1lc3NhZ2U6IGVycm9yVXRpbC50b1N0cmluZyhtZXNzYWdlKSB9LFxuICAgICAgICB9KTtcbiAgICB9XG4gICAgbWF4KG1heExlbmd0aCwgbWVzc2FnZSkge1xuICAgICAgICByZXR1cm4gbmV3IFpvZEFycmF5KHtcbiAgICAgICAgICAgIC4uLnRoaXMuX2RlZixcbiAgICAgICAgICAgIG1heExlbmd0aDogeyB2YWx1ZTogbWF4TGVuZ3RoLCBtZXNzYWdlOiBlcnJvclV0aWwudG9TdHJpbmcobWVzc2FnZSkgfSxcbiAgICAgICAgfSk7XG4gICAgfVxuICAgIGxlbmd0aChsZW4sIG1lc3NhZ2UpIHtcbiAgICAgICAgcmV0dXJuIG5ldyBab2RBcnJheSh7XG4gICAgICAgICAgICAuLi50aGlzLl9kZWYsXG4gICAgICAgICAgICBleGFjdExlbmd0aDogeyB2YWx1ZTogbGVuLCBtZXNzYWdlOiBlcnJvclV0aWwudG9TdHJpbmcobWVzc2FnZSkgfSxcbiAgICAgICAgfSk7XG4gICAgfVxuICAgIG5vbmVtcHR5KG1lc3NhZ2UpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMubWluKDEsIG1lc3NhZ2UpO1xuICAgIH1cbn1cblpvZEFycmF5LmNyZWF0ZSA9IChzY2hlbWEsIHBhcmFtcykgPT4ge1xuICAgIHJldHVybiBuZXcgWm9kQXJyYXkoe1xuICAgICAgICB0eXBlOiBzY2hlbWEsXG4gICAgICAgIG1pbkxlbmd0aDogbnVsbCxcbiAgICAgICAgbWF4TGVuZ3RoOiBudWxsLFxuICAgICAgICBleGFjdExlbmd0aDogbnVsbCxcbiAgICAgICAgdHlwZU5hbWU6IFpvZEZpcnN0UGFydHlUeXBlS2luZC5ab2RBcnJheSxcbiAgICAgICAgLi4ucHJvY2Vzc0NyZWF0ZVBhcmFtcyhwYXJhbXMpLFxuICAgIH0pO1xufTtcbmZ1bmN0aW9uIGRlZXBQYXJ0aWFsaWZ5KHNjaGVtYSkge1xuICAgIGlmIChzY2hlbWEgaW5zdGFuY2VvZiBab2RPYmplY3QpIHtcbiAgICAgICAgY29uc3QgbmV3U2hhcGUgPSB7fTtcbiAgICAgICAgZm9yIChjb25zdCBrZXkgaW4gc2NoZW1hLnNoYXBlKSB7XG4gICAgICAgICAgICBjb25zdCBmaWVsZFNjaGVtYSA9IHNjaGVtYS5zaGFwZVtrZXldO1xuICAgICAgICAgICAgbmV3U2hhcGVba2V5XSA9IFpvZE9wdGlvbmFsLmNyZWF0ZShkZWVwUGFydGlhbGlmeShmaWVsZFNjaGVtYSkpO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiBuZXcgWm9kT2JqZWN0KHtcbiAgICAgICAgICAgIC4uLnNjaGVtYS5fZGVmLFxuICAgICAgICAgICAgc2hhcGU6ICgpID0+IG5ld1NoYXBlLFxuICAgICAgICB9KTtcbiAgICB9XG4gICAgZWxzZSBpZiAoc2NoZW1hIGluc3RhbmNlb2YgWm9kQXJyYXkpIHtcbiAgICAgICAgcmV0dXJuIG5ldyBab2RBcnJheSh7XG4gICAgICAgICAgICAuLi5zY2hlbWEuX2RlZixcbiAgICAgICAgICAgIHR5cGU6IGRlZXBQYXJ0aWFsaWZ5KHNjaGVtYS5lbGVtZW50KSxcbiAgICAgICAgfSk7XG4gICAgfVxuICAgIGVsc2UgaWYgKHNjaGVtYSBpbnN0YW5jZW9mIFpvZE9wdGlvbmFsKSB7XG4gICAgICAgIHJldHVybiBab2RPcHRpb25hbC5jcmVhdGUoZGVlcFBhcnRpYWxpZnkoc2NoZW1hLnVud3JhcCgpKSk7XG4gICAgfVxuICAgIGVsc2UgaWYgKHNjaGVtYSBpbnN0YW5jZW9mIFpvZE51bGxhYmxlKSB7XG4gICAgICAgIHJldHVybiBab2ROdWxsYWJsZS5jcmVhdGUoZGVlcFBhcnRpYWxpZnkoc2NoZW1hLnVud3JhcCgpKSk7XG4gICAgfVxuICAgIGVsc2UgaWYgKHNjaGVtYSBpbnN0YW5jZW9mIFpvZFR1cGxlKSB7XG4gICAgICAgIHJldHVybiBab2RUdXBsZS5jcmVhdGUoc2NoZW1hLml0ZW1zLm1hcCgoaXRlbSkgPT4gZGVlcFBhcnRpYWxpZnkoaXRlbSkpKTtcbiAgICB9XG4gICAgZWxzZSB7XG4gICAgICAgIHJldHVybiBzY2hlbWE7XG4gICAgfVxufVxuZXhwb3J0IGNsYXNzIFpvZE9iamVjdCBleHRlbmRzIFpvZFR5cGUge1xuICAgIGNvbnN0cnVjdG9yKCkge1xuICAgICAgICBzdXBlciguLi5hcmd1bWVudHMpO1xuICAgICAgICB0aGlzLl9jYWNoZWQgPSBudWxsO1xuICAgICAgICAvKipcbiAgICAgICAgICogQGRlcHJlY2F0ZWQgSW4gbW9zdCBjYXNlcywgdGhpcyBpcyBubyBsb25nZXIgbmVlZGVkIC0gdW5rbm93biBwcm9wZXJ0aWVzIGFyZSBub3cgc2lsZW50bHkgc3RyaXBwZWQuXG4gICAgICAgICAqIElmIHlvdSB3YW50IHRvIHBhc3MgdGhyb3VnaCB1bmtub3duIHByb3BlcnRpZXMsIHVzZSBgLnBhc3N0aHJvdWdoKClgIGluc3RlYWQuXG4gICAgICAgICAqL1xuICAgICAgICB0aGlzLm5vbnN0cmljdCA9IHRoaXMucGFzc3Rocm91Z2g7XG4gICAgICAgIC8vIGV4dGVuZDxcbiAgICAgICAgLy8gICBBdWdtZW50YXRpb24gZXh0ZW5kcyBab2RSYXdTaGFwZSxcbiAgICAgICAgLy8gICBOZXdPdXRwdXQgZXh0ZW5kcyB1dGlsLmZsYXR0ZW48e1xuICAgICAgICAvLyAgICAgW2sgaW4ga2V5b2YgQXVnbWVudGF0aW9uIHwga2V5b2YgT3V0cHV0XTogayBleHRlbmRzIGtleW9mIEF1Z21lbnRhdGlvblxuICAgICAgICAvLyAgICAgICA/IEF1Z21lbnRhdGlvbltrXVtcIl9vdXRwdXRcIl1cbiAgICAgICAgLy8gICAgICAgOiBrIGV4dGVuZHMga2V5b2YgT3V0cHV0XG4gICAgICAgIC8vICAgICAgID8gT3V0cHV0W2tdXG4gICAgICAgIC8vICAgICAgIDogbmV2ZXI7XG4gICAgICAgIC8vICAgfT4sXG4gICAgICAgIC8vICAgTmV3SW5wdXQgZXh0ZW5kcyB1dGlsLmZsYXR0ZW48e1xuICAgICAgICAvLyAgICAgW2sgaW4ga2V5b2YgQXVnbWVudGF0aW9uIHwga2V5b2YgSW5wdXRdOiBrIGV4dGVuZHMga2V5b2YgQXVnbWVudGF0aW9uXG4gICAgICAgIC8vICAgICAgID8gQXVnbWVudGF0aW9uW2tdW1wiX2lucHV0XCJdXG4gICAgICAgIC8vICAgICAgIDogayBleHRlbmRzIGtleW9mIElucHV0XG4gICAgICAgIC8vICAgICAgID8gSW5wdXRba11cbiAgICAgICAgLy8gICAgICAgOiBuZXZlcjtcbiAgICAgICAgLy8gICB9PlxuICAgICAgICAvLyA+KFxuICAgICAgICAvLyAgIGF1Z21lbnRhdGlvbjogQXVnbWVudGF0aW9uXG4gICAgICAgIC8vICk6IFpvZE9iamVjdDxcbiAgICAgICAgLy8gICBleHRlbmRTaGFwZTxULCBBdWdtZW50YXRpb24+LFxuICAgICAgICAvLyAgIFVua25vd25LZXlzLFxuICAgICAgICAvLyAgIENhdGNoYWxsLFxuICAgICAgICAvLyAgIE5ld091dHB1dCxcbiAgICAgICAgLy8gICBOZXdJbnB1dFxuICAgICAgICAvLyA+IHtcbiAgICAgICAgLy8gICByZXR1cm4gbmV3IFpvZE9iamVjdCh7XG4gICAgICAgIC8vICAgICAuLi50aGlzLl9kZWYsXG4gICAgICAgIC8vICAgICBzaGFwZTogKCkgPT4gKHtcbiAgICAgICAgLy8gICAgICAgLi4udGhpcy5fZGVmLnNoYXBlKCksXG4gICAgICAgIC8vICAgICAgIC4uLmF1Z21lbnRhdGlvbixcbiAgICAgICAgLy8gICAgIH0pLFxuICAgICAgICAvLyAgIH0pIGFzIGFueTtcbiAgICAgICAgLy8gfVxuICAgICAgICAvKipcbiAgICAgICAgICogQGRlcHJlY2F0ZWQgVXNlIGAuZXh0ZW5kYCBpbnN0ZWFkXG4gICAgICAgICAqICAqL1xuICAgICAgICB0aGlzLmF1Z21lbnQgPSB0aGlzLmV4dGVuZDtcbiAgICB9XG4gICAgX2dldENhY2hlZCgpIHtcbiAgICAgICAgaWYgKHRoaXMuX2NhY2hlZCAhPT0gbnVsbClcbiAgICAgICAgICAgIHJldHVybiB0aGlzLl9jYWNoZWQ7XG4gICAgICAgIGNvbnN0IHNoYXBlID0gdGhpcy5fZGVmLnNoYXBlKCk7XG4gICAgICAgIGNvbnN0IGtleXMgPSB1dGlsLm9iamVjdEtleXMoc2hhcGUpO1xuICAgICAgICB0aGlzLl9jYWNoZWQgPSB7IHNoYXBlLCBrZXlzIH07XG4gICAgICAgIHJldHVybiB0aGlzLl9jYWNoZWQ7XG4gICAgfVxuICAgIF9wYXJzZShpbnB1dCkge1xuICAgICAgICBjb25zdCBwYXJzZWRUeXBlID0gdGhpcy5fZ2V0VHlwZShpbnB1dCk7XG4gICAgICAgIGlmIChwYXJzZWRUeXBlICE9PSBab2RQYXJzZWRUeXBlLm9iamVjdCkge1xuICAgICAgICAgICAgY29uc3QgY3R4ID0gdGhpcy5fZ2V0T3JSZXR1cm5DdHgoaW5wdXQpO1xuICAgICAgICAgICAgYWRkSXNzdWVUb0NvbnRleHQoY3R4LCB7XG4gICAgICAgICAgICAgICAgY29kZTogWm9kSXNzdWVDb2RlLmludmFsaWRfdHlwZSxcbiAgICAgICAgICAgICAgICBleHBlY3RlZDogWm9kUGFyc2VkVHlwZS5vYmplY3QsXG4gICAgICAgICAgICAgICAgcmVjZWl2ZWQ6IGN0eC5wYXJzZWRUeXBlLFxuICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICByZXR1cm4gSU5WQUxJRDtcbiAgICAgICAgfVxuICAgICAgICBjb25zdCB7IHN0YXR1cywgY3R4IH0gPSB0aGlzLl9wcm9jZXNzSW5wdXRQYXJhbXMoaW5wdXQpO1xuICAgICAgICBjb25zdCB7IHNoYXBlLCBrZXlzOiBzaGFwZUtleXMgfSA9IHRoaXMuX2dldENhY2hlZCgpO1xuICAgICAgICBjb25zdCBleHRyYUtleXMgPSBbXTtcbiAgICAgICAgaWYgKCEodGhpcy5fZGVmLmNhdGNoYWxsIGluc3RhbmNlb2YgWm9kTmV2ZXIgJiYgdGhpcy5fZGVmLnVua25vd25LZXlzID09PSBcInN0cmlwXCIpKSB7XG4gICAgICAgICAgICBmb3IgKGNvbnN0IGtleSBpbiBjdHguZGF0YSkge1xuICAgICAgICAgICAgICAgIGlmICghc2hhcGVLZXlzLmluY2x1ZGVzKGtleSkpIHtcbiAgICAgICAgICAgICAgICAgICAgZXh0cmFLZXlzLnB1c2goa2V5KTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgY29uc3QgcGFpcnMgPSBbXTtcbiAgICAgICAgZm9yIChjb25zdCBrZXkgb2Ygc2hhcGVLZXlzKSB7XG4gICAgICAgICAgICBjb25zdCBrZXlWYWxpZGF0b3IgPSBzaGFwZVtrZXldO1xuICAgICAgICAgICAgY29uc3QgdmFsdWUgPSBjdHguZGF0YVtrZXldO1xuICAgICAgICAgICAgcGFpcnMucHVzaCh7XG4gICAgICAgICAgICAgICAga2V5OiB7IHN0YXR1czogXCJ2YWxpZFwiLCB2YWx1ZToga2V5IH0sXG4gICAgICAgICAgICAgICAgdmFsdWU6IGtleVZhbGlkYXRvci5fcGFyc2UobmV3IFBhcnNlSW5wdXRMYXp5UGF0aChjdHgsIHZhbHVlLCBjdHgucGF0aCwga2V5KSksXG4gICAgICAgICAgICAgICAgYWx3YXlzU2V0OiBrZXkgaW4gY3R4LmRhdGEsXG4gICAgICAgICAgICB9KTtcbiAgICAgICAgfVxuICAgICAgICBpZiAodGhpcy5fZGVmLmNhdGNoYWxsIGluc3RhbmNlb2YgWm9kTmV2ZXIpIHtcbiAgICAgICAgICAgIGNvbnN0IHVua25vd25LZXlzID0gdGhpcy5fZGVmLnVua25vd25LZXlzO1xuICAgICAgICAgICAgaWYgKHVua25vd25LZXlzID09PSBcInBhc3N0aHJvdWdoXCIpIHtcbiAgICAgICAgICAgICAgICBmb3IgKGNvbnN0IGtleSBvZiBleHRyYUtleXMpIHtcbiAgICAgICAgICAgICAgICAgICAgcGFpcnMucHVzaCh7XG4gICAgICAgICAgICAgICAgICAgICAgICBrZXk6IHsgc3RhdHVzOiBcInZhbGlkXCIsIHZhbHVlOiBrZXkgfSxcbiAgICAgICAgICAgICAgICAgICAgICAgIHZhbHVlOiB7IHN0YXR1czogXCJ2YWxpZFwiLCB2YWx1ZTogY3R4LmRhdGFba2V5XSB9LFxuICAgICAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBlbHNlIGlmICh1bmtub3duS2V5cyA9PT0gXCJzdHJpY3RcIikge1xuICAgICAgICAgICAgICAgIGlmIChleHRyYUtleXMubGVuZ3RoID4gMCkge1xuICAgICAgICAgICAgICAgICAgICBhZGRJc3N1ZVRvQ29udGV4dChjdHgsIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGNvZGU6IFpvZElzc3VlQ29kZS51bnJlY29nbml6ZWRfa2V5cyxcbiAgICAgICAgICAgICAgICAgICAgICAgIGtleXM6IGV4dHJhS2V5cyxcbiAgICAgICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICAgICAgICAgIHN0YXR1cy5kaXJ0eSgpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGVsc2UgaWYgKHVua25vd25LZXlzID09PSBcInN0cmlwXCIpIHtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgICAgIHRocm93IG5ldyBFcnJvcihgSW50ZXJuYWwgWm9kT2JqZWN0IGVycm9yOiBpbnZhbGlkIHVua25vd25LZXlzIHZhbHVlLmApO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgLy8gcnVuIGNhdGNoYWxsIHZhbGlkYXRpb25cbiAgICAgICAgICAgIGNvbnN0IGNhdGNoYWxsID0gdGhpcy5fZGVmLmNhdGNoYWxsO1xuICAgICAgICAgICAgZm9yIChjb25zdCBrZXkgb2YgZXh0cmFLZXlzKSB7XG4gICAgICAgICAgICAgICAgY29uc3QgdmFsdWUgPSBjdHguZGF0YVtrZXldO1xuICAgICAgICAgICAgICAgIHBhaXJzLnB1c2goe1xuICAgICAgICAgICAgICAgICAgICBrZXk6IHsgc3RhdHVzOiBcInZhbGlkXCIsIHZhbHVlOiBrZXkgfSxcbiAgICAgICAgICAgICAgICAgICAgdmFsdWU6IGNhdGNoYWxsLl9wYXJzZShuZXcgUGFyc2VJbnB1dExhenlQYXRoKGN0eCwgdmFsdWUsIGN0eC5wYXRoLCBrZXkpIC8vLCBjdHguY2hpbGQoa2V5KSwgdmFsdWUsIGdldFBhcnNlZFR5cGUodmFsdWUpXG4gICAgICAgICAgICAgICAgICAgICksXG4gICAgICAgICAgICAgICAgICAgIGFsd2F5c1NldDoga2V5IGluIGN0eC5kYXRhLFxuICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIGlmIChjdHguY29tbW9uLmFzeW5jKSB7XG4gICAgICAgICAgICByZXR1cm4gUHJvbWlzZS5yZXNvbHZlKClcbiAgICAgICAgICAgICAgICAudGhlbihhc3luYyAoKSA9PiB7XG4gICAgICAgICAgICAgICAgY29uc3Qgc3luY1BhaXJzID0gW107XG4gICAgICAgICAgICAgICAgZm9yIChjb25zdCBwYWlyIG9mIHBhaXJzKSB7XG4gICAgICAgICAgICAgICAgICAgIGNvbnN0IGtleSA9IGF3YWl0IHBhaXIua2V5O1xuICAgICAgICAgICAgICAgICAgICBjb25zdCB2YWx1ZSA9IGF3YWl0IHBhaXIudmFsdWU7XG4gICAgICAgICAgICAgICAgICAgIHN5bmNQYWlycy5wdXNoKHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGtleSxcbiAgICAgICAgICAgICAgICAgICAgICAgIHZhbHVlLFxuICAgICAgICAgICAgICAgICAgICAgICAgYWx3YXlzU2V0OiBwYWlyLmFsd2F5c1NldCxcbiAgICAgICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIHJldHVybiBzeW5jUGFpcnM7XG4gICAgICAgICAgICB9KVxuICAgICAgICAgICAgICAgIC50aGVuKChzeW5jUGFpcnMpID0+IHtcbiAgICAgICAgICAgICAgICByZXR1cm4gUGFyc2VTdGF0dXMubWVyZ2VPYmplY3RTeW5jKHN0YXR1cywgc3luY1BhaXJzKTtcbiAgICAgICAgICAgIH0pO1xuICAgICAgICB9XG4gICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgcmV0dXJuIFBhcnNlU3RhdHVzLm1lcmdlT2JqZWN0U3luYyhzdGF0dXMsIHBhaXJzKTtcbiAgICAgICAgfVxuICAgIH1cbiAgICBnZXQgc2hhcGUoKSB7XG4gICAgICAgIHJldHVybiB0aGlzLl9kZWYuc2hhcGUoKTtcbiAgICB9XG4gICAgc3RyaWN0KG1lc3NhZ2UpIHtcbiAgICAgICAgZXJyb3JVdGlsLmVyclRvT2JqO1xuICAgICAgICByZXR1cm4gbmV3IFpvZE9iamVjdCh7XG4gICAgICAgICAgICAuLi50aGlzLl9kZWYsXG4gICAgICAgICAgICB1bmtub3duS2V5czogXCJzdHJpY3RcIixcbiAgICAgICAgICAgIC4uLihtZXNzYWdlICE9PSB1bmRlZmluZWRcbiAgICAgICAgICAgICAgICA/IHtcbiAgICAgICAgICAgICAgICAgICAgZXJyb3JNYXA6IChpc3N1ZSwgY3R4KSA9PiB7XG4gICAgICAgICAgICAgICAgICAgICAgICBjb25zdCBkZWZhdWx0RXJyb3IgPSB0aGlzLl9kZWYuZXJyb3JNYXA/Lihpc3N1ZSwgY3R4KS5tZXNzYWdlID8/IGN0eC5kZWZhdWx0RXJyb3I7XG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAoaXNzdWUuY29kZSA9PT0gXCJ1bnJlY29nbml6ZWRfa2V5c1wiKVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIG1lc3NhZ2U6IGVycm9yVXRpbC5lcnJUb09iaihtZXNzYWdlKS5tZXNzYWdlID8/IGRlZmF1bHRFcnJvcixcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9O1xuICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBtZXNzYWdlOiBkZWZhdWx0RXJyb3IsXG4gICAgICAgICAgICAgICAgICAgICAgICB9O1xuICAgICAgICAgICAgICAgICAgICB9LFxuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICA6IHt9KSxcbiAgICAgICAgfSk7XG4gICAgfVxuICAgIHN0cmlwKCkge1xuICAgICAgICByZXR1cm4gbmV3IFpvZE9iamVjdCh7XG4gICAgICAgICAgICAuLi50aGlzLl9kZWYsXG4gICAgICAgICAgICB1bmtub3duS2V5czogXCJzdHJpcFwiLFxuICAgICAgICB9KTtcbiAgICB9XG4gICAgcGFzc3Rocm91Z2goKSB7XG4gICAgICAgIHJldHVybiBuZXcgWm9kT2JqZWN0KHtcbiAgICAgICAgICAgIC4uLnRoaXMuX2RlZixcbiAgICAgICAgICAgIHVua25vd25LZXlzOiBcInBhc3N0aHJvdWdoXCIsXG4gICAgICAgIH0pO1xuICAgIH1cbiAgICAvLyBjb25zdCBBdWdtZW50RmFjdG9yeSA9XG4gICAgLy8gICA8RGVmIGV4dGVuZHMgWm9kT2JqZWN0RGVmPihkZWY6IERlZikgPT5cbiAgICAvLyAgIDxBdWdtZW50YXRpb24gZXh0ZW5kcyBab2RSYXdTaGFwZT4oXG4gICAgLy8gICAgIGF1Z21lbnRhdGlvbjogQXVnbWVudGF0aW9uXG4gICAgLy8gICApOiBab2RPYmplY3Q8XG4gICAgLy8gICAgIGV4dGVuZFNoYXBlPFJldHVyblR5cGU8RGVmW1wic2hhcGVcIl0+LCBBdWdtZW50YXRpb24+LFxuICAgIC8vICAgICBEZWZbXCJ1bmtub3duS2V5c1wiXSxcbiAgICAvLyAgICAgRGVmW1wiY2F0Y2hhbGxcIl1cbiAgICAvLyAgID4gPT4ge1xuICAgIC8vICAgICByZXR1cm4gbmV3IFpvZE9iamVjdCh7XG4gICAgLy8gICAgICAgLi4uZGVmLFxuICAgIC8vICAgICAgIHNoYXBlOiAoKSA9PiAoe1xuICAgIC8vICAgICAgICAgLi4uZGVmLnNoYXBlKCksXG4gICAgLy8gICAgICAgICAuLi5hdWdtZW50YXRpb24sXG4gICAgLy8gICAgICAgfSksXG4gICAgLy8gICAgIH0pIGFzIGFueTtcbiAgICAvLyAgIH07XG4gICAgZXh0ZW5kKGF1Z21lbnRhdGlvbikge1xuICAgICAgICByZXR1cm4gbmV3IFpvZE9iamVjdCh7XG4gICAgICAgICAgICAuLi50aGlzLl9kZWYsXG4gICAgICAgICAgICBzaGFwZTogKCkgPT4gKHtcbiAgICAgICAgICAgICAgICAuLi50aGlzLl9kZWYuc2hhcGUoKSxcbiAgICAgICAgICAgICAgICAuLi5hdWdtZW50YXRpb24sXG4gICAgICAgICAgICB9KSxcbiAgICAgICAgfSk7XG4gICAgfVxuICAgIC8qKlxuICAgICAqIFByaW9yIHRvIHpvZEAxLjAuMTIgdGhlcmUgd2FzIGEgYnVnIGluIHRoZVxuICAgICAqIGluZmVycmVkIHR5cGUgb2YgbWVyZ2VkIG9iamVjdHMuIFBsZWFzZVxuICAgICAqIHVwZ3JhZGUgaWYgeW91IGFyZSBleHBlcmllbmNpbmcgaXNzdWVzLlxuICAgICAqL1xuICAgIG1lcmdlKG1lcmdpbmcpIHtcbiAgICAgICAgY29uc3QgbWVyZ2VkID0gbmV3IFpvZE9iamVjdCh7XG4gICAgICAgICAgICB1bmtub3duS2V5czogbWVyZ2luZy5fZGVmLnVua25vd25LZXlzLFxuICAgICAgICAgICAgY2F0Y2hhbGw6IG1lcmdpbmcuX2RlZi5jYXRjaGFsbCxcbiAgICAgICAgICAgIHNoYXBlOiAoKSA9PiAoe1xuICAgICAgICAgICAgICAgIC4uLnRoaXMuX2RlZi5zaGFwZSgpLFxuICAgICAgICAgICAgICAgIC4uLm1lcmdpbmcuX2RlZi5zaGFwZSgpLFxuICAgICAgICAgICAgfSksXG4gICAgICAgICAgICB0eXBlTmFtZTogWm9kRmlyc3RQYXJ0eVR5cGVLaW5kLlpvZE9iamVjdCxcbiAgICAgICAgfSk7XG4gICAgICAgIHJldHVybiBtZXJnZWQ7XG4gICAgfVxuICAgIC8vIG1lcmdlPFxuICAgIC8vICAgSW5jb21pbmcgZXh0ZW5kcyBBbnlab2RPYmplY3QsXG4gICAgLy8gICBBdWdtZW50YXRpb24gZXh0ZW5kcyBJbmNvbWluZ1tcInNoYXBlXCJdLFxuICAgIC8vICAgTmV3T3V0cHV0IGV4dGVuZHMge1xuICAgIC8vICAgICBbayBpbiBrZXlvZiBBdWdtZW50YXRpb24gfCBrZXlvZiBPdXRwdXRdOiBrIGV4dGVuZHMga2V5b2YgQXVnbWVudGF0aW9uXG4gICAgLy8gICAgICAgPyBBdWdtZW50YXRpb25ba11bXCJfb3V0cHV0XCJdXG4gICAgLy8gICAgICAgOiBrIGV4dGVuZHMga2V5b2YgT3V0cHV0XG4gICAgLy8gICAgICAgPyBPdXRwdXRba11cbiAgICAvLyAgICAgICA6IG5ldmVyO1xuICAgIC8vICAgfSxcbiAgICAvLyAgIE5ld0lucHV0IGV4dGVuZHMge1xuICAgIC8vICAgICBbayBpbiBrZXlvZiBBdWdtZW50YXRpb24gfCBrZXlvZiBJbnB1dF06IGsgZXh0ZW5kcyBrZXlvZiBBdWdtZW50YXRpb25cbiAgICAvLyAgICAgICA/IEF1Z21lbnRhdGlvbltrXVtcIl9pbnB1dFwiXVxuICAgIC8vICAgICAgIDogayBleHRlbmRzIGtleW9mIElucHV0XG4gICAgLy8gICAgICAgPyBJbnB1dFtrXVxuICAgIC8vICAgICAgIDogbmV2ZXI7XG4gICAgLy8gICB9XG4gICAgLy8gPihcbiAgICAvLyAgIG1lcmdpbmc6IEluY29taW5nXG4gICAgLy8gKTogWm9kT2JqZWN0PFxuICAgIC8vICAgZXh0ZW5kU2hhcGU8VCwgUmV0dXJuVHlwZTxJbmNvbWluZ1tcIl9kZWZcIl1bXCJzaGFwZVwiXT4+LFxuICAgIC8vICAgSW5jb21pbmdbXCJfZGVmXCJdW1widW5rbm93bktleXNcIl0sXG4gICAgLy8gICBJbmNvbWluZ1tcIl9kZWZcIl1bXCJjYXRjaGFsbFwiXSxcbiAgICAvLyAgIE5ld091dHB1dCxcbiAgICAvLyAgIE5ld0lucHV0XG4gICAgLy8gPiB7XG4gICAgLy8gICBjb25zdCBtZXJnZWQ6IGFueSA9IG5ldyBab2RPYmplY3Qoe1xuICAgIC8vICAgICB1bmtub3duS2V5czogbWVyZ2luZy5fZGVmLnVua25vd25LZXlzLFxuICAgIC8vICAgICBjYXRjaGFsbDogbWVyZ2luZy5fZGVmLmNhdGNoYWxsLFxuICAgIC8vICAgICBzaGFwZTogKCkgPT5cbiAgICAvLyAgICAgICBvYmplY3RVdGlsLm1lcmdlU2hhcGVzKHRoaXMuX2RlZi5zaGFwZSgpLCBtZXJnaW5nLl9kZWYuc2hhcGUoKSksXG4gICAgLy8gICAgIHR5cGVOYW1lOiBab2RGaXJzdFBhcnR5VHlwZUtpbmQuWm9kT2JqZWN0LFxuICAgIC8vICAgfSkgYXMgYW55O1xuICAgIC8vICAgcmV0dXJuIG1lcmdlZDtcbiAgICAvLyB9XG4gICAgc2V0S2V5KGtleSwgc2NoZW1hKSB7XG4gICAgICAgIHJldHVybiB0aGlzLmF1Z21lbnQoeyBba2V5XTogc2NoZW1hIH0pO1xuICAgIH1cbiAgICAvLyBtZXJnZTxJbmNvbWluZyBleHRlbmRzIEFueVpvZE9iamVjdD4oXG4gICAgLy8gICBtZXJnaW5nOiBJbmNvbWluZ1xuICAgIC8vICk6IC8vWm9kT2JqZWN0PFQgJiBJbmNvbWluZ1tcIl9zaGFwZVwiXSwgVW5rbm93bktleXMsIENhdGNoYWxsPiA9IChtZXJnaW5nKSA9PiB7XG4gICAgLy8gWm9kT2JqZWN0PFxuICAgIC8vICAgZXh0ZW5kU2hhcGU8VCwgUmV0dXJuVHlwZTxJbmNvbWluZ1tcIl9kZWZcIl1bXCJzaGFwZVwiXT4+LFxuICAgIC8vICAgSW5jb21pbmdbXCJfZGVmXCJdW1widW5rbm93bktleXNcIl0sXG4gICAgLy8gICBJbmNvbWluZ1tcIl9kZWZcIl1bXCJjYXRjaGFsbFwiXVxuICAgIC8vID4ge1xuICAgIC8vICAgLy8gY29uc3QgbWVyZ2VkU2hhcGUgPSBvYmplY3RVdGlsLm1lcmdlU2hhcGVzKFxuICAgIC8vICAgLy8gICB0aGlzLl9kZWYuc2hhcGUoKSxcbiAgICAvLyAgIC8vICAgbWVyZ2luZy5fZGVmLnNoYXBlKClcbiAgICAvLyAgIC8vICk7XG4gICAgLy8gICBjb25zdCBtZXJnZWQ6IGFueSA9IG5ldyBab2RPYmplY3Qoe1xuICAgIC8vICAgICB1bmtub3duS2V5czogbWVyZ2luZy5fZGVmLnVua25vd25LZXlzLFxuICAgIC8vICAgICBjYXRjaGFsbDogbWVyZ2luZy5fZGVmLmNhdGNoYWxsLFxuICAgIC8vICAgICBzaGFwZTogKCkgPT5cbiAgICAvLyAgICAgICBvYmplY3RVdGlsLm1lcmdlU2hhcGVzKHRoaXMuX2RlZi5zaGFwZSgpLCBtZXJnaW5nLl9kZWYuc2hhcGUoKSksXG4gICAgLy8gICAgIHR5cGVOYW1lOiBab2RGaXJzdFBhcnR5VHlwZUtpbmQuWm9kT2JqZWN0LFxuICAgIC8vICAgfSkgYXMgYW55O1xuICAgIC8vICAgcmV0dXJuIG1lcmdlZDtcbiAgICAvLyB9XG4gICAgY2F0Y2hhbGwoaW5kZXgpIHtcbiAgICAgICAgcmV0dXJuIG5ldyBab2RPYmplY3Qoe1xuICAgICAgICAgICAgLi4udGhpcy5fZGVmLFxuICAgICAgICAgICAgY2F0Y2hhbGw6IGluZGV4LFxuICAgICAgICB9KTtcbiAgICB9XG4gICAgcGljayhtYXNrKSB7XG4gICAgICAgIGNvbnN0IHNoYXBlID0ge307XG4gICAgICAgIGZvciAoY29uc3Qga2V5IG9mIHV0aWwub2JqZWN0S2V5cyhtYXNrKSkge1xuICAgICAgICAgICAgaWYgKG1hc2tba2V5XSAmJiB0aGlzLnNoYXBlW2tleV0pIHtcbiAgICAgICAgICAgICAgICBzaGFwZVtrZXldID0gdGhpcy5zaGFwZVtrZXldO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIHJldHVybiBuZXcgWm9kT2JqZWN0KHtcbiAgICAgICAgICAgIC4uLnRoaXMuX2RlZixcbiAgICAgICAgICAgIHNoYXBlOiAoKSA9PiBzaGFwZSxcbiAgICAgICAgfSk7XG4gICAgfVxuICAgIG9taXQobWFzaykge1xuICAgICAgICBjb25zdCBzaGFwZSA9IHt9O1xuICAgICAgICBmb3IgKGNvbnN0IGtleSBvZiB1dGlsLm9iamVjdEtleXModGhpcy5zaGFwZSkpIHtcbiAgICAgICAgICAgIGlmICghbWFza1trZXldKSB7XG4gICAgICAgICAgICAgICAgc2hhcGVba2V5XSA9IHRoaXMuc2hhcGVba2V5XTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gbmV3IFpvZE9iamVjdCh7XG4gICAgICAgICAgICAuLi50aGlzLl9kZWYsXG4gICAgICAgICAgICBzaGFwZTogKCkgPT4gc2hhcGUsXG4gICAgICAgIH0pO1xuICAgIH1cbiAgICAvKipcbiAgICAgKiBAZGVwcmVjYXRlZFxuICAgICAqL1xuICAgIGRlZXBQYXJ0aWFsKCkge1xuICAgICAgICByZXR1cm4gZGVlcFBhcnRpYWxpZnkodGhpcyk7XG4gICAgfVxuICAgIHBhcnRpYWwobWFzaykge1xuICAgICAgICBjb25zdCBuZXdTaGFwZSA9IHt9O1xuICAgICAgICBmb3IgKGNvbnN0IGtleSBvZiB1dGlsLm9iamVjdEtleXModGhpcy5zaGFwZSkpIHtcbiAgICAgICAgICAgIGNvbnN0IGZpZWxkU2NoZW1hID0gdGhpcy5zaGFwZVtrZXldO1xuICAgICAgICAgICAgaWYgKG1hc2sgJiYgIW1hc2tba2V5XSkge1xuICAgICAgICAgICAgICAgIG5ld1NoYXBlW2tleV0gPSBmaWVsZFNjaGVtYTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgICAgIG5ld1NoYXBlW2tleV0gPSBmaWVsZFNjaGVtYS5vcHRpb25hbCgpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIHJldHVybiBuZXcgWm9kT2JqZWN0KHtcbiAgICAgICAgICAgIC4uLnRoaXMuX2RlZixcbiAgICAgICAgICAgIHNoYXBlOiAoKSA9PiBuZXdTaGFwZSxcbiAgICAgICAgfSk7XG4gICAgfVxuICAgIHJlcXVpcmVkKG1hc2spIHtcbiAgICAgICAgY29uc3QgbmV3U2hhcGUgPSB7fTtcbiAgICAgICAgZm9yIChjb25zdCBrZXkgb2YgdXRpbC5vYmplY3RLZXlzKHRoaXMuc2hhcGUpKSB7XG4gICAgICAgICAgICBpZiAobWFzayAmJiAhbWFza1trZXldKSB7XG4gICAgICAgICAgICAgICAgbmV3U2hhcGVba2V5XSA9IHRoaXMuc2hhcGVba2V5XTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgICAgIGNvbnN0IGZpZWxkU2NoZW1hID0gdGhpcy5zaGFwZVtrZXldO1xuICAgICAgICAgICAgICAgIGxldCBuZXdGaWVsZCA9IGZpZWxkU2NoZW1hO1xuICAgICAgICAgICAgICAgIHdoaWxlIChuZXdGaWVsZCBpbnN0YW5jZW9mIFpvZE9wdGlvbmFsKSB7XG4gICAgICAgICAgICAgICAgICAgIG5ld0ZpZWxkID0gbmV3RmllbGQuX2RlZi5pbm5lclR5cGU7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIG5ld1NoYXBlW2tleV0gPSBuZXdGaWVsZDtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gbmV3IFpvZE9iamVjdCh7XG4gICAgICAgICAgICAuLi50aGlzLl9kZWYsXG4gICAgICAgICAgICBzaGFwZTogKCkgPT4gbmV3U2hhcGUsXG4gICAgICAgIH0pO1xuICAgIH1cbiAgICBrZXlvZigpIHtcbiAgICAgICAgcmV0dXJuIGNyZWF0ZVpvZEVudW0odXRpbC5vYmplY3RLZXlzKHRoaXMuc2hhcGUpKTtcbiAgICB9XG59XG5ab2RPYmplY3QuY3JlYXRlID0gKHNoYXBlLCBwYXJhbXMpID0+IHtcbiAgICByZXR1cm4gbmV3IFpvZE9iamVjdCh7XG4gICAgICAgIHNoYXBlOiAoKSA9PiBzaGFwZSxcbiAgICAgICAgdW5rbm93bktleXM6IFwic3RyaXBcIixcbiAgICAgICAgY2F0Y2hhbGw6IFpvZE5ldmVyLmNyZWF0ZSgpLFxuICAgICAgICB0eXBlTmFtZTogWm9kRmlyc3RQYXJ0eVR5cGVLaW5kLlpvZE9iamVjdCxcbiAgICAgICAgLi4ucHJvY2Vzc0NyZWF0ZVBhcmFtcyhwYXJhbXMpLFxuICAgIH0pO1xufTtcblpvZE9iamVjdC5zdHJpY3RDcmVhdGUgPSAoc2hhcGUsIHBhcmFtcykgPT4ge1xuICAgIHJldHVybiBuZXcgWm9kT2JqZWN0KHtcbiAgICAgICAgc2hhcGU6ICgpID0+IHNoYXBlLFxuICAgICAgICB1bmtub3duS2V5czogXCJzdHJpY3RcIixcbiAgICAgICAgY2F0Y2hhbGw6IFpvZE5ldmVyLmNyZWF0ZSgpLFxuICAgICAgICB0eXBlTmFtZTogWm9kRmlyc3RQYXJ0eVR5cGVLaW5kLlpvZE9iamVjdCxcbiAgICAgICAgLi4ucHJvY2Vzc0NyZWF0ZVBhcmFtcyhwYXJhbXMpLFxuICAgIH0pO1xufTtcblpvZE9iamVjdC5sYXp5Y3JlYXRlID0gKHNoYXBlLCBwYXJhbXMpID0+IHtcbiAgICByZXR1cm4gbmV3IFpvZE9iamVjdCh7XG4gICAgICAgIHNoYXBlLFxuICAgICAgICB1bmtub3duS2V5czogXCJzdHJpcFwiLFxuICAgICAgICBjYXRjaGFsbDogWm9kTmV2ZXIuY3JlYXRlKCksXG4gICAgICAgIHR5cGVOYW1lOiBab2RGaXJzdFBhcnR5VHlwZUtpbmQuWm9kT2JqZWN0LFxuICAgICAgICAuLi5wcm9jZXNzQ3JlYXRlUGFyYW1zKHBhcmFtcyksXG4gICAgfSk7XG59O1xuZXhwb3J0IGNsYXNzIFpvZFVuaW9uIGV4dGVuZHMgWm9kVHlwZSB7XG4gICAgX3BhcnNlKGlucHV0KSB7XG4gICAgICAgIGNvbnN0IHsgY3R4IH0gPSB0aGlzLl9wcm9jZXNzSW5wdXRQYXJhbXMoaW5wdXQpO1xuICAgICAgICBjb25zdCBvcHRpb25zID0gdGhpcy5fZGVmLm9wdGlvbnM7XG4gICAgICAgIGZ1bmN0aW9uIGhhbmRsZVJlc3VsdHMocmVzdWx0cykge1xuICAgICAgICAgICAgLy8gcmV0dXJuIGZpcnN0IGlzc3VlLWZyZWUgdmFsaWRhdGlvbiBpZiBpdCBleGlzdHNcbiAgICAgICAgICAgIGZvciAoY29uc3QgcmVzdWx0IG9mIHJlc3VsdHMpIHtcbiAgICAgICAgICAgICAgICBpZiAocmVzdWx0LnJlc3VsdC5zdGF0dXMgPT09IFwidmFsaWRcIikge1xuICAgICAgICAgICAgICAgICAgICByZXR1cm4gcmVzdWx0LnJlc3VsdDtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBmb3IgKGNvbnN0IHJlc3VsdCBvZiByZXN1bHRzKSB7XG4gICAgICAgICAgICAgICAgaWYgKHJlc3VsdC5yZXN1bHQuc3RhdHVzID09PSBcImRpcnR5XCIpIHtcbiAgICAgICAgICAgICAgICAgICAgLy8gYWRkIGlzc3VlcyBmcm9tIGRpcnR5IG9wdGlvblxuICAgICAgICAgICAgICAgICAgICBjdHguY29tbW9uLmlzc3Vlcy5wdXNoKC4uLnJlc3VsdC5jdHguY29tbW9uLmlzc3Vlcyk7XG4gICAgICAgICAgICAgICAgICAgIHJldHVybiByZXN1bHQucmVzdWx0O1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIC8vIHJldHVybiBpbnZhbGlkXG4gICAgICAgICAgICBjb25zdCB1bmlvbkVycm9ycyA9IHJlc3VsdHMubWFwKChyZXN1bHQpID0+IG5ldyBab2RFcnJvcihyZXN1bHQuY3R4LmNvbW1vbi5pc3N1ZXMpKTtcbiAgICAgICAgICAgIGFkZElzc3VlVG9Db250ZXh0KGN0eCwge1xuICAgICAgICAgICAgICAgIGNvZGU6IFpvZElzc3VlQ29kZS5pbnZhbGlkX3VuaW9uLFxuICAgICAgICAgICAgICAgIHVuaW9uRXJyb3JzLFxuICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICByZXR1cm4gSU5WQUxJRDtcbiAgICAgICAgfVxuICAgICAgICBpZiAoY3R4LmNvbW1vbi5hc3luYykge1xuICAgICAgICAgICAgcmV0dXJuIFByb21pc2UuYWxsKG9wdGlvbnMubWFwKGFzeW5jIChvcHRpb24pID0+IHtcbiAgICAgICAgICAgICAgICBjb25zdCBjaGlsZEN0eCA9IHtcbiAgICAgICAgICAgICAgICAgICAgLi4uY3R4LFxuICAgICAgICAgICAgICAgICAgICBjb21tb246IHtcbiAgICAgICAgICAgICAgICAgICAgICAgIC4uLmN0eC5jb21tb24sXG4gICAgICAgICAgICAgICAgICAgICAgICBpc3N1ZXM6IFtdLFxuICAgICAgICAgICAgICAgICAgICB9LFxuICAgICAgICAgICAgICAgICAgICBwYXJlbnQ6IG51bGwsXG4gICAgICAgICAgICAgICAgfTtcbiAgICAgICAgICAgICAgICByZXR1cm4ge1xuICAgICAgICAgICAgICAgICAgICByZXN1bHQ6IGF3YWl0IG9wdGlvbi5fcGFyc2VBc3luYyh7XG4gICAgICAgICAgICAgICAgICAgICAgICBkYXRhOiBjdHguZGF0YSxcbiAgICAgICAgICAgICAgICAgICAgICAgIHBhdGg6IGN0eC5wYXRoLFxuICAgICAgICAgICAgICAgICAgICAgICAgcGFyZW50OiBjaGlsZEN0eCxcbiAgICAgICAgICAgICAgICAgICAgfSksXG4gICAgICAgICAgICAgICAgICAgIGN0eDogY2hpbGRDdHgsXG4gICAgICAgICAgICAgICAgfTtcbiAgICAgICAgICAgIH0pKS50aGVuKGhhbmRsZVJlc3VsdHMpO1xuICAgICAgICB9XG4gICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgbGV0IGRpcnR5ID0gdW5kZWZpbmVkO1xuICAgICAgICAgICAgY29uc3QgaXNzdWVzID0gW107XG4gICAgICAgICAgICBmb3IgKGNvbnN0IG9wdGlvbiBvZiBvcHRpb25zKSB7XG4gICAgICAgICAgICAgICAgY29uc3QgY2hpbGRDdHggPSB7XG4gICAgICAgICAgICAgICAgICAgIC4uLmN0eCxcbiAgICAgICAgICAgICAgICAgICAgY29tbW9uOiB7XG4gICAgICAgICAgICAgICAgICAgICAgICAuLi5jdHguY29tbW9uLFxuICAgICAgICAgICAgICAgICAgICAgICAgaXNzdWVzOiBbXSxcbiAgICAgICAgICAgICAgICAgICAgfSxcbiAgICAgICAgICAgICAgICAgICAgcGFyZW50OiBudWxsLFxuICAgICAgICAgICAgICAgIH07XG4gICAgICAgICAgICAgICAgY29uc3QgcmVzdWx0ID0gb3B0aW9uLl9wYXJzZVN5bmMoe1xuICAgICAgICAgICAgICAgICAgICBkYXRhOiBjdHguZGF0YSxcbiAgICAgICAgICAgICAgICAgICAgcGF0aDogY3R4LnBhdGgsXG4gICAgICAgICAgICAgICAgICAgIHBhcmVudDogY2hpbGRDdHgsXG4gICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICAgICAgaWYgKHJlc3VsdC5zdGF0dXMgPT09IFwidmFsaWRcIikge1xuICAgICAgICAgICAgICAgICAgICByZXR1cm4gcmVzdWx0O1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBlbHNlIGlmIChyZXN1bHQuc3RhdHVzID09PSBcImRpcnR5XCIgJiYgIWRpcnR5KSB7XG4gICAgICAgICAgICAgICAgICAgIGRpcnR5ID0geyByZXN1bHQsIGN0eDogY2hpbGRDdHggfTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgaWYgKGNoaWxkQ3R4LmNvbW1vbi5pc3N1ZXMubGVuZ3RoKSB7XG4gICAgICAgICAgICAgICAgICAgIGlzc3Vlcy5wdXNoKGNoaWxkQ3R4LmNvbW1vbi5pc3N1ZXMpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGlmIChkaXJ0eSkge1xuICAgICAgICAgICAgICAgIGN0eC5jb21tb24uaXNzdWVzLnB1c2goLi4uZGlydHkuY3R4LmNvbW1vbi5pc3N1ZXMpO1xuICAgICAgICAgICAgICAgIHJldHVybiBkaXJ0eS5yZXN1bHQ7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBjb25zdCB1bmlvbkVycm9ycyA9IGlzc3Vlcy5tYXAoKGlzc3VlcykgPT4gbmV3IFpvZEVycm9yKGlzc3VlcykpO1xuICAgICAgICAgICAgYWRkSXNzdWVUb0NvbnRleHQoY3R4LCB7XG4gICAgICAgICAgICAgICAgY29kZTogWm9kSXNzdWVDb2RlLmludmFsaWRfdW5pb24sXG4gICAgICAgICAgICAgICAgdW5pb25FcnJvcnMsXG4gICAgICAgICAgICB9KTtcbiAgICAgICAgICAgIHJldHVybiBJTlZBTElEO1xuICAgICAgICB9XG4gICAgfVxuICAgIGdldCBvcHRpb25zKCkge1xuICAgICAgICByZXR1cm4gdGhpcy5fZGVmLm9wdGlvbnM7XG4gICAgfVxufVxuWm9kVW5pb24uY3JlYXRlID0gKHR5cGVzLCBwYXJhbXMpID0+IHtcbiAgICByZXR1cm4gbmV3IFpvZFVuaW9uKHtcbiAgICAgICAgb3B0aW9uczogdHlwZXMsXG4gICAgICAgIHR5cGVOYW1lOiBab2RGaXJzdFBhcnR5VHlwZUtpbmQuWm9kVW5pb24sXG4gICAgICAgIC4uLnByb2Nlc3NDcmVhdGVQYXJhbXMocGFyYW1zKSxcbiAgICB9KTtcbn07XG4vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vL1xuLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy9cbi8vLy8vLy8vLy8gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAvLy8vLy8vLy8vXG4vLy8vLy8vLy8vICAgICAgWm9kRGlzY3JpbWluYXRlZFVuaW9uICAgICAgLy8vLy8vLy8vL1xuLy8vLy8vLy8vLyAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIC8vLy8vLy8vLy9cbi8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vXG4vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vL1xuY29uc3QgZ2V0RGlzY3JpbWluYXRvciA9ICh0eXBlKSA9PiB7XG4gICAgaWYgKHR5cGUgaW5zdGFuY2VvZiBab2RMYXp5KSB7XG4gICAgICAgIHJldHVybiBnZXREaXNjcmltaW5hdG9yKHR5cGUuc2NoZW1hKTtcbiAgICB9XG4gICAgZWxzZSBpZiAodHlwZSBpbnN0YW5jZW9mIFpvZEVmZmVjdHMpIHtcbiAgICAgICAgcmV0dXJuIGdldERpc2NyaW1pbmF0b3IodHlwZS5pbm5lclR5cGUoKSk7XG4gICAgfVxuICAgIGVsc2UgaWYgKHR5cGUgaW5zdGFuY2VvZiBab2RMaXRlcmFsKSB7XG4gICAgICAgIHJldHVybiBbdHlwZS52YWx1ZV07XG4gICAgfVxuICAgIGVsc2UgaWYgKHR5cGUgaW5zdGFuY2VvZiBab2RFbnVtKSB7XG4gICAgICAgIHJldHVybiB0eXBlLm9wdGlvbnM7XG4gICAgfVxuICAgIGVsc2UgaWYgKHR5cGUgaW5zdGFuY2VvZiBab2ROYXRpdmVFbnVtKSB7XG4gICAgICAgIC8vIGVzbGludC1kaXNhYmxlLW5leHQtbGluZSBiYW4vYmFuXG4gICAgICAgIHJldHVybiB1dGlsLm9iamVjdFZhbHVlcyh0eXBlLmVudW0pO1xuICAgIH1cbiAgICBlbHNlIGlmICh0eXBlIGluc3RhbmNlb2YgWm9kRGVmYXVsdCkge1xuICAgICAgICByZXR1cm4gZ2V0RGlzY3JpbWluYXRvcih0eXBlLl9kZWYuaW5uZXJUeXBlKTtcbiAgICB9XG4gICAgZWxzZSBpZiAodHlwZSBpbnN0YW5jZW9mIFpvZFVuZGVmaW5lZCkge1xuICAgICAgICByZXR1cm4gW3VuZGVmaW5lZF07XG4gICAgfVxuICAgIGVsc2UgaWYgKHR5cGUgaW5zdGFuY2VvZiBab2ROdWxsKSB7XG4gICAgICAgIHJldHVybiBbbnVsbF07XG4gICAgfVxuICAgIGVsc2UgaWYgKHR5cGUgaW5zdGFuY2VvZiBab2RPcHRpb25hbCkge1xuICAgICAgICByZXR1cm4gW3VuZGVmaW5lZCwgLi4uZ2V0RGlzY3JpbWluYXRvcih0eXBlLnVud3JhcCgpKV07XG4gICAgfVxuICAgIGVsc2UgaWYgKHR5cGUgaW5zdGFuY2VvZiBab2ROdWxsYWJsZSkge1xuICAgICAgICByZXR1cm4gW251bGwsIC4uLmdldERpc2NyaW1pbmF0b3IodHlwZS51bndyYXAoKSldO1xuICAgIH1cbiAgICBlbHNlIGlmICh0eXBlIGluc3RhbmNlb2YgWm9kQnJhbmRlZCkge1xuICAgICAgICByZXR1cm4gZ2V0RGlzY3JpbWluYXRvcih0eXBlLnVud3JhcCgpKTtcbiAgICB9XG4gICAgZWxzZSBpZiAodHlwZSBpbnN0YW5jZW9mIFpvZFJlYWRvbmx5KSB7XG4gICAgICAgIHJldHVybiBnZXREaXNjcmltaW5hdG9yKHR5cGUudW53cmFwKCkpO1xuICAgIH1cbiAgICBlbHNlIGlmICh0eXBlIGluc3RhbmNlb2YgWm9kQ2F0Y2gpIHtcbiAgICAgICAgcmV0dXJuIGdldERpc2NyaW1pbmF0b3IodHlwZS5fZGVmLmlubmVyVHlwZSk7XG4gICAgfVxuICAgIGVsc2Uge1xuICAgICAgICByZXR1cm4gW107XG4gICAgfVxufTtcbmV4cG9ydCBjbGFzcyBab2REaXNjcmltaW5hdGVkVW5pb24gZXh0ZW5kcyBab2RUeXBlIHtcbiAgICBfcGFyc2UoaW5wdXQpIHtcbiAgICAgICAgY29uc3QgeyBjdHggfSA9IHRoaXMuX3Byb2Nlc3NJbnB1dFBhcmFtcyhpbnB1dCk7XG4gICAgICAgIGlmIChjdHgucGFyc2VkVHlwZSAhPT0gWm9kUGFyc2VkVHlwZS5vYmplY3QpIHtcbiAgICAgICAgICAgIGFkZElzc3VlVG9Db250ZXh0KGN0eCwge1xuICAgICAgICAgICAgICAgIGNvZGU6IFpvZElzc3VlQ29kZS5pbnZhbGlkX3R5cGUsXG4gICAgICAgICAgICAgICAgZXhwZWN0ZWQ6IFpvZFBhcnNlZFR5cGUub2JqZWN0LFxuICAgICAgICAgICAgICAgIHJlY2VpdmVkOiBjdHgucGFyc2VkVHlwZSxcbiAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgcmV0dXJuIElOVkFMSUQ7XG4gICAgICAgIH1cbiAgICAgICAgY29uc3QgZGlzY3JpbWluYXRvciA9IHRoaXMuZGlzY3JpbWluYXRvcjtcbiAgICAgICAgY29uc3QgZGlzY3JpbWluYXRvclZhbHVlID0gY3R4LmRhdGFbZGlzY3JpbWluYXRvcl07XG4gICAgICAgIGNvbnN0IG9wdGlvbiA9IHRoaXMub3B0aW9uc01hcC5nZXQoZGlzY3JpbWluYXRvclZhbHVlKTtcbiAgICAgICAgaWYgKCFvcHRpb24pIHtcbiAgICAgICAgICAgIGFkZElzc3VlVG9Db250ZXh0KGN0eCwge1xuICAgICAgICAgICAgICAgIGNvZGU6IFpvZElzc3VlQ29kZS5pbnZhbGlkX3VuaW9uX2Rpc2NyaW1pbmF0b3IsXG4gICAgICAgICAgICAgICAgb3B0aW9uczogQXJyYXkuZnJvbSh0aGlzLm9wdGlvbnNNYXAua2V5cygpKSxcbiAgICAgICAgICAgICAgICBwYXRoOiBbZGlzY3JpbWluYXRvcl0sXG4gICAgICAgICAgICB9KTtcbiAgICAgICAgICAgIHJldHVybiBJTlZBTElEO1xuICAgICAgICB9XG4gICAgICAgIGlmIChjdHguY29tbW9uLmFzeW5jKSB7XG4gICAgICAgICAgICByZXR1cm4gb3B0aW9uLl9wYXJzZUFzeW5jKHtcbiAgICAgICAgICAgICAgICBkYXRhOiBjdHguZGF0YSxcbiAgICAgICAgICAgICAgICBwYXRoOiBjdHgucGF0aCxcbiAgICAgICAgICAgICAgICBwYXJlbnQ6IGN0eCxcbiAgICAgICAgICAgIH0pO1xuICAgICAgICB9XG4gICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgcmV0dXJuIG9wdGlvbi5fcGFyc2VTeW5jKHtcbiAgICAgICAgICAgICAgICBkYXRhOiBjdHguZGF0YSxcbiAgICAgICAgICAgICAgICBwYXRoOiBjdHgucGF0aCxcbiAgICAgICAgICAgICAgICBwYXJlbnQ6IGN0eCxcbiAgICAgICAgICAgIH0pO1xuICAgICAgICB9XG4gICAgfVxuICAgIGdldCBkaXNjcmltaW5hdG9yKCkge1xuICAgICAgICByZXR1cm4gdGhpcy5fZGVmLmRpc2NyaW1pbmF0b3I7XG4gICAgfVxuICAgIGdldCBvcHRpb25zKCkge1xuICAgICAgICByZXR1cm4gdGhpcy5fZGVmLm9wdGlvbnM7XG4gICAgfVxuICAgIGdldCBvcHRpb25zTWFwKCkge1xuICAgICAgICByZXR1cm4gdGhpcy5fZGVmLm9wdGlvbnNNYXA7XG4gICAgfVxuICAgIC8qKlxuICAgICAqIFRoZSBjb25zdHJ1Y3RvciBvZiB0aGUgZGlzY3JpbWluYXRlZCB1bmlvbiBzY2hlbWEuIEl0cyBiZWhhdmlvdXIgaXMgdmVyeSBzaW1pbGFyIHRvIHRoYXQgb2YgdGhlIG5vcm1hbCB6LnVuaW9uKCkgY29uc3RydWN0b3IuXG4gICAgICogSG93ZXZlciwgaXQgb25seSBhbGxvd3MgYSB1bmlvbiBvZiBvYmplY3RzLCBhbGwgb2Ygd2hpY2ggbmVlZCB0byBzaGFyZSBhIGRpc2NyaW1pbmF0b3IgcHJvcGVydHkuIFRoaXMgcHJvcGVydHkgbXVzdFxuICAgICAqIGhhdmUgYSBkaWZmZXJlbnQgdmFsdWUgZm9yIGVhY2ggb2JqZWN0IGluIHRoZSB1bmlvbi5cbiAgICAgKiBAcGFyYW0gZGlzY3JpbWluYXRvciB0aGUgbmFtZSBvZiB0aGUgZGlzY3JpbWluYXRvciBwcm9wZXJ0eVxuICAgICAqIEBwYXJhbSB0eXBlcyBhbiBhcnJheSBvZiBvYmplY3Qgc2NoZW1hc1xuICAgICAqIEBwYXJhbSBwYXJhbXNcbiAgICAgKi9cbiAgICBzdGF0aWMgY3JlYXRlKGRpc2NyaW1pbmF0b3IsIG9wdGlvbnMsIHBhcmFtcykge1xuICAgICAgICAvLyBHZXQgYWxsIHRoZSB2YWxpZCBkaXNjcmltaW5hdG9yIHZhbHVlc1xuICAgICAgICBjb25zdCBvcHRpb25zTWFwID0gbmV3IE1hcCgpO1xuICAgICAgICAvLyB0cnkge1xuICAgICAgICBmb3IgKGNvbnN0IHR5cGUgb2Ygb3B0aW9ucykge1xuICAgICAgICAgICAgY29uc3QgZGlzY3JpbWluYXRvclZhbHVlcyA9IGdldERpc2NyaW1pbmF0b3IodHlwZS5zaGFwZVtkaXNjcmltaW5hdG9yXSk7XG4gICAgICAgICAgICBpZiAoIWRpc2NyaW1pbmF0b3JWYWx1ZXMubGVuZ3RoKSB7XG4gICAgICAgICAgICAgICAgdGhyb3cgbmV3IEVycm9yKGBBIGRpc2NyaW1pbmF0b3IgdmFsdWUgZm9yIGtleSBcXGAke2Rpc2NyaW1pbmF0b3J9XFxgIGNvdWxkIG5vdCBiZSBleHRyYWN0ZWQgZnJvbSBhbGwgc2NoZW1hIG9wdGlvbnNgKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGZvciAoY29uc3QgdmFsdWUgb2YgZGlzY3JpbWluYXRvclZhbHVlcykge1xuICAgICAgICAgICAgICAgIGlmIChvcHRpb25zTWFwLmhhcyh2YWx1ZSkpIHtcbiAgICAgICAgICAgICAgICAgICAgdGhyb3cgbmV3IEVycm9yKGBEaXNjcmltaW5hdG9yIHByb3BlcnR5ICR7U3RyaW5nKGRpc2NyaW1pbmF0b3IpfSBoYXMgZHVwbGljYXRlIHZhbHVlICR7U3RyaW5nKHZhbHVlKX1gKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgb3B0aW9uc01hcC5zZXQodmFsdWUsIHR5cGUpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIHJldHVybiBuZXcgWm9kRGlzY3JpbWluYXRlZFVuaW9uKHtcbiAgICAgICAgICAgIHR5cGVOYW1lOiBab2RGaXJzdFBhcnR5VHlwZUtpbmQuWm9kRGlzY3JpbWluYXRlZFVuaW9uLFxuICAgICAgICAgICAgZGlzY3JpbWluYXRvcixcbiAgICAgICAgICAgIG9wdGlvbnMsXG4gICAgICAgICAgICBvcHRpb25zTWFwLFxuICAgICAgICAgICAgLi4ucHJvY2Vzc0NyZWF0ZVBhcmFtcyhwYXJhbXMpLFxuICAgICAgICB9KTtcbiAgICB9XG59XG5mdW5jdGlvbiBtZXJnZVZhbHVlcyhhLCBiKSB7XG4gICAgY29uc3QgYVR5cGUgPSBnZXRQYXJzZWRUeXBlKGEpO1xuICAgIGNvbnN0IGJUeXBlID0gZ2V0UGFyc2VkVHlwZShiKTtcbiAgICBpZiAoYSA9PT0gYikge1xuICAgICAgICByZXR1cm4geyB2YWxpZDogdHJ1ZSwgZGF0YTogYSB9O1xuICAgIH1cbiAgICBlbHNlIGlmIChhVHlwZSA9PT0gWm9kUGFyc2VkVHlwZS5vYmplY3QgJiYgYlR5cGUgPT09IFpvZFBhcnNlZFR5cGUub2JqZWN0KSB7XG4gICAgICAgIGNvbnN0IGJLZXlzID0gdXRpbC5vYmplY3RLZXlzKGIpO1xuICAgICAgICBjb25zdCBzaGFyZWRLZXlzID0gdXRpbC5vYmplY3RLZXlzKGEpLmZpbHRlcigoa2V5KSA9PiBiS2V5cy5pbmRleE9mKGtleSkgIT09IC0xKTtcbiAgICAgICAgY29uc3QgbmV3T2JqID0geyAuLi5hLCAuLi5iIH07XG4gICAgICAgIGZvciAoY29uc3Qga2V5IG9mIHNoYXJlZEtleXMpIHtcbiAgICAgICAgICAgIGNvbnN0IHNoYXJlZFZhbHVlID0gbWVyZ2VWYWx1ZXMoYVtrZXldLCBiW2tleV0pO1xuICAgICAgICAgICAgaWYgKCFzaGFyZWRWYWx1ZS52YWxpZCkge1xuICAgICAgICAgICAgICAgIHJldHVybiB7IHZhbGlkOiBmYWxzZSB9O1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgbmV3T2JqW2tleV0gPSBzaGFyZWRWYWx1ZS5kYXRhO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiB7IHZhbGlkOiB0cnVlLCBkYXRhOiBuZXdPYmogfTtcbiAgICB9XG4gICAgZWxzZSBpZiAoYVR5cGUgPT09IFpvZFBhcnNlZFR5cGUuYXJyYXkgJiYgYlR5cGUgPT09IFpvZFBhcnNlZFR5cGUuYXJyYXkpIHtcbiAgICAgICAgaWYgKGEubGVuZ3RoICE9PSBiLmxlbmd0aCkge1xuICAgICAgICAgICAgcmV0dXJuIHsgdmFsaWQ6IGZhbHNlIH07XG4gICAgICAgIH1cbiAgICAgICAgY29uc3QgbmV3QXJyYXkgPSBbXTtcbiAgICAgICAgZm9yIChsZXQgaW5kZXggPSAwOyBpbmRleCA8IGEubGVuZ3RoOyBpbmRleCsrKSB7XG4gICAgICAgICAgICBjb25zdCBpdGVtQSA9IGFbaW5kZXhdO1xuICAgICAgICAgICAgY29uc3QgaXRlbUIgPSBiW2luZGV4XTtcbiAgICAgICAgICAgIGNvbnN0IHNoYXJlZFZhbHVlID0gbWVyZ2VWYWx1ZXMoaXRlbUEsIGl0ZW1CKTtcbiAgICAgICAgICAgIGlmICghc2hhcmVkVmFsdWUudmFsaWQpIHtcbiAgICAgICAgICAgICAgICByZXR1cm4geyB2YWxpZDogZmFsc2UgfTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIG5ld0FycmF5LnB1c2goc2hhcmVkVmFsdWUuZGF0YSk7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIHsgdmFsaWQ6IHRydWUsIGRhdGE6IG5ld0FycmF5IH07XG4gICAgfVxuICAgIGVsc2UgaWYgKGFUeXBlID09PSBab2RQYXJzZWRUeXBlLmRhdGUgJiYgYlR5cGUgPT09IFpvZFBhcnNlZFR5cGUuZGF0ZSAmJiArYSA9PT0gK2IpIHtcbiAgICAgICAgcmV0dXJuIHsgdmFsaWQ6IHRydWUsIGRhdGE6IGEgfTtcbiAgICB9XG4gICAgZWxzZSB7XG4gICAgICAgIHJldHVybiB7IHZhbGlkOiBmYWxzZSB9O1xuICAgIH1cbn1cbmV4cG9ydCBjbGFzcyBab2RJbnRlcnNlY3Rpb24gZXh0ZW5kcyBab2RUeXBlIHtcbiAgICBfcGFyc2UoaW5wdXQpIHtcbiAgICAgICAgY29uc3QgeyBzdGF0dXMsIGN0eCB9ID0gdGhpcy5fcHJvY2Vzc0lucHV0UGFyYW1zKGlucHV0KTtcbiAgICAgICAgY29uc3QgaGFuZGxlUGFyc2VkID0gKHBhcnNlZExlZnQsIHBhcnNlZFJpZ2h0KSA9PiB7XG4gICAgICAgICAgICBpZiAoaXNBYm9ydGVkKHBhcnNlZExlZnQpIHx8IGlzQWJvcnRlZChwYXJzZWRSaWdodCkpIHtcbiAgICAgICAgICAgICAgICByZXR1cm4gSU5WQUxJRDtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGNvbnN0IG1lcmdlZCA9IG1lcmdlVmFsdWVzKHBhcnNlZExlZnQudmFsdWUsIHBhcnNlZFJpZ2h0LnZhbHVlKTtcbiAgICAgICAgICAgIGlmICghbWVyZ2VkLnZhbGlkKSB7XG4gICAgICAgICAgICAgICAgYWRkSXNzdWVUb0NvbnRleHQoY3R4LCB7XG4gICAgICAgICAgICAgICAgICAgIGNvZGU6IFpvZElzc3VlQ29kZS5pbnZhbGlkX2ludGVyc2VjdGlvbl90eXBlcyxcbiAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgICAgICByZXR1cm4gSU5WQUxJRDtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGlmIChpc0RpcnR5KHBhcnNlZExlZnQpIHx8IGlzRGlydHkocGFyc2VkUmlnaHQpKSB7XG4gICAgICAgICAgICAgICAgc3RhdHVzLmRpcnR5KCk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICByZXR1cm4geyBzdGF0dXM6IHN0YXR1cy52YWx1ZSwgdmFsdWU6IG1lcmdlZC5kYXRhIH07XG4gICAgICAgIH07XG4gICAgICAgIGlmIChjdHguY29tbW9uLmFzeW5jKSB7XG4gICAgICAgICAgICByZXR1cm4gUHJvbWlzZS5hbGwoW1xuICAgICAgICAgICAgICAgIHRoaXMuX2RlZi5sZWZ0Ll9wYXJzZUFzeW5jKHtcbiAgICAgICAgICAgICAgICAgICAgZGF0YTogY3R4LmRhdGEsXG4gICAgICAgICAgICAgICAgICAgIHBhdGg6IGN0eC5wYXRoLFxuICAgICAgICAgICAgICAgICAgICBwYXJlbnQ6IGN0eCxcbiAgICAgICAgICAgICAgICB9KSxcbiAgICAgICAgICAgICAgICB0aGlzLl9kZWYucmlnaHQuX3BhcnNlQXN5bmMoe1xuICAgICAgICAgICAgICAgICAgICBkYXRhOiBjdHguZGF0YSxcbiAgICAgICAgICAgICAgICAgICAgcGF0aDogY3R4LnBhdGgsXG4gICAgICAgICAgICAgICAgICAgIHBhcmVudDogY3R4LFxuICAgICAgICAgICAgICAgIH0pLFxuICAgICAgICAgICAgXSkudGhlbigoW2xlZnQsIHJpZ2h0XSkgPT4gaGFuZGxlUGFyc2VkKGxlZnQsIHJpZ2h0KSk7XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICByZXR1cm4gaGFuZGxlUGFyc2VkKHRoaXMuX2RlZi5sZWZ0Ll9wYXJzZVN5bmMoe1xuICAgICAgICAgICAgICAgIGRhdGE6IGN0eC5kYXRhLFxuICAgICAgICAgICAgICAgIHBhdGg6IGN0eC5wYXRoLFxuICAgICAgICAgICAgICAgIHBhcmVudDogY3R4LFxuICAgICAgICAgICAgfSksIHRoaXMuX2RlZi5yaWdodC5fcGFyc2VTeW5jKHtcbiAgICAgICAgICAgICAgICBkYXRhOiBjdHguZGF0YSxcbiAgICAgICAgICAgICAgICBwYXRoOiBjdHgucGF0aCxcbiAgICAgICAgICAgICAgICBwYXJlbnQ6IGN0eCxcbiAgICAgICAgICAgIH0pKTtcbiAgICAgICAgfVxuICAgIH1cbn1cblpvZEludGVyc2VjdGlvbi5jcmVhdGUgPSAobGVmdCwgcmlnaHQsIHBhcmFtcykgPT4ge1xuICAgIHJldHVybiBuZXcgWm9kSW50ZXJzZWN0aW9uKHtcbiAgICAgICAgbGVmdDogbGVmdCxcbiAgICAgICAgcmlnaHQ6IHJpZ2h0LFxuICAgICAgICB0eXBlTmFtZTogWm9kRmlyc3RQYXJ0eVR5cGVLaW5kLlpvZEludGVyc2VjdGlvbixcbiAgICAgICAgLi4ucHJvY2Vzc0NyZWF0ZVBhcmFtcyhwYXJhbXMpLFxuICAgIH0pO1xufTtcbi8vIHR5cGUgWm9kVHVwbGVJdGVtcyA9IFtab2RUeXBlQW55LCAuLi5ab2RUeXBlQW55W11dO1xuZXhwb3J0IGNsYXNzIFpvZFR1cGxlIGV4dGVuZHMgWm9kVHlwZSB7XG4gICAgX3BhcnNlKGlucHV0KSB7XG4gICAgICAgIGNvbnN0IHsgc3RhdHVzLCBjdHggfSA9IHRoaXMuX3Byb2Nlc3NJbnB1dFBhcmFtcyhpbnB1dCk7XG4gICAgICAgIGlmIChjdHgucGFyc2VkVHlwZSAhPT0gWm9kUGFyc2VkVHlwZS5hcnJheSkge1xuICAgICAgICAgICAgYWRkSXNzdWVUb0NvbnRleHQoY3R4LCB7XG4gICAgICAgICAgICAgICAgY29kZTogWm9kSXNzdWVDb2RlLmludmFsaWRfdHlwZSxcbiAgICAgICAgICAgICAgICBleHBlY3RlZDogWm9kUGFyc2VkVHlwZS5hcnJheSxcbiAgICAgICAgICAgICAgICByZWNlaXZlZDogY3R4LnBhcnNlZFR5cGUsXG4gICAgICAgICAgICB9KTtcbiAgICAgICAgICAgIHJldHVybiBJTlZBTElEO1xuICAgICAgICB9XG4gICAgICAgIGlmIChjdHguZGF0YS5sZW5ndGggPCB0aGlzLl9kZWYuaXRlbXMubGVuZ3RoKSB7XG4gICAgICAgICAgICBhZGRJc3N1ZVRvQ29udGV4dChjdHgsIHtcbiAgICAgICAgICAgICAgICBjb2RlOiBab2RJc3N1ZUNvZGUudG9vX3NtYWxsLFxuICAgICAgICAgICAgICAgIG1pbmltdW06IHRoaXMuX2RlZi5pdGVtcy5sZW5ndGgsXG4gICAgICAgICAgICAgICAgaW5jbHVzaXZlOiB0cnVlLFxuICAgICAgICAgICAgICAgIGV4YWN0OiBmYWxzZSxcbiAgICAgICAgICAgICAgICB0eXBlOiBcImFycmF5XCIsXG4gICAgICAgICAgICB9KTtcbiAgICAgICAgICAgIHJldHVybiBJTlZBTElEO1xuICAgICAgICB9XG4gICAgICAgIGNvbnN0IHJlc3QgPSB0aGlzLl9kZWYucmVzdDtcbiAgICAgICAgaWYgKCFyZXN0ICYmIGN0eC5kYXRhLmxlbmd0aCA+IHRoaXMuX2RlZi5pdGVtcy5sZW5ndGgpIHtcbiAgICAgICAgICAgIGFkZElzc3VlVG9Db250ZXh0KGN0eCwge1xuICAgICAgICAgICAgICAgIGNvZGU6IFpvZElzc3VlQ29kZS50b29fYmlnLFxuICAgICAgICAgICAgICAgIG1heGltdW06IHRoaXMuX2RlZi5pdGVtcy5sZW5ndGgsXG4gICAgICAgICAgICAgICAgaW5jbHVzaXZlOiB0cnVlLFxuICAgICAgICAgICAgICAgIGV4YWN0OiBmYWxzZSxcbiAgICAgICAgICAgICAgICB0eXBlOiBcImFycmF5XCIsXG4gICAgICAgICAgICB9KTtcbiAgICAgICAgICAgIHN0YXR1cy5kaXJ0eSgpO1xuICAgICAgICB9XG4gICAgICAgIGNvbnN0IGl0ZW1zID0gWy4uLmN0eC5kYXRhXVxuICAgICAgICAgICAgLm1hcCgoaXRlbSwgaXRlbUluZGV4KSA9PiB7XG4gICAgICAgICAgICBjb25zdCBzY2hlbWEgPSB0aGlzLl9kZWYuaXRlbXNbaXRlbUluZGV4XSB8fCB0aGlzLl9kZWYucmVzdDtcbiAgICAgICAgICAgIGlmICghc2NoZW1hKVxuICAgICAgICAgICAgICAgIHJldHVybiBudWxsO1xuICAgICAgICAgICAgcmV0dXJuIHNjaGVtYS5fcGFyc2UobmV3IFBhcnNlSW5wdXRMYXp5UGF0aChjdHgsIGl0ZW0sIGN0eC5wYXRoLCBpdGVtSW5kZXgpKTtcbiAgICAgICAgfSlcbiAgICAgICAgICAgIC5maWx0ZXIoKHgpID0+ICEheCk7IC8vIGZpbHRlciBudWxsc1xuICAgICAgICBpZiAoY3R4LmNvbW1vbi5hc3luYykge1xuICAgICAgICAgICAgcmV0dXJuIFByb21pc2UuYWxsKGl0ZW1zKS50aGVuKChyZXN1bHRzKSA9PiB7XG4gICAgICAgICAgICAgICAgcmV0dXJuIFBhcnNlU3RhdHVzLm1lcmdlQXJyYXkoc3RhdHVzLCByZXN1bHRzKTtcbiAgICAgICAgICAgIH0pO1xuICAgICAgICB9XG4gICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgcmV0dXJuIFBhcnNlU3RhdHVzLm1lcmdlQXJyYXkoc3RhdHVzLCBpdGVtcyk7XG4gICAgICAgIH1cbiAgICB9XG4gICAgZ2V0IGl0ZW1zKCkge1xuICAgICAgICByZXR1cm4gdGhpcy5fZGVmLml0ZW1zO1xuICAgIH1cbiAgICByZXN0KHJlc3QpIHtcbiAgICAgICAgcmV0dXJuIG5ldyBab2RUdXBsZSh7XG4gICAgICAgICAgICAuLi50aGlzLl9kZWYsXG4gICAgICAgICAgICByZXN0LFxuICAgICAgICB9KTtcbiAgICB9XG59XG5ab2RUdXBsZS5jcmVhdGUgPSAoc2NoZW1hcywgcGFyYW1zKSA9PiB7XG4gICAgaWYgKCFBcnJheS5pc0FycmF5KHNjaGVtYXMpKSB7XG4gICAgICAgIHRocm93IG5ldyBFcnJvcihcIllvdSBtdXN0IHBhc3MgYW4gYXJyYXkgb2Ygc2NoZW1hcyB0byB6LnR1cGxlKFsgLi4uIF0pXCIpO1xuICAgIH1cbiAgICByZXR1cm4gbmV3IFpvZFR1cGxlKHtcbiAgICAgICAgaXRlbXM6IHNjaGVtYXMsXG4gICAgICAgIHR5cGVOYW1lOiBab2RGaXJzdFBhcnR5VHlwZUtpbmQuWm9kVHVwbGUsXG4gICAgICAgIHJlc3Q6IG51bGwsXG4gICAgICAgIC4uLnByb2Nlc3NDcmVhdGVQYXJhbXMocGFyYW1zKSxcbiAgICB9KTtcbn07XG5leHBvcnQgY2xhc3MgWm9kUmVjb3JkIGV4dGVuZHMgWm9kVHlwZSB7XG4gICAgZ2V0IGtleVNjaGVtYSgpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuX2RlZi5rZXlUeXBlO1xuICAgIH1cbiAgICBnZXQgdmFsdWVTY2hlbWEoKSB7XG4gICAgICAgIHJldHVybiB0aGlzLl9kZWYudmFsdWVUeXBlO1xuICAgIH1cbiAgICBfcGFyc2UoaW5wdXQpIHtcbiAgICAgICAgY29uc3QgeyBzdGF0dXMsIGN0eCB9ID0gdGhpcy5fcHJvY2Vzc0lucHV0UGFyYW1zKGlucHV0KTtcbiAgICAgICAgaWYgKGN0eC5wYXJzZWRUeXBlICE9PSBab2RQYXJzZWRUeXBlLm9iamVjdCkge1xuICAgICAgICAgICAgYWRkSXNzdWVUb0NvbnRleHQoY3R4LCB7XG4gICAgICAgICAgICAgICAgY29kZTogWm9kSXNzdWVDb2RlLmludmFsaWRfdHlwZSxcbiAgICAgICAgICAgICAgICBleHBlY3RlZDogWm9kUGFyc2VkVHlwZS5vYmplY3QsXG4gICAgICAgICAgICAgICAgcmVjZWl2ZWQ6IGN0eC5wYXJzZWRUeXBlLFxuICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICByZXR1cm4gSU5WQUxJRDtcbiAgICAgICAgfVxuICAgICAgICBjb25zdCBwYWlycyA9IFtdO1xuICAgICAgICBjb25zdCBrZXlUeXBlID0gdGhpcy5fZGVmLmtleVR5cGU7XG4gICAgICAgIGNvbnN0IHZhbHVlVHlwZSA9IHRoaXMuX2RlZi52YWx1ZVR5cGU7XG4gICAgICAgIGZvciAoY29uc3Qga2V5IGluIGN0eC5kYXRhKSB7XG4gICAgICAgICAgICBwYWlycy5wdXNoKHtcbiAgICAgICAgICAgICAgICBrZXk6IGtleVR5cGUuX3BhcnNlKG5ldyBQYXJzZUlucHV0TGF6eVBhdGgoY3R4LCBrZXksIGN0eC5wYXRoLCBrZXkpKSxcbiAgICAgICAgICAgICAgICB2YWx1ZTogdmFsdWVUeXBlLl9wYXJzZShuZXcgUGFyc2VJbnB1dExhenlQYXRoKGN0eCwgY3R4LmRhdGFba2V5XSwgY3R4LnBhdGgsIGtleSkpLFxuICAgICAgICAgICAgICAgIGFsd2F5c1NldDoga2V5IGluIGN0eC5kYXRhLFxuICAgICAgICAgICAgfSk7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKGN0eC5jb21tb24uYXN5bmMpIHtcbiAgICAgICAgICAgIHJldHVybiBQYXJzZVN0YXR1cy5tZXJnZU9iamVjdEFzeW5jKHN0YXR1cywgcGFpcnMpO1xuICAgICAgICB9XG4gICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgcmV0dXJuIFBhcnNlU3RhdHVzLm1lcmdlT2JqZWN0U3luYyhzdGF0dXMsIHBhaXJzKTtcbiAgICAgICAgfVxuICAgIH1cbiAgICBnZXQgZWxlbWVudCgpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuX2RlZi52YWx1ZVR5cGU7XG4gICAgfVxuICAgIHN0YXRpYyBjcmVhdGUoZmlyc3QsIHNlY29uZCwgdGhpcmQpIHtcbiAgICAgICAgaWYgKHNlY29uZCBpbnN0YW5jZW9mIFpvZFR5cGUpIHtcbiAgICAgICAgICAgIHJldHVybiBuZXcgWm9kUmVjb3JkKHtcbiAgICAgICAgICAgICAgICBrZXlUeXBlOiBmaXJzdCxcbiAgICAgICAgICAgICAgICB2YWx1ZVR5cGU6IHNlY29uZCxcbiAgICAgICAgICAgICAgICB0eXBlTmFtZTogWm9kRmlyc3RQYXJ0eVR5cGVLaW5kLlpvZFJlY29yZCxcbiAgICAgICAgICAgICAgICAuLi5wcm9jZXNzQ3JlYXRlUGFyYW1zKHRoaXJkKSxcbiAgICAgICAgICAgIH0pO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiBuZXcgWm9kUmVjb3JkKHtcbiAgICAgICAgICAgIGtleVR5cGU6IFpvZFN0cmluZy5jcmVhdGUoKSxcbiAgICAgICAgICAgIHZhbHVlVHlwZTogZmlyc3QsXG4gICAgICAgICAgICB0eXBlTmFtZTogWm9kRmlyc3RQYXJ0eVR5cGVLaW5kLlpvZFJlY29yZCxcbiAgICAgICAgICAgIC4uLnByb2Nlc3NDcmVhdGVQYXJhbXMoc2Vjb25kKSxcbiAgICAgICAgfSk7XG4gICAgfVxufVxuZXhwb3J0IGNsYXNzIFpvZE1hcCBleHRlbmRzIFpvZFR5cGUge1xuICAgIGdldCBrZXlTY2hlbWEoKSB7XG4gICAgICAgIHJldHVybiB0aGlzLl9kZWYua2V5VHlwZTtcbiAgICB9XG4gICAgZ2V0IHZhbHVlU2NoZW1hKCkge1xuICAgICAgICByZXR1cm4gdGhpcy5fZGVmLnZhbHVlVHlwZTtcbiAgICB9XG4gICAgX3BhcnNlKGlucHV0KSB7XG4gICAgICAgIGNvbnN0IHsgc3RhdHVzLCBjdHggfSA9IHRoaXMuX3Byb2Nlc3NJbnB1dFBhcmFtcyhpbnB1dCk7XG4gICAgICAgIGlmIChjdHgucGFyc2VkVHlwZSAhPT0gWm9kUGFyc2VkVHlwZS5tYXApIHtcbiAgICAgICAgICAgIGFkZElzc3VlVG9Db250ZXh0KGN0eCwge1xuICAgICAgICAgICAgICAgIGNvZGU6IFpvZElzc3VlQ29kZS5pbnZhbGlkX3R5cGUsXG4gICAgICAgICAgICAgICAgZXhwZWN0ZWQ6IFpvZFBhcnNlZFR5cGUubWFwLFxuICAgICAgICAgICAgICAgIHJlY2VpdmVkOiBjdHgucGFyc2VkVHlwZSxcbiAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgcmV0dXJuIElOVkFMSUQ7XG4gICAgICAgIH1cbiAgICAgICAgY29uc3Qga2V5VHlwZSA9IHRoaXMuX2RlZi5rZXlUeXBlO1xuICAgICAgICBjb25zdCB2YWx1ZVR5cGUgPSB0aGlzLl9kZWYudmFsdWVUeXBlO1xuICAgICAgICBjb25zdCBwYWlycyA9IFsuLi5jdHguZGF0YS5lbnRyaWVzKCldLm1hcCgoW2tleSwgdmFsdWVdLCBpbmRleCkgPT4ge1xuICAgICAgICAgICAgcmV0dXJuIHtcbiAgICAgICAgICAgICAgICBrZXk6IGtleVR5cGUuX3BhcnNlKG5ldyBQYXJzZUlucHV0TGF6eVBhdGgoY3R4LCBrZXksIGN0eC5wYXRoLCBbaW5kZXgsIFwia2V5XCJdKSksXG4gICAgICAgICAgICAgICAgdmFsdWU6IHZhbHVlVHlwZS5fcGFyc2UobmV3IFBhcnNlSW5wdXRMYXp5UGF0aChjdHgsIHZhbHVlLCBjdHgucGF0aCwgW2luZGV4LCBcInZhbHVlXCJdKSksXG4gICAgICAgICAgICB9O1xuICAgICAgICB9KTtcbiAgICAgICAgaWYgKGN0eC5jb21tb24uYXN5bmMpIHtcbiAgICAgICAgICAgIGNvbnN0IGZpbmFsTWFwID0gbmV3IE1hcCgpO1xuICAgICAgICAgICAgcmV0dXJuIFByb21pc2UucmVzb2x2ZSgpLnRoZW4oYXN5bmMgKCkgPT4ge1xuICAgICAgICAgICAgICAgIGZvciAoY29uc3QgcGFpciBvZiBwYWlycykge1xuICAgICAgICAgICAgICAgICAgICBjb25zdCBrZXkgPSBhd2FpdCBwYWlyLmtleTtcbiAgICAgICAgICAgICAgICAgICAgY29uc3QgdmFsdWUgPSBhd2FpdCBwYWlyLnZhbHVlO1xuICAgICAgICAgICAgICAgICAgICBpZiAoa2V5LnN0YXR1cyA9PT0gXCJhYm9ydGVkXCIgfHwgdmFsdWUuc3RhdHVzID09PSBcImFib3J0ZWRcIikge1xuICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIElOVkFMSUQ7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgaWYgKGtleS5zdGF0dXMgPT09IFwiZGlydHlcIiB8fCB2YWx1ZS5zdGF0dXMgPT09IFwiZGlydHlcIikge1xuICAgICAgICAgICAgICAgICAgICAgICAgc3RhdHVzLmRpcnR5KCk7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgZmluYWxNYXAuc2V0KGtleS52YWx1ZSwgdmFsdWUudmFsdWUpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICByZXR1cm4geyBzdGF0dXM6IHN0YXR1cy52YWx1ZSwgdmFsdWU6IGZpbmFsTWFwIH07XG4gICAgICAgICAgICB9KTtcbiAgICAgICAgfVxuICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgIGNvbnN0IGZpbmFsTWFwID0gbmV3IE1hcCgpO1xuICAgICAgICAgICAgZm9yIChjb25zdCBwYWlyIG9mIHBhaXJzKSB7XG4gICAgICAgICAgICAgICAgY29uc3Qga2V5ID0gcGFpci5rZXk7XG4gICAgICAgICAgICAgICAgY29uc3QgdmFsdWUgPSBwYWlyLnZhbHVlO1xuICAgICAgICAgICAgICAgIGlmIChrZXkuc3RhdHVzID09PSBcImFib3J0ZWRcIiB8fCB2YWx1ZS5zdGF0dXMgPT09IFwiYWJvcnRlZFwiKSB7XG4gICAgICAgICAgICAgICAgICAgIHJldHVybiBJTlZBTElEO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBpZiAoa2V5LnN0YXR1cyA9PT0gXCJkaXJ0eVwiIHx8IHZhbHVlLnN0YXR1cyA9PT0gXCJkaXJ0eVwiKSB7XG4gICAgICAgICAgICAgICAgICAgIHN0YXR1cy5kaXJ0eSgpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBmaW5hbE1hcC5zZXQoa2V5LnZhbHVlLCB2YWx1ZS52YWx1ZSk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICByZXR1cm4geyBzdGF0dXM6IHN0YXR1cy52YWx1ZSwgdmFsdWU6IGZpbmFsTWFwIH07XG4gICAgICAgIH1cbiAgICB9XG59XG5ab2RNYXAuY3JlYXRlID0gKGtleVR5cGUsIHZhbHVlVHlwZSwgcGFyYW1zKSA9PiB7XG4gICAgcmV0dXJuIG5ldyBab2RNYXAoe1xuICAgICAgICB2YWx1ZVR5cGUsXG4gICAgICAgIGtleVR5cGUsXG4gICAgICAgIHR5cGVOYW1lOiBab2RGaXJzdFBhcnR5VHlwZUtpbmQuWm9kTWFwLFxuICAgICAgICAuLi5wcm9jZXNzQ3JlYXRlUGFyYW1zKHBhcmFtcyksXG4gICAgfSk7XG59O1xuZXhwb3J0IGNsYXNzIFpvZFNldCBleHRlbmRzIFpvZFR5cGUge1xuICAgIF9wYXJzZShpbnB1dCkge1xuICAgICAgICBjb25zdCB7IHN0YXR1cywgY3R4IH0gPSB0aGlzLl9wcm9jZXNzSW5wdXRQYXJhbXMoaW5wdXQpO1xuICAgICAgICBpZiAoY3R4LnBhcnNlZFR5cGUgIT09IFpvZFBhcnNlZFR5cGUuc2V0KSB7XG4gICAgICAgICAgICBhZGRJc3N1ZVRvQ29udGV4dChjdHgsIHtcbiAgICAgICAgICAgICAgICBjb2RlOiBab2RJc3N1ZUNvZGUuaW52YWxpZF90eXBlLFxuICAgICAgICAgICAgICAgIGV4cGVjdGVkOiBab2RQYXJzZWRUeXBlLnNldCxcbiAgICAgICAgICAgICAgICByZWNlaXZlZDogY3R4LnBhcnNlZFR5cGUsXG4gICAgICAgICAgICB9KTtcbiAgICAgICAgICAgIHJldHVybiBJTlZBTElEO1xuICAgICAgICB9XG4gICAgICAgIGNvbnN0IGRlZiA9IHRoaXMuX2RlZjtcbiAgICAgICAgaWYgKGRlZi5taW5TaXplICE9PSBudWxsKSB7XG4gICAgICAgICAgICBpZiAoY3R4LmRhdGEuc2l6ZSA8IGRlZi5taW5TaXplLnZhbHVlKSB7XG4gICAgICAgICAgICAgICAgYWRkSXNzdWVUb0NvbnRleHQoY3R4LCB7XG4gICAgICAgICAgICAgICAgICAgIGNvZGU6IFpvZElzc3VlQ29kZS50b29fc21hbGwsXG4gICAgICAgICAgICAgICAgICAgIG1pbmltdW06IGRlZi5taW5TaXplLnZhbHVlLFxuICAgICAgICAgICAgICAgICAgICB0eXBlOiBcInNldFwiLFxuICAgICAgICAgICAgICAgICAgICBpbmNsdXNpdmU6IHRydWUsXG4gICAgICAgICAgICAgICAgICAgIGV4YWN0OiBmYWxzZSxcbiAgICAgICAgICAgICAgICAgICAgbWVzc2FnZTogZGVmLm1pblNpemUubWVzc2FnZSxcbiAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgICAgICBzdGF0dXMuZGlydHkoKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICBpZiAoZGVmLm1heFNpemUgIT09IG51bGwpIHtcbiAgICAgICAgICAgIGlmIChjdHguZGF0YS5zaXplID4gZGVmLm1heFNpemUudmFsdWUpIHtcbiAgICAgICAgICAgICAgICBhZGRJc3N1ZVRvQ29udGV4dChjdHgsIHtcbiAgICAgICAgICAgICAgICAgICAgY29kZTogWm9kSXNzdWVDb2RlLnRvb19iaWcsXG4gICAgICAgICAgICAgICAgICAgIG1heGltdW06IGRlZi5tYXhTaXplLnZhbHVlLFxuICAgICAgICAgICAgICAgICAgICB0eXBlOiBcInNldFwiLFxuICAgICAgICAgICAgICAgICAgICBpbmNsdXNpdmU6IHRydWUsXG4gICAgICAgICAgICAgICAgICAgIGV4YWN0OiBmYWxzZSxcbiAgICAgICAgICAgICAgICAgICAgbWVzc2FnZTogZGVmLm1heFNpemUubWVzc2FnZSxcbiAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgICAgICBzdGF0dXMuZGlydHkoKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICBjb25zdCB2YWx1ZVR5cGUgPSB0aGlzLl9kZWYudmFsdWVUeXBlO1xuICAgICAgICBmdW5jdGlvbiBmaW5hbGl6ZVNldChlbGVtZW50cykge1xuICAgICAgICAgICAgY29uc3QgcGFyc2VkU2V0ID0gbmV3IFNldCgpO1xuICAgICAgICAgICAgZm9yIChjb25zdCBlbGVtZW50IG9mIGVsZW1lbnRzKSB7XG4gICAgICAgICAgICAgICAgaWYgKGVsZW1lbnQuc3RhdHVzID09PSBcImFib3J0ZWRcIilcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIElOVkFMSUQ7XG4gICAgICAgICAgICAgICAgaWYgKGVsZW1lbnQuc3RhdHVzID09PSBcImRpcnR5XCIpXG4gICAgICAgICAgICAgICAgICAgIHN0YXR1cy5kaXJ0eSgpO1xuICAgICAgICAgICAgICAgIHBhcnNlZFNldC5hZGQoZWxlbWVudC52YWx1ZSk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICByZXR1cm4geyBzdGF0dXM6IHN0YXR1cy52YWx1ZSwgdmFsdWU6IHBhcnNlZFNldCB9O1xuICAgICAgICB9XG4gICAgICAgIGNvbnN0IGVsZW1lbnRzID0gWy4uLmN0eC5kYXRhLnZhbHVlcygpXS5tYXAoKGl0ZW0sIGkpID0+IHZhbHVlVHlwZS5fcGFyc2UobmV3IFBhcnNlSW5wdXRMYXp5UGF0aChjdHgsIGl0ZW0sIGN0eC5wYXRoLCBpKSkpO1xuICAgICAgICBpZiAoY3R4LmNvbW1vbi5hc3luYykge1xuICAgICAgICAgICAgcmV0dXJuIFByb21pc2UuYWxsKGVsZW1lbnRzKS50aGVuKChlbGVtZW50cykgPT4gZmluYWxpemVTZXQoZWxlbWVudHMpKTtcbiAgICAgICAgfVxuICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgIHJldHVybiBmaW5hbGl6ZVNldChlbGVtZW50cyk7XG4gICAgICAgIH1cbiAgICB9XG4gICAgbWluKG1pblNpemUsIG1lc3NhZ2UpIHtcbiAgICAgICAgcmV0dXJuIG5ldyBab2RTZXQoe1xuICAgICAgICAgICAgLi4udGhpcy5fZGVmLFxuICAgICAgICAgICAgbWluU2l6ZTogeyB2YWx1ZTogbWluU2l6ZSwgbWVzc2FnZTogZXJyb3JVdGlsLnRvU3RyaW5nKG1lc3NhZ2UpIH0sXG4gICAgICAgIH0pO1xuICAgIH1cbiAgICBtYXgobWF4U2l6ZSwgbWVzc2FnZSkge1xuICAgICAgICByZXR1cm4gbmV3IFpvZFNldCh7XG4gICAgICAgICAgICAuLi50aGlzLl9kZWYsXG4gICAgICAgICAgICBtYXhTaXplOiB7IHZhbHVlOiBtYXhTaXplLCBtZXNzYWdlOiBlcnJvclV0aWwudG9TdHJpbmcobWVzc2FnZSkgfSxcbiAgICAgICAgfSk7XG4gICAgfVxuICAgIHNpemUoc2l6ZSwgbWVzc2FnZSkge1xuICAgICAgICByZXR1cm4gdGhpcy5taW4oc2l6ZSwgbWVzc2FnZSkubWF4KHNpemUsIG1lc3NhZ2UpO1xuICAgIH1cbiAgICBub25lbXB0eShtZXNzYWdlKSB7XG4gICAgICAgIHJldHVybiB0aGlzLm1pbigxLCBtZXNzYWdlKTtcbiAgICB9XG59XG5ab2RTZXQuY3JlYXRlID0gKHZhbHVlVHlwZSwgcGFyYW1zKSA9PiB7XG4gICAgcmV0dXJuIG5ldyBab2RTZXQoe1xuICAgICAgICB2YWx1ZVR5cGUsXG4gICAgICAgIG1pblNpemU6IG51bGwsXG4gICAgICAgIG1heFNpemU6IG51bGwsXG4gICAgICAgIHR5cGVOYW1lOiBab2RGaXJzdFBhcnR5VHlwZUtpbmQuWm9kU2V0LFxuICAgICAgICAuLi5wcm9jZXNzQ3JlYXRlUGFyYW1zKHBhcmFtcyksXG4gICAgfSk7XG59O1xuZXhwb3J0IGNsYXNzIFpvZEZ1bmN0aW9uIGV4dGVuZHMgWm9kVHlwZSB7XG4gICAgY29uc3RydWN0b3IoKSB7XG4gICAgICAgIHN1cGVyKC4uLmFyZ3VtZW50cyk7XG4gICAgICAgIHRoaXMudmFsaWRhdGUgPSB0aGlzLmltcGxlbWVudDtcbiAgICB9XG4gICAgX3BhcnNlKGlucHV0KSB7XG4gICAgICAgIGNvbnN0IHsgY3R4IH0gPSB0aGlzLl9wcm9jZXNzSW5wdXRQYXJhbXMoaW5wdXQpO1xuICAgICAgICBpZiAoY3R4LnBhcnNlZFR5cGUgIT09IFpvZFBhcnNlZFR5cGUuZnVuY3Rpb24pIHtcbiAgICAgICAgICAgIGFkZElzc3VlVG9Db250ZXh0KGN0eCwge1xuICAgICAgICAgICAgICAgIGNvZGU6IFpvZElzc3VlQ29kZS5pbnZhbGlkX3R5cGUsXG4gICAgICAgICAgICAgICAgZXhwZWN0ZWQ6IFpvZFBhcnNlZFR5cGUuZnVuY3Rpb24sXG4gICAgICAgICAgICAgICAgcmVjZWl2ZWQ6IGN0eC5wYXJzZWRUeXBlLFxuICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICByZXR1cm4gSU5WQUxJRDtcbiAgICAgICAgfVxuICAgICAgICBmdW5jdGlvbiBtYWtlQXJnc0lzc3VlKGFyZ3MsIGVycm9yKSB7XG4gICAgICAgICAgICByZXR1cm4gbWFrZUlzc3VlKHtcbiAgICAgICAgICAgICAgICBkYXRhOiBhcmdzLFxuICAgICAgICAgICAgICAgIHBhdGg6IGN0eC5wYXRoLFxuICAgICAgICAgICAgICAgIGVycm9yTWFwczogW2N0eC5jb21tb24uY29udGV4dHVhbEVycm9yTWFwLCBjdHguc2NoZW1hRXJyb3JNYXAsIGdldEVycm9yTWFwKCksIGRlZmF1bHRFcnJvck1hcF0uZmlsdGVyKCh4KSA9PiAhIXgpLFxuICAgICAgICAgICAgICAgIGlzc3VlRGF0YToge1xuICAgICAgICAgICAgICAgICAgICBjb2RlOiBab2RJc3N1ZUNvZGUuaW52YWxpZF9hcmd1bWVudHMsXG4gICAgICAgICAgICAgICAgICAgIGFyZ3VtZW50c0Vycm9yOiBlcnJvcixcbiAgICAgICAgICAgICAgICB9LFxuICAgICAgICAgICAgfSk7XG4gICAgICAgIH1cbiAgICAgICAgZnVuY3Rpb24gbWFrZVJldHVybnNJc3N1ZShyZXR1cm5zLCBlcnJvcikge1xuICAgICAgICAgICAgcmV0dXJuIG1ha2VJc3N1ZSh7XG4gICAgICAgICAgICAgICAgZGF0YTogcmV0dXJucyxcbiAgICAgICAgICAgICAgICBwYXRoOiBjdHgucGF0aCxcbiAgICAgICAgICAgICAgICBlcnJvck1hcHM6IFtjdHguY29tbW9uLmNvbnRleHR1YWxFcnJvck1hcCwgY3R4LnNjaGVtYUVycm9yTWFwLCBnZXRFcnJvck1hcCgpLCBkZWZhdWx0RXJyb3JNYXBdLmZpbHRlcigoeCkgPT4gISF4KSxcbiAgICAgICAgICAgICAgICBpc3N1ZURhdGE6IHtcbiAgICAgICAgICAgICAgICAgICAgY29kZTogWm9kSXNzdWVDb2RlLmludmFsaWRfcmV0dXJuX3R5cGUsXG4gICAgICAgICAgICAgICAgICAgIHJldHVyblR5cGVFcnJvcjogZXJyb3IsXG4gICAgICAgICAgICAgICAgfSxcbiAgICAgICAgICAgIH0pO1xuICAgICAgICB9XG4gICAgICAgIGNvbnN0IHBhcmFtcyA9IHsgZXJyb3JNYXA6IGN0eC5jb21tb24uY29udGV4dHVhbEVycm9yTWFwIH07XG4gICAgICAgIGNvbnN0IGZuID0gY3R4LmRhdGE7XG4gICAgICAgIGlmICh0aGlzLl9kZWYucmV0dXJucyBpbnN0YW5jZW9mIFpvZFByb21pc2UpIHtcbiAgICAgICAgICAgIC8vIFdvdWxkIGxvdmUgYSB3YXkgdG8gYXZvaWQgZGlzYWJsaW5nIHRoaXMgcnVsZSwgYnV0IHdlIG5lZWRcbiAgICAgICAgICAgIC8vIGFuIGFsaWFzICh1c2luZyBhbiBhcnJvdyBmdW5jdGlvbiB3YXMgd2hhdCBjYXVzZWQgMjY1MSkuXG4gICAgICAgICAgICAvLyBlc2xpbnQtZGlzYWJsZS1uZXh0LWxpbmUgQHR5cGVzY3JpcHQtZXNsaW50L25vLXRoaXMtYWxpYXNcbiAgICAgICAgICAgIGNvbnN0IG1lID0gdGhpcztcbiAgICAgICAgICAgIHJldHVybiBPSyhhc3luYyBmdW5jdGlvbiAoLi4uYXJncykge1xuICAgICAgICAgICAgICAgIGNvbnN0IGVycm9yID0gbmV3IFpvZEVycm9yKFtdKTtcbiAgICAgICAgICAgICAgICBjb25zdCBwYXJzZWRBcmdzID0gYXdhaXQgbWUuX2RlZi5hcmdzLnBhcnNlQXN5bmMoYXJncywgcGFyYW1zKS5jYXRjaCgoZSkgPT4ge1xuICAgICAgICAgICAgICAgICAgICBlcnJvci5hZGRJc3N1ZShtYWtlQXJnc0lzc3VlKGFyZ3MsIGUpKTtcbiAgICAgICAgICAgICAgICAgICAgdGhyb3cgZXJyb3I7XG4gICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICAgICAgY29uc3QgcmVzdWx0ID0gYXdhaXQgUmVmbGVjdC5hcHBseShmbiwgdGhpcywgcGFyc2VkQXJncyk7XG4gICAgICAgICAgICAgICAgY29uc3QgcGFyc2VkUmV0dXJucyA9IGF3YWl0IG1lLl9kZWYucmV0dXJucy5fZGVmLnR5cGVcbiAgICAgICAgICAgICAgICAgICAgLnBhcnNlQXN5bmMocmVzdWx0LCBwYXJhbXMpXG4gICAgICAgICAgICAgICAgICAgIC5jYXRjaCgoZSkgPT4ge1xuICAgICAgICAgICAgICAgICAgICBlcnJvci5hZGRJc3N1ZShtYWtlUmV0dXJuc0lzc3VlKHJlc3VsdCwgZSkpO1xuICAgICAgICAgICAgICAgICAgICB0aHJvdyBlcnJvcjtcbiAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgICAgICByZXR1cm4gcGFyc2VkUmV0dXJucztcbiAgICAgICAgICAgIH0pO1xuICAgICAgICB9XG4gICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgLy8gV291bGQgbG92ZSBhIHdheSB0byBhdm9pZCBkaXNhYmxpbmcgdGhpcyBydWxlLCBidXQgd2UgbmVlZFxuICAgICAgICAgICAgLy8gYW4gYWxpYXMgKHVzaW5nIGFuIGFycm93IGZ1bmN0aW9uIHdhcyB3aGF0IGNhdXNlZCAyNjUxKS5cbiAgICAgICAgICAgIC8vIGVzbGludC1kaXNhYmxlLW5leHQtbGluZSBAdHlwZXNjcmlwdC1lc2xpbnQvbm8tdGhpcy1hbGlhc1xuICAgICAgICAgICAgY29uc3QgbWUgPSB0aGlzO1xuICAgICAgICAgICAgcmV0dXJuIE9LKGZ1bmN0aW9uICguLi5hcmdzKSB7XG4gICAgICAgICAgICAgICAgY29uc3QgcGFyc2VkQXJncyA9IG1lLl9kZWYuYXJncy5zYWZlUGFyc2UoYXJncywgcGFyYW1zKTtcbiAgICAgICAgICAgICAgICBpZiAoIXBhcnNlZEFyZ3Muc3VjY2Vzcykge1xuICAgICAgICAgICAgICAgICAgICB0aHJvdyBuZXcgWm9kRXJyb3IoW21ha2VBcmdzSXNzdWUoYXJncywgcGFyc2VkQXJncy5lcnJvcildKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgY29uc3QgcmVzdWx0ID0gUmVmbGVjdC5hcHBseShmbiwgdGhpcywgcGFyc2VkQXJncy5kYXRhKTtcbiAgICAgICAgICAgICAgICBjb25zdCBwYXJzZWRSZXR1cm5zID0gbWUuX2RlZi5yZXR1cm5zLnNhZmVQYXJzZShyZXN1bHQsIHBhcmFtcyk7XG4gICAgICAgICAgICAgICAgaWYgKCFwYXJzZWRSZXR1cm5zLnN1Y2Nlc3MpIHtcbiAgICAgICAgICAgICAgICAgICAgdGhyb3cgbmV3IFpvZEVycm9yKFttYWtlUmV0dXJuc0lzc3VlKHJlc3VsdCwgcGFyc2VkUmV0dXJucy5lcnJvcildKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgcmV0dXJuIHBhcnNlZFJldHVybnMuZGF0YTtcbiAgICAgICAgICAgIH0pO1xuICAgICAgICB9XG4gICAgfVxuICAgIHBhcmFtZXRlcnMoKSB7XG4gICAgICAgIHJldHVybiB0aGlzLl9kZWYuYXJncztcbiAgICB9XG4gICAgcmV0dXJuVHlwZSgpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuX2RlZi5yZXR1cm5zO1xuICAgIH1cbiAgICBhcmdzKC4uLml0ZW1zKSB7XG4gICAgICAgIHJldHVybiBuZXcgWm9kRnVuY3Rpb24oe1xuICAgICAgICAgICAgLi4udGhpcy5fZGVmLFxuICAgICAgICAgICAgYXJnczogWm9kVHVwbGUuY3JlYXRlKGl0ZW1zKS5yZXN0KFpvZFVua25vd24uY3JlYXRlKCkpLFxuICAgICAgICB9KTtcbiAgICB9XG4gICAgcmV0dXJucyhyZXR1cm5UeXBlKSB7XG4gICAgICAgIHJldHVybiBuZXcgWm9kRnVuY3Rpb24oe1xuICAgICAgICAgICAgLi4udGhpcy5fZGVmLFxuICAgICAgICAgICAgcmV0dXJuczogcmV0dXJuVHlwZSxcbiAgICAgICAgfSk7XG4gICAgfVxuICAgIGltcGxlbWVudChmdW5jKSB7XG4gICAgICAgIGNvbnN0IHZhbGlkYXRlZEZ1bmMgPSB0aGlzLnBhcnNlKGZ1bmMpO1xuICAgICAgICByZXR1cm4gdmFsaWRhdGVkRnVuYztcbiAgICB9XG4gICAgc3RyaWN0SW1wbGVtZW50KGZ1bmMpIHtcbiAgICAgICAgY29uc3QgdmFsaWRhdGVkRnVuYyA9IHRoaXMucGFyc2UoZnVuYyk7XG4gICAgICAgIHJldHVybiB2YWxpZGF0ZWRGdW5jO1xuICAgIH1cbiAgICBzdGF0aWMgY3JlYXRlKGFyZ3MsIHJldHVybnMsIHBhcmFtcykge1xuICAgICAgICByZXR1cm4gbmV3IFpvZEZ1bmN0aW9uKHtcbiAgICAgICAgICAgIGFyZ3M6IChhcmdzID8gYXJncyA6IFpvZFR1cGxlLmNyZWF0ZShbXSkucmVzdChab2RVbmtub3duLmNyZWF0ZSgpKSksXG4gICAgICAgICAgICByZXR1cm5zOiByZXR1cm5zIHx8IFpvZFVua25vd24uY3JlYXRlKCksXG4gICAgICAgICAgICB0eXBlTmFtZTogWm9kRmlyc3RQYXJ0eVR5cGVLaW5kLlpvZEZ1bmN0aW9uLFxuICAgICAgICAgICAgLi4ucHJvY2Vzc0NyZWF0ZVBhcmFtcyhwYXJhbXMpLFxuICAgICAgICB9KTtcbiAgICB9XG59XG5leHBvcnQgY2xhc3MgWm9kTGF6eSBleHRlbmRzIFpvZFR5cGUge1xuICAgIGdldCBzY2hlbWEoKSB7XG4gICAgICAgIHJldHVybiB0aGlzLl9kZWYuZ2V0dGVyKCk7XG4gICAgfVxuICAgIF9wYXJzZShpbnB1dCkge1xuICAgICAgICBjb25zdCB7IGN0eCB9ID0gdGhpcy5fcHJvY2Vzc0lucHV0UGFyYW1zKGlucHV0KTtcbiAgICAgICAgY29uc3QgbGF6eVNjaGVtYSA9IHRoaXMuX2RlZi5nZXR0ZXIoKTtcbiAgICAgICAgcmV0dXJuIGxhenlTY2hlbWEuX3BhcnNlKHsgZGF0YTogY3R4LmRhdGEsIHBhdGg6IGN0eC5wYXRoLCBwYXJlbnQ6IGN0eCB9KTtcbiAgICB9XG59XG5ab2RMYXp5LmNyZWF0ZSA9IChnZXR0ZXIsIHBhcmFtcykgPT4ge1xuICAgIHJldHVybiBuZXcgWm9kTGF6eSh7XG4gICAgICAgIGdldHRlcjogZ2V0dGVyLFxuICAgICAgICB0eXBlTmFtZTogWm9kRmlyc3RQYXJ0eVR5cGVLaW5kLlpvZExhenksXG4gICAgICAgIC4uLnByb2Nlc3NDcmVhdGVQYXJhbXMocGFyYW1zKSxcbiAgICB9KTtcbn07XG5leHBvcnQgY2xhc3MgWm9kTGl0ZXJhbCBleHRlbmRzIFpvZFR5cGUge1xuICAgIF9wYXJzZShpbnB1dCkge1xuICAgICAgICBpZiAoaW5wdXQuZGF0YSAhPT0gdGhpcy5fZGVmLnZhbHVlKSB7XG4gICAgICAgICAgICBjb25zdCBjdHggPSB0aGlzLl9nZXRPclJldHVybkN0eChpbnB1dCk7XG4gICAgICAgICAgICBhZGRJc3N1ZVRvQ29udGV4dChjdHgsIHtcbiAgICAgICAgICAgICAgICByZWNlaXZlZDogY3R4LmRhdGEsXG4gICAgICAgICAgICAgICAgY29kZTogWm9kSXNzdWVDb2RlLmludmFsaWRfbGl0ZXJhbCxcbiAgICAgICAgICAgICAgICBleHBlY3RlZDogdGhpcy5fZGVmLnZhbHVlLFxuICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICByZXR1cm4gSU5WQUxJRDtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4geyBzdGF0dXM6IFwidmFsaWRcIiwgdmFsdWU6IGlucHV0LmRhdGEgfTtcbiAgICB9XG4gICAgZ2V0IHZhbHVlKCkge1xuICAgICAgICByZXR1cm4gdGhpcy5fZGVmLnZhbHVlO1xuICAgIH1cbn1cblpvZExpdGVyYWwuY3JlYXRlID0gKHZhbHVlLCBwYXJhbXMpID0+IHtcbiAgICByZXR1cm4gbmV3IFpvZExpdGVyYWwoe1xuICAgICAgICB2YWx1ZTogdmFsdWUsXG4gICAgICAgIHR5cGVOYW1lOiBab2RGaXJzdFBhcnR5VHlwZUtpbmQuWm9kTGl0ZXJhbCxcbiAgICAgICAgLi4ucHJvY2Vzc0NyZWF0ZVBhcmFtcyhwYXJhbXMpLFxuICAgIH0pO1xufTtcbmZ1bmN0aW9uIGNyZWF0ZVpvZEVudW0odmFsdWVzLCBwYXJhbXMpIHtcbiAgICByZXR1cm4gbmV3IFpvZEVudW0oe1xuICAgICAgICB2YWx1ZXMsXG4gICAgICAgIHR5cGVOYW1lOiBab2RGaXJzdFBhcnR5VHlwZUtpbmQuWm9kRW51bSxcbiAgICAgICAgLi4ucHJvY2Vzc0NyZWF0ZVBhcmFtcyhwYXJhbXMpLFxuICAgIH0pO1xufVxuZXhwb3J0IGNsYXNzIFpvZEVudW0gZXh0ZW5kcyBab2RUeXBlIHtcbiAgICBfcGFyc2UoaW5wdXQpIHtcbiAgICAgICAgaWYgKHR5cGVvZiBpbnB1dC5kYXRhICE9PSBcInN0cmluZ1wiKSB7XG4gICAgICAgICAgICBjb25zdCBjdHggPSB0aGlzLl9nZXRPclJldHVybkN0eChpbnB1dCk7XG4gICAgICAgICAgICBjb25zdCBleHBlY3RlZFZhbHVlcyA9IHRoaXMuX2RlZi52YWx1ZXM7XG4gICAgICAgICAgICBhZGRJc3N1ZVRvQ29udGV4dChjdHgsIHtcbiAgICAgICAgICAgICAgICBleHBlY3RlZDogdXRpbC5qb2luVmFsdWVzKGV4cGVjdGVkVmFsdWVzKSxcbiAgICAgICAgICAgICAgICByZWNlaXZlZDogY3R4LnBhcnNlZFR5cGUsXG4gICAgICAgICAgICAgICAgY29kZTogWm9kSXNzdWVDb2RlLmludmFsaWRfdHlwZSxcbiAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgcmV0dXJuIElOVkFMSUQ7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKCF0aGlzLl9jYWNoZSkge1xuICAgICAgICAgICAgdGhpcy5fY2FjaGUgPSBuZXcgU2V0KHRoaXMuX2RlZi52YWx1ZXMpO1xuICAgICAgICB9XG4gICAgICAgIGlmICghdGhpcy5fY2FjaGUuaGFzKGlucHV0LmRhdGEpKSB7XG4gICAgICAgICAgICBjb25zdCBjdHggPSB0aGlzLl9nZXRPclJldHVybkN0eChpbnB1dCk7XG4gICAgICAgICAgICBjb25zdCBleHBlY3RlZFZhbHVlcyA9IHRoaXMuX2RlZi52YWx1ZXM7XG4gICAgICAgICAgICBhZGRJc3N1ZVRvQ29udGV4dChjdHgsIHtcbiAgICAgICAgICAgICAgICByZWNlaXZlZDogY3R4LmRhdGEsXG4gICAgICAgICAgICAgICAgY29kZTogWm9kSXNzdWVDb2RlLmludmFsaWRfZW51bV92YWx1ZSxcbiAgICAgICAgICAgICAgICBvcHRpb25zOiBleHBlY3RlZFZhbHVlcyxcbiAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgcmV0dXJuIElOVkFMSUQ7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIE9LKGlucHV0LmRhdGEpO1xuICAgIH1cbiAgICBnZXQgb3B0aW9ucygpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuX2RlZi52YWx1ZXM7XG4gICAgfVxuICAgIGdldCBlbnVtKCkge1xuICAgICAgICBjb25zdCBlbnVtVmFsdWVzID0ge307XG4gICAgICAgIGZvciAoY29uc3QgdmFsIG9mIHRoaXMuX2RlZi52YWx1ZXMpIHtcbiAgICAgICAgICAgIGVudW1WYWx1ZXNbdmFsXSA9IHZhbDtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gZW51bVZhbHVlcztcbiAgICB9XG4gICAgZ2V0IFZhbHVlcygpIHtcbiAgICAgICAgY29uc3QgZW51bVZhbHVlcyA9IHt9O1xuICAgICAgICBmb3IgKGNvbnN0IHZhbCBvZiB0aGlzLl9kZWYudmFsdWVzKSB7XG4gICAgICAgICAgICBlbnVtVmFsdWVzW3ZhbF0gPSB2YWw7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIGVudW1WYWx1ZXM7XG4gICAgfVxuICAgIGdldCBFbnVtKCkge1xuICAgICAgICBjb25zdCBlbnVtVmFsdWVzID0ge307XG4gICAgICAgIGZvciAoY29uc3QgdmFsIG9mIHRoaXMuX2RlZi52YWx1ZXMpIHtcbiAgICAgICAgICAgIGVudW1WYWx1ZXNbdmFsXSA9IHZhbDtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gZW51bVZhbHVlcztcbiAgICB9XG4gICAgZXh0cmFjdCh2YWx1ZXMsIG5ld0RlZiA9IHRoaXMuX2RlZikge1xuICAgICAgICByZXR1cm4gWm9kRW51bS5jcmVhdGUodmFsdWVzLCB7XG4gICAgICAgICAgICAuLi50aGlzLl9kZWYsXG4gICAgICAgICAgICAuLi5uZXdEZWYsXG4gICAgICAgIH0pO1xuICAgIH1cbiAgICBleGNsdWRlKHZhbHVlcywgbmV3RGVmID0gdGhpcy5fZGVmKSB7XG4gICAgICAgIHJldHVybiBab2RFbnVtLmNyZWF0ZSh0aGlzLm9wdGlvbnMuZmlsdGVyKChvcHQpID0+ICF2YWx1ZXMuaW5jbHVkZXMob3B0KSksIHtcbiAgICAgICAgICAgIC4uLnRoaXMuX2RlZixcbiAgICAgICAgICAgIC4uLm5ld0RlZixcbiAgICAgICAgfSk7XG4gICAgfVxufVxuWm9kRW51bS5jcmVhdGUgPSBjcmVhdGVab2RFbnVtO1xuZXhwb3J0IGNsYXNzIFpvZE5hdGl2ZUVudW0gZXh0ZW5kcyBab2RUeXBlIHtcbiAgICBfcGFyc2UoaW5wdXQpIHtcbiAgICAgICAgY29uc3QgbmF0aXZlRW51bVZhbHVlcyA9IHV0aWwuZ2V0VmFsaWRFbnVtVmFsdWVzKHRoaXMuX2RlZi52YWx1ZXMpO1xuICAgICAgICBjb25zdCBjdHggPSB0aGlzLl9nZXRPclJldHVybkN0eChpbnB1dCk7XG4gICAgICAgIGlmIChjdHgucGFyc2VkVHlwZSAhPT0gWm9kUGFyc2VkVHlwZS5zdHJpbmcgJiYgY3R4LnBhcnNlZFR5cGUgIT09IFpvZFBhcnNlZFR5cGUubnVtYmVyKSB7XG4gICAgICAgICAgICBjb25zdCBleHBlY3RlZFZhbHVlcyA9IHV0aWwub2JqZWN0VmFsdWVzKG5hdGl2ZUVudW1WYWx1ZXMpO1xuICAgICAgICAgICAgYWRkSXNzdWVUb0NvbnRleHQoY3R4LCB7XG4gICAgICAgICAgICAgICAgZXhwZWN0ZWQ6IHV0aWwuam9pblZhbHVlcyhleHBlY3RlZFZhbHVlcyksXG4gICAgICAgICAgICAgICAgcmVjZWl2ZWQ6IGN0eC5wYXJzZWRUeXBlLFxuICAgICAgICAgICAgICAgIGNvZGU6IFpvZElzc3VlQ29kZS5pbnZhbGlkX3R5cGUsXG4gICAgICAgICAgICB9KTtcbiAgICAgICAgICAgIHJldHVybiBJTlZBTElEO1xuICAgICAgICB9XG4gICAgICAgIGlmICghdGhpcy5fY2FjaGUpIHtcbiAgICAgICAgICAgIHRoaXMuX2NhY2hlID0gbmV3IFNldCh1dGlsLmdldFZhbGlkRW51bVZhbHVlcyh0aGlzLl9kZWYudmFsdWVzKSk7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKCF0aGlzLl9jYWNoZS5oYXMoaW5wdXQuZGF0YSkpIHtcbiAgICAgICAgICAgIGNvbnN0IGV4cGVjdGVkVmFsdWVzID0gdXRpbC5vYmplY3RWYWx1ZXMobmF0aXZlRW51bVZhbHVlcyk7XG4gICAgICAgICAgICBhZGRJc3N1ZVRvQ29udGV4dChjdHgsIHtcbiAgICAgICAgICAgICAgICByZWNlaXZlZDogY3R4LmRhdGEsXG4gICAgICAgICAgICAgICAgY29kZTogWm9kSXNzdWVDb2RlLmludmFsaWRfZW51bV92YWx1ZSxcbiAgICAgICAgICAgICAgICBvcHRpb25zOiBleHBlY3RlZFZhbHVlcyxcbiAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgcmV0dXJuIElOVkFMSUQ7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIE9LKGlucHV0LmRhdGEpO1xuICAgIH1cbiAgICBnZXQgZW51bSgpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuX2RlZi52YWx1ZXM7XG4gICAgfVxufVxuWm9kTmF0aXZlRW51bS5jcmVhdGUgPSAodmFsdWVzLCBwYXJhbXMpID0+IHtcbiAgICByZXR1cm4gbmV3IFpvZE5hdGl2ZUVudW0oe1xuICAgICAgICB2YWx1ZXM6IHZhbHVlcyxcbiAgICAgICAgdHlwZU5hbWU6IFpvZEZpcnN0UGFydHlUeXBlS2luZC5ab2ROYXRpdmVFbnVtLFxuICAgICAgICAuLi5wcm9jZXNzQ3JlYXRlUGFyYW1zKHBhcmFtcyksXG4gICAgfSk7XG59O1xuZXhwb3J0IGNsYXNzIFpvZFByb21pc2UgZXh0ZW5kcyBab2RUeXBlIHtcbiAgICB1bndyYXAoKSB7XG4gICAgICAgIHJldHVybiB0aGlzLl9kZWYudHlwZTtcbiAgICB9XG4gICAgX3BhcnNlKGlucHV0KSB7XG4gICAgICAgIGNvbnN0IHsgY3R4IH0gPSB0aGlzLl9wcm9jZXNzSW5wdXRQYXJhbXMoaW5wdXQpO1xuICAgICAgICBpZiAoY3R4LnBhcnNlZFR5cGUgIT09IFpvZFBhcnNlZFR5cGUucHJvbWlzZSAmJiBjdHguY29tbW9uLmFzeW5jID09PSBmYWxzZSkge1xuICAgICAgICAgICAgYWRkSXNzdWVUb0NvbnRleHQoY3R4LCB7XG4gICAgICAgICAgICAgICAgY29kZTogWm9kSXNzdWVDb2RlLmludmFsaWRfdHlwZSxcbiAgICAgICAgICAgICAgICBleHBlY3RlZDogWm9kUGFyc2VkVHlwZS5wcm9taXNlLFxuICAgICAgICAgICAgICAgIHJlY2VpdmVkOiBjdHgucGFyc2VkVHlwZSxcbiAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgcmV0dXJuIElOVkFMSUQ7XG4gICAgICAgIH1cbiAgICAgICAgY29uc3QgcHJvbWlzaWZpZWQgPSBjdHgucGFyc2VkVHlwZSA9PT0gWm9kUGFyc2VkVHlwZS5wcm9taXNlID8gY3R4LmRhdGEgOiBQcm9taXNlLnJlc29sdmUoY3R4LmRhdGEpO1xuICAgICAgICByZXR1cm4gT0socHJvbWlzaWZpZWQudGhlbigoZGF0YSkgPT4ge1xuICAgICAgICAgICAgcmV0dXJuIHRoaXMuX2RlZi50eXBlLnBhcnNlQXN5bmMoZGF0YSwge1xuICAgICAgICAgICAgICAgIHBhdGg6IGN0eC5wYXRoLFxuICAgICAgICAgICAgICAgIGVycm9yTWFwOiBjdHguY29tbW9uLmNvbnRleHR1YWxFcnJvck1hcCxcbiAgICAgICAgICAgIH0pO1xuICAgICAgICB9KSk7XG4gICAgfVxufVxuWm9kUHJvbWlzZS5jcmVhdGUgPSAoc2NoZW1hLCBwYXJhbXMpID0+IHtcbiAgICByZXR1cm4gbmV3IFpvZFByb21pc2Uoe1xuICAgICAgICB0eXBlOiBzY2hlbWEsXG4gICAgICAgIHR5cGVOYW1lOiBab2RGaXJzdFBhcnR5VHlwZUtpbmQuWm9kUHJvbWlzZSxcbiAgICAgICAgLi4ucHJvY2Vzc0NyZWF0ZVBhcmFtcyhwYXJhbXMpLFxuICAgIH0pO1xufTtcbmV4cG9ydCBjbGFzcyBab2RFZmZlY3RzIGV4dGVuZHMgWm9kVHlwZSB7XG4gICAgaW5uZXJUeXBlKCkge1xuICAgICAgICByZXR1cm4gdGhpcy5fZGVmLnNjaGVtYTtcbiAgICB9XG4gICAgc291cmNlVHlwZSgpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuX2RlZi5zY2hlbWEuX2RlZi50eXBlTmFtZSA9PT0gWm9kRmlyc3RQYXJ0eVR5cGVLaW5kLlpvZEVmZmVjdHNcbiAgICAgICAgICAgID8gdGhpcy5fZGVmLnNjaGVtYS5zb3VyY2VUeXBlKClcbiAgICAgICAgICAgIDogdGhpcy5fZGVmLnNjaGVtYTtcbiAgICB9XG4gICAgX3BhcnNlKGlucHV0KSB7XG4gICAgICAgIGNvbnN0IHsgc3RhdHVzLCBjdHggfSA9IHRoaXMuX3Byb2Nlc3NJbnB1dFBhcmFtcyhpbnB1dCk7XG4gICAgICAgIGNvbnN0IGVmZmVjdCA9IHRoaXMuX2RlZi5lZmZlY3QgfHwgbnVsbDtcbiAgICAgICAgY29uc3QgY2hlY2tDdHggPSB7XG4gICAgICAgICAgICBhZGRJc3N1ZTogKGFyZykgPT4ge1xuICAgICAgICAgICAgICAgIGFkZElzc3VlVG9Db250ZXh0KGN0eCwgYXJnKTtcbiAgICAgICAgICAgICAgICBpZiAoYXJnLmZhdGFsKSB7XG4gICAgICAgICAgICAgICAgICAgIHN0YXR1cy5hYm9ydCgpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgc3RhdHVzLmRpcnR5KCk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfSxcbiAgICAgICAgICAgIGdldCBwYXRoKCkge1xuICAgICAgICAgICAgICAgIHJldHVybiBjdHgucGF0aDtcbiAgICAgICAgICAgIH0sXG4gICAgICAgIH07XG4gICAgICAgIGNoZWNrQ3R4LmFkZElzc3VlID0gY2hlY2tDdHguYWRkSXNzdWUuYmluZChjaGVja0N0eCk7XG4gICAgICAgIGlmIChlZmZlY3QudHlwZSA9PT0gXCJwcmVwcm9jZXNzXCIpIHtcbiAgICAgICAgICAgIGNvbnN0IHByb2Nlc3NlZCA9IGVmZmVjdC50cmFuc2Zvcm0oY3R4LmRhdGEsIGNoZWNrQ3R4KTtcbiAgICAgICAgICAgIGlmIChjdHguY29tbW9uLmFzeW5jKSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuIFByb21pc2UucmVzb2x2ZShwcm9jZXNzZWQpLnRoZW4oYXN5bmMgKHByb2Nlc3NlZCkgPT4ge1xuICAgICAgICAgICAgICAgICAgICBpZiAoc3RhdHVzLnZhbHVlID09PSBcImFib3J0ZWRcIilcbiAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiBJTlZBTElEO1xuICAgICAgICAgICAgICAgICAgICBjb25zdCByZXN1bHQgPSBhd2FpdCB0aGlzLl9kZWYuc2NoZW1hLl9wYXJzZUFzeW5jKHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGRhdGE6IHByb2Nlc3NlZCxcbiAgICAgICAgICAgICAgICAgICAgICAgIHBhdGg6IGN0eC5wYXRoLFxuICAgICAgICAgICAgICAgICAgICAgICAgcGFyZW50OiBjdHgsXG4gICAgICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgICAgICAgICBpZiAocmVzdWx0LnN0YXR1cyA9PT0gXCJhYm9ydGVkXCIpXG4gICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gSU5WQUxJRDtcbiAgICAgICAgICAgICAgICAgICAgaWYgKHJlc3VsdC5zdGF0dXMgPT09IFwiZGlydHlcIilcbiAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiBESVJUWShyZXN1bHQudmFsdWUpO1xuICAgICAgICAgICAgICAgICAgICBpZiAoc3RhdHVzLnZhbHVlID09PSBcImRpcnR5XCIpXG4gICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gRElSVFkocmVzdWx0LnZhbHVlKTtcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIHJlc3VsdDtcbiAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgICAgIGlmIChzdGF0dXMudmFsdWUgPT09IFwiYWJvcnRlZFwiKVxuICAgICAgICAgICAgICAgICAgICByZXR1cm4gSU5WQUxJRDtcbiAgICAgICAgICAgICAgICBjb25zdCByZXN1bHQgPSB0aGlzLl9kZWYuc2NoZW1hLl9wYXJzZVN5bmMoe1xuICAgICAgICAgICAgICAgICAgICBkYXRhOiBwcm9jZXNzZWQsXG4gICAgICAgICAgICAgICAgICAgIHBhdGg6IGN0eC5wYXRoLFxuICAgICAgICAgICAgICAgICAgICBwYXJlbnQ6IGN0eCxcbiAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgICAgICBpZiAocmVzdWx0LnN0YXR1cyA9PT0gXCJhYm9ydGVkXCIpXG4gICAgICAgICAgICAgICAgICAgIHJldHVybiBJTlZBTElEO1xuICAgICAgICAgICAgICAgIGlmIChyZXN1bHQuc3RhdHVzID09PSBcImRpcnR5XCIpXG4gICAgICAgICAgICAgICAgICAgIHJldHVybiBESVJUWShyZXN1bHQudmFsdWUpO1xuICAgICAgICAgICAgICAgIGlmIChzdGF0dXMudmFsdWUgPT09IFwiZGlydHlcIilcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIERJUlRZKHJlc3VsdC52YWx1ZSk7XG4gICAgICAgICAgICAgICAgcmV0dXJuIHJlc3VsdDtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICBpZiAoZWZmZWN0LnR5cGUgPT09IFwicmVmaW5lbWVudFwiKSB7XG4gICAgICAgICAgICBjb25zdCBleGVjdXRlUmVmaW5lbWVudCA9IChhY2MpID0+IHtcbiAgICAgICAgICAgICAgICBjb25zdCByZXN1bHQgPSBlZmZlY3QucmVmaW5lbWVudChhY2MsIGNoZWNrQ3R4KTtcbiAgICAgICAgICAgICAgICBpZiAoY3R4LmNvbW1vbi5hc3luYykge1xuICAgICAgICAgICAgICAgICAgICByZXR1cm4gUHJvbWlzZS5yZXNvbHZlKHJlc3VsdCk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGlmIChyZXN1bHQgaW5zdGFuY2VvZiBQcm9taXNlKSB7XG4gICAgICAgICAgICAgICAgICAgIHRocm93IG5ldyBFcnJvcihcIkFzeW5jIHJlZmluZW1lbnQgZW5jb3VudGVyZWQgZHVyaW5nIHN5bmNocm9ub3VzIHBhcnNlIG9wZXJhdGlvbi4gVXNlIC5wYXJzZUFzeW5jIGluc3RlYWQuXCIpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICByZXR1cm4gYWNjO1xuICAgICAgICAgICAgfTtcbiAgICAgICAgICAgIGlmIChjdHguY29tbW9uLmFzeW5jID09PSBmYWxzZSkge1xuICAgICAgICAgICAgICAgIGNvbnN0IGlubmVyID0gdGhpcy5fZGVmLnNjaGVtYS5fcGFyc2VTeW5jKHtcbiAgICAgICAgICAgICAgICAgICAgZGF0YTogY3R4LmRhdGEsXG4gICAgICAgICAgICAgICAgICAgIHBhdGg6IGN0eC5wYXRoLFxuICAgICAgICAgICAgICAgICAgICBwYXJlbnQ6IGN0eCxcbiAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgICAgICBpZiAoaW5uZXIuc3RhdHVzID09PSBcImFib3J0ZWRcIilcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIElOVkFMSUQ7XG4gICAgICAgICAgICAgICAgaWYgKGlubmVyLnN0YXR1cyA9PT0gXCJkaXJ0eVwiKVxuICAgICAgICAgICAgICAgICAgICBzdGF0dXMuZGlydHkoKTtcbiAgICAgICAgICAgICAgICAvLyByZXR1cm4gdmFsdWUgaXMgaWdub3JlZFxuICAgICAgICAgICAgICAgIGV4ZWN1dGVSZWZpbmVtZW50KGlubmVyLnZhbHVlKTtcbiAgICAgICAgICAgICAgICByZXR1cm4geyBzdGF0dXM6IHN0YXR1cy52YWx1ZSwgdmFsdWU6IGlubmVyLnZhbHVlIH07XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgICAgICByZXR1cm4gdGhpcy5fZGVmLnNjaGVtYS5fcGFyc2VBc3luYyh7IGRhdGE6IGN0eC5kYXRhLCBwYXRoOiBjdHgucGF0aCwgcGFyZW50OiBjdHggfSkudGhlbigoaW5uZXIpID0+IHtcbiAgICAgICAgICAgICAgICAgICAgaWYgKGlubmVyLnN0YXR1cyA9PT0gXCJhYm9ydGVkXCIpXG4gICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gSU5WQUxJRDtcbiAgICAgICAgICAgICAgICAgICAgaWYgKGlubmVyLnN0YXR1cyA9PT0gXCJkaXJ0eVwiKVxuICAgICAgICAgICAgICAgICAgICAgICAgc3RhdHVzLmRpcnR5KCk7XG4gICAgICAgICAgICAgICAgICAgIHJldHVybiBleGVjdXRlUmVmaW5lbWVudChpbm5lci52YWx1ZSkudGhlbigoKSA9PiB7XG4gICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4geyBzdGF0dXM6IHN0YXR1cy52YWx1ZSwgdmFsdWU6IGlubmVyLnZhbHVlIH07XG4gICAgICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIGlmIChlZmZlY3QudHlwZSA9PT0gXCJ0cmFuc2Zvcm1cIikge1xuICAgICAgICAgICAgaWYgKGN0eC5jb21tb24uYXN5bmMgPT09IGZhbHNlKSB7XG4gICAgICAgICAgICAgICAgY29uc3QgYmFzZSA9IHRoaXMuX2RlZi5zY2hlbWEuX3BhcnNlU3luYyh7XG4gICAgICAgICAgICAgICAgICAgIGRhdGE6IGN0eC5kYXRhLFxuICAgICAgICAgICAgICAgICAgICBwYXRoOiBjdHgucGF0aCxcbiAgICAgICAgICAgICAgICAgICAgcGFyZW50OiBjdHgsXG4gICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICAgICAgaWYgKCFpc1ZhbGlkKGJhc2UpKVxuICAgICAgICAgICAgICAgICAgICByZXR1cm4gSU5WQUxJRDtcbiAgICAgICAgICAgICAgICBjb25zdCByZXN1bHQgPSBlZmZlY3QudHJhbnNmb3JtKGJhc2UudmFsdWUsIGNoZWNrQ3R4KTtcbiAgICAgICAgICAgICAgICBpZiAocmVzdWx0IGluc3RhbmNlb2YgUHJvbWlzZSkge1xuICAgICAgICAgICAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoYEFzeW5jaHJvbm91cyB0cmFuc2Zvcm0gZW5jb3VudGVyZWQgZHVyaW5nIHN5bmNocm9ub3VzIHBhcnNlIG9wZXJhdGlvbi4gVXNlIC5wYXJzZUFzeW5jIGluc3RlYWQuYCk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIHJldHVybiB7IHN0YXR1czogc3RhdHVzLnZhbHVlLCB2YWx1ZTogcmVzdWx0IH07XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgICAgICByZXR1cm4gdGhpcy5fZGVmLnNjaGVtYS5fcGFyc2VBc3luYyh7IGRhdGE6IGN0eC5kYXRhLCBwYXRoOiBjdHgucGF0aCwgcGFyZW50OiBjdHggfSkudGhlbigoYmFzZSkgPT4ge1xuICAgICAgICAgICAgICAgICAgICBpZiAoIWlzVmFsaWQoYmFzZSkpXG4gICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gSU5WQUxJRDtcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIFByb21pc2UucmVzb2x2ZShlZmZlY3QudHJhbnNmb3JtKGJhc2UudmFsdWUsIGNoZWNrQ3R4KSkudGhlbigocmVzdWx0KSA9PiAoe1xuICAgICAgICAgICAgICAgICAgICAgICAgc3RhdHVzOiBzdGF0dXMudmFsdWUsXG4gICAgICAgICAgICAgICAgICAgICAgICB2YWx1ZTogcmVzdWx0LFxuICAgICAgICAgICAgICAgICAgICB9KSk7XG4gICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgdXRpbC5hc3NlcnROZXZlcihlZmZlY3QpO1xuICAgIH1cbn1cblpvZEVmZmVjdHMuY3JlYXRlID0gKHNjaGVtYSwgZWZmZWN0LCBwYXJhbXMpID0+IHtcbiAgICByZXR1cm4gbmV3IFpvZEVmZmVjdHMoe1xuICAgICAgICBzY2hlbWEsXG4gICAgICAgIHR5cGVOYW1lOiBab2RGaXJzdFBhcnR5VHlwZUtpbmQuWm9kRWZmZWN0cyxcbiAgICAgICAgZWZmZWN0LFxuICAgICAgICAuLi5wcm9jZXNzQ3JlYXRlUGFyYW1zKHBhcmFtcyksXG4gICAgfSk7XG59O1xuWm9kRWZmZWN0cy5jcmVhdGVXaXRoUHJlcHJvY2VzcyA9IChwcmVwcm9jZXNzLCBzY2hlbWEsIHBhcmFtcykgPT4ge1xuICAgIHJldHVybiBuZXcgWm9kRWZmZWN0cyh7XG4gICAgICAgIHNjaGVtYSxcbiAgICAgICAgZWZmZWN0OiB7IHR5cGU6IFwicHJlcHJvY2Vzc1wiLCB0cmFuc2Zvcm06IHByZXByb2Nlc3MgfSxcbiAgICAgICAgdHlwZU5hbWU6IFpvZEZpcnN0UGFydHlUeXBlS2luZC5ab2RFZmZlY3RzLFxuICAgICAgICAuLi5wcm9jZXNzQ3JlYXRlUGFyYW1zKHBhcmFtcyksXG4gICAgfSk7XG59O1xuZXhwb3J0IHsgWm9kRWZmZWN0cyBhcyBab2RUcmFuc2Zvcm1lciB9O1xuZXhwb3J0IGNsYXNzIFpvZE9wdGlvbmFsIGV4dGVuZHMgWm9kVHlwZSB7XG4gICAgX3BhcnNlKGlucHV0KSB7XG4gICAgICAgIGNvbnN0IHBhcnNlZFR5cGUgPSB0aGlzLl9nZXRUeXBlKGlucHV0KTtcbiAgICAgICAgaWYgKHBhcnNlZFR5cGUgPT09IFpvZFBhcnNlZFR5cGUudW5kZWZpbmVkKSB7XG4gICAgICAgICAgICByZXR1cm4gT0sodW5kZWZpbmVkKTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gdGhpcy5fZGVmLmlubmVyVHlwZS5fcGFyc2UoaW5wdXQpO1xuICAgIH1cbiAgICB1bndyYXAoKSB7XG4gICAgICAgIHJldHVybiB0aGlzLl9kZWYuaW5uZXJUeXBlO1xuICAgIH1cbn1cblpvZE9wdGlvbmFsLmNyZWF0ZSA9ICh0eXBlLCBwYXJhbXMpID0+IHtcbiAgICByZXR1cm4gbmV3IFpvZE9wdGlvbmFsKHtcbiAgICAgICAgaW5uZXJUeXBlOiB0eXBlLFxuICAgICAgICB0eXBlTmFtZTogWm9kRmlyc3RQYXJ0eVR5cGVLaW5kLlpvZE9wdGlvbmFsLFxuICAgICAgICAuLi5wcm9jZXNzQ3JlYXRlUGFyYW1zKHBhcmFtcyksXG4gICAgfSk7XG59O1xuZXhwb3J0IGNsYXNzIFpvZE51bGxhYmxlIGV4dGVuZHMgWm9kVHlwZSB7XG4gICAgX3BhcnNlKGlucHV0KSB7XG4gICAgICAgIGNvbnN0IHBhcnNlZFR5cGUgPSB0aGlzLl9nZXRUeXBlKGlucHV0KTtcbiAgICAgICAgaWYgKHBhcnNlZFR5cGUgPT09IFpvZFBhcnNlZFR5cGUubnVsbCkge1xuICAgICAgICAgICAgcmV0dXJuIE9LKG51bGwpO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiB0aGlzLl9kZWYuaW5uZXJUeXBlLl9wYXJzZShpbnB1dCk7XG4gICAgfVxuICAgIHVud3JhcCgpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuX2RlZi5pbm5lclR5cGU7XG4gICAgfVxufVxuWm9kTnVsbGFibGUuY3JlYXRlID0gKHR5cGUsIHBhcmFtcykgPT4ge1xuICAgIHJldHVybiBuZXcgWm9kTnVsbGFibGUoe1xuICAgICAgICBpbm5lclR5cGU6IHR5cGUsXG4gICAgICAgIHR5cGVOYW1lOiBab2RGaXJzdFBhcnR5VHlwZUtpbmQuWm9kTnVsbGFibGUsXG4gICAgICAgIC4uLnByb2Nlc3NDcmVhdGVQYXJhbXMocGFyYW1zKSxcbiAgICB9KTtcbn07XG5leHBvcnQgY2xhc3MgWm9kRGVmYXVsdCBleHRlbmRzIFpvZFR5cGUge1xuICAgIF9wYXJzZShpbnB1dCkge1xuICAgICAgICBjb25zdCB7IGN0eCB9ID0gdGhpcy5fcHJvY2Vzc0lucHV0UGFyYW1zKGlucHV0KTtcbiAgICAgICAgbGV0IGRhdGEgPSBjdHguZGF0YTtcbiAgICAgICAgaWYgKGN0eC5wYXJzZWRUeXBlID09PSBab2RQYXJzZWRUeXBlLnVuZGVmaW5lZCkge1xuICAgICAgICAgICAgZGF0YSA9IHRoaXMuX2RlZi5kZWZhdWx0VmFsdWUoKTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gdGhpcy5fZGVmLmlubmVyVHlwZS5fcGFyc2Uoe1xuICAgICAgICAgICAgZGF0YSxcbiAgICAgICAgICAgIHBhdGg6IGN0eC5wYXRoLFxuICAgICAgICAgICAgcGFyZW50OiBjdHgsXG4gICAgICAgIH0pO1xuICAgIH1cbiAgICByZW1vdmVEZWZhdWx0KCkge1xuICAgICAgICByZXR1cm4gdGhpcy5fZGVmLmlubmVyVHlwZTtcbiAgICB9XG59XG5ab2REZWZhdWx0LmNyZWF0ZSA9ICh0eXBlLCBwYXJhbXMpID0+IHtcbiAgICByZXR1cm4gbmV3IFpvZERlZmF1bHQoe1xuICAgICAgICBpbm5lclR5cGU6IHR5cGUsXG4gICAgICAgIHR5cGVOYW1lOiBab2RGaXJzdFBhcnR5VHlwZUtpbmQuWm9kRGVmYXVsdCxcbiAgICAgICAgZGVmYXVsdFZhbHVlOiB0eXBlb2YgcGFyYW1zLmRlZmF1bHQgPT09IFwiZnVuY3Rpb25cIiA/IHBhcmFtcy5kZWZhdWx0IDogKCkgPT4gcGFyYW1zLmRlZmF1bHQsXG4gICAgICAgIC4uLnByb2Nlc3NDcmVhdGVQYXJhbXMocGFyYW1zKSxcbiAgICB9KTtcbn07XG5leHBvcnQgY2xhc3MgWm9kQ2F0Y2ggZXh0ZW5kcyBab2RUeXBlIHtcbiAgICBfcGFyc2UoaW5wdXQpIHtcbiAgICAgICAgY29uc3QgeyBjdHggfSA9IHRoaXMuX3Byb2Nlc3NJbnB1dFBhcmFtcyhpbnB1dCk7XG4gICAgICAgIC8vIG5ld0N0eCBpcyB1c2VkIHRvIG5vdCBjb2xsZWN0IGlzc3VlcyBmcm9tIGlubmVyIHR5cGVzIGluIGN0eFxuICAgICAgICBjb25zdCBuZXdDdHggPSB7XG4gICAgICAgICAgICAuLi5jdHgsXG4gICAgICAgICAgICBjb21tb246IHtcbiAgICAgICAgICAgICAgICAuLi5jdHguY29tbW9uLFxuICAgICAgICAgICAgICAgIGlzc3VlczogW10sXG4gICAgICAgICAgICB9LFxuICAgICAgICB9O1xuICAgICAgICBjb25zdCByZXN1bHQgPSB0aGlzLl9kZWYuaW5uZXJUeXBlLl9wYXJzZSh7XG4gICAgICAgICAgICBkYXRhOiBuZXdDdHguZGF0YSxcbiAgICAgICAgICAgIHBhdGg6IG5ld0N0eC5wYXRoLFxuICAgICAgICAgICAgcGFyZW50OiB7XG4gICAgICAgICAgICAgICAgLi4ubmV3Q3R4LFxuICAgICAgICAgICAgfSxcbiAgICAgICAgfSk7XG4gICAgICAgIGlmIChpc0FzeW5jKHJlc3VsdCkpIHtcbiAgICAgICAgICAgIHJldHVybiByZXN1bHQudGhlbigocmVzdWx0KSA9PiB7XG4gICAgICAgICAgICAgICAgcmV0dXJuIHtcbiAgICAgICAgICAgICAgICAgICAgc3RhdHVzOiBcInZhbGlkXCIsXG4gICAgICAgICAgICAgICAgICAgIHZhbHVlOiByZXN1bHQuc3RhdHVzID09PSBcInZhbGlkXCJcbiAgICAgICAgICAgICAgICAgICAgICAgID8gcmVzdWx0LnZhbHVlXG4gICAgICAgICAgICAgICAgICAgICAgICA6IHRoaXMuX2RlZi5jYXRjaFZhbHVlKHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBnZXQgZXJyb3IoKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiBuZXcgWm9kRXJyb3IobmV3Q3R4LmNvbW1vbi5pc3N1ZXMpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0sXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgaW5wdXQ6IG5ld0N0eC5kYXRhLFxuICAgICAgICAgICAgICAgICAgICAgICAgfSksXG4gICAgICAgICAgICAgICAgfTtcbiAgICAgICAgICAgIH0pO1xuICAgICAgICB9XG4gICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgcmV0dXJuIHtcbiAgICAgICAgICAgICAgICBzdGF0dXM6IFwidmFsaWRcIixcbiAgICAgICAgICAgICAgICB2YWx1ZTogcmVzdWx0LnN0YXR1cyA9PT0gXCJ2YWxpZFwiXG4gICAgICAgICAgICAgICAgICAgID8gcmVzdWx0LnZhbHVlXG4gICAgICAgICAgICAgICAgICAgIDogdGhpcy5fZGVmLmNhdGNoVmFsdWUoe1xuICAgICAgICAgICAgICAgICAgICAgICAgZ2V0IGVycm9yKCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiBuZXcgWm9kRXJyb3IobmV3Q3R4LmNvbW1vbi5pc3N1ZXMpO1xuICAgICAgICAgICAgICAgICAgICAgICAgfSxcbiAgICAgICAgICAgICAgICAgICAgICAgIGlucHV0OiBuZXdDdHguZGF0YSxcbiAgICAgICAgICAgICAgICAgICAgfSksXG4gICAgICAgICAgICB9O1xuICAgICAgICB9XG4gICAgfVxuICAgIHJlbW92ZUNhdGNoKCkge1xuICAgICAgICByZXR1cm4gdGhpcy5fZGVmLmlubmVyVHlwZTtcbiAgICB9XG59XG5ab2RDYXRjaC5jcmVhdGUgPSAodHlwZSwgcGFyYW1zKSA9PiB7XG4gICAgcmV0dXJuIG5ldyBab2RDYXRjaCh7XG4gICAgICAgIGlubmVyVHlwZTogdHlwZSxcbiAgICAgICAgdHlwZU5hbWU6IFpvZEZpcnN0UGFydHlUeXBlS2luZC5ab2RDYXRjaCxcbiAgICAgICAgY2F0Y2hWYWx1ZTogdHlwZW9mIHBhcmFtcy5jYXRjaCA9PT0gXCJmdW5jdGlvblwiID8gcGFyYW1zLmNhdGNoIDogKCkgPT4gcGFyYW1zLmNhdGNoLFxuICAgICAgICAuLi5wcm9jZXNzQ3JlYXRlUGFyYW1zKHBhcmFtcyksXG4gICAgfSk7XG59O1xuZXhwb3J0IGNsYXNzIFpvZE5hTiBleHRlbmRzIFpvZFR5cGUge1xuICAgIF9wYXJzZShpbnB1dCkge1xuICAgICAgICBjb25zdCBwYXJzZWRUeXBlID0gdGhpcy5fZ2V0VHlwZShpbnB1dCk7XG4gICAgICAgIGlmIChwYXJzZWRUeXBlICE9PSBab2RQYXJzZWRUeXBlLm5hbikge1xuICAgICAgICAgICAgY29uc3QgY3R4ID0gdGhpcy5fZ2V0T3JSZXR1cm5DdHgoaW5wdXQpO1xuICAgICAgICAgICAgYWRkSXNzdWVUb0NvbnRleHQoY3R4LCB7XG4gICAgICAgICAgICAgICAgY29kZTogWm9kSXNzdWVDb2RlLmludmFsaWRfdHlwZSxcbiAgICAgICAgICAgICAgICBleHBlY3RlZDogWm9kUGFyc2VkVHlwZS5uYW4sXG4gICAgICAgICAgICAgICAgcmVjZWl2ZWQ6IGN0eC5wYXJzZWRUeXBlLFxuICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICByZXR1cm4gSU5WQUxJRDtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4geyBzdGF0dXM6IFwidmFsaWRcIiwgdmFsdWU6IGlucHV0LmRhdGEgfTtcbiAgICB9XG59XG5ab2ROYU4uY3JlYXRlID0gKHBhcmFtcykgPT4ge1xuICAgIHJldHVybiBuZXcgWm9kTmFOKHtcbiAgICAgICAgdHlwZU5hbWU6IFpvZEZpcnN0UGFydHlUeXBlS2luZC5ab2ROYU4sXG4gICAgICAgIC4uLnByb2Nlc3NDcmVhdGVQYXJhbXMocGFyYW1zKSxcbiAgICB9KTtcbn07XG5leHBvcnQgY29uc3QgQlJBTkQgPSBTeW1ib2woXCJ6b2RfYnJhbmRcIik7XG5leHBvcnQgY2xhc3MgWm9kQnJhbmRlZCBleHRlbmRzIFpvZFR5cGUge1xuICAgIF9wYXJzZShpbnB1dCkge1xuICAgICAgICBjb25zdCB7IGN0eCB9ID0gdGhpcy5fcHJvY2Vzc0lucHV0UGFyYW1zKGlucHV0KTtcbiAgICAgICAgY29uc3QgZGF0YSA9IGN0eC5kYXRhO1xuICAgICAgICByZXR1cm4gdGhpcy5fZGVmLnR5cGUuX3BhcnNlKHtcbiAgICAgICAgICAgIGRhdGEsXG4gICAgICAgICAgICBwYXRoOiBjdHgucGF0aCxcbiAgICAgICAgICAgIHBhcmVudDogY3R4LFxuICAgICAgICB9KTtcbiAgICB9XG4gICAgdW53cmFwKCkge1xuICAgICAgICByZXR1cm4gdGhpcy5fZGVmLnR5cGU7XG4gICAgfVxufVxuZXhwb3J0IGNsYXNzIFpvZFBpcGVsaW5lIGV4dGVuZHMgWm9kVHlwZSB7XG4gICAgX3BhcnNlKGlucHV0KSB7XG4gICAgICAgIGNvbnN0IHsgc3RhdHVzLCBjdHggfSA9IHRoaXMuX3Byb2Nlc3NJbnB1dFBhcmFtcyhpbnB1dCk7XG4gICAgICAgIGlmIChjdHguY29tbW9uLmFzeW5jKSB7XG4gICAgICAgICAgICBjb25zdCBoYW5kbGVBc3luYyA9IGFzeW5jICgpID0+IHtcbiAgICAgICAgICAgICAgICBjb25zdCBpblJlc3VsdCA9IGF3YWl0IHRoaXMuX2RlZi5pbi5fcGFyc2VBc3luYyh7XG4gICAgICAgICAgICAgICAgICAgIGRhdGE6IGN0eC5kYXRhLFxuICAgICAgICAgICAgICAgICAgICBwYXRoOiBjdHgucGF0aCxcbiAgICAgICAgICAgICAgICAgICAgcGFyZW50OiBjdHgsXG4gICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICAgICAgaWYgKGluUmVzdWx0LnN0YXR1cyA9PT0gXCJhYm9ydGVkXCIpXG4gICAgICAgICAgICAgICAgICAgIHJldHVybiBJTlZBTElEO1xuICAgICAgICAgICAgICAgIGlmIChpblJlc3VsdC5zdGF0dXMgPT09IFwiZGlydHlcIikge1xuICAgICAgICAgICAgICAgICAgICBzdGF0dXMuZGlydHkoKTtcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIERJUlRZKGluUmVzdWx0LnZhbHVlKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgIHJldHVybiB0aGlzLl9kZWYub3V0Ll9wYXJzZUFzeW5jKHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGRhdGE6IGluUmVzdWx0LnZhbHVlLFxuICAgICAgICAgICAgICAgICAgICAgICAgcGF0aDogY3R4LnBhdGgsXG4gICAgICAgICAgICAgICAgICAgICAgICBwYXJlbnQ6IGN0eCxcbiAgICAgICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfTtcbiAgICAgICAgICAgIHJldHVybiBoYW5kbGVBc3luYygpO1xuICAgICAgICB9XG4gICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgY29uc3QgaW5SZXN1bHQgPSB0aGlzLl9kZWYuaW4uX3BhcnNlU3luYyh7XG4gICAgICAgICAgICAgICAgZGF0YTogY3R4LmRhdGEsXG4gICAgICAgICAgICAgICAgcGF0aDogY3R4LnBhdGgsXG4gICAgICAgICAgICAgICAgcGFyZW50OiBjdHgsXG4gICAgICAgICAgICB9KTtcbiAgICAgICAgICAgIGlmIChpblJlc3VsdC5zdGF0dXMgPT09IFwiYWJvcnRlZFwiKVxuICAgICAgICAgICAgICAgIHJldHVybiBJTlZBTElEO1xuICAgICAgICAgICAgaWYgKGluUmVzdWx0LnN0YXR1cyA9PT0gXCJkaXJ0eVwiKSB7XG4gICAgICAgICAgICAgICAgc3RhdHVzLmRpcnR5KCk7XG4gICAgICAgICAgICAgICAgcmV0dXJuIHtcbiAgICAgICAgICAgICAgICAgICAgc3RhdHVzOiBcImRpcnR5XCIsXG4gICAgICAgICAgICAgICAgICAgIHZhbHVlOiBpblJlc3VsdC52YWx1ZSxcbiAgICAgICAgICAgICAgICB9O1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuIHRoaXMuX2RlZi5vdXQuX3BhcnNlU3luYyh7XG4gICAgICAgICAgICAgICAgICAgIGRhdGE6IGluUmVzdWx0LnZhbHVlLFxuICAgICAgICAgICAgICAgICAgICBwYXRoOiBjdHgucGF0aCxcbiAgICAgICAgICAgICAgICAgICAgcGFyZW50OiBjdHgsXG4gICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICB9XG4gICAgc3RhdGljIGNyZWF0ZShhLCBiKSB7XG4gICAgICAgIHJldHVybiBuZXcgWm9kUGlwZWxpbmUoe1xuICAgICAgICAgICAgaW46IGEsXG4gICAgICAgICAgICBvdXQ6IGIsXG4gICAgICAgICAgICB0eXBlTmFtZTogWm9kRmlyc3RQYXJ0eVR5cGVLaW5kLlpvZFBpcGVsaW5lLFxuICAgICAgICB9KTtcbiAgICB9XG59XG5leHBvcnQgY2xhc3MgWm9kUmVhZG9ubHkgZXh0ZW5kcyBab2RUeXBlIHtcbiAgICBfcGFyc2UoaW5wdXQpIHtcbiAgICAgICAgY29uc3QgcmVzdWx0ID0gdGhpcy5fZGVmLmlubmVyVHlwZS5fcGFyc2UoaW5wdXQpO1xuICAgICAgICBjb25zdCBmcmVlemUgPSAoZGF0YSkgPT4ge1xuICAgICAgICAgICAgaWYgKGlzVmFsaWQoZGF0YSkpIHtcbiAgICAgICAgICAgICAgICBkYXRhLnZhbHVlID0gT2JqZWN0LmZyZWV6ZShkYXRhLnZhbHVlKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHJldHVybiBkYXRhO1xuICAgICAgICB9O1xuICAgICAgICByZXR1cm4gaXNBc3luYyhyZXN1bHQpID8gcmVzdWx0LnRoZW4oKGRhdGEpID0+IGZyZWV6ZShkYXRhKSkgOiBmcmVlemUocmVzdWx0KTtcbiAgICB9XG4gICAgdW53cmFwKCkge1xuICAgICAgICByZXR1cm4gdGhpcy5fZGVmLmlubmVyVHlwZTtcbiAgICB9XG59XG5ab2RSZWFkb25seS5jcmVhdGUgPSAodHlwZSwgcGFyYW1zKSA9PiB7XG4gICAgcmV0dXJuIG5ldyBab2RSZWFkb25seSh7XG4gICAgICAgIGlubmVyVHlwZTogdHlwZSxcbiAgICAgICAgdHlwZU5hbWU6IFpvZEZpcnN0UGFydHlUeXBlS2luZC5ab2RSZWFkb25seSxcbiAgICAgICAgLi4ucHJvY2Vzc0NyZWF0ZVBhcmFtcyhwYXJhbXMpLFxuICAgIH0pO1xufTtcbi8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy9cbi8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy9cbi8vLy8vLy8vLy8gICAgICAgICAgICAgICAgICAgIC8vLy8vLy8vLy9cbi8vLy8vLy8vLy8gICAgICB6LmN1c3RvbSAgICAgIC8vLy8vLy8vLy9cbi8vLy8vLy8vLy8gICAgICAgICAgICAgICAgICAgIC8vLy8vLy8vLy9cbi8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy9cbi8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy9cbmZ1bmN0aW9uIGNsZWFuUGFyYW1zKHBhcmFtcywgZGF0YSkge1xuICAgIGNvbnN0IHAgPSB0eXBlb2YgcGFyYW1zID09PSBcImZ1bmN0aW9uXCIgPyBwYXJhbXMoZGF0YSkgOiB0eXBlb2YgcGFyYW1zID09PSBcInN0cmluZ1wiID8geyBtZXNzYWdlOiBwYXJhbXMgfSA6IHBhcmFtcztcbiAgICBjb25zdCBwMiA9IHR5cGVvZiBwID09PSBcInN0cmluZ1wiID8geyBtZXNzYWdlOiBwIH0gOiBwO1xuICAgIHJldHVybiBwMjtcbn1cbmV4cG9ydCBmdW5jdGlvbiBjdXN0b20oY2hlY2ssIF9wYXJhbXMgPSB7fSwgXG4vKipcbiAqIEBkZXByZWNhdGVkXG4gKlxuICogUGFzcyBgZmF0YWxgIGludG8gdGhlIHBhcmFtcyBvYmplY3QgaW5zdGVhZDpcbiAqXG4gKiBgYGB0c1xuICogei5zdHJpbmcoKS5jdXN0b20oKHZhbCkgPT4gdmFsLmxlbmd0aCA+IDUsIHsgZmF0YWw6IGZhbHNlIH0pXG4gKiBgYGBcbiAqXG4gKi9cbmZhdGFsKSB7XG4gICAgaWYgKGNoZWNrKVxuICAgICAgICByZXR1cm4gWm9kQW55LmNyZWF0ZSgpLnN1cGVyUmVmaW5lKChkYXRhLCBjdHgpID0+IHtcbiAgICAgICAgICAgIGNvbnN0IHIgPSBjaGVjayhkYXRhKTtcbiAgICAgICAgICAgIGlmIChyIGluc3RhbmNlb2YgUHJvbWlzZSkge1xuICAgICAgICAgICAgICAgIHJldHVybiByLnRoZW4oKHIpID0+IHtcbiAgICAgICAgICAgICAgICAgICAgaWYgKCFyKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBjb25zdCBwYXJhbXMgPSBjbGVhblBhcmFtcyhfcGFyYW1zLCBkYXRhKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIGNvbnN0IF9mYXRhbCA9IHBhcmFtcy5mYXRhbCA/PyBmYXRhbCA/PyB0cnVlO1xuICAgICAgICAgICAgICAgICAgICAgICAgY3R4LmFkZElzc3VlKHsgY29kZTogXCJjdXN0b21cIiwgLi4ucGFyYW1zLCBmYXRhbDogX2ZhdGFsIH0pO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBpZiAoIXIpIHtcbiAgICAgICAgICAgICAgICBjb25zdCBwYXJhbXMgPSBjbGVhblBhcmFtcyhfcGFyYW1zLCBkYXRhKTtcbiAgICAgICAgICAgICAgICBjb25zdCBfZmF0YWwgPSBwYXJhbXMuZmF0YWwgPz8gZmF0YWwgPz8gdHJ1ZTtcbiAgICAgICAgICAgICAgICBjdHguYWRkSXNzdWUoeyBjb2RlOiBcImN1c3RvbVwiLCAuLi5wYXJhbXMsIGZhdGFsOiBfZmF0YWwgfSk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICByZXR1cm47XG4gICAgICAgIH0pO1xuICAgIHJldHVybiBab2RBbnkuY3JlYXRlKCk7XG59XG5leHBvcnQgeyBab2RUeXBlIGFzIFNjaGVtYSwgWm9kVHlwZSBhcyBab2RTY2hlbWEgfTtcbmV4cG9ydCBjb25zdCBsYXRlID0ge1xuICAgIG9iamVjdDogWm9kT2JqZWN0LmxhenljcmVhdGUsXG59O1xuZXhwb3J0IHZhciBab2RGaXJzdFBhcnR5VHlwZUtpbmQ7XG4oZnVuY3Rpb24gKFpvZEZpcnN0UGFydHlUeXBlS2luZCkge1xuICAgIFpvZEZpcnN0UGFydHlUeXBlS2luZFtcIlpvZFN0cmluZ1wiXSA9IFwiWm9kU3RyaW5nXCI7XG4gICAgWm9kRmlyc3RQYXJ0eVR5cGVLaW5kW1wiWm9kTnVtYmVyXCJdID0gXCJab2ROdW1iZXJcIjtcbiAgICBab2RGaXJzdFBhcnR5VHlwZUtpbmRbXCJab2ROYU5cIl0gPSBcIlpvZE5hTlwiO1xuICAgIFpvZEZpcnN0UGFydHlUeXBlS2luZFtcIlpvZEJpZ0ludFwiXSA9IFwiWm9kQmlnSW50XCI7XG4gICAgWm9kRmlyc3RQYXJ0eVR5cGVLaW5kW1wiWm9kQm9vbGVhblwiXSA9IFwiWm9kQm9vbGVhblwiO1xuICAgIFpvZEZpcnN0UGFydHlUeXBlS2luZFtcIlpvZERhdGVcIl0gPSBcIlpvZERhdGVcIjtcbiAgICBab2RGaXJzdFBhcnR5VHlwZUtpbmRbXCJab2RTeW1ib2xcIl0gPSBcIlpvZFN5bWJvbFwiO1xuICAgIFpvZEZpcnN0UGFydHlUeXBlS2luZFtcIlpvZFVuZGVmaW5lZFwiXSA9IFwiWm9kVW5kZWZpbmVkXCI7XG4gICAgWm9kRmlyc3RQYXJ0eVR5cGVLaW5kW1wiWm9kTnVsbFwiXSA9IFwiWm9kTnVsbFwiO1xuICAgIFpvZEZpcnN0UGFydHlUeXBlS2luZFtcIlpvZEFueVwiXSA9IFwiWm9kQW55XCI7XG4gICAgWm9kRmlyc3RQYXJ0eVR5cGVLaW5kW1wiWm9kVW5rbm93blwiXSA9IFwiWm9kVW5rbm93blwiO1xuICAgIFpvZEZpcnN0UGFydHlUeXBlS2luZFtcIlpvZE5ldmVyXCJdID0gXCJab2ROZXZlclwiO1xuICAgIFpvZEZpcnN0UGFydHlUeXBlS2luZFtcIlpvZFZvaWRcIl0gPSBcIlpvZFZvaWRcIjtcbiAgICBab2RGaXJzdFBhcnR5VHlwZUtpbmRbXCJab2RBcnJheVwiXSA9IFwiWm9kQXJyYXlcIjtcbiAgICBab2RGaXJzdFBhcnR5VHlwZUtpbmRbXCJab2RPYmplY3RcIl0gPSBcIlpvZE9iamVjdFwiO1xuICAgIFpvZEZpcnN0UGFydHlUeXBlS2luZFtcIlpvZFVuaW9uXCJdID0gXCJab2RVbmlvblwiO1xuICAgIFpvZEZpcnN0UGFydHlUeXBlS2luZFtcIlpvZERpc2NyaW1pbmF0ZWRVbmlvblwiXSA9IFwiWm9kRGlzY3JpbWluYXRlZFVuaW9uXCI7XG4gICAgWm9kRmlyc3RQYXJ0eVR5cGVLaW5kW1wiWm9kSW50ZXJzZWN0aW9uXCJdID0gXCJab2RJbnRlcnNlY3Rpb25cIjtcbiAgICBab2RGaXJzdFBhcnR5VHlwZUtpbmRbXCJab2RUdXBsZVwiXSA9IFwiWm9kVHVwbGVcIjtcbiAgICBab2RGaXJzdFBhcnR5VHlwZUtpbmRbXCJab2RSZWNvcmRcIl0gPSBcIlpvZFJlY29yZFwiO1xuICAgIFpvZEZpcnN0UGFydHlUeXBlS2luZFtcIlpvZE1hcFwiXSA9IFwiWm9kTWFwXCI7XG4gICAgWm9kRmlyc3RQYXJ0eVR5cGVLaW5kW1wiWm9kU2V0XCJdID0gXCJab2RTZXRcIjtcbiAgICBab2RGaXJzdFBhcnR5VHlwZUtpbmRbXCJab2RGdW5jdGlvblwiXSA9IFwiWm9kRnVuY3Rpb25cIjtcbiAgICBab2RGaXJzdFBhcnR5VHlwZUtpbmRbXCJab2RMYXp5XCJdID0gXCJab2RMYXp5XCI7XG4gICAgWm9kRmlyc3RQYXJ0eVR5cGVLaW5kW1wiWm9kTGl0ZXJhbFwiXSA9IFwiWm9kTGl0ZXJhbFwiO1xuICAgIFpvZEZpcnN0UGFydHlUeXBlS2luZFtcIlpvZEVudW1cIl0gPSBcIlpvZEVudW1cIjtcbiAgICBab2RGaXJzdFBhcnR5VHlwZUtpbmRbXCJab2RFZmZlY3RzXCJdID0gXCJab2RFZmZlY3RzXCI7XG4gICAgWm9kRmlyc3RQYXJ0eVR5cGVLaW5kW1wiWm9kTmF0aXZlRW51bVwiXSA9IFwiWm9kTmF0aXZlRW51bVwiO1xuICAgIFpvZEZpcnN0UGFydHlUeXBlS2luZFtcIlpvZE9wdGlvbmFsXCJdID0gXCJab2RPcHRpb25hbFwiO1xuICAgIFpvZEZpcnN0UGFydHlUeXBlS2luZFtcIlpvZE51bGxhYmxlXCJdID0gXCJab2ROdWxsYWJsZVwiO1xuICAgIFpvZEZpcnN0UGFydHlUeXBlS2luZFtcIlpvZERlZmF1bHRcIl0gPSBcIlpvZERlZmF1bHRcIjtcbiAgICBab2RGaXJzdFBhcnR5VHlwZUtpbmRbXCJab2RDYXRjaFwiXSA9IFwiWm9kQ2F0Y2hcIjtcbiAgICBab2RGaXJzdFBhcnR5VHlwZUtpbmRbXCJab2RQcm9taXNlXCJdID0gXCJab2RQcm9taXNlXCI7XG4gICAgWm9kRmlyc3RQYXJ0eVR5cGVLaW5kW1wiWm9kQnJhbmRlZFwiXSA9IFwiWm9kQnJhbmRlZFwiO1xuICAgIFpvZEZpcnN0UGFydHlUeXBlS2luZFtcIlpvZFBpcGVsaW5lXCJdID0gXCJab2RQaXBlbGluZVwiO1xuICAgIFpvZEZpcnN0UGFydHlUeXBlS2luZFtcIlpvZFJlYWRvbmx5XCJdID0gXCJab2RSZWFkb25seVwiO1xufSkoWm9kRmlyc3RQYXJ0eVR5cGVLaW5kIHx8IChab2RGaXJzdFBhcnR5VHlwZUtpbmQgPSB7fSkpO1xuLy8gcmVxdWlyZXMgVFMgNC40K1xuY2xhc3MgQ2xhc3Mge1xuICAgIGNvbnN0cnVjdG9yKC4uLl8pIHsgfVxufVxuY29uc3QgaW5zdGFuY2VPZlR5cGUgPSAoXG4vLyBjb25zdCBpbnN0YW5jZU9mVHlwZSA9IDxUIGV4dGVuZHMgbmV3ICguLi5hcmdzOiBhbnlbXSkgPT4gYW55PihcbmNscywgcGFyYW1zID0ge1xuICAgIG1lc3NhZ2U6IGBJbnB1dCBub3QgaW5zdGFuY2Ugb2YgJHtjbHMubmFtZX1gLFxufSkgPT4gY3VzdG9tKChkYXRhKSA9PiBkYXRhIGluc3RhbmNlb2YgY2xzLCBwYXJhbXMpO1xuY29uc3Qgc3RyaW5nVHlwZSA9IFpvZFN0cmluZy5jcmVhdGU7XG5jb25zdCBudW1iZXJUeXBlID0gWm9kTnVtYmVyLmNyZWF0ZTtcbmNvbnN0IG5hblR5cGUgPSBab2ROYU4uY3JlYXRlO1xuY29uc3QgYmlnSW50VHlwZSA9IFpvZEJpZ0ludC5jcmVhdGU7XG5jb25zdCBib29sZWFuVHlwZSA9IFpvZEJvb2xlYW4uY3JlYXRlO1xuY29uc3QgZGF0ZVR5cGUgPSBab2REYXRlLmNyZWF0ZTtcbmNvbnN0IHN5bWJvbFR5cGUgPSBab2RTeW1ib2wuY3JlYXRlO1xuY29uc3QgdW5kZWZpbmVkVHlwZSA9IFpvZFVuZGVmaW5lZC5jcmVhdGU7XG5jb25zdCBudWxsVHlwZSA9IFpvZE51bGwuY3JlYXRlO1xuY29uc3QgYW55VHlwZSA9IFpvZEFueS5jcmVhdGU7XG5jb25zdCB1bmtub3duVHlwZSA9IFpvZFVua25vd24uY3JlYXRlO1xuY29uc3QgbmV2ZXJUeXBlID0gWm9kTmV2ZXIuY3JlYXRlO1xuY29uc3Qgdm9pZFR5cGUgPSBab2RWb2lkLmNyZWF0ZTtcbmNvbnN0IGFycmF5VHlwZSA9IFpvZEFycmF5LmNyZWF0ZTtcbmNvbnN0IG9iamVjdFR5cGUgPSBab2RPYmplY3QuY3JlYXRlO1xuY29uc3Qgc3RyaWN0T2JqZWN0VHlwZSA9IFpvZE9iamVjdC5zdHJpY3RDcmVhdGU7XG5jb25zdCB1bmlvblR5cGUgPSBab2RVbmlvbi5jcmVhdGU7XG5jb25zdCBkaXNjcmltaW5hdGVkVW5pb25UeXBlID0gWm9kRGlzY3JpbWluYXRlZFVuaW9uLmNyZWF0ZTtcbmNvbnN0IGludGVyc2VjdGlvblR5cGUgPSBab2RJbnRlcnNlY3Rpb24uY3JlYXRlO1xuY29uc3QgdHVwbGVUeXBlID0gWm9kVHVwbGUuY3JlYXRlO1xuY29uc3QgcmVjb3JkVHlwZSA9IFpvZFJlY29yZC5jcmVhdGU7XG5jb25zdCBtYXBUeXBlID0gWm9kTWFwLmNyZWF0ZTtcbmNvbnN0IHNldFR5cGUgPSBab2RTZXQuY3JlYXRlO1xuY29uc3QgZnVuY3Rpb25UeXBlID0gWm9kRnVuY3Rpb24uY3JlYXRlO1xuY29uc3QgbGF6eVR5cGUgPSBab2RMYXp5LmNyZWF0ZTtcbmNvbnN0IGxpdGVyYWxUeXBlID0gWm9kTGl0ZXJhbC5jcmVhdGU7XG5jb25zdCBlbnVtVHlwZSA9IFpvZEVudW0uY3JlYXRlO1xuY29uc3QgbmF0aXZlRW51bVR5cGUgPSBab2ROYXRpdmVFbnVtLmNyZWF0ZTtcbmNvbnN0IHByb21pc2VUeXBlID0gWm9kUHJvbWlzZS5jcmVhdGU7XG5jb25zdCBlZmZlY3RzVHlwZSA9IFpvZEVmZmVjdHMuY3JlYXRlO1xuY29uc3Qgb3B0aW9uYWxUeXBlID0gWm9kT3B0aW9uYWwuY3JlYXRlO1xuY29uc3QgbnVsbGFibGVUeXBlID0gWm9kTnVsbGFibGUuY3JlYXRlO1xuY29uc3QgcHJlcHJvY2Vzc1R5cGUgPSBab2RFZmZlY3RzLmNyZWF0ZVdpdGhQcmVwcm9jZXNzO1xuY29uc3QgcGlwZWxpbmVUeXBlID0gWm9kUGlwZWxpbmUuY3JlYXRlO1xuY29uc3Qgb3N0cmluZyA9ICgpID0+IHN0cmluZ1R5cGUoKS5vcHRpb25hbCgpO1xuY29uc3Qgb251bWJlciA9ICgpID0+IG51bWJlclR5cGUoKS5vcHRpb25hbCgpO1xuY29uc3Qgb2Jvb2xlYW4gPSAoKSA9PiBib29sZWFuVHlwZSgpLm9wdGlvbmFsKCk7XG5leHBvcnQgY29uc3QgY29lcmNlID0ge1xuICAgIHN0cmluZzogKChhcmcpID0+IFpvZFN0cmluZy5jcmVhdGUoeyAuLi5hcmcsIGNvZXJjZTogdHJ1ZSB9KSksXG4gICAgbnVtYmVyOiAoKGFyZykgPT4gWm9kTnVtYmVyLmNyZWF0ZSh7IC4uLmFyZywgY29lcmNlOiB0cnVlIH0pKSxcbiAgICBib29sZWFuOiAoKGFyZykgPT4gWm9kQm9vbGVhbi5jcmVhdGUoe1xuICAgICAgICAuLi5hcmcsXG4gICAgICAgIGNvZXJjZTogdHJ1ZSxcbiAgICB9KSksXG4gICAgYmlnaW50OiAoKGFyZykgPT4gWm9kQmlnSW50LmNyZWF0ZSh7IC4uLmFyZywgY29lcmNlOiB0cnVlIH0pKSxcbiAgICBkYXRlOiAoKGFyZykgPT4gWm9kRGF0ZS5jcmVhdGUoeyAuLi5hcmcsIGNvZXJjZTogdHJ1ZSB9KSksXG59O1xuZXhwb3J0IHsgYW55VHlwZSBhcyBhbnksIGFycmF5VHlwZSBhcyBhcnJheSwgYmlnSW50VHlwZSBhcyBiaWdpbnQsIGJvb2xlYW5UeXBlIGFzIGJvb2xlYW4sIGRhdGVUeXBlIGFzIGRhdGUsIGRpc2NyaW1pbmF0ZWRVbmlvblR5cGUgYXMgZGlzY3JpbWluYXRlZFVuaW9uLCBlZmZlY3RzVHlwZSBhcyBlZmZlY3QsIGVudW1UeXBlIGFzIGVudW0sIGZ1bmN0aW9uVHlwZSBhcyBmdW5jdGlvbiwgaW5zdGFuY2VPZlR5cGUgYXMgaW5zdGFuY2VvZiwgaW50ZXJzZWN0aW9uVHlwZSBhcyBpbnRlcnNlY3Rpb24sIGxhenlUeXBlIGFzIGxhenksIGxpdGVyYWxUeXBlIGFzIGxpdGVyYWwsIG1hcFR5cGUgYXMgbWFwLCBuYW5UeXBlIGFzIG5hbiwgbmF0aXZlRW51bVR5cGUgYXMgbmF0aXZlRW51bSwgbmV2ZXJUeXBlIGFzIG5ldmVyLCBudWxsVHlwZSBhcyBudWxsLCBudWxsYWJsZVR5cGUgYXMgbnVsbGFibGUsIG51bWJlclR5cGUgYXMgbnVtYmVyLCBvYmplY3RUeXBlIGFzIG9iamVjdCwgb2Jvb2xlYW4sIG9udW1iZXIsIG9wdGlvbmFsVHlwZSBhcyBvcHRpb25hbCwgb3N0cmluZywgcGlwZWxpbmVUeXBlIGFzIHBpcGVsaW5lLCBwcmVwcm9jZXNzVHlwZSBhcyBwcmVwcm9jZXNzLCBwcm9taXNlVHlwZSBhcyBwcm9taXNlLCByZWNvcmRUeXBlIGFzIHJlY29yZCwgc2V0VHlwZSBhcyBzZXQsIHN0cmljdE9iamVjdFR5cGUgYXMgc3RyaWN0T2JqZWN0LCBzdHJpbmdUeXBlIGFzIHN0cmluZywgc3ltYm9sVHlwZSBhcyBzeW1ib2wsIGVmZmVjdHNUeXBlIGFzIHRyYW5zZm9ybWVyLCB0dXBsZVR5cGUgYXMgdHVwbGUsIHVuZGVmaW5lZFR5cGUgYXMgdW5kZWZpbmVkLCB1bmlvblR5cGUgYXMgdW5pb24sIHVua25vd25UeXBlIGFzIHVua25vd24sIHZvaWRUeXBlIGFzIHZvaWQsIH07XG5leHBvcnQgY29uc3QgTkVWRVIgPSBJTlZBTElEO1xuIiwiZXhwb3J0IGZ1bmN0aW9uIHBhcnNlQW55RGVmKCkge1xuICAgIHJldHVybiB7fTtcbn1cbi8vIyBzb3VyY2VNYXBwaW5nVVJMPWFueS5tanMubWFwIiwiaW1wb3J0IHsgWm9kRmlyc3RQYXJ0eVR5cGVLaW5kIH0gZnJvbSAnem9kL3YzJztcbmltcG9ydCB7IHNldFJlc3BvbnNlVmFsdWVBbmRFcnJvcnMgfSBmcm9tIFwiLi4vZXJyb3JNZXNzYWdlcy5tanNcIjtcbmltcG9ydCB7IHBhcnNlRGVmIH0gZnJvbSBcIi4uL3BhcnNlRGVmLm1qc1wiO1xuZXhwb3J0IGZ1bmN0aW9uIHBhcnNlQXJyYXlEZWYoZGVmLCByZWZzKSB7XG4gICAgY29uc3QgcmVzID0ge1xuICAgICAgICB0eXBlOiAnYXJyYXknLFxuICAgIH07XG4gICAgaWYgKGRlZi50eXBlPy5fZGVmPy50eXBlTmFtZSAhPT0gWm9kRmlyc3RQYXJ0eVR5cGVLaW5kLlpvZEFueSkge1xuICAgICAgICByZXMuaXRlbXMgPSBwYXJzZURlZihkZWYudHlwZS5fZGVmLCB7XG4gICAgICAgICAgICAuLi5yZWZzLFxuICAgICAgICAgICAgY3VycmVudFBhdGg6IFsuLi5yZWZzLmN1cnJlbnRQYXRoLCAnaXRlbXMnXSxcbiAgICAgICAgfSk7XG4gICAgfVxuICAgIGlmIChkZWYubWluTGVuZ3RoKSB7XG4gICAgICAgIHNldFJlc3BvbnNlVmFsdWVBbmRFcnJvcnMocmVzLCAnbWluSXRlbXMnLCBkZWYubWluTGVuZ3RoLnZhbHVlLCBkZWYubWluTGVuZ3RoLm1lc3NhZ2UsIHJlZnMpO1xuICAgIH1cbiAgICBpZiAoZGVmLm1heExlbmd0aCkge1xuICAgICAgICBzZXRSZXNwb25zZVZhbHVlQW5kRXJyb3JzKHJlcywgJ21heEl0ZW1zJywgZGVmLm1heExlbmd0aC52YWx1ZSwgZGVmLm1heExlbmd0aC5tZXNzYWdlLCByZWZzKTtcbiAgICB9XG4gICAgaWYgKGRlZi5leGFjdExlbmd0aCkge1xuICAgICAgICBzZXRSZXNwb25zZVZhbHVlQW5kRXJyb3JzKHJlcywgJ21pbkl0ZW1zJywgZGVmLmV4YWN0TGVuZ3RoLnZhbHVlLCBkZWYuZXhhY3RMZW5ndGgubWVzc2FnZSwgcmVmcyk7XG4gICAgICAgIHNldFJlc3BvbnNlVmFsdWVBbmRFcnJvcnMocmVzLCAnbWF4SXRlbXMnLCBkZWYuZXhhY3RMZW5ndGgudmFsdWUsIGRlZi5leGFjdExlbmd0aC5tZXNzYWdlLCByZWZzKTtcbiAgICB9XG4gICAgcmV0dXJuIHJlcztcbn1cbi8vIyBzb3VyY2VNYXBwaW5nVVJMPWFycmF5Lm1qcy5tYXAiLCJpbXBvcnQgeyBzZXRSZXNwb25zZVZhbHVlQW5kRXJyb3JzIH0gZnJvbSBcIi4uL2Vycm9yTWVzc2FnZXMubWpzXCI7XG5leHBvcnQgZnVuY3Rpb24gcGFyc2VCaWdpbnREZWYoZGVmLCByZWZzKSB7XG4gICAgY29uc3QgcmVzID0ge1xuICAgICAgICB0eXBlOiAnaW50ZWdlcicsXG4gICAgICAgIGZvcm1hdDogJ2ludDY0JyxcbiAgICB9O1xuICAgIGlmICghZGVmLmNoZWNrcylcbiAgICAgICAgcmV0dXJuIHJlcztcbiAgICBmb3IgKGNvbnN0IGNoZWNrIG9mIGRlZi5jaGVja3MpIHtcbiAgICAgICAgc3dpdGNoIChjaGVjay5raW5kKSB7XG4gICAgICAgICAgICBjYXNlICdtaW4nOlxuICAgICAgICAgICAgICAgIGlmIChyZWZzLnRhcmdldCA9PT0gJ2pzb25TY2hlbWE3Jykge1xuICAgICAgICAgICAgICAgICAgICBpZiAoY2hlY2suaW5jbHVzaXZlKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBzZXRSZXNwb25zZVZhbHVlQW5kRXJyb3JzKHJlcywgJ21pbmltdW0nLCBjaGVjay52YWx1ZSwgY2hlY2subWVzc2FnZSwgcmVmcyk7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBzZXRSZXNwb25zZVZhbHVlQW5kRXJyb3JzKHJlcywgJ2V4Y2x1c2l2ZU1pbmltdW0nLCBjaGVjay52YWx1ZSwgY2hlY2subWVzc2FnZSwgcmVmcyk7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgIGlmICghY2hlY2suaW5jbHVzaXZlKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICByZXMuZXhjbHVzaXZlTWluaW11bSA9IHRydWU7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgc2V0UmVzcG9uc2VWYWx1ZUFuZEVycm9ycyhyZXMsICdtaW5pbXVtJywgY2hlY2sudmFsdWUsIGNoZWNrLm1lc3NhZ2UsIHJlZnMpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgIGNhc2UgJ21heCc6XG4gICAgICAgICAgICAgICAgaWYgKHJlZnMudGFyZ2V0ID09PSAnanNvblNjaGVtYTcnKSB7XG4gICAgICAgICAgICAgICAgICAgIGlmIChjaGVjay5pbmNsdXNpdmUpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHNldFJlc3BvbnNlVmFsdWVBbmRFcnJvcnMocmVzLCAnbWF4aW11bScsIGNoZWNrLnZhbHVlLCBjaGVjay5tZXNzYWdlLCByZWZzKTtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHNldFJlc3BvbnNlVmFsdWVBbmRFcnJvcnMocmVzLCAnZXhjbHVzaXZlTWF4aW11bScsIGNoZWNrLnZhbHVlLCBjaGVjay5tZXNzYWdlLCByZWZzKTtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgaWYgKCFjaGVjay5pbmNsdXNpdmUpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHJlcy5leGNsdXNpdmVNYXhpbXVtID0gdHJ1ZTtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICBzZXRSZXNwb25zZVZhbHVlQW5kRXJyb3JzKHJlcywgJ21heGltdW0nLCBjaGVjay52YWx1ZSwgY2hlY2subWVzc2FnZSwgcmVmcyk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgY2FzZSAnbXVsdGlwbGVPZic6XG4gICAgICAgICAgICAgICAgc2V0UmVzcG9uc2VWYWx1ZUFuZEVycm9ycyhyZXMsICdtdWx0aXBsZU9mJywgY2hlY2sudmFsdWUsIGNoZWNrLm1lc3NhZ2UsIHJlZnMpO1xuICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICB9XG4gICAgfVxuICAgIHJldHVybiByZXM7XG59XG4vLyMgc291cmNlTWFwcGluZ1VSTD1iaWdpbnQubWpzLm1hcCIsImV4cG9ydCBmdW5jdGlvbiBwYXJzZUJvb2xlYW5EZWYoKSB7XG4gICAgcmV0dXJuIHtcbiAgICAgICAgdHlwZTogJ2Jvb2xlYW4nLFxuICAgIH07XG59XG4vLyMgc291cmNlTWFwcGluZ1VSTD1ib29sZWFuLm1qcy5tYXAiLCJpbXBvcnQgeyBwYXJzZURlZiB9IGZyb20gXCIuLi9wYXJzZURlZi5tanNcIjtcbmV4cG9ydCBmdW5jdGlvbiBwYXJzZUJyYW5kZWREZWYoX2RlZiwgcmVmcykge1xuICAgIHJldHVybiBwYXJzZURlZihfZGVmLnR5cGUuX2RlZiwgcmVmcyk7XG59XG4vLyMgc291cmNlTWFwcGluZ1VSTD1icmFuZGVkLm1qcy5tYXAiLCJpbXBvcnQgeyBwYXJzZURlZiB9IGZyb20gXCIuLi9wYXJzZURlZi5tanNcIjtcbmV4cG9ydCBjb25zdCBwYXJzZUNhdGNoRGVmID0gKGRlZiwgcmVmcykgPT4ge1xuICAgIHJldHVybiBwYXJzZURlZihkZWYuaW5uZXJUeXBlLl9kZWYsIHJlZnMpO1xufTtcbi8vIyBzb3VyY2VNYXBwaW5nVVJMPWNhdGNoLm1qcy5tYXAiLCJpbXBvcnQgeyBzZXRSZXNwb25zZVZhbHVlQW5kRXJyb3JzIH0gZnJvbSBcIi4uL2Vycm9yTWVzc2FnZXMubWpzXCI7XG5leHBvcnQgZnVuY3Rpb24gcGFyc2VEYXRlRGVmKGRlZiwgcmVmcywgb3ZlcnJpZGVEYXRlU3RyYXRlZ3kpIHtcbiAgICBjb25zdCBzdHJhdGVneSA9IG92ZXJyaWRlRGF0ZVN0cmF0ZWd5ID8/IHJlZnMuZGF0ZVN0cmF0ZWd5O1xuICAgIGlmIChBcnJheS5pc0FycmF5KHN0cmF0ZWd5KSkge1xuICAgICAgICByZXR1cm4ge1xuICAgICAgICAgICAgYW55T2Y6IHN0cmF0ZWd5Lm1hcCgoaXRlbSwgaSkgPT4gcGFyc2VEYXRlRGVmKGRlZiwgcmVmcywgaXRlbSkpLFxuICAgICAgICB9O1xuICAgIH1cbiAgICBzd2l0Y2ggKHN0cmF0ZWd5KSB7XG4gICAgICAgIGNhc2UgJ3N0cmluZyc6XG4gICAgICAgIGNhc2UgJ2Zvcm1hdDpkYXRlLXRpbWUnOlxuICAgICAgICAgICAgcmV0dXJuIHtcbiAgICAgICAgICAgICAgICB0eXBlOiAnc3RyaW5nJyxcbiAgICAgICAgICAgICAgICBmb3JtYXQ6ICdkYXRlLXRpbWUnLFxuICAgICAgICAgICAgfTtcbiAgICAgICAgY2FzZSAnZm9ybWF0OmRhdGUnOlxuICAgICAgICAgICAgcmV0dXJuIHtcbiAgICAgICAgICAgICAgICB0eXBlOiAnc3RyaW5nJyxcbiAgICAgICAgICAgICAgICBmb3JtYXQ6ICdkYXRlJyxcbiAgICAgICAgICAgIH07XG4gICAgICAgIGNhc2UgJ2ludGVnZXInOlxuICAgICAgICAgICAgcmV0dXJuIGludGVnZXJEYXRlUGFyc2VyKGRlZiwgcmVmcyk7XG4gICAgfVxufVxuY29uc3QgaW50ZWdlckRhdGVQYXJzZXIgPSAoZGVmLCByZWZzKSA9PiB7XG4gICAgY29uc3QgcmVzID0ge1xuICAgICAgICB0eXBlOiAnaW50ZWdlcicsXG4gICAgICAgIGZvcm1hdDogJ3VuaXgtdGltZScsXG4gICAgfTtcbiAgICBpZiAocmVmcy50YXJnZXQgPT09ICdvcGVuQXBpMycpIHtcbiAgICAgICAgcmV0dXJuIHJlcztcbiAgICB9XG4gICAgZm9yIChjb25zdCBjaGVjayBvZiBkZWYuY2hlY2tzKSB7XG4gICAgICAgIHN3aXRjaCAoY2hlY2sua2luZCkge1xuICAgICAgICAgICAgY2FzZSAnbWluJzpcbiAgICAgICAgICAgICAgICBzZXRSZXNwb25zZVZhbHVlQW5kRXJyb3JzKHJlcywgJ21pbmltdW0nLCBjaGVjay52YWx1ZSwgLy8gVGhpcyBpcyBpbiBtaWxsaXNlY29uZHNcbiAgICAgICAgICAgICAgICBjaGVjay5tZXNzYWdlLCByZWZzKTtcbiAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgIGNhc2UgJ21heCc6XG4gICAgICAgICAgICAgICAgc2V0UmVzcG9uc2VWYWx1ZUFuZEVycm9ycyhyZXMsICdtYXhpbXVtJywgY2hlY2sudmFsdWUsIC8vIFRoaXMgaXMgaW4gbWlsbGlzZWNvbmRzXG4gICAgICAgICAgICAgICAgY2hlY2subWVzc2FnZSwgcmVmcyk7XG4gICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgIH1cbiAgICB9XG4gICAgcmV0dXJuIHJlcztcbn07XG4vLyMgc291cmNlTWFwcGluZ1VSTD1kYXRlLm1qcy5tYXAiLCJpbXBvcnQgeyBwYXJzZURlZiB9IGZyb20gXCIuLi9wYXJzZURlZi5tanNcIjtcbmV4cG9ydCBmdW5jdGlvbiBwYXJzZURlZmF1bHREZWYoX2RlZiwgcmVmcykge1xuICAgIHJldHVybiB7XG4gICAgICAgIC4uLnBhcnNlRGVmKF9kZWYuaW5uZXJUeXBlLl9kZWYsIHJlZnMpLFxuICAgICAgICBkZWZhdWx0OiBfZGVmLmRlZmF1bHRWYWx1ZSgpLFxuICAgIH07XG59XG4vLyMgc291cmNlTWFwcGluZ1VSTD1kZWZhdWx0Lm1qcy5tYXAiLCJpbXBvcnQgeyBwYXJzZURlZiB9IGZyb20gXCIuLi9wYXJzZURlZi5tanNcIjtcbmV4cG9ydCBmdW5jdGlvbiBwYXJzZUVmZmVjdHNEZWYoX2RlZiwgcmVmcywgZm9yY2VSZXNvbHV0aW9uKSB7XG4gICAgcmV0dXJuIHJlZnMuZWZmZWN0U3RyYXRlZ3kgPT09ICdpbnB1dCcgPyBwYXJzZURlZihfZGVmLnNjaGVtYS5fZGVmLCByZWZzLCBmb3JjZVJlc29sdXRpb24pIDoge307XG59XG4vLyMgc291cmNlTWFwcGluZ1VSTD1lZmZlY3RzLm1qcy5tYXAiLCJleHBvcnQgZnVuY3Rpb24gcGFyc2VFbnVtRGVmKGRlZikge1xuICAgIHJldHVybiB7XG4gICAgICAgIHR5cGU6ICdzdHJpbmcnLFxuICAgICAgICBlbnVtOiBbLi4uZGVmLnZhbHVlc10sXG4gICAgfTtcbn1cbi8vIyBzb3VyY2VNYXBwaW5nVVJMPWVudW0ubWpzLm1hcCIsImltcG9ydCB7IHBhcnNlRGVmIH0gZnJvbSBcIi4uL3BhcnNlRGVmLm1qc1wiO1xuY29uc3QgaXNKc29uU2NoZW1hN0FsbE9mVHlwZSA9ICh0eXBlKSA9PiB7XG4gICAgaWYgKCd0eXBlJyBpbiB0eXBlICYmIHR5cGUudHlwZSA9PT0gJ3N0cmluZycpXG4gICAgICAgIHJldHVybiBmYWxzZTtcbiAgICByZXR1cm4gJ2FsbE9mJyBpbiB0eXBlO1xufTtcbmV4cG9ydCBmdW5jdGlvbiBwYXJzZUludGVyc2VjdGlvbkRlZihkZWYsIHJlZnMpIHtcbiAgICBjb25zdCBhbGxPZiA9IFtcbiAgICAgICAgcGFyc2VEZWYoZGVmLmxlZnQuX2RlZiwge1xuICAgICAgICAgICAgLi4ucmVmcyxcbiAgICAgICAgICAgIGN1cnJlbnRQYXRoOiBbLi4ucmVmcy5jdXJyZW50UGF0aCwgJ2FsbE9mJywgJzAnXSxcbiAgICAgICAgfSksXG4gICAgICAgIHBhcnNlRGVmKGRlZi5yaWdodC5fZGVmLCB7XG4gICAgICAgICAgICAuLi5yZWZzLFxuICAgICAgICAgICAgY3VycmVudFBhdGg6IFsuLi5yZWZzLmN1cnJlbnRQYXRoLCAnYWxsT2YnLCAnMSddLFxuICAgICAgICB9KSxcbiAgICBdLmZpbHRlcigoeCkgPT4gISF4KTtcbiAgICBsZXQgdW5ldmFsdWF0ZWRQcm9wZXJ0aWVzID0gcmVmcy50YXJnZXQgPT09ICdqc29uU2NoZW1hMjAxOS0wOScgPyB7IHVuZXZhbHVhdGVkUHJvcGVydGllczogZmFsc2UgfSA6IHVuZGVmaW5lZDtcbiAgICBjb25zdCBtZXJnZWRBbGxPZiA9IFtdO1xuICAgIC8vIElmIGVpdGhlciBvZiB0aGUgc2NoZW1hcyBpcyBhbiBhbGxPZiwgbWVyZ2UgdGhlbSBpbnRvIGEgc2luZ2xlIGFsbE9mXG4gICAgYWxsT2YuZm9yRWFjaCgoc2NoZW1hKSA9PiB7XG4gICAgICAgIGlmIChpc0pzb25TY2hlbWE3QWxsT2ZUeXBlKHNjaGVtYSkpIHtcbiAgICAgICAgICAgIG1lcmdlZEFsbE9mLnB1c2goLi4uc2NoZW1hLmFsbE9mKTtcbiAgICAgICAgICAgIGlmIChzY2hlbWEudW5ldmFsdWF0ZWRQcm9wZXJ0aWVzID09PSB1bmRlZmluZWQpIHtcbiAgICAgICAgICAgICAgICAvLyBJZiBvbmUgb2YgdGhlIHNjaGVtYXMgaGFzIG5vIHVuZXZhbHVhdGVkUHJvcGVydGllcyBzZXQsXG4gICAgICAgICAgICAgICAgLy8gdGhlIG1lcmdlZCBzY2hlbWEgc2hvdWxkIGFsc28gaGF2ZSBubyB1bmV2YWx1YXRlZFByb3BlcnRpZXMgc2V0XG4gICAgICAgICAgICAgICAgdW5ldmFsdWF0ZWRQcm9wZXJ0aWVzID0gdW5kZWZpbmVkO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgbGV0IG5lc3RlZFNjaGVtYSA9IHNjaGVtYTtcbiAgICAgICAgICAgIGlmICgnYWRkaXRpb25hbFByb3BlcnRpZXMnIGluIHNjaGVtYSAmJiBzY2hlbWEuYWRkaXRpb25hbFByb3BlcnRpZXMgPT09IGZhbHNlKSB7XG4gICAgICAgICAgICAgICAgY29uc3QgeyBhZGRpdGlvbmFsUHJvcGVydGllcywgLi4ucmVzdCB9ID0gc2NoZW1hO1xuICAgICAgICAgICAgICAgIG5lc3RlZFNjaGVtYSA9IHJlc3Q7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgICAgICAvLyBBcyBzb29uIGFzIG9uZSBvZiB0aGUgc2NoZW1hcyBoYXMgYWRkaXRpb25hbFByb3BlcnRpZXMgc2V0IG5vdCB0byBmYWxzZSwgd2UgYWxsb3cgdW5ldmFsdWF0ZWRQcm9wZXJ0aWVzXG4gICAgICAgICAgICAgICAgdW5ldmFsdWF0ZWRQcm9wZXJ0aWVzID0gdW5kZWZpbmVkO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgbWVyZ2VkQWxsT2YucHVzaChuZXN0ZWRTY2hlbWEpO1xuICAgICAgICB9XG4gICAgfSk7XG4gICAgcmV0dXJuIG1lcmdlZEFsbE9mLmxlbmd0aCA/XG4gICAgICAgIHtcbiAgICAgICAgICAgIGFsbE9mOiBtZXJnZWRBbGxPZixcbiAgICAgICAgICAgIC4uLnVuZXZhbHVhdGVkUHJvcGVydGllcyxcbiAgICAgICAgfVxuICAgICAgICA6IHVuZGVmaW5lZDtcbn1cbi8vIyBzb3VyY2VNYXBwaW5nVVJMPWludGVyc2VjdGlvbi5tanMubWFwIiwiZXhwb3J0IGZ1bmN0aW9uIHBhcnNlTGl0ZXJhbERlZihkZWYsIHJlZnMpIHtcbiAgICBjb25zdCBwYXJzZWRUeXBlID0gdHlwZW9mIGRlZi52YWx1ZTtcbiAgICBpZiAocGFyc2VkVHlwZSAhPT0gJ2JpZ2ludCcgJiZcbiAgICAgICAgcGFyc2VkVHlwZSAhPT0gJ251bWJlcicgJiZcbiAgICAgICAgcGFyc2VkVHlwZSAhPT0gJ2Jvb2xlYW4nICYmXG4gICAgICAgIHBhcnNlZFR5cGUgIT09ICdzdHJpbmcnKSB7XG4gICAgICAgIHJldHVybiB7XG4gICAgICAgICAgICB0eXBlOiBBcnJheS5pc0FycmF5KGRlZi52YWx1ZSkgPyAnYXJyYXknIDogJ29iamVjdCcsXG4gICAgICAgIH07XG4gICAgfVxuICAgIGlmIChyZWZzLnRhcmdldCA9PT0gJ29wZW5BcGkzJykge1xuICAgICAgICByZXR1cm4ge1xuICAgICAgICAgICAgdHlwZTogcGFyc2VkVHlwZSA9PT0gJ2JpZ2ludCcgPyAnaW50ZWdlcicgOiBwYXJzZWRUeXBlLFxuICAgICAgICAgICAgZW51bTogW2RlZi52YWx1ZV0sXG4gICAgICAgIH07XG4gICAgfVxuICAgIHJldHVybiB7XG4gICAgICAgIHR5cGU6IHBhcnNlZFR5cGUgPT09ICdiaWdpbnQnID8gJ2ludGVnZXInIDogcGFyc2VkVHlwZSxcbiAgICAgICAgY29uc3Q6IGRlZi52YWx1ZSxcbiAgICB9O1xufVxuLy8jIHNvdXJjZU1hcHBpbmdVUkw9bGl0ZXJhbC5tanMubWFwIiwiaW1wb3J0IHsgc2V0UmVzcG9uc2VWYWx1ZUFuZEVycm9ycyB9IGZyb20gXCIuLi9lcnJvck1lc3NhZ2VzLm1qc1wiO1xubGV0IGVtb2ppUmVnZXg7XG4vKipcbiAqIEdlbmVyYXRlZCBmcm9tIHRoZSByZWd1bGFyIGV4cHJlc3Npb25zIGZvdW5kIGhlcmUgYXMgb2YgMjAyNC0wNS0yMjpcbiAqIGh0dHBzOi8vZ2l0aHViLmNvbS9jb2xpbmhhY2tzL3pvZC9ibG9iL21hc3Rlci9zcmMvdHlwZXMudHMuXG4gKlxuICogRXhwcmVzc2lvbnMgd2l0aCAvaSBmbGFnIGhhdmUgYmVlbiBjaGFuZ2VkIGFjY29yZGluZ2x5LlxuICovXG5leHBvcnQgY29uc3Qgem9kUGF0dGVybnMgPSB7XG4gICAgLyoqXG4gICAgICogYGNgIHdhcyBjaGFuZ2VkIHRvIGBbY0NdYCB0byByZXBsaWNhdGUgL2kgZmxhZ1xuICAgICAqL1xuICAgIGN1aWQ6IC9eW2NDXVteXFxzLV17OCx9JC8sXG4gICAgY3VpZDI6IC9eWzAtOWEtel0rJC8sXG4gICAgdWxpZDogL15bMC05QS1ISktNTlAtVFYtWl17MjZ9JC8sXG4gICAgLyoqXG4gICAgICogYGEtemAgd2FzIGFkZGVkIHRvIHJlcGxpY2F0ZSAvaSBmbGFnXG4gICAgICovXG4gICAgZW1haWw6IC9eKD8hXFwuKSg/IS4qXFwuXFwuKShbYS16QS1aMC05XycrXFwtXFwuXSopW2EtekEtWjAtOV8rLV1AKFthLXpBLVowLTldW2EtekEtWjAtOVxcLV0qXFwuKStbYS16QS1aXXsyLH0kLyxcbiAgICAvKipcbiAgICAgKiBDb25zdHJ1Y3RlZCBhIHZhbGlkIFVuaWNvZGUgUmVnRXhwXG4gICAgICpcbiAgICAgKiBMYXppbHkgaW5zdGFudGlhdGUgc2luY2UgdGhpcyB0eXBlIG9mIHJlZ2V4IGlzbid0IHN1cHBvcnRlZFxuICAgICAqIGluIGFsbCBlbnZzIChlLmcuIFJlYWN0IE5hdGl2ZSkuXG4gICAgICpcbiAgICAgKiBTZWU6XG4gICAgICogaHR0cHM6Ly9naXRodWIuY29tL2NvbGluaGFja3Mvem9kL2lzc3Vlcy8yNDMzXG4gICAgICogRml4IGluIFpvZDpcbiAgICAgKiBodHRwczovL2dpdGh1Yi5jb20vY29saW5oYWNrcy96b2QvY29tbWl0LzkzNDBmZDUxZTQ4NTc2YTc1YWRjOTE5YmZmNjVkYmM0YTVkNGM5OWJcbiAgICAgKi9cbiAgICBlbW9qaTogKCkgPT4ge1xuICAgICAgICBpZiAoZW1vamlSZWdleCA9PT0gdW5kZWZpbmVkKSB7XG4gICAgICAgICAgICBlbW9qaVJlZ2V4ID0gUmVnRXhwKCdeKFxcXFxwe0V4dGVuZGVkX1BpY3RvZ3JhcGhpY318XFxcXHB7RW1vamlfQ29tcG9uZW50fSkrJCcsICd1Jyk7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIGVtb2ppUmVnZXg7XG4gICAgfSxcbiAgICAvKipcbiAgICAgKiBVbnVzZWRcbiAgICAgKi9cbiAgICB1dWlkOiAvXlswLTlhLWZBLUZdezh9XFxiLVswLTlhLWZBLUZdezR9XFxiLVswLTlhLWZBLUZdezR9XFxiLVswLTlhLWZBLUZdezR9XFxiLVswLTlhLWZBLUZdezEyfSQvLFxuICAgIC8qKlxuICAgICAqIFVudXNlZFxuICAgICAqL1xuICAgIGlwdjQ6IC9eKD86KD86MjVbMC01XXwyWzAtNF1bMC05XXwxWzAtOV1bMC05XXxbMS05XVswLTldfFswLTldKVxcLil7M30oPzoyNVswLTVdfDJbMC00XVswLTldfDFbMC05XVswLTldfFsxLTldWzAtOV18WzAtOV0pJC8sXG4gICAgLyoqXG4gICAgICogVW51c2VkXG4gICAgICovXG4gICAgaXB2NjogL14oKFthLWYwLTldezEsNH06KXs3fXw6OihbYS1mMC05XXsxLDR9Oil7MCw2fXwoW2EtZjAtOV17MSw0fTopezF9OihbYS1mMC05XXsxLDR9Oil7MCw1fXwoW2EtZjAtOV17MSw0fTopezJ9OihbYS1mMC05XXsxLDR9Oil7MCw0fXwoW2EtZjAtOV17MSw0fTopezN9OihbYS1mMC05XXsxLDR9Oil7MCwzfXwoW2EtZjAtOV17MSw0fTopezR9OihbYS1mMC05XXsxLDR9Oil7MCwyfXwoW2EtZjAtOV17MSw0fTopezV9OihbYS1mMC05XXsxLDR9Oil7MCwxfSkoW2EtZjAtOV17MSw0fXwoKCgyNVswLTVdKXwoMlswLTRdWzAtOV0pfCgxWzAtOV17Mn0pfChbMC05XXsxLDJ9KSlcXC4pezN9KCgyNVswLTVdKXwoMlswLTRdWzAtOV0pfCgxWzAtOV17Mn0pfChbMC05XXsxLDJ9KSkpJC8sXG4gICAgYmFzZTY0OiAvXihbMC05YS16QS1aKy9dezR9KSooKFswLTlhLXpBLVorL117Mn09PSl8KFswLTlhLXpBLVorL117M309KSk/JC8sXG4gICAgbmFub2lkOiAvXlthLXpBLVowLTlfLV17MjF9JC8sXG59O1xuZXhwb3J0IGZ1bmN0aW9uIHBhcnNlU3RyaW5nRGVmKGRlZiwgcmVmcykge1xuICAgIGNvbnN0IHJlcyA9IHtcbiAgICAgICAgdHlwZTogJ3N0cmluZycsXG4gICAgfTtcbiAgICBmdW5jdGlvbiBwcm9jZXNzUGF0dGVybih2YWx1ZSkge1xuICAgICAgICByZXR1cm4gcmVmcy5wYXR0ZXJuU3RyYXRlZ3kgPT09ICdlc2NhcGUnID8gZXNjYXBlTm9uQWxwaGFOdW1lcmljKHZhbHVlKSA6IHZhbHVlO1xuICAgIH1cbiAgICBpZiAoZGVmLmNoZWNrcykge1xuICAgICAgICBmb3IgKGNvbnN0IGNoZWNrIG9mIGRlZi5jaGVja3MpIHtcbiAgICAgICAgICAgIHN3aXRjaCAoY2hlY2sua2luZCkge1xuICAgICAgICAgICAgICAgIGNhc2UgJ21pbic6XG4gICAgICAgICAgICAgICAgICAgIHNldFJlc3BvbnNlVmFsdWVBbmRFcnJvcnMocmVzLCAnbWluTGVuZ3RoJywgdHlwZW9mIHJlcy5taW5MZW5ndGggPT09ICdudW1iZXInID8gTWF0aC5tYXgocmVzLm1pbkxlbmd0aCwgY2hlY2sudmFsdWUpIDogY2hlY2sudmFsdWUsIGNoZWNrLm1lc3NhZ2UsIHJlZnMpO1xuICAgICAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgICAgICBjYXNlICdtYXgnOlxuICAgICAgICAgICAgICAgICAgICBzZXRSZXNwb25zZVZhbHVlQW5kRXJyb3JzKHJlcywgJ21heExlbmd0aCcsIHR5cGVvZiByZXMubWF4TGVuZ3RoID09PSAnbnVtYmVyJyA/IE1hdGgubWluKHJlcy5tYXhMZW5ndGgsIGNoZWNrLnZhbHVlKSA6IGNoZWNrLnZhbHVlLCBjaGVjay5tZXNzYWdlLCByZWZzKTtcbiAgICAgICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICAgICAgY2FzZSAnZW1haWwnOlxuICAgICAgICAgICAgICAgICAgICBzd2l0Y2ggKHJlZnMuZW1haWxTdHJhdGVneSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgY2FzZSAnZm9ybWF0OmVtYWlsJzpcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBhZGRGb3JtYXQocmVzLCAnZW1haWwnLCBjaGVjay5tZXNzYWdlLCByZWZzKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgICAgICAgICAgICAgIGNhc2UgJ2Zvcm1hdDppZG4tZW1haWwnOlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGFkZEZvcm1hdChyZXMsICdpZG4tZW1haWwnLCBjaGVjay5tZXNzYWdlLCByZWZzKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgICAgICAgICAgICAgIGNhc2UgJ3BhdHRlcm46em9kJzpcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBhZGRQYXR0ZXJuKHJlcywgem9kUGF0dGVybnMuZW1haWwsIGNoZWNrLm1lc3NhZ2UsIHJlZnMpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgICAgIGNhc2UgJ3VybCc6XG4gICAgICAgICAgICAgICAgICAgIGFkZEZvcm1hdChyZXMsICd1cmknLCBjaGVjay5tZXNzYWdlLCByZWZzKTtcbiAgICAgICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICAgICAgY2FzZSAndXVpZCc6XG4gICAgICAgICAgICAgICAgICAgIGFkZEZvcm1hdChyZXMsICd1dWlkJywgY2hlY2subWVzc2FnZSwgcmVmcyk7XG4gICAgICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgICAgIGNhc2UgJ3JlZ2V4JzpcbiAgICAgICAgICAgICAgICAgICAgYWRkUGF0dGVybihyZXMsIGNoZWNrLnJlZ2V4LCBjaGVjay5tZXNzYWdlLCByZWZzKTtcbiAgICAgICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICAgICAgY2FzZSAnY3VpZCc6XG4gICAgICAgICAgICAgICAgICAgIGFkZFBhdHRlcm4ocmVzLCB6b2RQYXR0ZXJucy5jdWlkLCBjaGVjay5tZXNzYWdlLCByZWZzKTtcbiAgICAgICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICAgICAgY2FzZSAnY3VpZDInOlxuICAgICAgICAgICAgICAgICAgICBhZGRQYXR0ZXJuKHJlcywgem9kUGF0dGVybnMuY3VpZDIsIGNoZWNrLm1lc3NhZ2UsIHJlZnMpO1xuICAgICAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgICAgICBjYXNlICdzdGFydHNXaXRoJzpcbiAgICAgICAgICAgICAgICAgICAgYWRkUGF0dGVybihyZXMsIFJlZ0V4cChgXiR7cHJvY2Vzc1BhdHRlcm4oY2hlY2sudmFsdWUpfWApLCBjaGVjay5tZXNzYWdlLCByZWZzKTtcbiAgICAgICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICAgICAgY2FzZSAnZW5kc1dpdGgnOlxuICAgICAgICAgICAgICAgICAgICBhZGRQYXR0ZXJuKHJlcywgUmVnRXhwKGAke3Byb2Nlc3NQYXR0ZXJuKGNoZWNrLnZhbHVlKX0kYCksIGNoZWNrLm1lc3NhZ2UsIHJlZnMpO1xuICAgICAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgICAgICBjYXNlICdkYXRldGltZSc6XG4gICAgICAgICAgICAgICAgICAgIGFkZEZvcm1hdChyZXMsICdkYXRlLXRpbWUnLCBjaGVjay5tZXNzYWdlLCByZWZzKTtcbiAgICAgICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICAgICAgY2FzZSAnZGF0ZSc6XG4gICAgICAgICAgICAgICAgICAgIGFkZEZvcm1hdChyZXMsICdkYXRlJywgY2hlY2subWVzc2FnZSwgcmVmcyk7XG4gICAgICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgICAgIGNhc2UgJ3RpbWUnOlxuICAgICAgICAgICAgICAgICAgICBhZGRGb3JtYXQocmVzLCAndGltZScsIGNoZWNrLm1lc3NhZ2UsIHJlZnMpO1xuICAgICAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgICAgICBjYXNlICdkdXJhdGlvbic6XG4gICAgICAgICAgICAgICAgICAgIGFkZEZvcm1hdChyZXMsICdkdXJhdGlvbicsIGNoZWNrLm1lc3NhZ2UsIHJlZnMpO1xuICAgICAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgICAgICBjYXNlICdsZW5ndGgnOlxuICAgICAgICAgICAgICAgICAgICBzZXRSZXNwb25zZVZhbHVlQW5kRXJyb3JzKHJlcywgJ21pbkxlbmd0aCcsIHR5cGVvZiByZXMubWluTGVuZ3RoID09PSAnbnVtYmVyJyA/IE1hdGgubWF4KHJlcy5taW5MZW5ndGgsIGNoZWNrLnZhbHVlKSA6IGNoZWNrLnZhbHVlLCBjaGVjay5tZXNzYWdlLCByZWZzKTtcbiAgICAgICAgICAgICAgICAgICAgc2V0UmVzcG9uc2VWYWx1ZUFuZEVycm9ycyhyZXMsICdtYXhMZW5ndGgnLCB0eXBlb2YgcmVzLm1heExlbmd0aCA9PT0gJ251bWJlcicgPyBNYXRoLm1pbihyZXMubWF4TGVuZ3RoLCBjaGVjay52YWx1ZSkgOiBjaGVjay52YWx1ZSwgY2hlY2subWVzc2FnZSwgcmVmcyk7XG4gICAgICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgICAgIGNhc2UgJ2luY2x1ZGVzJzoge1xuICAgICAgICAgICAgICAgICAgICBhZGRQYXR0ZXJuKHJlcywgUmVnRXhwKHByb2Nlc3NQYXR0ZXJuKGNoZWNrLnZhbHVlKSksIGNoZWNrLm1lc3NhZ2UsIHJlZnMpO1xuICAgICAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgY2FzZSAnaXAnOiB7XG4gICAgICAgICAgICAgICAgICAgIGlmIChjaGVjay52ZXJzaW9uICE9PSAndjYnKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBhZGRGb3JtYXQocmVzLCAnaXB2NCcsIGNoZWNrLm1lc3NhZ2UsIHJlZnMpO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIGlmIChjaGVjay52ZXJzaW9uICE9PSAndjQnKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBhZGRGb3JtYXQocmVzLCAnaXB2NicsIGNoZWNrLm1lc3NhZ2UsIHJlZnMpO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBjYXNlICdlbW9qaSc6XG4gICAgICAgICAgICAgICAgICAgIGFkZFBhdHRlcm4ocmVzLCB6b2RQYXR0ZXJucy5lbW9qaSwgY2hlY2subWVzc2FnZSwgcmVmcyk7XG4gICAgICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgICAgIGNhc2UgJ3VsaWQnOiB7XG4gICAgICAgICAgICAgICAgICAgIGFkZFBhdHRlcm4ocmVzLCB6b2RQYXR0ZXJucy51bGlkLCBjaGVjay5tZXNzYWdlLCByZWZzKTtcbiAgICAgICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGNhc2UgJ2Jhc2U2NCc6IHtcbiAgICAgICAgICAgICAgICAgICAgc3dpdGNoIChyZWZzLmJhc2U2NFN0cmF0ZWd5KSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBjYXNlICdmb3JtYXQ6YmluYXJ5Jzoge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGFkZEZvcm1hdChyZXMsICdiaW5hcnknLCBjaGVjay5tZXNzYWdlLCByZWZzKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgIGNhc2UgJ2NvbnRlbnRFbmNvZGluZzpiYXNlNjQnOiB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgc2V0UmVzcG9uc2VWYWx1ZUFuZEVycm9ycyhyZXMsICdjb250ZW50RW5jb2RpbmcnLCAnYmFzZTY0JywgY2hlY2subWVzc2FnZSwgcmVmcyk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICBjYXNlICdwYXR0ZXJuOnpvZCc6IHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBhZGRQYXR0ZXJuKHJlcywgem9kUGF0dGVybnMuYmFzZTY0LCBjaGVjay5tZXNzYWdlLCByZWZzKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgY2FzZSAnbmFub2lkJzoge1xuICAgICAgICAgICAgICAgICAgICBhZGRQYXR0ZXJuKHJlcywgem9kUGF0dGVybnMubmFub2lkLCBjaGVjay5tZXNzYWdlLCByZWZzKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgY2FzZSAndG9Mb3dlckNhc2UnOlxuICAgICAgICAgICAgICAgIGNhc2UgJ3RvVXBwZXJDYXNlJzpcbiAgICAgICAgICAgICAgICBjYXNlICd0cmltJzpcbiAgICAgICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICAgICAgZGVmYXVsdDpcbiAgICAgICAgICAgICAgICAgICAgKChfKSA9PiB7IH0pKGNoZWNrKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgIH1cbiAgICByZXR1cm4gcmVzO1xufVxuY29uc3QgZXNjYXBlTm9uQWxwaGFOdW1lcmljID0gKHZhbHVlKSA9PiBBcnJheS5mcm9tKHZhbHVlKVxuICAgIC5tYXAoKGMpID0+ICgvW2EtekEtWjAtOV0vLnRlc3QoYykgPyBjIDogYFxcXFwke2N9YCkpXG4gICAgLmpvaW4oJycpO1xuY29uc3QgYWRkRm9ybWF0ID0gKHNjaGVtYSwgdmFsdWUsIG1lc3NhZ2UsIHJlZnMpID0+IHtcbiAgICBpZiAoc2NoZW1hLmZvcm1hdCB8fCBzY2hlbWEuYW55T2Y/LnNvbWUoKHgpID0+IHguZm9ybWF0KSkge1xuICAgICAgICBpZiAoIXNjaGVtYS5hbnlPZikge1xuICAgICAgICAgICAgc2NoZW1hLmFueU9mID0gW107XG4gICAgICAgIH1cbiAgICAgICAgaWYgKHNjaGVtYS5mb3JtYXQpIHtcbiAgICAgICAgICAgIHNjaGVtYS5hbnlPZi5wdXNoKHtcbiAgICAgICAgICAgICAgICBmb3JtYXQ6IHNjaGVtYS5mb3JtYXQsXG4gICAgICAgICAgICAgICAgLi4uKHNjaGVtYS5lcnJvck1lc3NhZ2UgJiZcbiAgICAgICAgICAgICAgICAgICAgcmVmcy5lcnJvck1lc3NhZ2VzICYmIHtcbiAgICAgICAgICAgICAgICAgICAgZXJyb3JNZXNzYWdlOiB7IGZvcm1hdDogc2NoZW1hLmVycm9yTWVzc2FnZS5mb3JtYXQgfSxcbiAgICAgICAgICAgICAgICB9KSxcbiAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgZGVsZXRlIHNjaGVtYS5mb3JtYXQ7XG4gICAgICAgICAgICBpZiAoc2NoZW1hLmVycm9yTWVzc2FnZSkge1xuICAgICAgICAgICAgICAgIGRlbGV0ZSBzY2hlbWEuZXJyb3JNZXNzYWdlLmZvcm1hdDtcbiAgICAgICAgICAgICAgICBpZiAoT2JqZWN0LmtleXMoc2NoZW1hLmVycm9yTWVzc2FnZSkubGVuZ3RoID09PSAwKSB7XG4gICAgICAgICAgICAgICAgICAgIGRlbGV0ZSBzY2hlbWEuZXJyb3JNZXNzYWdlO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICBzY2hlbWEuYW55T2YucHVzaCh7XG4gICAgICAgICAgICBmb3JtYXQ6IHZhbHVlLFxuICAgICAgICAgICAgLi4uKG1lc3NhZ2UgJiYgcmVmcy5lcnJvck1lc3NhZ2VzICYmIHsgZXJyb3JNZXNzYWdlOiB7IGZvcm1hdDogbWVzc2FnZSB9IH0pLFxuICAgICAgICB9KTtcbiAgICB9XG4gICAgZWxzZSB7XG4gICAgICAgIHNldFJlc3BvbnNlVmFsdWVBbmRFcnJvcnMoc2NoZW1hLCAnZm9ybWF0JywgdmFsdWUsIG1lc3NhZ2UsIHJlZnMpO1xuICAgIH1cbn07XG5jb25zdCBhZGRQYXR0ZXJuID0gKHNjaGVtYSwgcmVnZXgsIG1lc3NhZ2UsIHJlZnMpID0+IHtcbiAgICBpZiAoc2NoZW1hLnBhdHRlcm4gfHwgc2NoZW1hLmFsbE9mPy5zb21lKCh4KSA9PiB4LnBhdHRlcm4pKSB7XG4gICAgICAgIGlmICghc2NoZW1hLmFsbE9mKSB7XG4gICAgICAgICAgICBzY2hlbWEuYWxsT2YgPSBbXTtcbiAgICAgICAgfVxuICAgICAgICBpZiAoc2NoZW1hLnBhdHRlcm4pIHtcbiAgICAgICAgICAgIHNjaGVtYS5hbGxPZi5wdXNoKHtcbiAgICAgICAgICAgICAgICBwYXR0ZXJuOiBzY2hlbWEucGF0dGVybixcbiAgICAgICAgICAgICAgICAuLi4oc2NoZW1hLmVycm9yTWVzc2FnZSAmJlxuICAgICAgICAgICAgICAgICAgICByZWZzLmVycm9yTWVzc2FnZXMgJiYge1xuICAgICAgICAgICAgICAgICAgICBlcnJvck1lc3NhZ2U6IHsgcGF0dGVybjogc2NoZW1hLmVycm9yTWVzc2FnZS5wYXR0ZXJuIH0sXG4gICAgICAgICAgICAgICAgfSksXG4gICAgICAgICAgICB9KTtcbiAgICAgICAgICAgIGRlbGV0ZSBzY2hlbWEucGF0dGVybjtcbiAgICAgICAgICAgIGlmIChzY2hlbWEuZXJyb3JNZXNzYWdlKSB7XG4gICAgICAgICAgICAgICAgZGVsZXRlIHNjaGVtYS5lcnJvck1lc3NhZ2UucGF0dGVybjtcbiAgICAgICAgICAgICAgICBpZiAoT2JqZWN0LmtleXMoc2NoZW1hLmVycm9yTWVzc2FnZSkubGVuZ3RoID09PSAwKSB7XG4gICAgICAgICAgICAgICAgICAgIGRlbGV0ZSBzY2hlbWEuZXJyb3JNZXNzYWdlO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICBzY2hlbWEuYWxsT2YucHVzaCh7XG4gICAgICAgICAgICBwYXR0ZXJuOiBwcm9jZXNzUmVnRXhwKHJlZ2V4LCByZWZzKSxcbiAgICAgICAgICAgIC4uLihtZXNzYWdlICYmIHJlZnMuZXJyb3JNZXNzYWdlcyAmJiB7IGVycm9yTWVzc2FnZTogeyBwYXR0ZXJuOiBtZXNzYWdlIH0gfSksXG4gICAgICAgIH0pO1xuICAgIH1cbiAgICBlbHNlIHtcbiAgICAgICAgc2V0UmVzcG9uc2VWYWx1ZUFuZEVycm9ycyhzY2hlbWEsICdwYXR0ZXJuJywgcHJvY2Vzc1JlZ0V4cChyZWdleCwgcmVmcyksIG1lc3NhZ2UsIHJlZnMpO1xuICAgIH1cbn07XG4vLyBNdXRhdGUgei5zdHJpbmcucmVnZXgoKSBpbiBhIGJlc3QgYXR0ZW1wdCB0byBhY2NvbW1vZGF0ZSBmb3IgcmVnZXggZmxhZ3Mgd2hlbiBhcHBseVJlZ2V4RmxhZ3MgaXMgdHJ1ZVxuY29uc3QgcHJvY2Vzc1JlZ0V4cCA9IChyZWdleE9yRnVuY3Rpb24sIHJlZnMpID0+IHtcbiAgICBjb25zdCByZWdleCA9IHR5cGVvZiByZWdleE9yRnVuY3Rpb24gPT09ICdmdW5jdGlvbicgPyByZWdleE9yRnVuY3Rpb24oKSA6IHJlZ2V4T3JGdW5jdGlvbjtcbiAgICBpZiAoIXJlZnMuYXBwbHlSZWdleEZsYWdzIHx8ICFyZWdleC5mbGFncylcbiAgICAgICAgcmV0dXJuIHJlZ2V4LnNvdXJjZTtcbiAgICAvLyBDdXJyZW50bHkgaGFuZGxlZCBmbGFnc1xuICAgIGNvbnN0IGZsYWdzID0ge1xuICAgICAgICBpOiByZWdleC5mbGFncy5pbmNsdWRlcygnaScpLCAvLyBDYXNlLWluc2Vuc2l0aXZlXG4gICAgICAgIG06IHJlZ2V4LmZsYWdzLmluY2x1ZGVzKCdtJyksIC8vIGBeYCBhbmQgYCRgIG1hdGNoZXMgYWRqYWNlbnQgdG8gbmV3bGluZSBjaGFyYWN0ZXJzXG4gICAgICAgIHM6IHJlZ2V4LmZsYWdzLmluY2x1ZGVzKCdzJyksIC8vIGAuYCBtYXRjaGVzIG5ld2xpbmVzXG4gICAgfTtcbiAgICAvLyBUaGUgZ2VuZXJhbCBwcmluY2lwbGUgaGVyZSBpcyB0byBzdGVwIHRocm91Z2ggZWFjaCBjaGFyYWN0ZXIsIG9uZSBhdCBhIHRpbWUsIGFwcGx5aW5nIG11dGF0aW9ucyBhcyBmbGFncyByZXF1aXJlLiBXZSBrZWVwIHRyYWNrIHdoZW4gdGhlIGN1cnJlbnQgY2hhcmFjdGVyIGlzIGVzY2FwZWQsIGFuZCB3aGVuIGl0J3MgaW5zaWRlIGEgZ3JvdXAgL2xpa2UgW3RoaXNdLyBvciAoYWxzbykgYSByYW5nZSBsaWtlIC9bYS16XS8uIFRoZSBmb2xsb3dpbmcgaXMgZmFpcmx5IGJyaXR0bGUgaW1wZXJhdGl2ZSBjb2RlOyBlZGl0IGF0IHlvdXIgcGVyaWwhXG4gICAgY29uc3Qgc291cmNlID0gZmxhZ3MuaSA/IHJlZ2V4LnNvdXJjZS50b0xvd2VyQ2FzZSgpIDogcmVnZXguc291cmNlO1xuICAgIGxldCBwYXR0ZXJuID0gJyc7XG4gICAgbGV0IGlzRXNjYXBlZCA9IGZhbHNlO1xuICAgIGxldCBpbkNoYXJHcm91cCA9IGZhbHNlO1xuICAgIGxldCBpbkNoYXJSYW5nZSA9IGZhbHNlO1xuICAgIGZvciAobGV0IGkgPSAwOyBpIDwgc291cmNlLmxlbmd0aDsgaSsrKSB7XG4gICAgICAgIGlmIChpc0VzY2FwZWQpIHtcbiAgICAgICAgICAgIHBhdHRlcm4gKz0gc291cmNlW2ldO1xuICAgICAgICAgICAgaXNFc2NhcGVkID0gZmFsc2U7XG4gICAgICAgICAgICBjb250aW51ZTtcbiAgICAgICAgfVxuICAgICAgICBpZiAoZmxhZ3MuaSkge1xuICAgICAgICAgICAgaWYgKGluQ2hhckdyb3VwKSB7XG4gICAgICAgICAgICAgICAgaWYgKHNvdXJjZVtpXS5tYXRjaCgvW2Etel0vKSkge1xuICAgICAgICAgICAgICAgICAgICBpZiAoaW5DaGFyUmFuZ2UpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHBhdHRlcm4gKz0gc291cmNlW2ldO1xuICAgICAgICAgICAgICAgICAgICAgICAgcGF0dGVybiArPSBgJHtzb3VyY2VbaSAtIDJdfS0ke3NvdXJjZVtpXX1gLnRvVXBwZXJDYXNlKCk7XG4gICAgICAgICAgICAgICAgICAgICAgICBpbkNoYXJSYW5nZSA9IGZhbHNlO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIGVsc2UgaWYgKHNvdXJjZVtpICsgMV0gPT09ICctJyAmJiBzb3VyY2VbaSArIDJdPy5tYXRjaCgvW2Etel0vKSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgcGF0dGVybiArPSBzb3VyY2VbaV07XG4gICAgICAgICAgICAgICAgICAgICAgICBpbkNoYXJSYW5nZSA9IHRydWU7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBwYXR0ZXJuICs9IGAke3NvdXJjZVtpXX0ke3NvdXJjZVtpXS50b1VwcGVyQ2FzZSgpfWA7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgY29udGludWU7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICAgICAgZWxzZSBpZiAoc291cmNlW2ldLm1hdGNoKC9bYS16XS8pKSB7XG4gICAgICAgICAgICAgICAgcGF0dGVybiArPSBgWyR7c291cmNlW2ldfSR7c291cmNlW2ldLnRvVXBwZXJDYXNlKCl9XWA7XG4gICAgICAgICAgICAgICAgY29udGludWU7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgaWYgKGZsYWdzLm0pIHtcbiAgICAgICAgICAgIGlmIChzb3VyY2VbaV0gPT09ICdeJykge1xuICAgICAgICAgICAgICAgIHBhdHRlcm4gKz0gYChefCg/PD1bXFxyXFxuXSkpYDtcbiAgICAgICAgICAgICAgICBjb250aW51ZTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGVsc2UgaWYgKHNvdXJjZVtpXSA9PT0gJyQnKSB7XG4gICAgICAgICAgICAgICAgcGF0dGVybiArPSBgKCR8KD89W1xcclxcbl0pKWA7XG4gICAgICAgICAgICAgICAgY29udGludWU7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgaWYgKGZsYWdzLnMgJiYgc291cmNlW2ldID09PSAnLicpIHtcbiAgICAgICAgICAgIHBhdHRlcm4gKz0gaW5DaGFyR3JvdXAgPyBgJHtzb3VyY2VbaV19XFxyXFxuYCA6IGBbJHtzb3VyY2VbaV19XFxyXFxuXWA7XG4gICAgICAgICAgICBjb250aW51ZTtcbiAgICAgICAgfVxuICAgICAgICBwYXR0ZXJuICs9IHNvdXJjZVtpXTtcbiAgICAgICAgaWYgKHNvdXJjZVtpXSA9PT0gJ1xcXFwnKSB7XG4gICAgICAgICAgICBpc0VzY2FwZWQgPSB0cnVlO1xuICAgICAgICB9XG4gICAgICAgIGVsc2UgaWYgKGluQ2hhckdyb3VwICYmIHNvdXJjZVtpXSA9PT0gJ10nKSB7XG4gICAgICAgICAgICBpbkNoYXJHcm91cCA9IGZhbHNlO1xuICAgICAgICB9XG4gICAgICAgIGVsc2UgaWYgKCFpbkNoYXJHcm91cCAmJiBzb3VyY2VbaV0gPT09ICdbJykge1xuICAgICAgICAgICAgaW5DaGFyR3JvdXAgPSB0cnVlO1xuICAgICAgICB9XG4gICAgfVxuICAgIHRyeSB7XG4gICAgICAgIGNvbnN0IHJlZ2V4VGVzdCA9IG5ldyBSZWdFeHAocGF0dGVybik7XG4gICAgfVxuICAgIGNhdGNoIHtcbiAgICAgICAgY29uc29sZS53YXJuKGBDb3VsZCBub3QgY29udmVydCByZWdleCBwYXR0ZXJuIGF0ICR7cmVmcy5jdXJyZW50UGF0aC5qb2luKCcvJyl9IHRvIGEgZmxhZy1pbmRlcGVuZGVudCBmb3JtISBGYWxsaW5nIGJhY2sgdG8gdGhlIGZsYWctaWdub3JhbnQgc291cmNlYCk7XG4gICAgICAgIHJldHVybiByZWdleC5zb3VyY2U7XG4gICAgfVxuICAgIHJldHVybiBwYXR0ZXJuO1xufTtcbi8vIyBzb3VyY2VNYXBwaW5nVVJMPXN0cmluZy5tanMubWFwIiwiaW1wb3J0IHsgWm9kRmlyc3RQYXJ0eVR5cGVLaW5kIH0gZnJvbSAnem9kL3YzJztcbmltcG9ydCB7IHBhcnNlRGVmIH0gZnJvbSBcIi4uL3BhcnNlRGVmLm1qc1wiO1xuaW1wb3J0IHsgcGFyc2VTdHJpbmdEZWYgfSBmcm9tIFwiLi9zdHJpbmcubWpzXCI7XG5leHBvcnQgZnVuY3Rpb24gcGFyc2VSZWNvcmREZWYoZGVmLCByZWZzKSB7XG4gICAgaWYgKHJlZnMudGFyZ2V0ID09PSAnb3BlbkFwaTMnICYmIGRlZi5rZXlUeXBlPy5fZGVmLnR5cGVOYW1lID09PSBab2RGaXJzdFBhcnR5VHlwZUtpbmQuWm9kRW51bSkge1xuICAgICAgICByZXR1cm4ge1xuICAgICAgICAgICAgdHlwZTogJ29iamVjdCcsXG4gICAgICAgICAgICByZXF1aXJlZDogZGVmLmtleVR5cGUuX2RlZi52YWx1ZXMsXG4gICAgICAgICAgICBwcm9wZXJ0aWVzOiBkZWYua2V5VHlwZS5fZGVmLnZhbHVlcy5yZWR1Y2UoKGFjYywga2V5KSA9PiAoe1xuICAgICAgICAgICAgICAgIC4uLmFjYyxcbiAgICAgICAgICAgICAgICBba2V5XTogcGFyc2VEZWYoZGVmLnZhbHVlVHlwZS5fZGVmLCB7XG4gICAgICAgICAgICAgICAgICAgIC4uLnJlZnMsXG4gICAgICAgICAgICAgICAgICAgIGN1cnJlbnRQYXRoOiBbLi4ucmVmcy5jdXJyZW50UGF0aCwgJ3Byb3BlcnRpZXMnLCBrZXldLFxuICAgICAgICAgICAgICAgIH0pID8/IHt9LFxuICAgICAgICAgICAgfSksIHt9KSxcbiAgICAgICAgICAgIGFkZGl0aW9uYWxQcm9wZXJ0aWVzOiBmYWxzZSxcbiAgICAgICAgfTtcbiAgICB9XG4gICAgY29uc3Qgc2NoZW1hID0ge1xuICAgICAgICB0eXBlOiAnb2JqZWN0JyxcbiAgICAgICAgYWRkaXRpb25hbFByb3BlcnRpZXM6IHBhcnNlRGVmKGRlZi52YWx1ZVR5cGUuX2RlZiwge1xuICAgICAgICAgICAgLi4ucmVmcyxcbiAgICAgICAgICAgIGN1cnJlbnRQYXRoOiBbLi4ucmVmcy5jdXJyZW50UGF0aCwgJ2FkZGl0aW9uYWxQcm9wZXJ0aWVzJ10sXG4gICAgICAgIH0pID8/IHt9LFxuICAgIH07XG4gICAgaWYgKHJlZnMudGFyZ2V0ID09PSAnb3BlbkFwaTMnKSB7XG4gICAgICAgIHJldHVybiBzY2hlbWE7XG4gICAgfVxuICAgIGlmIChkZWYua2V5VHlwZT8uX2RlZi50eXBlTmFtZSA9PT0gWm9kRmlyc3RQYXJ0eVR5cGVLaW5kLlpvZFN0cmluZyAmJiBkZWYua2V5VHlwZS5fZGVmLmNoZWNrcz8ubGVuZ3RoKSB7XG4gICAgICAgIGNvbnN0IGtleVR5cGUgPSBPYmplY3QuZW50cmllcyhwYXJzZVN0cmluZ0RlZihkZWYua2V5VHlwZS5fZGVmLCByZWZzKSkucmVkdWNlKChhY2MsIFtrZXksIHZhbHVlXSkgPT4gKGtleSA9PT0gJ3R5cGUnID8gYWNjIDogeyAuLi5hY2MsIFtrZXldOiB2YWx1ZSB9KSwge30pO1xuICAgICAgICByZXR1cm4ge1xuICAgICAgICAgICAgLi4uc2NoZW1hLFxuICAgICAgICAgICAgcHJvcGVydHlOYW1lczoga2V5VHlwZSxcbiAgICAgICAgfTtcbiAgICB9XG4gICAgZWxzZSBpZiAoZGVmLmtleVR5cGU/Ll9kZWYudHlwZU5hbWUgPT09IFpvZEZpcnN0UGFydHlUeXBlS2luZC5ab2RFbnVtKSB7XG4gICAgICAgIHJldHVybiB7XG4gICAgICAgICAgICAuLi5zY2hlbWEsXG4gICAgICAgICAgICBwcm9wZXJ0eU5hbWVzOiB7XG4gICAgICAgICAgICAgICAgZW51bTogZGVmLmtleVR5cGUuX2RlZi52YWx1ZXMsXG4gICAgICAgICAgICB9LFxuICAgICAgICB9O1xuICAgIH1cbiAgICByZXR1cm4gc2NoZW1hO1xufVxuLy8jIHNvdXJjZU1hcHBpbmdVUkw9cmVjb3JkLm1qcy5tYXAiLCJpbXBvcnQgeyBwYXJzZURlZiB9IGZyb20gXCIuLi9wYXJzZURlZi5tanNcIjtcbmltcG9ydCB7IHBhcnNlUmVjb3JkRGVmIH0gZnJvbSBcIi4vcmVjb3JkLm1qc1wiO1xuZXhwb3J0IGZ1bmN0aW9uIHBhcnNlTWFwRGVmKGRlZiwgcmVmcykge1xuICAgIGlmIChyZWZzLm1hcFN0cmF0ZWd5ID09PSAncmVjb3JkJykge1xuICAgICAgICByZXR1cm4gcGFyc2VSZWNvcmREZWYoZGVmLCByZWZzKTtcbiAgICB9XG4gICAgY29uc3Qga2V5cyA9IHBhcnNlRGVmKGRlZi5rZXlUeXBlLl9kZWYsIHtcbiAgICAgICAgLi4ucmVmcyxcbiAgICAgICAgY3VycmVudFBhdGg6IFsuLi5yZWZzLmN1cnJlbnRQYXRoLCAnaXRlbXMnLCAnaXRlbXMnLCAnMCddLFxuICAgIH0pIHx8IHt9O1xuICAgIGNvbnN0IHZhbHVlcyA9IHBhcnNlRGVmKGRlZi52YWx1ZVR5cGUuX2RlZiwge1xuICAgICAgICAuLi5yZWZzLFxuICAgICAgICBjdXJyZW50UGF0aDogWy4uLnJlZnMuY3VycmVudFBhdGgsICdpdGVtcycsICdpdGVtcycsICcxJ10sXG4gICAgfSkgfHwge307XG4gICAgcmV0dXJuIHtcbiAgICAgICAgdHlwZTogJ2FycmF5JyxcbiAgICAgICAgbWF4SXRlbXM6IDEyNSxcbiAgICAgICAgaXRlbXM6IHtcbiAgICAgICAgICAgIHR5cGU6ICdhcnJheScsXG4gICAgICAgICAgICBpdGVtczogW2tleXMsIHZhbHVlc10sXG4gICAgICAgICAgICBtaW5JdGVtczogMixcbiAgICAgICAgICAgIG1heEl0ZW1zOiAyLFxuICAgICAgICB9LFxuICAgIH07XG59XG4vLyMgc291cmNlTWFwcGluZ1VSTD1tYXAubWpzLm1hcCIsImV4cG9ydCBmdW5jdGlvbiBwYXJzZU5hdGl2ZUVudW1EZWYoZGVmKSB7XG4gICAgY29uc3Qgb2JqZWN0ID0gZGVmLnZhbHVlcztcbiAgICBjb25zdCBhY3R1YWxLZXlzID0gT2JqZWN0LmtleXMoZGVmLnZhbHVlcykuZmlsdGVyKChrZXkpID0+IHtcbiAgICAgICAgcmV0dXJuIHR5cGVvZiBvYmplY3Rbb2JqZWN0W2tleV1dICE9PSAnbnVtYmVyJztcbiAgICB9KTtcbiAgICBjb25zdCBhY3R1YWxWYWx1ZXMgPSBhY3R1YWxLZXlzLm1hcCgoa2V5KSA9PiBvYmplY3Rba2V5XSk7XG4gICAgY29uc3QgcGFyc2VkVHlwZXMgPSBBcnJheS5mcm9tKG5ldyBTZXQoYWN0dWFsVmFsdWVzLm1hcCgodmFsdWVzKSA9PiB0eXBlb2YgdmFsdWVzKSkpO1xuICAgIHJldHVybiB7XG4gICAgICAgIHR5cGU6IHBhcnNlZFR5cGVzLmxlbmd0aCA9PT0gMSA/XG4gICAgICAgICAgICBwYXJzZWRUeXBlc1swXSA9PT0gJ3N0cmluZycgP1xuICAgICAgICAgICAgICAgICdzdHJpbmcnXG4gICAgICAgICAgICAgICAgOiAnbnVtYmVyJ1xuICAgICAgICAgICAgOiBbJ3N0cmluZycsICdudW1iZXInXSxcbiAgICAgICAgZW51bTogYWN0dWFsVmFsdWVzLFxuICAgIH07XG59XG4vLyMgc291cmNlTWFwcGluZ1VSTD1uYXRpdmVFbnVtLm1qcy5tYXAiLCJleHBvcnQgZnVuY3Rpb24gcGFyc2VOZXZlckRlZigpIHtcbiAgICByZXR1cm4ge1xuICAgICAgICBub3Q6IHt9LFxuICAgIH07XG59XG4vLyMgc291cmNlTWFwcGluZ1VSTD1uZXZlci5tanMubWFwIiwiZXhwb3J0IGZ1bmN0aW9uIHBhcnNlTnVsbERlZihyZWZzKSB7XG4gICAgcmV0dXJuIHJlZnMudGFyZ2V0ID09PSAnb3BlbkFwaTMnID9cbiAgICAgICAge1xuICAgICAgICAgICAgZW51bTogWydudWxsJ10sXG4gICAgICAgICAgICBudWxsYWJsZTogdHJ1ZSxcbiAgICAgICAgfVxuICAgICAgICA6IHtcbiAgICAgICAgICAgIHR5cGU6ICdudWxsJyxcbiAgICAgICAgfTtcbn1cbi8vIyBzb3VyY2VNYXBwaW5nVVJMPW51bGwubWpzLm1hcCIsImltcG9ydCB7IHBhcnNlRGVmIH0gZnJvbSBcIi4uL3BhcnNlRGVmLm1qc1wiO1xuZXhwb3J0IGNvbnN0IHByaW1pdGl2ZU1hcHBpbmdzID0ge1xuICAgIFpvZFN0cmluZzogJ3N0cmluZycsXG4gICAgWm9kTnVtYmVyOiAnbnVtYmVyJyxcbiAgICBab2RCaWdJbnQ6ICdpbnRlZ2VyJyxcbiAgICBab2RCb29sZWFuOiAnYm9vbGVhbicsXG4gICAgWm9kTnVsbDogJ251bGwnLFxufTtcbmV4cG9ydCBmdW5jdGlvbiBwYXJzZVVuaW9uRGVmKGRlZiwgcmVmcykge1xuICAgIGlmIChyZWZzLnRhcmdldCA9PT0gJ29wZW5BcGkzJylcbiAgICAgICAgcmV0dXJuIGFzQW55T2YoZGVmLCByZWZzKTtcbiAgICBjb25zdCBvcHRpb25zID0gZGVmLm9wdGlvbnMgaW5zdGFuY2VvZiBNYXAgPyBBcnJheS5mcm9tKGRlZi5vcHRpb25zLnZhbHVlcygpKSA6IGRlZi5vcHRpb25zO1xuICAgIC8vIFRoaXMgYmxvY2tzIHRyaWVzIHRvIGxvb2sgYWhlYWQgYSBiaXQgdG8gcHJvZHVjZSBuaWNlciBsb29raW5nIHNjaGVtYXMgd2l0aCB0eXBlIGFycmF5IGluc3RlYWQgb2YgYW55T2YuXG4gICAgaWYgKG9wdGlvbnMuZXZlcnkoKHgpID0+IHguX2RlZi50eXBlTmFtZSBpbiBwcmltaXRpdmVNYXBwaW5ncyAmJiAoIXguX2RlZi5jaGVja3MgfHwgIXguX2RlZi5jaGVja3MubGVuZ3RoKSkpIHtcbiAgICAgICAgLy8gYWxsIHR5cGVzIGluIHVuaW9uIGFyZSBwcmltaXRpdmUgYW5kIGxhY2sgY2hlY2tzLCBzbyBtaWdodCBhcyB3ZWxsIHNxdWFzaCBpbnRvIHt0eXBlOiBbLi4uXX1cbiAgICAgICAgY29uc3QgdHlwZXMgPSBvcHRpb25zLnJlZHVjZSgodHlwZXMsIHgpID0+IHtcbiAgICAgICAgICAgIGNvbnN0IHR5cGUgPSBwcmltaXRpdmVNYXBwaW5nc1t4Ll9kZWYudHlwZU5hbWVdOyAvL0NhbiBiZSBzYWZlbHkgY2FzdGVkIGR1ZSB0byByb3cgNDNcbiAgICAgICAgICAgIHJldHVybiB0eXBlICYmICF0eXBlcy5pbmNsdWRlcyh0eXBlKSA/IFsuLi50eXBlcywgdHlwZV0gOiB0eXBlcztcbiAgICAgICAgfSwgW10pO1xuICAgICAgICByZXR1cm4ge1xuICAgICAgICAgICAgdHlwZTogdHlwZXMubGVuZ3RoID4gMSA/IHR5cGVzIDogdHlwZXNbMF0sXG4gICAgICAgIH07XG4gICAgfVxuICAgIGVsc2UgaWYgKG9wdGlvbnMuZXZlcnkoKHgpID0+IHguX2RlZi50eXBlTmFtZSA9PT0gJ1pvZExpdGVyYWwnICYmICF4LmRlc2NyaXB0aW9uKSkge1xuICAgICAgICAvLyBhbGwgb3B0aW9ucyBsaXRlcmFsc1xuICAgICAgICBjb25zdCB0eXBlcyA9IG9wdGlvbnMucmVkdWNlKChhY2MsIHgpID0+IHtcbiAgICAgICAgICAgIGNvbnN0IHR5cGUgPSB0eXBlb2YgeC5fZGVmLnZhbHVlO1xuICAgICAgICAgICAgc3dpdGNoICh0eXBlKSB7XG4gICAgICAgICAgICAgICAgY2FzZSAnc3RyaW5nJzpcbiAgICAgICAgICAgICAgICBjYXNlICdudW1iZXInOlxuICAgICAgICAgICAgICAgIGNhc2UgJ2Jvb2xlYW4nOlxuICAgICAgICAgICAgICAgICAgICByZXR1cm4gWy4uLmFjYywgdHlwZV07XG4gICAgICAgICAgICAgICAgY2FzZSAnYmlnaW50JzpcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIFsuLi5hY2MsICdpbnRlZ2VyJ107XG4gICAgICAgICAgICAgICAgY2FzZSAnb2JqZWN0JzpcbiAgICAgICAgICAgICAgICAgICAgaWYgKHguX2RlZi52YWx1ZSA9PT0gbnVsbClcbiAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiBbLi4uYWNjLCAnbnVsbCddO1xuICAgICAgICAgICAgICAgIGNhc2UgJ3N5bWJvbCc6XG4gICAgICAgICAgICAgICAgY2FzZSAndW5kZWZpbmVkJzpcbiAgICAgICAgICAgICAgICBjYXNlICdmdW5jdGlvbic6XG4gICAgICAgICAgICAgICAgZGVmYXVsdDpcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIGFjYztcbiAgICAgICAgICAgIH1cbiAgICAgICAgfSwgW10pO1xuICAgICAgICBpZiAodHlwZXMubGVuZ3RoID09PSBvcHRpb25zLmxlbmd0aCkge1xuICAgICAgICAgICAgLy8gYWxsIHRoZSBsaXRlcmFscyBhcmUgcHJpbWl0aXZlLCBhcyBmYXIgYXMgbnVsbCBjYW4gYmUgY29uc2lkZXJlZCBwcmltaXRpdmVcbiAgICAgICAgICAgIGNvbnN0IHVuaXF1ZVR5cGVzID0gdHlwZXMuZmlsdGVyKCh4LCBpLCBhKSA9PiBhLmluZGV4T2YoeCkgPT09IGkpO1xuICAgICAgICAgICAgcmV0dXJuIHtcbiAgICAgICAgICAgICAgICB0eXBlOiB1bmlxdWVUeXBlcy5sZW5ndGggPiAxID8gdW5pcXVlVHlwZXMgOiB1bmlxdWVUeXBlc1swXSxcbiAgICAgICAgICAgICAgICBlbnVtOiBvcHRpb25zLnJlZHVjZSgoYWNjLCB4KSA9PiB7XG4gICAgICAgICAgICAgICAgICAgIHJldHVybiBhY2MuaW5jbHVkZXMoeC5fZGVmLnZhbHVlKSA/IGFjYyA6IFsuLi5hY2MsIHguX2RlZi52YWx1ZV07XG4gICAgICAgICAgICAgICAgfSwgW10pLFxuICAgICAgICAgICAgfTtcbiAgICAgICAgfVxuICAgIH1cbiAgICBlbHNlIGlmIChvcHRpb25zLmV2ZXJ5KCh4KSA9PiB4Ll9kZWYudHlwZU5hbWUgPT09ICdab2RFbnVtJykpIHtcbiAgICAgICAgcmV0dXJuIHtcbiAgICAgICAgICAgIHR5cGU6ICdzdHJpbmcnLFxuICAgICAgICAgICAgZW51bTogb3B0aW9ucy5yZWR1Y2UoKGFjYywgeCkgPT4gWy4uLmFjYywgLi4ueC5fZGVmLnZhbHVlcy5maWx0ZXIoKHgpID0+ICFhY2MuaW5jbHVkZXMoeCkpXSwgW10pLFxuICAgICAgICB9O1xuICAgIH1cbiAgICByZXR1cm4gYXNBbnlPZihkZWYsIHJlZnMpO1xufVxuY29uc3QgYXNBbnlPZiA9IChkZWYsIHJlZnMpID0+IHtcbiAgICBjb25zdCBhbnlPZiA9IChkZWYub3B0aW9ucyBpbnN0YW5jZW9mIE1hcCA/IEFycmF5LmZyb20oZGVmLm9wdGlvbnMudmFsdWVzKCkpIDogZGVmLm9wdGlvbnMpXG4gICAgICAgIC5tYXAoKHgsIGkpID0+IHBhcnNlRGVmKHguX2RlZiwge1xuICAgICAgICAuLi5yZWZzLFxuICAgICAgICBjdXJyZW50UGF0aDogWy4uLnJlZnMuY3VycmVudFBhdGgsICdhbnlPZicsIGAke2l9YF0sXG4gICAgfSkpXG4gICAgICAgIC5maWx0ZXIoKHgpID0+ICEheCAmJiAoIXJlZnMuc3RyaWN0VW5pb25zIHx8ICh0eXBlb2YgeCA9PT0gJ29iamVjdCcgJiYgT2JqZWN0LmtleXMoeCkubGVuZ3RoID4gMCkpKTtcbiAgICByZXR1cm4gYW55T2YubGVuZ3RoID8geyBhbnlPZiB9IDogdW5kZWZpbmVkO1xufTtcbi8vIyBzb3VyY2VNYXBwaW5nVVJMPXVuaW9uLm1qcy5tYXAiLCJpbXBvcnQgeyBwYXJzZURlZiB9IGZyb20gXCIuLi9wYXJzZURlZi5tanNcIjtcbmltcG9ydCB7IHByaW1pdGl2ZU1hcHBpbmdzIH0gZnJvbSBcIi4vdW5pb24ubWpzXCI7XG5leHBvcnQgZnVuY3Rpb24gcGFyc2VOdWxsYWJsZURlZihkZWYsIHJlZnMpIHtcbiAgICBpZiAoWydab2RTdHJpbmcnLCAnWm9kTnVtYmVyJywgJ1pvZEJpZ0ludCcsICdab2RCb29sZWFuJywgJ1pvZE51bGwnXS5pbmNsdWRlcyhkZWYuaW5uZXJUeXBlLl9kZWYudHlwZU5hbWUpICYmXG4gICAgICAgICghZGVmLmlubmVyVHlwZS5fZGVmLmNoZWNrcyB8fCAhZGVmLmlubmVyVHlwZS5fZGVmLmNoZWNrcy5sZW5ndGgpKSB7XG4gICAgICAgIGlmIChyZWZzLnRhcmdldCA9PT0gJ29wZW5BcGkzJyB8fCByZWZzLm51bGxhYmxlU3RyYXRlZ3kgPT09ICdwcm9wZXJ0eScpIHtcbiAgICAgICAgICAgIHJldHVybiB7XG4gICAgICAgICAgICAgICAgdHlwZTogcHJpbWl0aXZlTWFwcGluZ3NbZGVmLmlubmVyVHlwZS5fZGVmLnR5cGVOYW1lXSxcbiAgICAgICAgICAgICAgICBudWxsYWJsZTogdHJ1ZSxcbiAgICAgICAgICAgIH07XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIHtcbiAgICAgICAgICAgIHR5cGU6IFtwcmltaXRpdmVNYXBwaW5nc1tkZWYuaW5uZXJUeXBlLl9kZWYudHlwZU5hbWVdLCAnbnVsbCddLFxuICAgICAgICB9O1xuICAgIH1cbiAgICBpZiAocmVmcy50YXJnZXQgPT09ICdvcGVuQXBpMycpIHtcbiAgICAgICAgY29uc3QgYmFzZSA9IHBhcnNlRGVmKGRlZi5pbm5lclR5cGUuX2RlZiwge1xuICAgICAgICAgICAgLi4ucmVmcyxcbiAgICAgICAgICAgIGN1cnJlbnRQYXRoOiBbLi4ucmVmcy5jdXJyZW50UGF0aF0sXG4gICAgICAgIH0pO1xuICAgICAgICBpZiAoYmFzZSAmJiAnJHJlZicgaW4gYmFzZSlcbiAgICAgICAgICAgIHJldHVybiB7IGFsbE9mOiBbYmFzZV0sIG51bGxhYmxlOiB0cnVlIH07XG4gICAgICAgIHJldHVybiBiYXNlICYmIHsgLi4uYmFzZSwgbnVsbGFibGU6IHRydWUgfTtcbiAgICB9XG4gICAgY29uc3QgYmFzZSA9IHBhcnNlRGVmKGRlZi5pbm5lclR5cGUuX2RlZiwge1xuICAgICAgICAuLi5yZWZzLFxuICAgICAgICBjdXJyZW50UGF0aDogWy4uLnJlZnMuY3VycmVudFBhdGgsICdhbnlPZicsICcwJ10sXG4gICAgfSk7XG4gICAgcmV0dXJuIGJhc2UgJiYgeyBhbnlPZjogW2Jhc2UsIHsgdHlwZTogJ251bGwnIH1dIH07XG59XG4vLyMgc291cmNlTWFwcGluZ1VSTD1udWxsYWJsZS5tanMubWFwIiwiaW1wb3J0IHsgYWRkRXJyb3JNZXNzYWdlLCBzZXRSZXNwb25zZVZhbHVlQW5kRXJyb3JzIH0gZnJvbSBcIi4uL2Vycm9yTWVzc2FnZXMubWpzXCI7XG5leHBvcnQgZnVuY3Rpb24gcGFyc2VOdW1iZXJEZWYoZGVmLCByZWZzKSB7XG4gICAgY29uc3QgcmVzID0ge1xuICAgICAgICB0eXBlOiAnbnVtYmVyJyxcbiAgICB9O1xuICAgIGlmICghZGVmLmNoZWNrcylcbiAgICAgICAgcmV0dXJuIHJlcztcbiAgICBmb3IgKGNvbnN0IGNoZWNrIG9mIGRlZi5jaGVja3MpIHtcbiAgICAgICAgc3dpdGNoIChjaGVjay5raW5kKSB7XG4gICAgICAgICAgICBjYXNlICdpbnQnOlxuICAgICAgICAgICAgICAgIHJlcy50eXBlID0gJ2ludGVnZXInO1xuICAgICAgICAgICAgICAgIGFkZEVycm9yTWVzc2FnZShyZXMsICd0eXBlJywgY2hlY2subWVzc2FnZSwgcmVmcyk7XG4gICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICBjYXNlICdtaW4nOlxuICAgICAgICAgICAgICAgIGlmIChyZWZzLnRhcmdldCA9PT0gJ2pzb25TY2hlbWE3Jykge1xuICAgICAgICAgICAgICAgICAgICBpZiAoY2hlY2suaW5jbHVzaXZlKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBzZXRSZXNwb25zZVZhbHVlQW5kRXJyb3JzKHJlcywgJ21pbmltdW0nLCBjaGVjay52YWx1ZSwgY2hlY2subWVzc2FnZSwgcmVmcyk7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBzZXRSZXNwb25zZVZhbHVlQW5kRXJyb3JzKHJlcywgJ2V4Y2x1c2l2ZU1pbmltdW0nLCBjaGVjay52YWx1ZSwgY2hlY2subWVzc2FnZSwgcmVmcyk7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgIGlmICghY2hlY2suaW5jbHVzaXZlKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICByZXMuZXhjbHVzaXZlTWluaW11bSA9IHRydWU7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgc2V0UmVzcG9uc2VWYWx1ZUFuZEVycm9ycyhyZXMsICdtaW5pbXVtJywgY2hlY2sudmFsdWUsIGNoZWNrLm1lc3NhZ2UsIHJlZnMpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgIGNhc2UgJ21heCc6XG4gICAgICAgICAgICAgICAgaWYgKHJlZnMudGFyZ2V0ID09PSAnanNvblNjaGVtYTcnKSB7XG4gICAgICAgICAgICAgICAgICAgIGlmIChjaGVjay5pbmNsdXNpdmUpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHNldFJlc3BvbnNlVmFsdWVBbmRFcnJvcnMocmVzLCAnbWF4aW11bScsIGNoZWNrLnZhbHVlLCBjaGVjay5tZXNzYWdlLCByZWZzKTtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHNldFJlc3BvbnNlVmFsdWVBbmRFcnJvcnMocmVzLCAnZXhjbHVzaXZlTWF4aW11bScsIGNoZWNrLnZhbHVlLCBjaGVjay5tZXNzYWdlLCByZWZzKTtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgaWYgKCFjaGVjay5pbmNsdXNpdmUpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHJlcy5leGNsdXNpdmVNYXhpbXVtID0gdHJ1ZTtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICBzZXRSZXNwb25zZVZhbHVlQW5kRXJyb3JzKHJlcywgJ21heGltdW0nLCBjaGVjay52YWx1ZSwgY2hlY2subWVzc2FnZSwgcmVmcyk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgY2FzZSAnbXVsdGlwbGVPZic6XG4gICAgICAgICAgICAgICAgc2V0UmVzcG9uc2VWYWx1ZUFuZEVycm9ycyhyZXMsICdtdWx0aXBsZU9mJywgY2hlY2sudmFsdWUsIGNoZWNrLm1lc3NhZ2UsIHJlZnMpO1xuICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICB9XG4gICAgfVxuICAgIHJldHVybiByZXM7XG59XG4vLyMgc291cmNlTWFwcGluZ1VSTD1udW1iZXIubWpzLm1hcCIsImltcG9ydCB7IHBhcnNlRGVmIH0gZnJvbSBcIi4uL3BhcnNlRGVmLm1qc1wiO1xuZnVuY3Rpb24gZGVjaWRlQWRkaXRpb25hbFByb3BlcnRpZXMoZGVmLCByZWZzKSB7XG4gICAgaWYgKHJlZnMucmVtb3ZlQWRkaXRpb25hbFN0cmF0ZWd5ID09PSAnc3RyaWN0Jykge1xuICAgICAgICByZXR1cm4gZGVmLmNhdGNoYWxsLl9kZWYudHlwZU5hbWUgPT09ICdab2ROZXZlcicgP1xuICAgICAgICAgICAgZGVmLnVua25vd25LZXlzICE9PSAnc3RyaWN0J1xuICAgICAgICAgICAgOiBwYXJzZURlZihkZWYuY2F0Y2hhbGwuX2RlZiwge1xuICAgICAgICAgICAgICAgIC4uLnJlZnMsXG4gICAgICAgICAgICAgICAgY3VycmVudFBhdGg6IFsuLi5yZWZzLmN1cnJlbnRQYXRoLCAnYWRkaXRpb25hbFByb3BlcnRpZXMnXSxcbiAgICAgICAgICAgIH0pID8/IHRydWU7XG4gICAgfVxuICAgIGVsc2Uge1xuICAgICAgICByZXR1cm4gZGVmLmNhdGNoYWxsLl9kZWYudHlwZU5hbWUgPT09ICdab2ROZXZlcicgP1xuICAgICAgICAgICAgZGVmLnVua25vd25LZXlzID09PSAncGFzc3Rocm91Z2gnXG4gICAgICAgICAgICA6IHBhcnNlRGVmKGRlZi5jYXRjaGFsbC5fZGVmLCB7XG4gICAgICAgICAgICAgICAgLi4ucmVmcyxcbiAgICAgICAgICAgICAgICBjdXJyZW50UGF0aDogWy4uLnJlZnMuY3VycmVudFBhdGgsICdhZGRpdGlvbmFsUHJvcGVydGllcyddLFxuICAgICAgICAgICAgfSkgPz8gdHJ1ZTtcbiAgICB9XG59XG5leHBvcnQgZnVuY3Rpb24gcGFyc2VPYmplY3REZWYoZGVmLCByZWZzKSB7XG4gICAgY29uc3QgcmVzdWx0ID0ge1xuICAgICAgICB0eXBlOiAnb2JqZWN0JyxcbiAgICAgICAgLi4uT2JqZWN0LmVudHJpZXMoZGVmLnNoYXBlKCkpLnJlZHVjZSgoYWNjLCBbcHJvcE5hbWUsIHByb3BEZWZdKSA9PiB7XG4gICAgICAgICAgICBpZiAocHJvcERlZiA9PT0gdW5kZWZpbmVkIHx8IHByb3BEZWYuX2RlZiA9PT0gdW5kZWZpbmVkKVxuICAgICAgICAgICAgICAgIHJldHVybiBhY2M7XG4gICAgICAgICAgICBjb25zdCBwcm9wZXJ0eVBhdGggPSBbLi4ucmVmcy5jdXJyZW50UGF0aCwgJ3Byb3BlcnRpZXMnLCBwcm9wTmFtZV07XG4gICAgICAgICAgICBjb25zdCBwYXJzZWREZWYgPSBwYXJzZURlZihwcm9wRGVmLl9kZWYsIHtcbiAgICAgICAgICAgICAgICAuLi5yZWZzLFxuICAgICAgICAgICAgICAgIGN1cnJlbnRQYXRoOiBwcm9wZXJ0eVBhdGgsXG4gICAgICAgICAgICAgICAgcHJvcGVydHlQYXRoLFxuICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICBpZiAocGFyc2VkRGVmID09PSB1bmRlZmluZWQpXG4gICAgICAgICAgICAgICAgcmV0dXJuIGFjYztcbiAgICAgICAgICAgIGlmIChyZWZzLm9wZW5haVN0cmljdE1vZGUgJiZcbiAgICAgICAgICAgICAgICBwcm9wRGVmLmlzT3B0aW9uYWwoKSAmJlxuICAgICAgICAgICAgICAgICFwcm9wRGVmLmlzTnVsbGFibGUoKSAmJlxuICAgICAgICAgICAgICAgIHR5cGVvZiBwcm9wRGVmLl9kZWY/LmRlZmF1bHRWYWx1ZSA9PT0gJ3VuZGVmaW5lZCcpIHtcbiAgICAgICAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoYFpvZCBmaWVsZCBhdCBcXGAke3Byb3BlcnR5UGF0aC5qb2luKCcvJyl9XFxgIHVzZXMgXFxgLm9wdGlvbmFsKClcXGAgd2l0aG91dCBcXGAubnVsbGFibGUoKVxcYCB3aGljaCBpcyBub3Qgc3VwcG9ydGVkIGJ5IHRoZSBBUEkuIFNlZTogaHR0cHM6Ly9wbGF0Zm9ybS5vcGVuYWkuY29tL2RvY3MvZ3VpZGVzL3N0cnVjdHVyZWQtb3V0cHV0cz9hcGktbW9kZT1yZXNwb25zZXMjYWxsLWZpZWxkcy1tdXN0LWJlLXJlcXVpcmVkYCk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICByZXR1cm4ge1xuICAgICAgICAgICAgICAgIHByb3BlcnRpZXM6IHtcbiAgICAgICAgICAgICAgICAgICAgLi4uYWNjLnByb3BlcnRpZXMsXG4gICAgICAgICAgICAgICAgICAgIFtwcm9wTmFtZV06IHBhcnNlZERlZixcbiAgICAgICAgICAgICAgICB9LFxuICAgICAgICAgICAgICAgIHJlcXVpcmVkOiBwcm9wRGVmLmlzT3B0aW9uYWwoKSAmJiAhcmVmcy5vcGVuYWlTdHJpY3RNb2RlID8gYWNjLnJlcXVpcmVkIDogWy4uLmFjYy5yZXF1aXJlZCwgcHJvcE5hbWVdLFxuICAgICAgICAgICAgfTtcbiAgICAgICAgfSwgeyBwcm9wZXJ0aWVzOiB7fSwgcmVxdWlyZWQ6IFtdIH0pLFxuICAgICAgICBhZGRpdGlvbmFsUHJvcGVydGllczogZGVjaWRlQWRkaXRpb25hbFByb3BlcnRpZXMoZGVmLCByZWZzKSxcbiAgICB9O1xuICAgIGlmICghcmVzdWx0LnJlcXVpcmVkLmxlbmd0aClcbiAgICAgICAgZGVsZXRlIHJlc3VsdC5yZXF1aXJlZDtcbiAgICByZXR1cm4gcmVzdWx0O1xufVxuLy8jIHNvdXJjZU1hcHBpbmdVUkw9b2JqZWN0Lm1qcy5tYXAiLCJpbXBvcnQgeyBwYXJzZURlZiB9IGZyb20gXCIuLi9wYXJzZURlZi5tanNcIjtcbmV4cG9ydCBjb25zdCBwYXJzZU9wdGlvbmFsRGVmID0gKGRlZiwgcmVmcykgPT4ge1xuICAgIGlmIChyZWZzLnByb3BlcnR5UGF0aCAmJlxuICAgICAgICByZWZzLmN1cnJlbnRQYXRoLnNsaWNlKDAsIHJlZnMucHJvcGVydHlQYXRoLmxlbmd0aCkudG9TdHJpbmcoKSA9PT0gcmVmcy5wcm9wZXJ0eVBhdGgudG9TdHJpbmcoKSkge1xuICAgICAgICByZXR1cm4gcGFyc2VEZWYoZGVmLmlubmVyVHlwZS5fZGVmLCB7IC4uLnJlZnMsIGN1cnJlbnRQYXRoOiByZWZzLmN1cnJlbnRQYXRoIH0pO1xuICAgIH1cbiAgICBjb25zdCBpbm5lclNjaGVtYSA9IHBhcnNlRGVmKGRlZi5pbm5lclR5cGUuX2RlZiwge1xuICAgICAgICAuLi5yZWZzLFxuICAgICAgICBjdXJyZW50UGF0aDogWy4uLnJlZnMuY3VycmVudFBhdGgsICdhbnlPZicsICcxJ10sXG4gICAgfSk7XG4gICAgcmV0dXJuIGlubmVyU2NoZW1hID9cbiAgICAgICAge1xuICAgICAgICAgICAgYW55T2Y6IFtcbiAgICAgICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgICAgIG5vdDoge30sXG4gICAgICAgICAgICAgICAgfSxcbiAgICAgICAgICAgICAgICBpbm5lclNjaGVtYSxcbiAgICAgICAgICAgIF0sXG4gICAgICAgIH1cbiAgICAgICAgOiB7fTtcbn07XG4vLyMgc291cmNlTWFwcGluZ1VSTD1vcHRpb25hbC5tanMubWFwIiwiaW1wb3J0IHsgcGFyc2VEZWYgfSBmcm9tIFwiLi4vcGFyc2VEZWYubWpzXCI7XG5leHBvcnQgY29uc3QgcGFyc2VQaXBlbGluZURlZiA9IChkZWYsIHJlZnMpID0+IHtcbiAgICBpZiAocmVmcy5waXBlU3RyYXRlZ3kgPT09ICdpbnB1dCcpIHtcbiAgICAgICAgcmV0dXJuIHBhcnNlRGVmKGRlZi5pbi5fZGVmLCByZWZzKTtcbiAgICB9XG4gICAgZWxzZSBpZiAocmVmcy5waXBlU3RyYXRlZ3kgPT09ICdvdXRwdXQnKSB7XG4gICAgICAgIHJldHVybiBwYXJzZURlZihkZWYub3V0Ll9kZWYsIHJlZnMpO1xuICAgIH1cbiAgICBjb25zdCBhID0gcGFyc2VEZWYoZGVmLmluLl9kZWYsIHtcbiAgICAgICAgLi4ucmVmcyxcbiAgICAgICAgY3VycmVudFBhdGg6IFsuLi5yZWZzLmN1cnJlbnRQYXRoLCAnYWxsT2YnLCAnMCddLFxuICAgIH0pO1xuICAgIGNvbnN0IGIgPSBwYXJzZURlZihkZWYub3V0Ll9kZWYsIHtcbiAgICAgICAgLi4ucmVmcyxcbiAgICAgICAgY3VycmVudFBhdGg6IFsuLi5yZWZzLmN1cnJlbnRQYXRoLCAnYWxsT2YnLCBhID8gJzEnIDogJzAnXSxcbiAgICB9KTtcbiAgICByZXR1cm4ge1xuICAgICAgICBhbGxPZjogW2EsIGJdLmZpbHRlcigoeCkgPT4geCAhPT0gdW5kZWZpbmVkKSxcbiAgICB9O1xufTtcbi8vIyBzb3VyY2VNYXBwaW5nVVJMPXBpcGVsaW5lLm1qcy5tYXAiLCJpbXBvcnQgeyBwYXJzZURlZiB9IGZyb20gXCIuLi9wYXJzZURlZi5tanNcIjtcbmV4cG9ydCBmdW5jdGlvbiBwYXJzZVByb21pc2VEZWYoZGVmLCByZWZzKSB7XG4gICAgcmV0dXJuIHBhcnNlRGVmKGRlZi50eXBlLl9kZWYsIHJlZnMpO1xufVxuLy8jIHNvdXJjZU1hcHBpbmdVUkw9cHJvbWlzZS5tanMubWFwIiwiaW1wb3J0IHsgc2V0UmVzcG9uc2VWYWx1ZUFuZEVycm9ycyB9IGZyb20gXCIuLi9lcnJvck1lc3NhZ2VzLm1qc1wiO1xuaW1wb3J0IHsgcGFyc2VEZWYgfSBmcm9tIFwiLi4vcGFyc2VEZWYubWpzXCI7XG5leHBvcnQgZnVuY3Rpb24gcGFyc2VTZXREZWYoZGVmLCByZWZzKSB7XG4gICAgY29uc3QgaXRlbXMgPSBwYXJzZURlZihkZWYudmFsdWVUeXBlLl9kZWYsIHtcbiAgICAgICAgLi4ucmVmcyxcbiAgICAgICAgY3VycmVudFBhdGg6IFsuLi5yZWZzLmN1cnJlbnRQYXRoLCAnaXRlbXMnXSxcbiAgICB9KTtcbiAgICBjb25zdCBzY2hlbWEgPSB7XG4gICAgICAgIHR5cGU6ICdhcnJheScsXG4gICAgICAgIHVuaXF1ZUl0ZW1zOiB0cnVlLFxuICAgICAgICBpdGVtcyxcbiAgICB9O1xuICAgIGlmIChkZWYubWluU2l6ZSkge1xuICAgICAgICBzZXRSZXNwb25zZVZhbHVlQW5kRXJyb3JzKHNjaGVtYSwgJ21pbkl0ZW1zJywgZGVmLm1pblNpemUudmFsdWUsIGRlZi5taW5TaXplLm1lc3NhZ2UsIHJlZnMpO1xuICAgIH1cbiAgICBpZiAoZGVmLm1heFNpemUpIHtcbiAgICAgICAgc2V0UmVzcG9uc2VWYWx1ZUFuZEVycm9ycyhzY2hlbWEsICdtYXhJdGVtcycsIGRlZi5tYXhTaXplLnZhbHVlLCBkZWYubWF4U2l6ZS5tZXNzYWdlLCByZWZzKTtcbiAgICB9XG4gICAgcmV0dXJuIHNjaGVtYTtcbn1cbi8vIyBzb3VyY2VNYXBwaW5nVVJMPXNldC5tanMubWFwIiwiaW1wb3J0IHsgcGFyc2VEZWYgfSBmcm9tIFwiLi4vcGFyc2VEZWYubWpzXCI7XG5leHBvcnQgZnVuY3Rpb24gcGFyc2VUdXBsZURlZihkZWYsIHJlZnMpIHtcbiAgICBpZiAoZGVmLnJlc3QpIHtcbiAgICAgICAgcmV0dXJuIHtcbiAgICAgICAgICAgIHR5cGU6ICdhcnJheScsXG4gICAgICAgICAgICBtaW5JdGVtczogZGVmLml0ZW1zLmxlbmd0aCxcbiAgICAgICAgICAgIGl0ZW1zOiBkZWYuaXRlbXNcbiAgICAgICAgICAgICAgICAubWFwKCh4LCBpKSA9PiBwYXJzZURlZih4Ll9kZWYsIHtcbiAgICAgICAgICAgICAgICAuLi5yZWZzLFxuICAgICAgICAgICAgICAgIGN1cnJlbnRQYXRoOiBbLi4ucmVmcy5jdXJyZW50UGF0aCwgJ2l0ZW1zJywgYCR7aX1gXSxcbiAgICAgICAgICAgIH0pKVxuICAgICAgICAgICAgICAgIC5yZWR1Y2UoKGFjYywgeCkgPT4gKHggPT09IHVuZGVmaW5lZCA/IGFjYyA6IFsuLi5hY2MsIHhdKSwgW10pLFxuICAgICAgICAgICAgYWRkaXRpb25hbEl0ZW1zOiBwYXJzZURlZihkZWYucmVzdC5fZGVmLCB7XG4gICAgICAgICAgICAgICAgLi4ucmVmcyxcbiAgICAgICAgICAgICAgICBjdXJyZW50UGF0aDogWy4uLnJlZnMuY3VycmVudFBhdGgsICdhZGRpdGlvbmFsSXRlbXMnXSxcbiAgICAgICAgICAgIH0pLFxuICAgICAgICB9O1xuICAgIH1cbiAgICBlbHNlIHtcbiAgICAgICAgcmV0dXJuIHtcbiAgICAgICAgICAgIHR5cGU6ICdhcnJheScsXG4gICAgICAgICAgICBtaW5JdGVtczogZGVmLml0ZW1zLmxlbmd0aCxcbiAgICAgICAgICAgIG1heEl0ZW1zOiBkZWYuaXRlbXMubGVuZ3RoLFxuICAgICAgICAgICAgaXRlbXM6IGRlZi5pdGVtc1xuICAgICAgICAgICAgICAgIC5tYXAoKHgsIGkpID0+IHBhcnNlRGVmKHguX2RlZiwge1xuICAgICAgICAgICAgICAgIC4uLnJlZnMsXG4gICAgICAgICAgICAgICAgY3VycmVudFBhdGg6IFsuLi5yZWZzLmN1cnJlbnRQYXRoLCAnaXRlbXMnLCBgJHtpfWBdLFxuICAgICAgICAgICAgfSkpXG4gICAgICAgICAgICAgICAgLnJlZHVjZSgoYWNjLCB4KSA9PiAoeCA9PT0gdW5kZWZpbmVkID8gYWNjIDogWy4uLmFjYywgeF0pLCBbXSksXG4gICAgICAgIH07XG4gICAgfVxufVxuLy8jIHNvdXJjZU1hcHBpbmdVUkw9dHVwbGUubWpzLm1hcCIsImV4cG9ydCBmdW5jdGlvbiBwYXJzZVVuZGVmaW5lZERlZigpIHtcbiAgICByZXR1cm4ge1xuICAgICAgICBub3Q6IHt9LFxuICAgIH07XG59XG4vLyMgc291cmNlTWFwcGluZ1VSTD11bmRlZmluZWQubWpzLm1hcCIsImV4cG9ydCBmdW5jdGlvbiBwYXJzZVVua25vd25EZWYoKSB7XG4gICAgcmV0dXJuIHt9O1xufVxuLy8jIHNvdXJjZU1hcHBpbmdVUkw9dW5rbm93bi5tanMubWFwIiwiaW1wb3J0IHsgcGFyc2VEZWYgfSBmcm9tIFwiLi4vcGFyc2VEZWYubWpzXCI7XG5leHBvcnQgY29uc3QgcGFyc2VSZWFkb25seURlZiA9IChkZWYsIHJlZnMpID0+IHtcbiAgICByZXR1cm4gcGFyc2VEZWYoZGVmLmlubmVyVHlwZS5fZGVmLCByZWZzKTtcbn07XG4vLyMgc291cmNlTWFwcGluZ1VSTD1yZWFkb25seS5tanMubWFwIiwiaW1wb3J0IHsgWm9kRmlyc3RQYXJ0eVR5cGVLaW5kIH0gZnJvbSAnem9kL3YzJztcbmltcG9ydCB7IHBhcnNlQW55RGVmIH0gZnJvbSBcIi4vcGFyc2Vycy9hbnkubWpzXCI7XG5pbXBvcnQgeyBwYXJzZUFycmF5RGVmIH0gZnJvbSBcIi4vcGFyc2Vycy9hcnJheS5tanNcIjtcbmltcG9ydCB7IHBhcnNlQmlnaW50RGVmIH0gZnJvbSBcIi4vcGFyc2Vycy9iaWdpbnQubWpzXCI7XG5pbXBvcnQgeyBwYXJzZUJvb2xlYW5EZWYgfSBmcm9tIFwiLi9wYXJzZXJzL2Jvb2xlYW4ubWpzXCI7XG5pbXBvcnQgeyBwYXJzZUJyYW5kZWREZWYgfSBmcm9tIFwiLi9wYXJzZXJzL2JyYW5kZWQubWpzXCI7XG5pbXBvcnQgeyBwYXJzZUNhdGNoRGVmIH0gZnJvbSBcIi4vcGFyc2Vycy9jYXRjaC5tanNcIjtcbmltcG9ydCB7IHBhcnNlRGF0ZURlZiB9IGZyb20gXCIuL3BhcnNlcnMvZGF0ZS5tanNcIjtcbmltcG9ydCB7IHBhcnNlRGVmYXVsdERlZiB9IGZyb20gXCIuL3BhcnNlcnMvZGVmYXVsdC5tanNcIjtcbmltcG9ydCB7IHBhcnNlRWZmZWN0c0RlZiB9IGZyb20gXCIuL3BhcnNlcnMvZWZmZWN0cy5tanNcIjtcbmltcG9ydCB7IHBhcnNlRW51bURlZiB9IGZyb20gXCIuL3BhcnNlcnMvZW51bS5tanNcIjtcbmltcG9ydCB7IHBhcnNlSW50ZXJzZWN0aW9uRGVmIH0gZnJvbSBcIi4vcGFyc2Vycy9pbnRlcnNlY3Rpb24ubWpzXCI7XG5pbXBvcnQgeyBwYXJzZUxpdGVyYWxEZWYgfSBmcm9tIFwiLi9wYXJzZXJzL2xpdGVyYWwubWpzXCI7XG5pbXBvcnQgeyBwYXJzZU1hcERlZiB9IGZyb20gXCIuL3BhcnNlcnMvbWFwLm1qc1wiO1xuaW1wb3J0IHsgcGFyc2VOYXRpdmVFbnVtRGVmIH0gZnJvbSBcIi4vcGFyc2Vycy9uYXRpdmVFbnVtLm1qc1wiO1xuaW1wb3J0IHsgcGFyc2VOZXZlckRlZiB9IGZyb20gXCIuL3BhcnNlcnMvbmV2ZXIubWpzXCI7XG5pbXBvcnQgeyBwYXJzZU51bGxEZWYgfSBmcm9tIFwiLi9wYXJzZXJzL251bGwubWpzXCI7XG5pbXBvcnQgeyBwYXJzZU51bGxhYmxlRGVmIH0gZnJvbSBcIi4vcGFyc2Vycy9udWxsYWJsZS5tanNcIjtcbmltcG9ydCB7IHBhcnNlTnVtYmVyRGVmIH0gZnJvbSBcIi4vcGFyc2Vycy9udW1iZXIubWpzXCI7XG5pbXBvcnQgeyBwYXJzZU9iamVjdERlZiB9IGZyb20gXCIuL3BhcnNlcnMvb2JqZWN0Lm1qc1wiO1xuaW1wb3J0IHsgcGFyc2VPcHRpb25hbERlZiB9IGZyb20gXCIuL3BhcnNlcnMvb3B0aW9uYWwubWpzXCI7XG5pbXBvcnQgeyBwYXJzZVBpcGVsaW5lRGVmIH0gZnJvbSBcIi4vcGFyc2Vycy9waXBlbGluZS5tanNcIjtcbmltcG9ydCB7IHBhcnNlUHJvbWlzZURlZiB9IGZyb20gXCIuL3BhcnNlcnMvcHJvbWlzZS5tanNcIjtcbmltcG9ydCB7IHBhcnNlUmVjb3JkRGVmIH0gZnJvbSBcIi4vcGFyc2Vycy9yZWNvcmQubWpzXCI7XG5pbXBvcnQgeyBwYXJzZVNldERlZiB9IGZyb20gXCIuL3BhcnNlcnMvc2V0Lm1qc1wiO1xuaW1wb3J0IHsgcGFyc2VTdHJpbmdEZWYgfSBmcm9tIFwiLi9wYXJzZXJzL3N0cmluZy5tanNcIjtcbmltcG9ydCB7IHBhcnNlVHVwbGVEZWYgfSBmcm9tIFwiLi9wYXJzZXJzL3R1cGxlLm1qc1wiO1xuaW1wb3J0IHsgcGFyc2VVbmRlZmluZWREZWYgfSBmcm9tIFwiLi9wYXJzZXJzL3VuZGVmaW5lZC5tanNcIjtcbmltcG9ydCB7IHBhcnNlVW5pb25EZWYgfSBmcm9tIFwiLi9wYXJzZXJzL3VuaW9uLm1qc1wiO1xuaW1wb3J0IHsgcGFyc2VVbmtub3duRGVmIH0gZnJvbSBcIi4vcGFyc2Vycy91bmtub3duLm1qc1wiO1xuaW1wb3J0IHsgcGFyc2VSZWFkb25seURlZiB9IGZyb20gXCIuL3BhcnNlcnMvcmVhZG9ubHkubWpzXCI7XG5pbXBvcnQgeyBpZ25vcmVPdmVycmlkZSB9IGZyb20gXCIuL09wdGlvbnMubWpzXCI7XG5leHBvcnQgZnVuY3Rpb24gcGFyc2VEZWYoZGVmLCByZWZzLCBmb3JjZVJlc29sdXRpb24gPSBmYWxzZSkge1xuICAgIGNvbnN0IHNlZW5JdGVtID0gcmVmcy5zZWVuLmdldChkZWYpO1xuICAgIGlmIChyZWZzLm92ZXJyaWRlKSB7XG4gICAgICAgIGNvbnN0IG92ZXJyaWRlUmVzdWx0ID0gcmVmcy5vdmVycmlkZT8uKGRlZiwgcmVmcywgc2Vlbkl0ZW0sIGZvcmNlUmVzb2x1dGlvbik7XG4gICAgICAgIGlmIChvdmVycmlkZVJlc3VsdCAhPT0gaWdub3JlT3ZlcnJpZGUpIHtcbiAgICAgICAgICAgIHJldHVybiBvdmVycmlkZVJlc3VsdDtcbiAgICAgICAgfVxuICAgIH1cbiAgICBpZiAoc2Vlbkl0ZW0gJiYgIWZvcmNlUmVzb2x1dGlvbikge1xuICAgICAgICBjb25zdCBzZWVuU2NoZW1hID0gZ2V0JHJlZihzZWVuSXRlbSwgcmVmcyk7XG4gICAgICAgIGlmIChzZWVuU2NoZW1hICE9PSB1bmRlZmluZWQpIHtcbiAgICAgICAgICAgIGlmICgnJHJlZicgaW4gc2VlblNjaGVtYSkge1xuICAgICAgICAgICAgICAgIHJlZnMuc2VlblJlZnMuYWRkKHNlZW5TY2hlbWEuJHJlZik7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICByZXR1cm4gc2VlblNjaGVtYTtcbiAgICAgICAgfVxuICAgIH1cbiAgICBjb25zdCBuZXdJdGVtID0geyBkZWYsIHBhdGg6IHJlZnMuY3VycmVudFBhdGgsIGpzb25TY2hlbWE6IHVuZGVmaW5lZCB9O1xuICAgIHJlZnMuc2Vlbi5zZXQoZGVmLCBuZXdJdGVtKTtcbiAgICBjb25zdCBqc29uU2NoZW1hID0gc2VsZWN0UGFyc2VyKGRlZiwgZGVmLnR5cGVOYW1lLCByZWZzLCBmb3JjZVJlc29sdXRpb24pO1xuICAgIGlmIChqc29uU2NoZW1hKSB7XG4gICAgICAgIGFkZE1ldGEoZGVmLCByZWZzLCBqc29uU2NoZW1hKTtcbiAgICB9XG4gICAgbmV3SXRlbS5qc29uU2NoZW1hID0ganNvblNjaGVtYTtcbiAgICByZXR1cm4ganNvblNjaGVtYTtcbn1cbmNvbnN0IGdldCRyZWYgPSAoaXRlbSwgcmVmcykgPT4ge1xuICAgIHN3aXRjaCAocmVmcy4kcmVmU3RyYXRlZ3kpIHtcbiAgICAgICAgY2FzZSAncm9vdCc6XG4gICAgICAgICAgICByZXR1cm4geyAkcmVmOiBpdGVtLnBhdGguam9pbignLycpIH07XG4gICAgICAgIC8vIHRoaXMgY2FzZSBpcyBuZWVkZWQgYXMgT3BlbkFJIHN0cmljdCBtb2RlIGRvZXNuJ3Qgc3VwcG9ydCB0b3AtbGV2ZWwgYCRyZWZgcywgaS5lLlxuICAgICAgICAvLyB0aGUgdG9wLWxldmVsIHNjaGVtYSAqbXVzdCogYmUgYHtcInR5cGVcIjogXCJvYmplY3RcIiwgXCJwcm9wZXJ0aWVzXCI6IHsuLi59fWAgYnV0IGlmIHdlIGV2ZXJcbiAgICAgICAgLy8gbmVlZCB0byBkZWZpbmUgYSBgJHJlZmAsIHJlbGF0aXZlIGAkcmVmYHMgYXJlbid0IHN1cHBvcnRlZCwgc28gd2UgbmVlZCB0byBleHRyYWN0XG4gICAgICAgIC8vIHRoZSBzY2hlbWEgdG8gYCMvZGVmaW5pdGlvbnMvYCBhbmQgcmVmZXJlbmNlIHRoYXQuXG4gICAgICAgIC8vXG4gICAgICAgIC8vIGUuZy4gaWYgd2UgbmVlZCB0byByZWZlcmVuY2UgYSBzY2hlbWEgYXRcbiAgICAgICAgLy8gYFtcIiNcIixcImRlZmluaXRpb25zXCIsXCJjb250YWN0UGVyc29uXCIsXCJwcm9wZXJ0aWVzXCIsXCJwZXJzb24xXCIsXCJwcm9wZXJ0aWVzXCIsXCJuYW1lXCJdYFxuICAgICAgICAvLyB0aGVuIHdlJ2xsIGV4dHJhY3QgaXQgb3V0IHRvIGBjb250YWN0UGVyc29uX3Byb3BlcnRpZXNfcGVyc29uMV9wcm9wZXJ0aWVzX25hbWVgXG4gICAgICAgIGNhc2UgJ2V4dHJhY3QtdG8tcm9vdCc6XG4gICAgICAgICAgICBjb25zdCBuYW1lID0gaXRlbS5wYXRoLnNsaWNlKHJlZnMuYmFzZVBhdGgubGVuZ3RoICsgMSkuam9pbignXycpO1xuICAgICAgICAgICAgLy8gd2UgZG9uJ3QgbmVlZCB0byBleHRyYWN0IHRoZSByb290IHNjaGVtYSBpbiB0aGlzIGNhc2UsIGFzIGl0J3MgYWxyZWFkeVxuICAgICAgICAgICAgLy8gYmVlbiBhZGRlZCB0byB0aGUgZGVmaW5pdGlvbnNcbiAgICAgICAgICAgIGlmIChuYW1lICE9PSByZWZzLm5hbWUgJiYgcmVmcy5uYW1lU3RyYXRlZ3kgPT09ICdkdXBsaWNhdGUtcmVmJykge1xuICAgICAgICAgICAgICAgIHJlZnMuZGVmaW5pdGlvbnNbbmFtZV0gPSBpdGVtLmRlZjtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHJldHVybiB7ICRyZWY6IFsuLi5yZWZzLmJhc2VQYXRoLCByZWZzLmRlZmluaXRpb25QYXRoLCBuYW1lXS5qb2luKCcvJykgfTtcbiAgICAgICAgY2FzZSAncmVsYXRpdmUnOlxuICAgICAgICAgICAgcmV0dXJuIHsgJHJlZjogZ2V0UmVsYXRpdmVQYXRoKHJlZnMuY3VycmVudFBhdGgsIGl0ZW0ucGF0aCkgfTtcbiAgICAgICAgY2FzZSAnbm9uZSc6XG4gICAgICAgIGNhc2UgJ3NlZW4nOiB7XG4gICAgICAgICAgICBpZiAoaXRlbS5wYXRoLmxlbmd0aCA8IHJlZnMuY3VycmVudFBhdGgubGVuZ3RoICYmXG4gICAgICAgICAgICAgICAgaXRlbS5wYXRoLmV2ZXJ5KCh2YWx1ZSwgaW5kZXgpID0+IHJlZnMuY3VycmVudFBhdGhbaW5kZXhdID09PSB2YWx1ZSkpIHtcbiAgICAgICAgICAgICAgICBjb25zb2xlLndhcm4oYFJlY3Vyc2l2ZSByZWZlcmVuY2UgZGV0ZWN0ZWQgYXQgJHtyZWZzLmN1cnJlbnRQYXRoLmpvaW4oJy8nKX0hIERlZmF1bHRpbmcgdG8gYW55YCk7XG4gICAgICAgICAgICAgICAgcmV0dXJuIHt9O1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgcmV0dXJuIHJlZnMuJHJlZlN0cmF0ZWd5ID09PSAnc2VlbicgPyB7fSA6IHVuZGVmaW5lZDtcbiAgICAgICAgfVxuICAgIH1cbn07XG5jb25zdCBnZXRSZWxhdGl2ZVBhdGggPSAocGF0aEEsIHBhdGhCKSA9PiB7XG4gICAgbGV0IGkgPSAwO1xuICAgIGZvciAoOyBpIDwgcGF0aEEubGVuZ3RoICYmIGkgPCBwYXRoQi5sZW5ndGg7IGkrKykge1xuICAgICAgICBpZiAocGF0aEFbaV0gIT09IHBhdGhCW2ldKVxuICAgICAgICAgICAgYnJlYWs7XG4gICAgfVxuICAgIHJldHVybiBbKHBhdGhBLmxlbmd0aCAtIGkpLnRvU3RyaW5nKCksIC4uLnBhdGhCLnNsaWNlKGkpXS5qb2luKCcvJyk7XG59O1xuY29uc3Qgc2VsZWN0UGFyc2VyID0gKGRlZiwgdHlwZU5hbWUsIHJlZnMsIGZvcmNlUmVzb2x1dGlvbikgPT4ge1xuICAgIHN3aXRjaCAodHlwZU5hbWUpIHtcbiAgICAgICAgY2FzZSBab2RGaXJzdFBhcnR5VHlwZUtpbmQuWm9kU3RyaW5nOlxuICAgICAgICAgICAgcmV0dXJuIHBhcnNlU3RyaW5nRGVmKGRlZiwgcmVmcyk7XG4gICAgICAgIGNhc2UgWm9kRmlyc3RQYXJ0eVR5cGVLaW5kLlpvZE51bWJlcjpcbiAgICAgICAgICAgIHJldHVybiBwYXJzZU51bWJlckRlZihkZWYsIHJlZnMpO1xuICAgICAgICBjYXNlIFpvZEZpcnN0UGFydHlUeXBlS2luZC5ab2RPYmplY3Q6XG4gICAgICAgICAgICByZXR1cm4gcGFyc2VPYmplY3REZWYoZGVmLCByZWZzKTtcbiAgICAgICAgY2FzZSBab2RGaXJzdFBhcnR5VHlwZUtpbmQuWm9kQmlnSW50OlxuICAgICAgICAgICAgcmV0dXJuIHBhcnNlQmlnaW50RGVmKGRlZiwgcmVmcyk7XG4gICAgICAgIGNhc2UgWm9kRmlyc3RQYXJ0eVR5cGVLaW5kLlpvZEJvb2xlYW46XG4gICAgICAgICAgICByZXR1cm4gcGFyc2VCb29sZWFuRGVmKCk7XG4gICAgICAgIGNhc2UgWm9kRmlyc3RQYXJ0eVR5cGVLaW5kLlpvZERhdGU6XG4gICAgICAgICAgICByZXR1cm4gcGFyc2VEYXRlRGVmKGRlZiwgcmVmcyk7XG4gICAgICAgIGNhc2UgWm9kRmlyc3RQYXJ0eVR5cGVLaW5kLlpvZFVuZGVmaW5lZDpcbiAgICAgICAgICAgIHJldHVybiBwYXJzZVVuZGVmaW5lZERlZigpO1xuICAgICAgICBjYXNlIFpvZEZpcnN0UGFydHlUeXBlS2luZC5ab2ROdWxsOlxuICAgICAgICAgICAgcmV0dXJuIHBhcnNlTnVsbERlZihyZWZzKTtcbiAgICAgICAgY2FzZSBab2RGaXJzdFBhcnR5VHlwZUtpbmQuWm9kQXJyYXk6XG4gICAgICAgICAgICByZXR1cm4gcGFyc2VBcnJheURlZihkZWYsIHJlZnMpO1xuICAgICAgICBjYXNlIFpvZEZpcnN0UGFydHlUeXBlS2luZC5ab2RVbmlvbjpcbiAgICAgICAgY2FzZSBab2RGaXJzdFBhcnR5VHlwZUtpbmQuWm9kRGlzY3JpbWluYXRlZFVuaW9uOlxuICAgICAgICAgICAgcmV0dXJuIHBhcnNlVW5pb25EZWYoZGVmLCByZWZzKTtcbiAgICAgICAgY2FzZSBab2RGaXJzdFBhcnR5VHlwZUtpbmQuWm9kSW50ZXJzZWN0aW9uOlxuICAgICAgICAgICAgcmV0dXJuIHBhcnNlSW50ZXJzZWN0aW9uRGVmKGRlZiwgcmVmcyk7XG4gICAgICAgIGNhc2UgWm9kRmlyc3RQYXJ0eVR5cGVLaW5kLlpvZFR1cGxlOlxuICAgICAgICAgICAgcmV0dXJuIHBhcnNlVHVwbGVEZWYoZGVmLCByZWZzKTtcbiAgICAgICAgY2FzZSBab2RGaXJzdFBhcnR5VHlwZUtpbmQuWm9kUmVjb3JkOlxuICAgICAgICAgICAgcmV0dXJuIHBhcnNlUmVjb3JkRGVmKGRlZiwgcmVmcyk7XG4gICAgICAgIGNhc2UgWm9kRmlyc3RQYXJ0eVR5cGVLaW5kLlpvZExpdGVyYWw6XG4gICAgICAgICAgICByZXR1cm4gcGFyc2VMaXRlcmFsRGVmKGRlZiwgcmVmcyk7XG4gICAgICAgIGNhc2UgWm9kRmlyc3RQYXJ0eVR5cGVLaW5kLlpvZEVudW06XG4gICAgICAgICAgICByZXR1cm4gcGFyc2VFbnVtRGVmKGRlZik7XG4gICAgICAgIGNhc2UgWm9kRmlyc3RQYXJ0eVR5cGVLaW5kLlpvZE5hdGl2ZUVudW06XG4gICAgICAgICAgICByZXR1cm4gcGFyc2VOYXRpdmVFbnVtRGVmKGRlZik7XG4gICAgICAgIGNhc2UgWm9kRmlyc3RQYXJ0eVR5cGVLaW5kLlpvZE51bGxhYmxlOlxuICAgICAgICAgICAgcmV0dXJuIHBhcnNlTnVsbGFibGVEZWYoZGVmLCByZWZzKTtcbiAgICAgICAgY2FzZSBab2RGaXJzdFBhcnR5VHlwZUtpbmQuWm9kT3B0aW9uYWw6XG4gICAgICAgICAgICByZXR1cm4gcGFyc2VPcHRpb25hbERlZihkZWYsIHJlZnMpO1xuICAgICAgICBjYXNlIFpvZEZpcnN0UGFydHlUeXBlS2luZC5ab2RNYXA6XG4gICAgICAgICAgICByZXR1cm4gcGFyc2VNYXBEZWYoZGVmLCByZWZzKTtcbiAgICAgICAgY2FzZSBab2RGaXJzdFBhcnR5VHlwZUtpbmQuWm9kU2V0OlxuICAgICAgICAgICAgcmV0dXJuIHBhcnNlU2V0RGVmKGRlZiwgcmVmcyk7XG4gICAgICAgIGNhc2UgWm9kRmlyc3RQYXJ0eVR5cGVLaW5kLlpvZExhenk6XG4gICAgICAgICAgICByZXR1cm4gcGFyc2VEZWYoZGVmLmdldHRlcigpLl9kZWYsIHJlZnMpO1xuICAgICAgICBjYXNlIFpvZEZpcnN0UGFydHlUeXBlS2luZC5ab2RQcm9taXNlOlxuICAgICAgICAgICAgcmV0dXJuIHBhcnNlUHJvbWlzZURlZihkZWYsIHJlZnMpO1xuICAgICAgICBjYXNlIFpvZEZpcnN0UGFydHlUeXBlS2luZC5ab2ROYU46XG4gICAgICAgIGNhc2UgWm9kRmlyc3RQYXJ0eVR5cGVLaW5kLlpvZE5ldmVyOlxuICAgICAgICAgICAgcmV0dXJuIHBhcnNlTmV2ZXJEZWYoKTtcbiAgICAgICAgY2FzZSBab2RGaXJzdFBhcnR5VHlwZUtpbmQuWm9kRWZmZWN0czpcbiAgICAgICAgICAgIHJldHVybiBwYXJzZUVmZmVjdHNEZWYoZGVmLCByZWZzLCBmb3JjZVJlc29sdXRpb24pO1xuICAgICAgICBjYXNlIFpvZEZpcnN0UGFydHlUeXBlS2luZC5ab2RBbnk6XG4gICAgICAgICAgICByZXR1cm4gcGFyc2VBbnlEZWYoKTtcbiAgICAgICAgY2FzZSBab2RGaXJzdFBhcnR5VHlwZUtpbmQuWm9kVW5rbm93bjpcbiAgICAgICAgICAgIHJldHVybiBwYXJzZVVua25vd25EZWYoKTtcbiAgICAgICAgY2FzZSBab2RGaXJzdFBhcnR5VHlwZUtpbmQuWm9kRGVmYXVsdDpcbiAgICAgICAgICAgIHJldHVybiBwYXJzZURlZmF1bHREZWYoZGVmLCByZWZzKTtcbiAgICAgICAgY2FzZSBab2RGaXJzdFBhcnR5VHlwZUtpbmQuWm9kQnJhbmRlZDpcbiAgICAgICAgICAgIHJldHVybiBwYXJzZUJyYW5kZWREZWYoZGVmLCByZWZzKTtcbiAgICAgICAgY2FzZSBab2RGaXJzdFBhcnR5VHlwZUtpbmQuWm9kUmVhZG9ubHk6XG4gICAgICAgICAgICByZXR1cm4gcGFyc2VSZWFkb25seURlZihkZWYsIHJlZnMpO1xuICAgICAgICBjYXNlIFpvZEZpcnN0UGFydHlUeXBlS2luZC5ab2RDYXRjaDpcbiAgICAgICAgICAgIHJldHVybiBwYXJzZUNhdGNoRGVmKGRlZiwgcmVmcyk7XG4gICAgICAgIGNhc2UgWm9kRmlyc3RQYXJ0eVR5cGVLaW5kLlpvZFBpcGVsaW5lOlxuICAgICAgICAgICAgcmV0dXJuIHBhcnNlUGlwZWxpbmVEZWYoZGVmLCByZWZzKTtcbiAgICAgICAgY2FzZSBab2RGaXJzdFBhcnR5VHlwZUtpbmQuWm9kRnVuY3Rpb246XG4gICAgICAgIGNhc2UgWm9kRmlyc3RQYXJ0eVR5cGVLaW5kLlpvZFZvaWQ6XG4gICAgICAgIGNhc2UgWm9kRmlyc3RQYXJ0eVR5cGVLaW5kLlpvZFN5bWJvbDpcbiAgICAgICAgICAgIHJldHVybiB1bmRlZmluZWQ7XG4gICAgICAgIGRlZmF1bHQ6XG4gICAgICAgICAgICByZXR1cm4gKChfKSA9PiB1bmRlZmluZWQpKHR5cGVOYW1lKTtcbiAgICB9XG59O1xuY29uc3QgYWRkTWV0YSA9IChkZWYsIHJlZnMsIGpzb25TY2hlbWEpID0+IHtcbiAgICBpZiAoZGVmLmRlc2NyaXB0aW9uKSB7XG4gICAgICAgIGpzb25TY2hlbWEuZGVzY3JpcHRpb24gPSBkZWYuZGVzY3JpcHRpb247XG4gICAgICAgIGlmIChyZWZzLm1hcmtkb3duRGVzY3JpcHRpb24pIHtcbiAgICAgICAgICAgIGpzb25TY2hlbWEubWFya2Rvd25EZXNjcmlwdGlvbiA9IGRlZi5kZXNjcmlwdGlvbjtcbiAgICAgICAgfVxuICAgIH1cbiAgICByZXR1cm4ganNvblNjaGVtYTtcbn07XG4vLyMgc291cmNlTWFwcGluZ1VSTD1wYXJzZURlZi5tanMubWFwIiwiaW1wb3J0IHsgcGFyc2VEZWYgfSBmcm9tIFwiLi9wYXJzZURlZi5tanNcIjtcbmltcG9ydCB7IGdldFJlZnMgfSBmcm9tIFwiLi9SZWZzLm1qc1wiO1xuaW1wb3J0IHsgem9kRGVmLCBpc0VtcHR5T2JqIH0gZnJvbSBcIi4vdXRpbC5tanNcIjtcbmNvbnN0IHpvZFRvSnNvblNjaGVtYSA9IChzY2hlbWEsIG9wdGlvbnMpID0+IHtcbiAgICBjb25zdCByZWZzID0gZ2V0UmVmcyhvcHRpb25zKTtcbiAgICBjb25zdCBuYW1lID0gdHlwZW9mIG9wdGlvbnMgPT09ICdzdHJpbmcnID8gb3B0aW9uc1xuICAgICAgICA6IG9wdGlvbnM/Lm5hbWVTdHJhdGVneSA9PT0gJ3RpdGxlJyA/IHVuZGVmaW5lZFxuICAgICAgICAgICAgOiBvcHRpb25zPy5uYW1lO1xuICAgIGNvbnN0IG1haW4gPSBwYXJzZURlZihzY2hlbWEuX2RlZiwgbmFtZSA9PT0gdW5kZWZpbmVkID8gcmVmcyA6ICh7XG4gICAgICAgIC4uLnJlZnMsXG4gICAgICAgIGN1cnJlbnRQYXRoOiBbLi4ucmVmcy5iYXNlUGF0aCwgcmVmcy5kZWZpbml0aW9uUGF0aCwgbmFtZV0sXG4gICAgfSksIGZhbHNlKSA/PyB7fTtcbiAgICBjb25zdCB0aXRsZSA9IHR5cGVvZiBvcHRpb25zID09PSAnb2JqZWN0JyAmJiBvcHRpb25zLm5hbWUgIT09IHVuZGVmaW5lZCAmJiBvcHRpb25zLm5hbWVTdHJhdGVneSA9PT0gJ3RpdGxlJyA/XG4gICAgICAgIG9wdGlvbnMubmFtZVxuICAgICAgICA6IHVuZGVmaW5lZDtcbiAgICBpZiAodGl0bGUgIT09IHVuZGVmaW5lZCkge1xuICAgICAgICBtYWluLnRpdGxlID0gdGl0bGU7XG4gICAgfVxuICAgIGNvbnN0IGRlZmluaXRpb25zID0gKCgpID0+IHtcbiAgICAgICAgaWYgKGlzRW1wdHlPYmoocmVmcy5kZWZpbml0aW9ucykpIHtcbiAgICAgICAgICAgIHJldHVybiB1bmRlZmluZWQ7XG4gICAgICAgIH1cbiAgICAgICAgY29uc3QgZGVmaW5pdGlvbnMgPSB7fTtcbiAgICAgICAgY29uc3QgcHJvY2Vzc2VkRGVmaW5pdGlvbnMgPSBuZXcgU2V0KCk7XG4gICAgICAgIC8vIHRoZSBjYWxsIHRvIGBwYXJzZURlZigpYCBoZXJlIG1pZ2h0IGl0c2VsZiBhZGQgbW9yZSBlbnRyaWVzIHRvIGAuZGVmaW5pdGlvbnNgXG4gICAgICAgIC8vIHNvIHdlIG5lZWQgdG8gY29udGludWFsbHkgZXZhbHVhdGUgZGVmaW5pdGlvbnMgdW50aWwgd2UndmUgcmVzb2x2ZWQgYWxsIG9mIHRoZW1cbiAgICAgICAgLy9cbiAgICAgICAgLy8gd2UgaGF2ZSBhIGdlbmVyb3VzIGl0ZXJhdGlvbiBsaW1pdCBoZXJlIHRvIGF2b2lkIGJsb3dpbmcgdXAgdGhlIHN0YWNrIGlmIHRoZXJlXG4gICAgICAgIC8vIGFyZSBhbnkgYnVncyB0aGF0IHdvdWxkIG90aGVyd2lzZSByZXN1bHQgaW4gdXMgaXRlcmF0aW5nIGluZGVmaW5pdGVseVxuICAgICAgICBmb3IgKGxldCBpID0gMDsgaSA8IDUwMDsgaSsrKSB7XG4gICAgICAgICAgICBjb25zdCBuZXdEZWZpbml0aW9ucyA9IE9iamVjdC5lbnRyaWVzKHJlZnMuZGVmaW5pdGlvbnMpLmZpbHRlcigoW2tleV0pID0+ICFwcm9jZXNzZWREZWZpbml0aW9ucy5oYXMoa2V5KSk7XG4gICAgICAgICAgICBpZiAobmV3RGVmaW5pdGlvbnMubGVuZ3RoID09PSAwKVxuICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgZm9yIChjb25zdCBba2V5LCBzY2hlbWFdIG9mIG5ld0RlZmluaXRpb25zKSB7XG4gICAgICAgICAgICAgICAgZGVmaW5pdGlvbnNba2V5XSA9XG4gICAgICAgICAgICAgICAgICAgIHBhcnNlRGVmKHpvZERlZihzY2hlbWEpLCB7IC4uLnJlZnMsIGN1cnJlbnRQYXRoOiBbLi4ucmVmcy5iYXNlUGF0aCwgcmVmcy5kZWZpbml0aW9uUGF0aCwga2V5XSB9LCB0cnVlKSA/PyB7fTtcbiAgICAgICAgICAgICAgICBwcm9jZXNzZWREZWZpbml0aW9ucy5hZGQoa2V5KTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gZGVmaW5pdGlvbnM7XG4gICAgfSkoKTtcbiAgICBjb25zdCBjb21iaW5lZCA9IG5hbWUgPT09IHVuZGVmaW5lZCA/XG4gICAgICAgIGRlZmluaXRpb25zID9cbiAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICAuLi5tYWluLFxuICAgICAgICAgICAgICAgIFtyZWZzLmRlZmluaXRpb25QYXRoXTogZGVmaW5pdGlvbnMsXG4gICAgICAgICAgICB9XG4gICAgICAgICAgICA6IG1haW5cbiAgICAgICAgOiByZWZzLm5hbWVTdHJhdGVneSA9PT0gJ2R1cGxpY2F0ZS1yZWYnID9cbiAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICAuLi5tYWluLFxuICAgICAgICAgICAgICAgIC4uLihkZWZpbml0aW9ucyB8fCByZWZzLnNlZW5SZWZzLnNpemUgP1xuICAgICAgICAgICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgICAgICAgICBbcmVmcy5kZWZpbml0aW9uUGF0aF06IHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAuLi5kZWZpbml0aW9ucyxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAvLyBvbmx5IGFjdHVhbGx5IGR1cGxpY2F0ZSB0aGUgc2NoZW1hIGRlZmluaXRpb24gaWYgaXQgd2FzIGV2ZXIgcmVmZXJlbmNlZFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIC8vIG90aGVyd2lzZSB0aGUgZHVwbGljYXRpb24gaXMgY29tcGxldGVseSBwb2ludGxlc3NcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAuLi4ocmVmcy5zZWVuUmVmcy5zaXplID8geyBbbmFtZV06IG1haW4gfSA6IHVuZGVmaW5lZCksXG4gICAgICAgICAgICAgICAgICAgICAgICB9LFxuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIDogdW5kZWZpbmVkKSxcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIDoge1xuICAgICAgICAgICAgICAgICRyZWY6IFsuLi4ocmVmcy4kcmVmU3RyYXRlZ3kgPT09ICdyZWxhdGl2ZScgPyBbXSA6IHJlZnMuYmFzZVBhdGgpLCByZWZzLmRlZmluaXRpb25QYXRoLCBuYW1lXS5qb2luKCcvJyksXG4gICAgICAgICAgICAgICAgW3JlZnMuZGVmaW5pdGlvblBhdGhdOiB7XG4gICAgICAgICAgICAgICAgICAgIC4uLmRlZmluaXRpb25zLFxuICAgICAgICAgICAgICAgICAgICBbbmFtZV06IG1haW4sXG4gICAgICAgICAgICAgICAgfSxcbiAgICAgICAgICAgIH07XG4gICAgaWYgKHJlZnMudGFyZ2V0ID09PSAnanNvblNjaGVtYTcnKSB7XG4gICAgICAgIGNvbWJpbmVkLiRzY2hlbWEgPSAnaHR0cDovL2pzb24tc2NoZW1hLm9yZy9kcmFmdC0wNy9zY2hlbWEjJztcbiAgICB9XG4gICAgZWxzZSBpZiAocmVmcy50YXJnZXQgPT09ICdqc29uU2NoZW1hMjAxOS0wOScpIHtcbiAgICAgICAgY29tYmluZWQuJHNjaGVtYSA9ICdodHRwczovL2pzb24tc2NoZW1hLm9yZy9kcmFmdC8yMDE5LTA5L3NjaGVtYSMnO1xuICAgIH1cbiAgICByZXR1cm4gY29tYmluZWQ7XG59O1xuZXhwb3J0IHsgem9kVG9Kc29uU2NoZW1hIH07XG4vLyMgc291cmNlTWFwcGluZ1VSTD16b2RUb0pzb25TY2hlbWEubWpzLm1hcCIsImltcG9ydCB7IE9wZW5BSUVycm9yIH0gZnJvbSBcIi4uL2Vycm9yLm1qc1wiO1xuaW1wb3J0IHsgaXNBdXRvUGFyc2FibGVSZXNwb25zZUZvcm1hdCB9IGZyb20gXCIuLi9saWIvcGFyc2VyLm1qc1wiO1xuZXhwb3J0IGZ1bmN0aW9uIG1heWJlUGFyc2VSZXNwb25zZShyZXNwb25zZSwgcGFyYW1zKSB7XG4gICAgaWYgKCFwYXJhbXMgfHwgIWhhc0F1dG9QYXJzZWFibGVJbnB1dChwYXJhbXMpKSB7XG4gICAgICAgIHJldHVybiB7XG4gICAgICAgICAgICAuLi5yZXNwb25zZSxcbiAgICAgICAgICAgIG91dHB1dF9wYXJzZWQ6IG51bGwsXG4gICAgICAgICAgICBvdXRwdXQ6IHJlc3BvbnNlLm91dHB1dC5tYXAoKGl0ZW0pID0+IHtcbiAgICAgICAgICAgICAgICBpZiAoaXRlbS50eXBlID09PSAnZnVuY3Rpb25fY2FsbCcpIHtcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIC4uLml0ZW0sXG4gICAgICAgICAgICAgICAgICAgICAgICBwYXJzZWRfYXJndW1lbnRzOiBudWxsLFxuICAgICAgICAgICAgICAgICAgICB9O1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBpZiAoaXRlbS50eXBlID09PSAnbWVzc2FnZScpIHtcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIC4uLml0ZW0sXG4gICAgICAgICAgICAgICAgICAgICAgICBjb250ZW50OiBpdGVtLmNvbnRlbnQubWFwKChjb250ZW50KSA9PiAoe1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIC4uLmNvbnRlbnQsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgcGFyc2VkOiBudWxsLFxuICAgICAgICAgICAgICAgICAgICAgICAgfSkpLFxuICAgICAgICAgICAgICAgICAgICB9O1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIGl0ZW07XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfSksXG4gICAgICAgIH07XG4gICAgfVxuICAgIHJldHVybiBwYXJzZVJlc3BvbnNlKHJlc3BvbnNlLCBwYXJhbXMpO1xufVxuZXhwb3J0IGZ1bmN0aW9uIHBhcnNlUmVzcG9uc2UocmVzcG9uc2UsIHBhcmFtcykge1xuICAgIGNvbnN0IG91dHB1dCA9IHJlc3BvbnNlLm91dHB1dC5tYXAoKGl0ZW0pID0+IHtcbiAgICAgICAgaWYgKGl0ZW0udHlwZSA9PT0gJ2Z1bmN0aW9uX2NhbGwnKSB7XG4gICAgICAgICAgICByZXR1cm4ge1xuICAgICAgICAgICAgICAgIC4uLml0ZW0sXG4gICAgICAgICAgICAgICAgcGFyc2VkX2FyZ3VtZW50czogcGFyc2VUb29sQ2FsbChwYXJhbXMsIGl0ZW0pLFxuICAgICAgICAgICAgfTtcbiAgICAgICAgfVxuICAgICAgICBpZiAoaXRlbS50eXBlID09PSAnbWVzc2FnZScpIHtcbiAgICAgICAgICAgIGNvbnN0IGNvbnRlbnQgPSBpdGVtLmNvbnRlbnQubWFwKChjb250ZW50KSA9PiB7XG4gICAgICAgICAgICAgICAgaWYgKGNvbnRlbnQudHlwZSA9PT0gJ291dHB1dF90ZXh0Jykge1xuICAgICAgICAgICAgICAgICAgICByZXR1cm4ge1xuICAgICAgICAgICAgICAgICAgICAgICAgLi4uY29udGVudCxcbiAgICAgICAgICAgICAgICAgICAgICAgIHBhcnNlZDogcGFyc2VUZXh0Rm9ybWF0KHBhcmFtcywgY29udGVudC50ZXh0KSxcbiAgICAgICAgICAgICAgICAgICAgfTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgcmV0dXJuIGNvbnRlbnQ7XG4gICAgICAgICAgICB9KTtcbiAgICAgICAgICAgIHJldHVybiB7XG4gICAgICAgICAgICAgICAgLi4uaXRlbSxcbiAgICAgICAgICAgICAgICBjb250ZW50LFxuICAgICAgICAgICAgfTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gaXRlbTtcbiAgICB9KTtcbiAgICBjb25zdCBwYXJzZWQgPSBPYmplY3QuYXNzaWduKHt9LCByZXNwb25zZSwgeyBvdXRwdXQgfSk7XG4gICAgaWYgKCFPYmplY3QuZ2V0T3duUHJvcGVydHlEZXNjcmlwdG9yKHJlc3BvbnNlLCAnb3V0cHV0X3RleHQnKSkge1xuICAgICAgICBhZGRPdXRwdXRUZXh0KHBhcnNlZCk7XG4gICAgfVxuICAgIE9iamVjdC5kZWZpbmVQcm9wZXJ0eShwYXJzZWQsICdvdXRwdXRfcGFyc2VkJywge1xuICAgICAgICBlbnVtZXJhYmxlOiB0cnVlLFxuICAgICAgICBnZXQoKSB7XG4gICAgICAgICAgICBmb3IgKGNvbnN0IG91dHB1dCBvZiBwYXJzZWQub3V0cHV0KSB7XG4gICAgICAgICAgICAgICAgaWYgKG91dHB1dC50eXBlICE9PSAnbWVzc2FnZScpIHtcbiAgICAgICAgICAgICAgICAgICAgY29udGludWU7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGZvciAoY29uc3QgY29udGVudCBvZiBvdXRwdXQuY29udGVudCkge1xuICAgICAgICAgICAgICAgICAgICBpZiAoY29udGVudC50eXBlID09PSAnb3V0cHV0X3RleHQnICYmIGNvbnRlbnQucGFyc2VkICE9PSBudWxsKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gY29udGVudC5wYXJzZWQ7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICByZXR1cm4gbnVsbDtcbiAgICAgICAgfSxcbiAgICB9KTtcbiAgICByZXR1cm4gcGFyc2VkO1xufVxuZnVuY3Rpb24gcGFyc2VUZXh0Rm9ybWF0KHBhcmFtcywgY29udGVudCkge1xuICAgIGlmIChwYXJhbXMudGV4dD8uZm9ybWF0Py50eXBlICE9PSAnanNvbl9zY2hlbWEnKSB7XG4gICAgICAgIHJldHVybiBudWxsO1xuICAgIH1cbiAgICBpZiAoJyRwYXJzZVJhdycgaW4gcGFyYW1zLnRleHQ/LmZvcm1hdCkge1xuICAgICAgICBjb25zdCB0ZXh0X2Zvcm1hdCA9IHBhcmFtcy50ZXh0Py5mb3JtYXQ7XG4gICAgICAgIHJldHVybiB0ZXh0X2Zvcm1hdC4kcGFyc2VSYXcoY29udGVudCk7XG4gICAgfVxuICAgIHJldHVybiBKU09OLnBhcnNlKGNvbnRlbnQpO1xufVxuZXhwb3J0IGZ1bmN0aW9uIGhhc0F1dG9QYXJzZWFibGVJbnB1dChwYXJhbXMpIHtcbiAgICBpZiAoaXNBdXRvUGFyc2FibGVSZXNwb25zZUZvcm1hdChwYXJhbXMudGV4dD8uZm9ybWF0KSkge1xuICAgICAgICByZXR1cm4gdHJ1ZTtcbiAgICB9XG4gICAgcmV0dXJuIGZhbHNlO1xufVxuZXhwb3J0IGZ1bmN0aW9uIG1ha2VQYXJzZWFibGVSZXNwb25zZVRvb2wodG9vbCwgeyBwYXJzZXIsIGNhbGxiYWNrLCB9KSB7XG4gICAgY29uc3Qgb2JqID0geyAuLi50b29sIH07XG4gICAgT2JqZWN0LmRlZmluZVByb3BlcnRpZXMob2JqLCB7XG4gICAgICAgICRicmFuZDoge1xuICAgICAgICAgICAgdmFsdWU6ICdhdXRvLXBhcnNlYWJsZS10b29sJyxcbiAgICAgICAgICAgIGVudW1lcmFibGU6IGZhbHNlLFxuICAgICAgICB9LFxuICAgICAgICAkcGFyc2VSYXc6IHtcbiAgICAgICAgICAgIHZhbHVlOiBwYXJzZXIsXG4gICAgICAgICAgICBlbnVtZXJhYmxlOiBmYWxzZSxcbiAgICAgICAgfSxcbiAgICAgICAgJGNhbGxiYWNrOiB7XG4gICAgICAgICAgICB2YWx1ZTogY2FsbGJhY2ssXG4gICAgICAgICAgICBlbnVtZXJhYmxlOiBmYWxzZSxcbiAgICAgICAgfSxcbiAgICB9KTtcbiAgICByZXR1cm4gb2JqO1xufVxuZXhwb3J0IGZ1bmN0aW9uIGlzQXV0b1BhcnNhYmxlVG9vbCh0b29sKSB7XG4gICAgcmV0dXJuIHRvb2w/LlsnJGJyYW5kJ10gPT09ICdhdXRvLXBhcnNlYWJsZS10b29sJztcbn1cbmZ1bmN0aW9uIGdldElucHV0VG9vbEJ5TmFtZShpbnB1dF90b29scywgbmFtZSkge1xuICAgIHJldHVybiBpbnB1dF90b29scy5maW5kKCh0b29sKSA9PiB0b29sLnR5cGUgPT09ICdmdW5jdGlvbicgJiYgdG9vbC5uYW1lID09PSBuYW1lKTtcbn1cbmZ1bmN0aW9uIHBhcnNlVG9vbENhbGwocGFyYW1zLCB0b29sQ2FsbCkge1xuICAgIGNvbnN0IGlucHV0VG9vbCA9IGdldElucHV0VG9vbEJ5TmFtZShwYXJhbXMudG9vbHMgPz8gW10sIHRvb2xDYWxsLm5hbWUpO1xuICAgIHJldHVybiB7XG4gICAgICAgIC4uLnRvb2xDYWxsLFxuICAgICAgICAuLi50b29sQ2FsbCxcbiAgICAgICAgcGFyc2VkX2FyZ3VtZW50czogaXNBdXRvUGFyc2FibGVUb29sKGlucHV0VG9vbCkgPyBpbnB1dFRvb2wuJHBhcnNlUmF3KHRvb2xDYWxsLmFyZ3VtZW50cylcbiAgICAgICAgICAgIDogaW5wdXRUb29sPy5zdHJpY3QgPyBKU09OLnBhcnNlKHRvb2xDYWxsLmFyZ3VtZW50cylcbiAgICAgICAgICAgICAgICA6IG51bGwsXG4gICAgfTtcbn1cbmV4cG9ydCBmdW5jdGlvbiBzaG91bGRQYXJzZVRvb2xDYWxsKHBhcmFtcywgdG9vbENhbGwpIHtcbiAgICBpZiAoIXBhcmFtcykge1xuICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgfVxuICAgIGNvbnN0IGlucHV0VG9vbCA9IGdldElucHV0VG9vbEJ5TmFtZShwYXJhbXMudG9vbHMgPz8gW10sIHRvb2xDYWxsLm5hbWUpO1xuICAgIHJldHVybiBpc0F1dG9QYXJzYWJsZVRvb2woaW5wdXRUb29sKSB8fCBpbnB1dFRvb2w/LnN0cmljdCB8fCBmYWxzZTtcbn1cbmV4cG9ydCBmdW5jdGlvbiB2YWxpZGF0ZUlucHV0VG9vbHModG9vbHMpIHtcbiAgICBmb3IgKGNvbnN0IHRvb2wgb2YgdG9vbHMgPz8gW10pIHtcbiAgICAgICAgaWYgKHRvb2wudHlwZSAhPT0gJ2Z1bmN0aW9uJykge1xuICAgICAgICAgICAgdGhyb3cgbmV3IE9wZW5BSUVycm9yKGBDdXJyZW50bHkgb25seSBcXGBmdW5jdGlvblxcYCB0b29sIHR5cGVzIHN1cHBvcnQgYXV0by1wYXJzaW5nOyBSZWNlaXZlZCBcXGAke3Rvb2wudHlwZX1cXGBgKTtcbiAgICAgICAgfVxuICAgICAgICBpZiAodG9vbC5mdW5jdGlvbi5zdHJpY3QgIT09IHRydWUpIHtcbiAgICAgICAgICAgIHRocm93IG5ldyBPcGVuQUlFcnJvcihgVGhlIFxcYCR7dG9vbC5mdW5jdGlvbi5uYW1lfVxcYCB0b29sIGlzIG5vdCBtYXJrZWQgd2l0aCBcXGBzdHJpY3Q6IHRydWVcXGAuIE9ubHkgc3RyaWN0IGZ1bmN0aW9uIHRvb2xzIGNhbiBiZSBhdXRvLXBhcnNlZGApO1xuICAgICAgICB9XG4gICAgfVxufVxuZXhwb3J0IGZ1bmN0aW9uIGFkZE91dHB1dFRleHQocnNwKSB7XG4gICAgY29uc3QgdGV4dHMgPSBbXTtcbiAgICBmb3IgKGNvbnN0IG91dHB1dCBvZiByc3Aub3V0cHV0KSB7XG4gICAgICAgIGlmIChvdXRwdXQudHlwZSAhPT0gJ21lc3NhZ2UnKSB7XG4gICAgICAgICAgICBjb250aW51ZTtcbiAgICAgICAgfVxuICAgICAgICBmb3IgKGNvbnN0IGNvbnRlbnQgb2Ygb3V0cHV0LmNvbnRlbnQpIHtcbiAgICAgICAgICAgIGlmIChjb250ZW50LnR5cGUgPT09ICdvdXRwdXRfdGV4dCcpIHtcbiAgICAgICAgICAgICAgICB0ZXh0cy5wdXNoKGNvbnRlbnQudGV4dCk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICB9XG4gICAgcnNwLm91dHB1dF90ZXh0ID0gdGV4dHMuam9pbignJyk7XG59XG4vLyMgc291cmNlTWFwcGluZ1VSTD1SZXNwb25zZXNQYXJzZXIubWpzLm1hcCIsImV4cG9ydCBmdW5jdGlvbiB0b1N0cmljdEpzb25TY2hlbWEoc2NoZW1hKSB7XG4gICAgaWYgKHNjaGVtYS50eXBlICE9PSAnb2JqZWN0Jykge1xuICAgICAgICB0aHJvdyBuZXcgRXJyb3IoYFJvb3Qgc2NoZW1hIG11c3QgaGF2ZSB0eXBlOiAnb2JqZWN0JyBidXQgZ290IHR5cGU6ICR7c2NoZW1hLnR5cGUgPyBgJyR7c2NoZW1hLnR5cGV9J2AgOiAndW5kZWZpbmVkJ31gKTtcbiAgICB9XG4gICAgY29uc3Qgc2NoZW1hQ29weSA9IHN0cnVjdHVyZWRDbG9uZShzY2hlbWEpO1xuICAgIHJldHVybiBlbnN1cmVTdHJpY3RKc29uU2NoZW1hKHNjaGVtYUNvcHksIFtdLCBzY2hlbWFDb3B5KTtcbn1cbmZ1bmN0aW9uIGlzTnVsbGFibGUoc2NoZW1hKSB7XG4gICAgaWYgKHR5cGVvZiBzY2hlbWEgPT09ICdib29sZWFuJykge1xuICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgfVxuICAgIGlmIChzY2hlbWEudHlwZSA9PT0gJ251bGwnKSB7XG4gICAgICAgIHJldHVybiB0cnVlO1xuICAgIH1cbiAgICBmb3IgKGNvbnN0IG9uZU9mVmFyaWFudCBvZiBzY2hlbWEub25lT2YgPz8gW10pIHtcbiAgICAgICAgaWYgKGlzTnVsbGFibGUob25lT2ZWYXJpYW50KSkge1xuICAgICAgICAgICAgcmV0dXJuIHRydWU7XG4gICAgICAgIH1cbiAgICB9XG4gICAgZm9yIChjb25zdCBhbGxPZlZhcmlhbnQgb2Ygc2NoZW1hLmFueU9mID8/IFtdKSB7XG4gICAgICAgIGlmIChpc051bGxhYmxlKGFsbE9mVmFyaWFudCkpIHtcbiAgICAgICAgICAgIHJldHVybiB0cnVlO1xuICAgICAgICB9XG4gICAgfVxuICAgIHJldHVybiBmYWxzZTtcbn1cbi8qKlxuICogTXV0YXRlcyB0aGUgZ2l2ZW4gSlNPTiBzY2hlbWEgdG8gZW5zdXJlIGl0IGNvbmZvcm1zIHRvIHRoZSBgc3RyaWN0YCBzdGFuZGFyZFxuICogdGhhdCB0aGUgQVBJIGV4cGVjdHMuXG4gKi9cbmZ1bmN0aW9uIGVuc3VyZVN0cmljdEpzb25TY2hlbWEoanNvblNjaGVtYSwgcGF0aCwgcm9vdCkge1xuICAgIGlmICh0eXBlb2YganNvblNjaGVtYSA9PT0gJ2Jvb2xlYW4nKSB7XG4gICAgICAgIHRocm93IG5ldyBUeXBlRXJyb3IoYEV4cGVjdGVkIG9iamVjdCBzY2hlbWEgYnV0IGdvdCBib29sZWFuOyBwYXRoPSR7cGF0aC5qb2luKCcvJyl9YCk7XG4gICAgfVxuICAgIGlmICghaXNPYmplY3QoanNvblNjaGVtYSkpIHtcbiAgICAgICAgdGhyb3cgbmV3IFR5cGVFcnJvcihgRXhwZWN0ZWQgJHtKU09OLnN0cmluZ2lmeShqc29uU2NoZW1hKX0gdG8gYmUgYW4gb2JqZWN0OyBwYXRoPSR7cGF0aC5qb2luKCcvJyl9YCk7XG4gICAgfVxuICAgIC8vIEhhbmRsZSAkZGVmcyAobm9uLXN0YW5kYXJkIGJ1dCBzb21ldGltZXMgdXNlZClcbiAgICBjb25zdCBkZWZzID0ganNvblNjaGVtYS4kZGVmcztcbiAgICBpZiAoaXNPYmplY3QoZGVmcykpIHtcbiAgICAgICAgZm9yIChjb25zdCBbZGVmTmFtZSwgZGVmU2NoZW1hXSBvZiBPYmplY3QuZW50cmllcyhkZWZzKSkge1xuICAgICAgICAgICAgZW5zdXJlU3RyaWN0SnNvblNjaGVtYShkZWZTY2hlbWEsIFsuLi5wYXRoLCAnJGRlZnMnLCBkZWZOYW1lXSwgcm9vdCk7XG4gICAgICAgIH1cbiAgICB9XG4gICAgLy8gSGFuZGxlIGRlZmluaXRpb25zIChkcmFmdC0wNCBzdHlsZSwgZGVwcmVjYXRlZCBpbiBkcmFmdC0wNyBidXQgc3RpbGwgdXNlZClcbiAgICBjb25zdCBkZWZpbml0aW9ucyA9IGpzb25TY2hlbWEuZGVmaW5pdGlvbnM7XG4gICAgaWYgKGlzT2JqZWN0KGRlZmluaXRpb25zKSkge1xuICAgICAgICBmb3IgKGNvbnN0IFtkZWZpbml0aW9uTmFtZSwgZGVmaW5pdGlvblNjaGVtYV0gb2YgT2JqZWN0LmVudHJpZXMoZGVmaW5pdGlvbnMpKSB7XG4gICAgICAgICAgICBlbnN1cmVTdHJpY3RKc29uU2NoZW1hKGRlZmluaXRpb25TY2hlbWEsIFsuLi5wYXRoLCAnZGVmaW5pdGlvbnMnLCBkZWZpbml0aW9uTmFtZV0sIHJvb3QpO1xuICAgICAgICB9XG4gICAgfVxuICAgIC8vIEFkZCBhZGRpdGlvbmFsUHJvcGVydGllczogZmFsc2UgdG8gb2JqZWN0IHR5cGVzXG4gICAgY29uc3QgdHlwID0ganNvblNjaGVtYS50eXBlO1xuICAgIGlmICh0eXAgPT09ICdvYmplY3QnICYmICEoJ2FkZGl0aW9uYWxQcm9wZXJ0aWVzJyBpbiBqc29uU2NoZW1hKSkge1xuICAgICAgICBqc29uU2NoZW1hLmFkZGl0aW9uYWxQcm9wZXJ0aWVzID0gZmFsc2U7XG4gICAgfVxuICAgIGNvbnN0IHJlcXVpcmVkID0ganNvblNjaGVtYS5yZXF1aXJlZCA/PyBbXTtcbiAgICAvLyBIYW5kbGUgb2JqZWN0IHByb3BlcnRpZXNcbiAgICBjb25zdCBwcm9wZXJ0aWVzID0ganNvblNjaGVtYS5wcm9wZXJ0aWVzO1xuICAgIGlmIChpc09iamVjdChwcm9wZXJ0aWVzKSkge1xuICAgICAgICBmb3IgKGNvbnN0IFtrZXksIHZhbHVlXSBvZiBPYmplY3QuZW50cmllcyhwcm9wZXJ0aWVzKSkge1xuICAgICAgICAgICAgaWYgKCFpc051bGxhYmxlKHZhbHVlKSAmJiAhcmVxdWlyZWQuaW5jbHVkZXMoa2V5KSkge1xuICAgICAgICAgICAgICAgIHRocm93IG5ldyBFcnJvcihgWm9kIGZpZWxkIGF0IFxcYCR7Wy4uLnBhdGgsICdwcm9wZXJ0aWVzJywga2V5XS5qb2luKCcvJyl9XFxgIHVzZXMgXFxgLm9wdGlvbmFsKClcXGAgd2l0aG91dCBcXGAubnVsbGFibGUoKVxcYCB3aGljaCBpcyBub3Qgc3VwcG9ydGVkIGJ5IHRoZSBBUEkuIFNlZTogaHR0cHM6Ly9wbGF0Zm9ybS5vcGVuYWkuY29tL2RvY3MvZ3VpZGVzL3N0cnVjdHVyZWQtb3V0cHV0cz9hcGktbW9kZT1yZXNwb25zZXMjYWxsLWZpZWxkcy1tdXN0LWJlLXJlcXVpcmVkYCk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAganNvblNjaGVtYS5yZXF1aXJlZCA9IE9iamVjdC5rZXlzKHByb3BlcnRpZXMpO1xuICAgICAgICBqc29uU2NoZW1hLnByb3BlcnRpZXMgPSBPYmplY3QuZnJvbUVudHJpZXMoT2JqZWN0LmVudHJpZXMocHJvcGVydGllcykubWFwKChba2V5LCBwcm9wU2NoZW1hXSkgPT4gW1xuICAgICAgICAgICAga2V5LFxuICAgICAgICAgICAgZW5zdXJlU3RyaWN0SnNvblNjaGVtYShwcm9wU2NoZW1hLCBbLi4ucGF0aCwgJ3Byb3BlcnRpZXMnLCBrZXldLCByb290KSxcbiAgICAgICAgXSkpO1xuICAgIH1cbiAgICAvLyBIYW5kbGUgYXJyYXlzXG4gICAgY29uc3QgaXRlbXMgPSBqc29uU2NoZW1hLml0ZW1zO1xuICAgIGlmIChpc09iamVjdChpdGVtcykpIHtcbiAgICAgICAganNvblNjaGVtYS5pdGVtcyA9IGVuc3VyZVN0cmljdEpzb25TY2hlbWEoaXRlbXMsIFsuLi5wYXRoLCAnaXRlbXMnXSwgcm9vdCk7XG4gICAgfVxuICAgIC8vIEhhbmRsZSB1bmlvbnMgKGFueU9mKVxuICAgIGNvbnN0IGFueU9mID0ganNvblNjaGVtYS5hbnlPZjtcbiAgICBpZiAoQXJyYXkuaXNBcnJheShhbnlPZikpIHtcbiAgICAgICAganNvblNjaGVtYS5hbnlPZiA9IGFueU9mLm1hcCgodmFyaWFudCwgaSkgPT4gZW5zdXJlU3RyaWN0SnNvblNjaGVtYSh2YXJpYW50LCBbLi4ucGF0aCwgJ2FueU9mJywgU3RyaW5nKGkpXSwgcm9vdCkpO1xuICAgIH1cbiAgICAvLyBIYW5kbGUgaW50ZXJzZWN0aW9ucyAoYWxsT2YpXG4gICAgY29uc3QgYWxsT2YgPSBqc29uU2NoZW1hLmFsbE9mO1xuICAgIGlmIChBcnJheS5pc0FycmF5KGFsbE9mKSkge1xuICAgICAgICBpZiAoYWxsT2YubGVuZ3RoID09PSAxKSB7XG4gICAgICAgICAgICBjb25zdCByZXNvbHZlZCA9IGVuc3VyZVN0cmljdEpzb25TY2hlbWEoYWxsT2ZbMF0sIFsuLi5wYXRoLCAnYWxsT2YnLCAnMCddLCByb290KTtcbiAgICAgICAgICAgIE9iamVjdC5hc3NpZ24oanNvblNjaGVtYSwgcmVzb2x2ZWQpO1xuICAgICAgICAgICAgZGVsZXRlIGpzb25TY2hlbWEuYWxsT2Y7XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICBqc29uU2NoZW1hLmFsbE9mID0gYWxsT2YubWFwKChlbnRyeSwgaSkgPT4gZW5zdXJlU3RyaWN0SnNvblNjaGVtYShlbnRyeSwgWy4uLnBhdGgsICdhbGxPZicsIFN0cmluZyhpKV0sIHJvb3QpKTtcbiAgICAgICAgfVxuICAgIH1cbiAgICAvLyBTdHJpcCBgbnVsbGAgZGVmYXVsdHMgYXMgdGhlcmUncyBubyBtZWFuaW5nZnVsIGRpc3RpbmN0aW9uXG4gICAgaWYgKGpzb25TY2hlbWEuZGVmYXVsdCA9PT0gbnVsbCkge1xuICAgICAgICBkZWxldGUganNvblNjaGVtYS5kZWZhdWx0O1xuICAgIH1cbiAgICAvLyBIYW5kbGUgJHJlZiB3aXRoIGFkZGl0aW9uYWwgcHJvcGVydGllc1xuICAgIGNvbnN0IHJlZiA9IGpzb25TY2hlbWEuJHJlZjtcbiAgICBpZiAocmVmICYmIGhhc01vcmVUaGFuTktleXMoanNvblNjaGVtYSwgMSkpIHtcbiAgICAgICAgaWYgKHR5cGVvZiByZWYgIT09ICdzdHJpbmcnKSB7XG4gICAgICAgICAgICB0aHJvdyBuZXcgVHlwZUVycm9yKGBSZWNlaXZlZCBub24tc3RyaW5nICRyZWYgLSAke3JlZn07IHBhdGg9JHtwYXRoLmpvaW4oJy8nKX1gKTtcbiAgICAgICAgfVxuICAgICAgICBjb25zdCByZXNvbHZlZCA9IHJlc29sdmVSZWYocm9vdCwgcmVmKTtcbiAgICAgICAgaWYgKHR5cGVvZiByZXNvbHZlZCA9PT0gJ2Jvb2xlYW4nKSB7XG4gICAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoYEV4cGVjdGVkIFxcYCRyZWY6ICR7cmVmfVxcYCB0byByZXNvbHZlIHRvIGFuIG9iamVjdCBzY2hlbWEgYnV0IGdvdCBib29sZWFuYCk7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKCFpc09iamVjdChyZXNvbHZlZCkpIHtcbiAgICAgICAgICAgIHRocm93IG5ldyBFcnJvcihgRXhwZWN0ZWQgXFxgJHJlZjogJHtyZWZ9XFxgIHRvIHJlc29sdmUgdG8gYW4gb2JqZWN0IGJ1dCBnb3QgJHtKU09OLnN0cmluZ2lmeShyZXNvbHZlZCl9YCk7XG4gICAgICAgIH1cbiAgICAgICAgLy8gUHJvcGVydGllcyBmcm9tIHRoZSBqc29uIHNjaGVtYSB0YWtlIHByaW9yaXR5IG92ZXIgdGhlIG9uZXMgb24gdGhlIGAkcmVmYFxuICAgICAgICBPYmplY3QuYXNzaWduKGpzb25TY2hlbWEsIHsgLi4ucmVzb2x2ZWQsIC4uLmpzb25TY2hlbWEgfSk7XG4gICAgICAgIGRlbGV0ZSBqc29uU2NoZW1hLiRyZWY7XG4gICAgICAgIC8vIFNpbmNlIHRoZSBzY2hlbWEgZXhwYW5kZWQgZnJvbSBgJHJlZmAgbWlnaHQgbm90IGhhdmUgYGFkZGl0aW9uYWxQcm9wZXJ0aWVzOiBmYWxzZWAgYXBwbGllZCxcbiAgICAgICAgLy8gd2UgY2FsbCBgZW5zdXJlU3RyaWN0SnNvblNjaGVtYWAgYWdhaW4gdG8gZml4IHRoZSBpbmxpbmVkIHNjaGVtYSBhbmQgZW5zdXJlIGl0J3MgdmFsaWQuXG4gICAgICAgIHJldHVybiBlbnN1cmVTdHJpY3RKc29uU2NoZW1hKGpzb25TY2hlbWEsIHBhdGgsIHJvb3QpO1xuICAgIH1cbiAgICByZXR1cm4ganNvblNjaGVtYTtcbn1cbmZ1bmN0aW9uIHJlc29sdmVSZWYocm9vdCwgcmVmKSB7XG4gICAgaWYgKCFyZWYuc3RhcnRzV2l0aCgnIy8nKSkge1xuICAgICAgICB0aHJvdyBuZXcgRXJyb3IoYFVuZXhwZWN0ZWQgJHJlZiBmb3JtYXQgJHtKU09OLnN0cmluZ2lmeShyZWYpfTsgRG9lcyBub3Qgc3RhcnQgd2l0aCAjL2ApO1xuICAgIH1cbiAgICBjb25zdCBwYXRoUGFydHMgPSByZWYuc2xpY2UoMikuc3BsaXQoJy8nKTtcbiAgICBsZXQgcmVzb2x2ZWQgPSByb290O1xuICAgIGZvciAoY29uc3Qga2V5IG9mIHBhdGhQYXJ0cykge1xuICAgICAgICBpZiAoIWlzT2JqZWN0KHJlc29sdmVkKSkge1xuICAgICAgICAgICAgdGhyb3cgbmV3IEVycm9yKGBlbmNvdW50ZXJlZCBub24tb2JqZWN0IGVudHJ5IHdoaWxlIHJlc29sdmluZyAke3JlZn0gLSAke0pTT04uc3RyaW5naWZ5KHJlc29sdmVkKX1gKTtcbiAgICAgICAgfVxuICAgICAgICBjb25zdCB2YWx1ZSA9IHJlc29sdmVkW2tleV07XG4gICAgICAgIGlmICh2YWx1ZSA9PT0gdW5kZWZpbmVkKSB7XG4gICAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoYEtleSAke2tleX0gbm90IGZvdW5kIHdoaWxlIHJlc29sdmluZyAke3JlZn1gKTtcbiAgICAgICAgfVxuICAgICAgICByZXNvbHZlZCA9IHZhbHVlO1xuICAgIH1cbiAgICByZXR1cm4gcmVzb2x2ZWQ7XG59XG5mdW5jdGlvbiBpc09iamVjdChvYmopIHtcbiAgICByZXR1cm4gdHlwZW9mIG9iaiA9PT0gJ29iamVjdCcgJiYgb2JqICE9PSBudWxsICYmICFBcnJheS5pc0FycmF5KG9iaik7XG59XG5mdW5jdGlvbiBoYXNNb3JlVGhhbk5LZXlzKG9iaiwgbikge1xuICAgIGxldCBpID0gMDtcbiAgICBmb3IgKGNvbnN0IF8gaW4gb2JqKSB7XG4gICAgICAgIGkrKztcbiAgICAgICAgaWYgKGkgPiBuKSB7XG4gICAgICAgICAgICByZXR1cm4gdHJ1ZTtcbiAgICAgICAgfVxuICAgIH1cbiAgICByZXR1cm4gZmFsc2U7XG59XG4vLyMgc291cmNlTWFwcGluZ1VSTD10cmFuc2Zvcm0ubWpzLm1hcCIsImltcG9ydCB7IHogYXMgejQgfSBmcm9tICd6b2QvdjQnO1xuaW1wb3J0IHsgbWFrZVBhcnNlYWJsZVJlc3BvbnNlRm9ybWF0LCBtYWtlUGFyc2VhYmxlVGV4dEZvcm1hdCwgbWFrZVBhcnNlYWJsZVRvb2wsIH0gZnJvbSBcIi4uL2xpYi9wYXJzZXIubWpzXCI7XG5pbXBvcnQgeyB6b2RUb0pzb25TY2hlbWEgYXMgX3pvZFRvSnNvblNjaGVtYSB9IGZyb20gXCIuLi9fdmVuZG9yL3pvZC10by1qc29uLXNjaGVtYS9pbmRleC5tanNcIjtcbmltcG9ydCB7IG1ha2VQYXJzZWFibGVSZXNwb25zZVRvb2wgfSBmcm9tIFwiLi4vbGliL1Jlc3BvbnNlc1BhcnNlci5tanNcIjtcbmltcG9ydCB7IHRvU3RyaWN0SnNvblNjaGVtYSB9IGZyb20gXCIuLi9saWIvdHJhbnNmb3JtLm1qc1wiO1xuZnVuY3Rpb24gem9kVjNUb0pzb25TY2hlbWEoc2NoZW1hLCBvcHRpb25zKSB7XG4gICAgcmV0dXJuIF96b2RUb0pzb25TY2hlbWEoc2NoZW1hLCB7XG4gICAgICAgIG9wZW5haVN0cmljdE1vZGU6IHRydWUsXG4gICAgICAgIG5hbWU6IG9wdGlvbnMubmFtZSxcbiAgICAgICAgbmFtZVN0cmF0ZWd5OiAnZHVwbGljYXRlLXJlZicsXG4gICAgICAgICRyZWZTdHJhdGVneTogJ2V4dHJhY3QtdG8tcm9vdCcsXG4gICAgICAgIG51bGxhYmxlU3RyYXRlZ3k6ICdwcm9wZXJ0eScsXG4gICAgfSk7XG59XG5mdW5jdGlvbiB6b2RWNFRvSnNvblNjaGVtYShzY2hlbWEpIHtcbiAgICByZXR1cm4gdG9TdHJpY3RKc29uU2NoZW1hKHo0LnRvSlNPTlNjaGVtYShzY2hlbWEsIHtcbiAgICAgICAgdGFyZ2V0OiAnZHJhZnQtNycsXG4gICAgfSkpO1xufVxuZnVuY3Rpb24gaXNab2RWNCh6b2RPYmplY3QpIHtcbiAgICByZXR1cm4gJ196b2QnIGluIHpvZE9iamVjdDtcbn1cbi8qKlxuICogQ3JlYXRlcyBhIGNoYXQgY29tcGxldGlvbiBgSlNPTlNjaGVtYWAgcmVzcG9uc2UgZm9ybWF0IG9iamVjdCBmcm9tXG4gKiB0aGUgZ2l2ZW4gWm9kIHNjaGVtYS5cbiAqXG4gKiBJZiB0aGlzIGlzIHBhc3NlZCB0byB0aGUgYC5wYXJzZSgpYCwgYC5zdHJlYW0oKWAgb3IgYC5ydW5Ub29scygpYFxuICogY2hhdCBjb21wbGV0aW9uIG1ldGhvZHMgdGhlbiB0aGUgcmVzcG9uc2UgbWVzc2FnZSB3aWxsIGNvbnRhaW4gYVxuICogYC5wYXJzZWRgIHByb3BlcnR5IHRoYXQgaXMgdGhlIHJlc3VsdCBvZiBwYXJzaW5nIHRoZSBjb250ZW50IHdpdGhcbiAqIHRoZSBnaXZlbiBab2Qgb2JqZWN0LlxuICpcbiAqIGBgYHRzXG4gKiBjb25zdCBjb21wbGV0aW9uID0gYXdhaXQgY2xpZW50LmNoYXQuY29tcGxldGlvbnMucGFyc2Uoe1xuICogICAgbW9kZWw6ICdncHQtNG8tMjAyNC0wOC0wNicsXG4gKiAgICBtZXNzYWdlczogW1xuICogICAgICB7IHJvbGU6ICdzeXN0ZW0nLCBjb250ZW50OiAnWW91IGFyZSBhIGhlbHBmdWwgbWF0aCB0dXRvci4nIH0sXG4gKiAgICAgIHsgcm9sZTogJ3VzZXInLCBjb250ZW50OiAnc29sdmUgOHggKyAzMSA9IDInIH0sXG4gKiAgICBdLFxuICogICAgcmVzcG9uc2VfZm9ybWF0OiB6b2RSZXNwb25zZUZvcm1hdChcbiAqICAgICAgei5vYmplY3Qoe1xuICogICAgICAgIHN0ZXBzOiB6LmFycmF5KHoub2JqZWN0KHtcbiAqICAgICAgICAgIGV4cGxhbmF0aW9uOiB6LnN0cmluZygpLFxuICogICAgICAgICAgYW5zd2VyOiB6LnN0cmluZygpLFxuICogICAgICAgIH0pKSxcbiAqICAgICAgICBmaW5hbF9hbnN3ZXI6IHouc3RyaW5nKCksXG4gKiAgICAgIH0pLFxuICogICAgICAnbWF0aF9hbnN3ZXInLFxuICogICAgKSxcbiAqICB9KTtcbiAqICBjb25zdCBtZXNzYWdlID0gY29tcGxldGlvbi5jaG9pY2VzWzBdPy5tZXNzYWdlO1xuICogIGlmIChtZXNzYWdlPy5wYXJzZWQpIHtcbiAqICAgIGNvbnNvbGUubG9nKG1lc3NhZ2UucGFyc2VkKTtcbiAqICAgIGNvbnNvbGUubG9nKG1lc3NhZ2UucGFyc2VkLmZpbmFsX2Fuc3dlcik7XG4gKiB9XG4gKiBgYGBcbiAqXG4gKiBUaGlzIGNhbiBiZSBwYXNzZWQgZGlyZWN0bHkgdG8gdGhlIGAuY3JlYXRlKClgIG1ldGhvZCBidXQgd2lsbCBub3RcbiAqIHJlc3VsdCBpbiBhbnkgYXV0b21hdGljIHBhcnNpbmcsIHlvdSdsbCBoYXZlIHRvIHBhcnNlIHRoZSByZXNwb25zZSB5b3Vyc2VsZi5cbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIHpvZFJlc3BvbnNlRm9ybWF0KHpvZE9iamVjdCwgbmFtZSwgcHJvcHMpIHtcbiAgICByZXR1cm4gbWFrZVBhcnNlYWJsZVJlc3BvbnNlRm9ybWF0KHtcbiAgICAgICAgdHlwZTogJ2pzb25fc2NoZW1hJyxcbiAgICAgICAganNvbl9zY2hlbWE6IHtcbiAgICAgICAgICAgIC4uLnByb3BzLFxuICAgICAgICAgICAgbmFtZSxcbiAgICAgICAgICAgIHN0cmljdDogdHJ1ZSxcbiAgICAgICAgICAgIHNjaGVtYTogaXNab2RWNCh6b2RPYmplY3QpID8gem9kVjRUb0pzb25TY2hlbWEoem9kT2JqZWN0KSA6IHpvZFYzVG9Kc29uU2NoZW1hKHpvZE9iamVjdCwgeyBuYW1lIH0pLFxuICAgICAgICB9LFxuICAgIH0sIChjb250ZW50KSA9PiB6b2RPYmplY3QucGFyc2UoSlNPTi5wYXJzZShjb250ZW50KSkpO1xufVxuZXhwb3J0IGZ1bmN0aW9uIHpvZFRleHRGb3JtYXQoem9kT2JqZWN0LCBuYW1lLCBwcm9wcykge1xuICAgIHJldHVybiBtYWtlUGFyc2VhYmxlVGV4dEZvcm1hdCh7XG4gICAgICAgIHR5cGU6ICdqc29uX3NjaGVtYScsXG4gICAgICAgIC4uLnByb3BzLFxuICAgICAgICBuYW1lLFxuICAgICAgICBzdHJpY3Q6IHRydWUsXG4gICAgICAgIHNjaGVtYTogaXNab2RWNCh6b2RPYmplY3QpID8gem9kVjRUb0pzb25TY2hlbWEoem9kT2JqZWN0KSA6IHpvZFYzVG9Kc29uU2NoZW1hKHpvZE9iamVjdCwgeyBuYW1lIH0pLFxuICAgIH0sIChjb250ZW50KSA9PiB6b2RPYmplY3QucGFyc2UoSlNPTi5wYXJzZShjb250ZW50KSkpO1xufVxuLyoqXG4gKiBDcmVhdGVzIGEgY2hhdCBjb21wbGV0aW9uIGBmdW5jdGlvbmAgdG9vbCB0aGF0IGNhbiBiZSBpbnZva2VkXG4gKiBhdXRvbWF0aWNhbGx5IGJ5IHRoZSBjaGF0IGNvbXBsZXRpb24gYC5ydW5Ub29scygpYCBtZXRob2Qgb3IgYXV0b21hdGljYWxseVxuICogcGFyc2VkIGJ5IGAucGFyc2UoKWAgLyBgLnN0cmVhbSgpYC5cbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIHpvZEZ1bmN0aW9uKG9wdGlvbnMpIHtcbiAgICAvLyBAdHMtZXhwZWN0LWVycm9yIFRPRE9cbiAgICByZXR1cm4gbWFrZVBhcnNlYWJsZVRvb2woe1xuICAgICAgICB0eXBlOiAnZnVuY3Rpb24nLFxuICAgICAgICBmdW5jdGlvbjoge1xuICAgICAgICAgICAgbmFtZTogb3B0aW9ucy5uYW1lLFxuICAgICAgICAgICAgcGFyYW1ldGVyczogaXNab2RWNChvcHRpb25zLnBhcmFtZXRlcnMpID9cbiAgICAgICAgICAgICAgICB6b2RWNFRvSnNvblNjaGVtYShvcHRpb25zLnBhcmFtZXRlcnMpXG4gICAgICAgICAgICAgICAgOiB6b2RWM1RvSnNvblNjaGVtYShvcHRpb25zLnBhcmFtZXRlcnMsIHsgbmFtZTogb3B0aW9ucy5uYW1lIH0pLFxuICAgICAgICAgICAgc3RyaWN0OiB0cnVlLFxuICAgICAgICAgICAgLi4uKG9wdGlvbnMuZGVzY3JpcHRpb24gPyB7IGRlc2NyaXB0aW9uOiBvcHRpb25zLmRlc2NyaXB0aW9uIH0gOiB1bmRlZmluZWQpLFxuICAgICAgICB9LFxuICAgIH0sIHtcbiAgICAgICAgY2FsbGJhY2s6IG9wdGlvbnMuZnVuY3Rpb24sXG4gICAgICAgIHBhcnNlcjogKGFyZ3MpID0+IG9wdGlvbnMucGFyYW1ldGVycy5wYXJzZShKU09OLnBhcnNlKGFyZ3MpKSxcbiAgICB9KTtcbn1cbmV4cG9ydCBmdW5jdGlvbiB6b2RSZXNwb25zZXNGdW5jdGlvbihvcHRpb25zKSB7XG4gICAgcmV0dXJuIG1ha2VQYXJzZWFibGVSZXNwb25zZVRvb2woe1xuICAgICAgICB0eXBlOiAnZnVuY3Rpb24nLFxuICAgICAgICBuYW1lOiBvcHRpb25zLm5hbWUsXG4gICAgICAgIHBhcmFtZXRlcnM6IGlzWm9kVjQob3B0aW9ucy5wYXJhbWV0ZXJzKSA/XG4gICAgICAgICAgICB6b2RWNFRvSnNvblNjaGVtYShvcHRpb25zLnBhcmFtZXRlcnMpXG4gICAgICAgICAgICA6IHpvZFYzVG9Kc29uU2NoZW1hKG9wdGlvbnMucGFyYW1ldGVycywgeyBuYW1lOiBvcHRpb25zLm5hbWUgfSksXG4gICAgICAgIHN0cmljdDogdHJ1ZSxcbiAgICAgICAgLi4uKG9wdGlvbnMuZGVzY3JpcHRpb24gPyB7IGRlc2NyaXB0aW9uOiBvcHRpb25zLmRlc2NyaXB0aW9uIH0gOiB1bmRlZmluZWQpLFxuICAgIH0sIHtcbiAgICAgICAgY2FsbGJhY2s6IG9wdGlvbnMuZnVuY3Rpb24sXG4gICAgICAgIHBhcnNlcjogKGFyZ3MpID0+IG9wdGlvbnMucGFyYW1ldGVycy5wYXJzZShKU09OLnBhcnNlKGFyZ3MpKSxcbiAgICB9KTtcbn1cbi8vIyBzb3VyY2VNYXBwaW5nVVJMPXpvZC5tanMubWFwIiwiLyoqXG4gKiBCYXNlIGNsYXNzIGZvciBhbGwgZXJyb3JzIHRocm93biBieSB0aGUgbGlicmFyeS5cbiAqL1xuZXhwb3J0IGNsYXNzIEFnZW50c0Vycm9yIGV4dGVuZHMgRXJyb3Ige1xuICAgIHN0YXRlO1xuICAgIGNvbnN0cnVjdG9yKG1lc3NhZ2UsIHN0YXRlKSB7XG4gICAgICAgIHN1cGVyKG1lc3NhZ2UpO1xuICAgICAgICB0aGlzLnN0YXRlID0gc3RhdGU7XG4gICAgfVxufVxuLyoqXG4gKiBTeXN0ZW0gZXJyb3IgdGhyb3duIHdoZW4gdGhlIGxpYnJhcnkgZW5jb3VudGVycyBhbiBlcnJvciB0aGF0IGlzIG5vdCBjYXVzZWQgYnkgdGhlIHVzZXInc1xuICogbWlzY29uZmlndXJhdGlvbi5cbiAqL1xuZXhwb3J0IGNsYXNzIFN5c3RlbUVycm9yIGV4dGVuZHMgQWdlbnRzRXJyb3Ige1xufVxuLyoqXG4gKiBFcnJvciB0aHJvd24gd2hlbiB0aGUgbWF4aW11bSBudW1iZXIgb2YgdHVybnMgaXMgZXhjZWVkZWQuXG4gKi9cbmV4cG9ydCBjbGFzcyBNYXhUdXJuc0V4Y2VlZGVkRXJyb3IgZXh0ZW5kcyBBZ2VudHNFcnJvciB7XG59XG4vKipcbiAqIEVycm9yIHRocm93biB3aGVuIGEgbW9kZWwgYmVoYXZpb3IgaXMgdW5leHBlY3RlZC5cbiAqL1xuZXhwb3J0IGNsYXNzIE1vZGVsQmVoYXZpb3JFcnJvciBleHRlbmRzIEFnZW50c0Vycm9yIHtcbn1cbi8qKlxuICogRXJyb3IgdGhyb3duIHdoZW4gdGhlIGVycm9yIGlzIGNhdXNlZCBieSB0aGUgbGlicmFyeSB1c2VyJ3MgbWlzY29uZmlndXJhdGlvbi5cbiAqL1xuZXhwb3J0IGNsYXNzIFVzZXJFcnJvciBleHRlbmRzIEFnZW50c0Vycm9yIHtcbn1cbi8qKlxuICogRXJyb3IgdGhyb3duIHdoZW4gYSBndWFyZHJhaWwgZXhlY3V0aW9uIGZhaWxzLlxuICovXG5leHBvcnQgY2xhc3MgR3VhcmRyYWlsRXhlY3V0aW9uRXJyb3IgZXh0ZW5kcyBBZ2VudHNFcnJvciB7XG4gICAgZXJyb3I7XG4gICAgY29uc3RydWN0b3IobWVzc2FnZSwgZXJyb3IsIHN0YXRlKSB7XG4gICAgICAgIHN1cGVyKG1lc3NhZ2UsIHN0YXRlKTtcbiAgICAgICAgdGhpcy5lcnJvciA9IGVycm9yO1xuICAgIH1cbn1cbi8qKlxuICogRXJyb3IgdGhyb3duIHdoZW4gYSB0b29sIGNhbGwgZmFpbHMuXG4gKi9cbmV4cG9ydCBjbGFzcyBUb29sQ2FsbEVycm9yIGV4dGVuZHMgQWdlbnRzRXJyb3Ige1xuICAgIGVycm9yO1xuICAgIGNvbnN0cnVjdG9yKG1lc3NhZ2UsIGVycm9yLCBzdGF0ZSkge1xuICAgICAgICBzdXBlcihtZXNzYWdlLCBzdGF0ZSk7XG4gICAgICAgIHRoaXMuZXJyb3IgPSBlcnJvcjtcbiAgICB9XG59XG4vKipcbiAqIEVycm9yIHRocm93biB3aGVuIGFuIGlucHV0IGd1YXJkcmFpbCB0cmlwd2lyZSBpcyB0cmlnZ2VyZWQuXG4gKi9cbmV4cG9ydCBjbGFzcyBJbnB1dEd1YXJkcmFpbFRyaXB3aXJlVHJpZ2dlcmVkIGV4dGVuZHMgQWdlbnRzRXJyb3Ige1xuICAgIHJlc3VsdDtcbiAgICBjb25zdHJ1Y3RvcihtZXNzYWdlLCByZXN1bHQsIHN0YXRlKSB7XG4gICAgICAgIHN1cGVyKG1lc3NhZ2UsIHN0YXRlKTtcbiAgICAgICAgdGhpcy5yZXN1bHQgPSByZXN1bHQ7XG4gICAgfVxufVxuLyoqXG4gKiBFcnJvciB0aHJvd24gd2hlbiBhbiBvdXRwdXQgZ3VhcmRyYWlsIHRyaXB3aXJlIGlzIHRyaWdnZXJlZC5cbiAqL1xuZXhwb3J0IGNsYXNzIE91dHB1dEd1YXJkcmFpbFRyaXB3aXJlVHJpZ2dlcmVkIGV4dGVuZHMgQWdlbnRzRXJyb3Ige1xuICAgIHJlc3VsdDtcbiAgICBjb25zdHJ1Y3RvcihtZXNzYWdlLCByZXN1bHQsIHN0YXRlKSB7XG4gICAgICAgIHN1cGVyKG1lc3NhZ2UsIHN0YXRlKTtcbiAgICAgICAgdGhpcy5yZXN1bHQgPSByZXN1bHQ7XG4gICAgfVxufVxuLy8jIHNvdXJjZU1hcHBpbmdVUkw9ZXJyb3JzLm1qcy5tYXAiLCJleHBvcnQgZnVuY3Rpb24gYXNab2RUeXBlKHNjaGVtYSkge1xuICAgIHJldHVybiBzY2hlbWE7XG59XG5leHBvcnQgZnVuY3Rpb24gcmVhZFpvZERlZmluaXRpb24oaW5wdXQpIHtcbiAgICBpZiAodHlwZW9mIGlucHV0ICE9PSAnb2JqZWN0JyB8fCBpbnB1dCA9PT0gbnVsbCkge1xuICAgICAgICByZXR1cm4gdW5kZWZpbmVkO1xuICAgIH1cbiAgICBjb25zdCBjYW5kaWRhdGUgPSBpbnB1dDtcbiAgICByZXR1cm4gY2FuZGlkYXRlLl96b2Q/LmRlZiB8fCBjYW5kaWRhdGUuX2RlZiB8fCBjYW5kaWRhdGUuZGVmO1xufVxuZXhwb3J0IGZ1bmN0aW9uIHJlYWRab2RUeXBlKGlucHV0KSB7XG4gICAgY29uc3QgZGVmID0gcmVhZFpvZERlZmluaXRpb24oaW5wdXQpO1xuICAgIGlmICghZGVmKSB7XG4gICAgICAgIHJldHVybiB1bmRlZmluZWQ7XG4gICAgfVxuICAgIGNvbnN0IHJhd1R5cGUgPSAodHlwZW9mIGRlZi50eXBlTmFtZSA9PT0gJ3N0cmluZycgJiYgZGVmLnR5cGVOYW1lKSB8fFxuICAgICAgICAodHlwZW9mIGRlZi50eXBlID09PSAnc3RyaW5nJyAmJiBkZWYudHlwZSk7XG4gICAgaWYgKHR5cGVvZiByYXdUeXBlICE9PSAnc3RyaW5nJykge1xuICAgICAgICByZXR1cm4gdW5kZWZpbmVkO1xuICAgIH1cbiAgICBjb25zdCBsb3dlciA9IHJhd1R5cGUudG9Mb3dlckNhc2UoKTtcbiAgICByZXR1cm4gbG93ZXIuc3RhcnRzV2l0aCgnem9kJykgPyBsb3dlci5zbGljZSgzKSA6IGxvd2VyO1xufVxuLy8jIHNvdXJjZU1hcHBpbmdVUkw9em9kQ29tcGF0Lm1qcy5tYXAiLCJpbXBvcnQgeyByZWFkWm9kRGVmaW5pdGlvbiwgcmVhZFpvZFR5cGUgfSBmcm9tIFwiLi96b2RDb21wYXQubWpzXCI7XG4vKipcbiAqIFZlcmlmaWVzIHRoYXQgYW4gaW5wdXQgaXMgYSBab2RPYmplY3Qgd2l0aG91dCBuZWVkaW5nIHRvIGhhdmUgWm9kIGF0IHJ1bnRpbWUgc2luY2UgaXQncyBhblxuICogb3B0aW9uYWwgZGVwZW5kZW5jeS5cbiAqIEBwYXJhbSBpbnB1dFxuICogQHJldHVybnNcbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIGlzWm9kT2JqZWN0KGlucHV0KSB7XG4gICAgY29uc3QgZGVmaW5pdGlvbiA9IHJlYWRab2REZWZpbml0aW9uKGlucHV0KTtcbiAgICBpZiAoIWRlZmluaXRpb24pIHtcbiAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgIH1cbiAgICBjb25zdCB0eXBlID0gcmVhZFpvZFR5cGUoaW5wdXQpO1xuICAgIHJldHVybiB0eXBlID09PSAnb2JqZWN0Jztcbn1cbi8qKlxuICogVmVyaWZpZXMgdGhhdCBhbiBpbnB1dCBpcyBhbiBvYmplY3Qgd2l0aCBhbiBgaW5wdXRgIHByb3BlcnR5LlxuICogQHBhcmFtIGlucHV0XG4gKiBAcmV0dXJuc1xuICovXG5leHBvcnQgZnVuY3Rpb24gaXNBZ2VudFRvb2xJbnB1dChpbnB1dCkge1xuICAgIHJldHVybiAodHlwZW9mIGlucHV0ID09PSAnb2JqZWN0JyAmJlxuICAgICAgICBpbnB1dCAhPT0gbnVsbCAmJlxuICAgICAgICAnaW5wdXQnIGluIGlucHV0ICYmXG4gICAgICAgIHR5cGVvZiBpbnB1dC5pbnB1dCA9PT0gJ3N0cmluZycpO1xufVxuLy8jIHNvdXJjZU1hcHBpbmdVUkw9dHlwZUd1YXJkcy5tanMubWFwIiwiaW1wb3J0IHsgcmVhZFpvZERlZmluaXRpb24sIHJlYWRab2RUeXBlIH0gZnJvbSBcIi4vem9kQ29tcGF0Lm1qc1wiO1xuY29uc3QgSlNPTl9TQ0hFTUFfRFJBRlRfMDcgPSAnaHR0cDovL2pzb24tc2NoZW1hLm9yZy9kcmFmdC0wNy9zY2hlbWEjJztcbmNvbnN0IE9QVElPTkFMX1dSQVBQRVJTID0gbmV3IFNldChbJ29wdGlvbmFsJ10pO1xuY29uc3QgREVDT1JBVE9SX1dSQVBQRVJTID0gbmV3IFNldChbXG4gICAgJ2JyYW5kJyxcbiAgICAnYnJhbmRlZCcsXG4gICAgJ2NhdGNoJyxcbiAgICAnZGVmYXVsdCcsXG4gICAgJ2VmZmVjdHMnLFxuICAgICdwaXBlbGluZScsXG4gICAgJ3BpcGUnLFxuICAgICdwcmVmYXVsdCcsXG4gICAgJ3JlYWRvbmx5JyxcbiAgICAncmVmaW5lbWVudCcsXG4gICAgJ3RyYW5zZm9ybScsXG5dKTtcbi8vIFByaW1pdGl2ZSBsZWFmIG5vZGVzIG1hcCAxOjEgdG8gSlNPTiBTY2hlbWEgdHlwZXM7IGV2ZXJ5dGhpbmcgZWxzZSBpcyBoYW5kbGVkXG4vLyBieSB0aGUgc3BlY2lhbGlzZWQgYnVpbGRlcnMgZnVydGhlciBkb3duLlxuY29uc3QgU0lNUExFX1RZUEVfTUFQUElORyA9IHtcbiAgICBzdHJpbmc6IHsgdHlwZTogJ3N0cmluZycgfSxcbiAgICBudW1iZXI6IHsgdHlwZTogJ251bWJlcicgfSxcbiAgICBiaWdpbnQ6IHsgdHlwZTogJ2ludGVnZXInIH0sXG4gICAgYm9vbGVhbjogeyB0eXBlOiAnYm9vbGVhbicgfSxcbiAgICBkYXRlOiB7IHR5cGU6ICdzdHJpbmcnLCBmb3JtYXQ6ICdkYXRlLXRpbWUnIH0sXG59O1xuZXhwb3J0IGZ1bmN0aW9uIGhhc0pzb25TY2hlbWFPYmplY3RTaGFwZSh2YWx1ZSkge1xuICAgIHJldHVybiAodHlwZW9mIHZhbHVlID09PSAnb2JqZWN0JyAmJlxuICAgICAgICB2YWx1ZSAhPT0gbnVsbCAmJlxuICAgICAgICB2YWx1ZS50eXBlID09PSAnb2JqZWN0JyAmJlxuICAgICAgICAncHJvcGVydGllcycgaW4gdmFsdWUgJiZcbiAgICAgICAgJ2FkZGl0aW9uYWxQcm9wZXJ0aWVzJyBpbiB2YWx1ZSk7XG59XG5leHBvcnQgZnVuY3Rpb24gem9kSnNvblNjaGVtYUNvbXBhdChpbnB1dCkge1xuICAgIC8vIEF0dGVtcHQgdG8gYnVpbGQgYW4gb2JqZWN0IHNjaGVtYSBmcm9tIFpvZCdzIGludGVybmFsIHNoYXBlLiBJZiB3ZSBjYW5ub3RcbiAgICAvLyB1bmRlcnN0YW5kIHRoZSBzdHJ1Y3R1cmUgd2UgcmV0dXJuIHVuZGVmaW5lZCwgbGV0dGluZyBjYWxsZXJzIHJhaXNlIGFcbiAgICAvLyBkZXNjcmlwdGl2ZSBlcnJvciBpbnN0ZWFkIG9mIGVtaXR0aW5nIGFuIGludmFsaWQgc2NoZW1hLlxuICAgIGNvbnN0IHNjaGVtYSA9IGJ1aWxkT2JqZWN0U2NoZW1hKGlucHV0KTtcbiAgICBpZiAoIXNjaGVtYSkge1xuICAgICAgICByZXR1cm4gdW5kZWZpbmVkO1xuICAgIH1cbiAgICBpZiAoIUFycmF5LmlzQXJyYXkoc2NoZW1hLnJlcXVpcmVkKSkge1xuICAgICAgICBzY2hlbWEucmVxdWlyZWQgPSBbXTtcbiAgICB9XG4gICAgaWYgKHR5cGVvZiBzY2hlbWEuYWRkaXRpb25hbFByb3BlcnRpZXMgPT09ICd1bmRlZmluZWQnKSB7XG4gICAgICAgIHNjaGVtYS5hZGRpdGlvbmFsUHJvcGVydGllcyA9IGZhbHNlO1xuICAgIH1cbiAgICBpZiAodHlwZW9mIHNjaGVtYS4kc2NoZW1hICE9PSAnc3RyaW5nJykge1xuICAgICAgICBzY2hlbWEuJHNjaGVtYSA9IEpTT05fU0NIRU1BX0RSQUZUXzA3O1xuICAgIH1cbiAgICByZXR1cm4gc2NoZW1hO1xufVxuZnVuY3Rpb24gYnVpbGRPYmplY3RTY2hlbWEodmFsdWUpIHtcbiAgICBjb25zdCBzaGFwZSA9IHJlYWRTaGFwZSh2YWx1ZSk7XG4gICAgaWYgKCFzaGFwZSkge1xuICAgICAgICByZXR1cm4gdW5kZWZpbmVkO1xuICAgIH1cbiAgICBjb25zdCBwcm9wZXJ0aWVzID0ge307XG4gICAgY29uc3QgcmVxdWlyZWQgPSBbXTtcbiAgICBmb3IgKGNvbnN0IFtrZXksIGZpZWxkXSBvZiBPYmplY3QuZW50cmllcyhzaGFwZSkpIHtcbiAgICAgICAgY29uc3QgeyBzY2hlbWEsIG9wdGlvbmFsIH0gPSBjb252ZXJ0UHJvcGVydHkoZmllbGQpO1xuICAgICAgICBpZiAoIXNjaGVtYSkge1xuICAgICAgICAgICAgcmV0dXJuIHVuZGVmaW5lZDtcbiAgICAgICAgfVxuICAgICAgICBwcm9wZXJ0aWVzW2tleV0gPSBzY2hlbWE7XG4gICAgICAgIGlmICghb3B0aW9uYWwpIHtcbiAgICAgICAgICAgIHJlcXVpcmVkLnB1c2goa2V5KTtcbiAgICAgICAgfVxuICAgIH1cbiAgICByZXR1cm4geyB0eXBlOiAnb2JqZWN0JywgcHJvcGVydGllcywgcmVxdWlyZWQsIGFkZGl0aW9uYWxQcm9wZXJ0aWVzOiBmYWxzZSB9O1xufVxuZnVuY3Rpb24gY29udmVydFByb3BlcnR5KHZhbHVlKSB7XG4gICAgLy8gUmVtb3ZlIHdyYXBwZXIgZGVjb3JhdG9ycyAoYnJhbmQsIHRyYW5zZm9ybSwgZXRjLikgYmVmb3JlIGF0dGVtcHRpbmcgdG9cbiAgICAvLyBjbGFzc2lmeSB0aGUgbm9kZSwgdHJhY2tpbmcgd2hldGhlciB3ZSBjcm9zc2VkIGFuIGBvcHRpb25hbGAgYm91bmRhcnkgc28gd2VcbiAgICAvLyBjYW4gcG9wdWxhdGUgdGhlIGByZXF1aXJlZGAgYXJyYXkgbGF0ZXIuXG4gICAgbGV0IGN1cnJlbnQgPSB1bndyYXBEZWNvcmF0b3JzKHZhbHVlKTtcbiAgICBsZXQgb3B0aW9uYWwgPSBmYWxzZTtcbiAgICB3aGlsZSAoT1BUSU9OQUxfV1JBUFBFUlMuaGFzKHJlYWRab2RUeXBlKGN1cnJlbnQpID8/ICcnKSkge1xuICAgICAgICBvcHRpb25hbCA9IHRydWU7XG4gICAgICAgIGNvbnN0IGRlZiA9IHJlYWRab2REZWZpbml0aW9uKGN1cnJlbnQpO1xuICAgICAgICBjb25zdCBuZXh0ID0gdW53cmFwRGVjb3JhdG9ycyhkZWY/LmlubmVyVHlwZSk7XG4gICAgICAgIGlmICghbmV4dCB8fCBuZXh0ID09PSBjdXJyZW50KSB7XG4gICAgICAgICAgICBicmVhaztcbiAgICAgICAgfVxuICAgICAgICBjdXJyZW50ID0gbmV4dDtcbiAgICB9XG4gICAgcmV0dXJuIHsgc2NoZW1hOiBjb252ZXJ0U2NoZW1hKGN1cnJlbnQpLCBvcHRpb25hbCB9O1xufVxuZnVuY3Rpb24gY29udmVydFNjaGVtYSh2YWx1ZSkge1xuICAgIGlmICh2YWx1ZSA9PT0gdW5kZWZpbmVkKSB7XG4gICAgICAgIHJldHVybiB1bmRlZmluZWQ7XG4gICAgfVxuICAgIGNvbnN0IHVud3JhcHBlZCA9IHVud3JhcERlY29yYXRvcnModmFsdWUpO1xuICAgIGNvbnN0IHR5cGUgPSByZWFkWm9kVHlwZSh1bndyYXBwZWQpO1xuICAgIGNvbnN0IGRlZiA9IHJlYWRab2REZWZpbml0aW9uKHVud3JhcHBlZCk7XG4gICAgaWYgKCF0eXBlKSB7XG4gICAgICAgIHJldHVybiB1bmRlZmluZWQ7XG4gICAgfVxuICAgIGlmICh0eXBlIGluIFNJTVBMRV9UWVBFX01BUFBJTkcpIHtcbiAgICAgICAgcmV0dXJuIFNJTVBMRV9UWVBFX01BUFBJTkdbdHlwZV07XG4gICAgfVxuICAgIHN3aXRjaCAodHlwZSkge1xuICAgICAgICBjYXNlICdvYmplY3QnOlxuICAgICAgICAgICAgcmV0dXJuIGJ1aWxkT2JqZWN0U2NoZW1hKHVud3JhcHBlZCk7XG4gICAgICAgIGNhc2UgJ2FycmF5JzpcbiAgICAgICAgICAgIHJldHVybiBidWlsZEFycmF5U2NoZW1hKGRlZik7XG4gICAgICAgIGNhc2UgJ3R1cGxlJzpcbiAgICAgICAgICAgIHJldHVybiBidWlsZFR1cGxlU2NoZW1hKGRlZik7XG4gICAgICAgIGNhc2UgJ3VuaW9uJzpcbiAgICAgICAgICAgIHJldHVybiBidWlsZFVuaW9uU2NoZW1hKGRlZik7XG4gICAgICAgIGNhc2UgJ2ludGVyc2VjdGlvbic6XG4gICAgICAgICAgICByZXR1cm4gYnVpbGRJbnRlcnNlY3Rpb25TY2hlbWEoZGVmKTtcbiAgICAgICAgY2FzZSAnbGl0ZXJhbCc6XG4gICAgICAgICAgICByZXR1cm4gYnVpbGRMaXRlcmFsKGRlZik7XG4gICAgICAgIGNhc2UgJ2VudW0nOlxuICAgICAgICBjYXNlICduYXRpdmVlbnVtJzpcbiAgICAgICAgICAgIHJldHVybiBidWlsZEVudW0oZGVmKTtcbiAgICAgICAgY2FzZSAncmVjb3JkJzpcbiAgICAgICAgICAgIHJldHVybiBidWlsZFJlY29yZFNjaGVtYShkZWYpO1xuICAgICAgICBjYXNlICdtYXAnOlxuICAgICAgICAgICAgcmV0dXJuIGJ1aWxkTWFwU2NoZW1hKGRlZik7XG4gICAgICAgIGNhc2UgJ3NldCc6XG4gICAgICAgICAgICByZXR1cm4gYnVpbGRTZXRTY2hlbWEoZGVmKTtcbiAgICAgICAgY2FzZSAnbnVsbGFibGUnOlxuICAgICAgICAgICAgcmV0dXJuIGJ1aWxkTnVsbGFibGVTY2hlbWEoZGVmKTtcbiAgICAgICAgZGVmYXVsdDpcbiAgICAgICAgICAgIHJldHVybiB1bmRlZmluZWQ7XG4gICAgfVxufVxuLy8gLS0tIEpTT04gU2NoZW1hIGJ1aWxkZXJzIC0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS1cbmZ1bmN0aW9uIGJ1aWxkQXJyYXlTY2hlbWEoZGVmKSB7XG4gICAgY29uc3QgaXRlbXMgPSBjb252ZXJ0U2NoZW1hKGV4dHJhY3RGaXJzdChkZWYsICdlbGVtZW50JywgJ2l0ZW1zJywgJ3R5cGUnKSk7XG4gICAgcmV0dXJuIGl0ZW1zID8geyB0eXBlOiAnYXJyYXknLCBpdGVtcyB9IDogdW5kZWZpbmVkO1xufVxuZnVuY3Rpb24gYnVpbGRUdXBsZVNjaGVtYShkZWYpIHtcbiAgICBjb25zdCBpdGVtcyA9IGNvZXJjZUFycmF5KGRlZj8uaXRlbXMpXG4gICAgICAgIC5tYXAoKGl0ZW0pID0+IGNvbnZlcnRTY2hlbWEoaXRlbSkpXG4gICAgICAgIC5maWx0ZXIoQm9vbGVhbik7XG4gICAgaWYgKCFpdGVtcy5sZW5ndGgpIHtcbiAgICAgICAgcmV0dXJuIHVuZGVmaW5lZDtcbiAgICB9XG4gICAgY29uc3Qgc2NoZW1hID0ge1xuICAgICAgICB0eXBlOiAnYXJyYXknLFxuICAgICAgICBpdGVtcyxcbiAgICAgICAgbWluSXRlbXM6IGl0ZW1zLmxlbmd0aCxcbiAgICB9O1xuICAgIGlmICghZGVmPy5yZXN0KSB7XG4gICAgICAgIHNjaGVtYS5tYXhJdGVtcyA9IGl0ZW1zLmxlbmd0aDtcbiAgICB9XG4gICAgcmV0dXJuIHNjaGVtYTtcbn1cbmZ1bmN0aW9uIGJ1aWxkVW5pb25TY2hlbWEoZGVmKSB7XG4gICAgY29uc3Qgb3B0aW9ucyA9IGNvZXJjZUFycmF5KGRlZj8ub3B0aW9ucyA/PyBkZWY/LnNjaGVtYXMpXG4gICAgICAgIC5tYXAoKG9wdGlvbikgPT4gY29udmVydFNjaGVtYShvcHRpb24pKVxuICAgICAgICAuZmlsdGVyKEJvb2xlYW4pO1xuICAgIHJldHVybiBvcHRpb25zLmxlbmd0aCA/IHsgYW55T2Y6IG9wdGlvbnMgfSA6IHVuZGVmaW5lZDtcbn1cbmZ1bmN0aW9uIGJ1aWxkSW50ZXJzZWN0aW9uU2NoZW1hKGRlZikge1xuICAgIGNvbnN0IGxlZnQgPSBjb252ZXJ0U2NoZW1hKGRlZj8ubGVmdCk7XG4gICAgY29uc3QgcmlnaHQgPSBjb252ZXJ0U2NoZW1hKGRlZj8ucmlnaHQpO1xuICAgIHJldHVybiBsZWZ0ICYmIHJpZ2h0ID8geyBhbGxPZjogW2xlZnQsIHJpZ2h0XSB9IDogdW5kZWZpbmVkO1xufVxuZnVuY3Rpb24gYnVpbGRSZWNvcmRTY2hlbWEoZGVmKSB7XG4gICAgY29uc3QgdmFsdWVTY2hlbWEgPSBjb252ZXJ0U2NoZW1hKGRlZj8udmFsdWVUeXBlID8/IGRlZj8udmFsdWVzKTtcbiAgICByZXR1cm4gdmFsdWVTY2hlbWFcbiAgICAgICAgPyB7IHR5cGU6ICdvYmplY3QnLCBhZGRpdGlvbmFsUHJvcGVydGllczogdmFsdWVTY2hlbWEgfVxuICAgICAgICA6IHVuZGVmaW5lZDtcbn1cbmZ1bmN0aW9uIGJ1aWxkTWFwU2NoZW1hKGRlZikge1xuICAgIGNvbnN0IHZhbHVlU2NoZW1hID0gY29udmVydFNjaGVtYShkZWY/LnZhbHVlVHlwZSA/PyBkZWY/LnZhbHVlcyk7XG4gICAgcmV0dXJuIHZhbHVlU2NoZW1hID8geyB0eXBlOiAnYXJyYXknLCBpdGVtczogdmFsdWVTY2hlbWEgfSA6IHVuZGVmaW5lZDtcbn1cbmZ1bmN0aW9uIGJ1aWxkU2V0U2NoZW1hKGRlZikge1xuICAgIGNvbnN0IHZhbHVlU2NoZW1hID0gY29udmVydFNjaGVtYShkZWY/LnZhbHVlVHlwZSk7XG4gICAgcmV0dXJuIHZhbHVlU2NoZW1hXG4gICAgICAgID8geyB0eXBlOiAnYXJyYXknLCBpdGVtczogdmFsdWVTY2hlbWEsIHVuaXF1ZUl0ZW1zOiB0cnVlIH1cbiAgICAgICAgOiB1bmRlZmluZWQ7XG59XG5mdW5jdGlvbiBidWlsZE51bGxhYmxlU2NoZW1hKGRlZikge1xuICAgIGNvbnN0IGlubmVyID0gY29udmVydFNjaGVtYShkZWY/LmlubmVyVHlwZSA/PyBkZWY/LnR5cGUpO1xuICAgIHJldHVybiBpbm5lciA/IHsgYW55T2Y6IFtpbm5lciwgeyB0eXBlOiAnbnVsbCcgfV0gfSA6IHVuZGVmaW5lZDtcbn1cbmZ1bmN0aW9uIHVud3JhcERlY29yYXRvcnModmFsdWUpIHtcbiAgICBsZXQgY3VycmVudCA9IHZhbHVlO1xuICAgIHdoaWxlIChERUNPUkFUT1JfV1JBUFBFUlMuaGFzKHJlYWRab2RUeXBlKGN1cnJlbnQpID8/ICcnKSkge1xuICAgICAgICBjb25zdCBkZWYgPSByZWFkWm9kRGVmaW5pdGlvbihjdXJyZW50KTtcbiAgICAgICAgY29uc3QgbmV4dCA9IGRlZj8uaW5uZXJUeXBlID8/XG4gICAgICAgICAgICBkZWY/LnNjaGVtYSA/P1xuICAgICAgICAgICAgZGVmPy5iYXNlID8/XG4gICAgICAgICAgICBkZWY/LnR5cGUgPz9cbiAgICAgICAgICAgIGRlZj8ud3JhcHBlZCA/P1xuICAgICAgICAgICAgZGVmPy51bmRlcmx5aW5nO1xuICAgICAgICBpZiAoIW5leHQgfHwgbmV4dCA9PT0gY3VycmVudCkge1xuICAgICAgICAgICAgcmV0dXJuIGN1cnJlbnQ7XG4gICAgICAgIH1cbiAgICAgICAgY3VycmVudCA9IG5leHQ7XG4gICAgfVxuICAgIHJldHVybiBjdXJyZW50O1xufVxuZnVuY3Rpb24gZXh0cmFjdEZpcnN0KGRlZiwgLi4ua2V5cykge1xuICAgIGlmICghZGVmKSB7XG4gICAgICAgIHJldHVybiB1bmRlZmluZWQ7XG4gICAgfVxuICAgIGZvciAoY29uc3Qga2V5IG9mIGtleXMpIHtcbiAgICAgICAgaWYgKGtleSBpbiBkZWYgJiYgZGVmW2tleV0gIT09IHVuZGVmaW5lZCkge1xuICAgICAgICAgICAgcmV0dXJuIGRlZltrZXldO1xuICAgICAgICB9XG4gICAgfVxuICAgIHJldHVybiB1bmRlZmluZWQ7XG59XG5mdW5jdGlvbiBjb2VyY2VBcnJheSh2YWx1ZSkge1xuICAgIGlmIChBcnJheS5pc0FycmF5KHZhbHVlKSkge1xuICAgICAgICByZXR1cm4gdmFsdWU7XG4gICAgfVxuICAgIHJldHVybiB2YWx1ZSA9PT0gdW5kZWZpbmVkID8gW10gOiBbdmFsdWVdO1xufVxuZnVuY3Rpb24gYnVpbGRMaXRlcmFsKGRlZikge1xuICAgIGlmICghZGVmKSB7XG4gICAgICAgIHJldHVybiB1bmRlZmluZWQ7XG4gICAgfVxuICAgIGNvbnN0IGxpdGVyYWwgPSBleHRyYWN0Rmlyc3QoZGVmLCAndmFsdWUnLCAnbGl0ZXJhbCcpO1xuICAgIGlmIChsaXRlcmFsID09PSB1bmRlZmluZWQpIHtcbiAgICAgICAgcmV0dXJuIHVuZGVmaW5lZDtcbiAgICB9XG4gICAgcmV0dXJuIHtcbiAgICAgICAgY29uc3Q6IGxpdGVyYWwsXG4gICAgICAgIHR5cGU6IGxpdGVyYWwgPT09IG51bGwgPyAnbnVsbCcgOiB0eXBlb2YgbGl0ZXJhbCxcbiAgICB9O1xufVxuZnVuY3Rpb24gYnVpbGRFbnVtKGRlZikge1xuICAgIGlmICghZGVmKSB7XG4gICAgICAgIHJldHVybiB1bmRlZmluZWQ7XG4gICAgfVxuICAgIGlmIChBcnJheS5pc0FycmF5KGRlZi52YWx1ZXMpKSB7XG4gICAgICAgIHJldHVybiB7IGVudW06IGRlZi52YWx1ZXMgfTtcbiAgICB9XG4gICAgaWYgKEFycmF5LmlzQXJyYXkoZGVmLm9wdGlvbnMpKSB7XG4gICAgICAgIHJldHVybiB7IGVudW06IGRlZi5vcHRpb25zIH07XG4gICAgfVxuICAgIGlmIChkZWYudmFsdWVzICYmIHR5cGVvZiBkZWYudmFsdWVzID09PSAnb2JqZWN0Jykge1xuICAgICAgICByZXR1cm4geyBlbnVtOiBPYmplY3QudmFsdWVzKGRlZi52YWx1ZXMpIH07XG4gICAgfVxuICAgIGlmIChkZWYuZW51bSAmJiB0eXBlb2YgZGVmLmVudW0gPT09ICdvYmplY3QnKSB7XG4gICAgICAgIHJldHVybiB7IGVudW06IE9iamVjdC52YWx1ZXMoZGVmLmVudW0pIH07XG4gICAgfVxuICAgIHJldHVybiB1bmRlZmluZWQ7XG59XG5mdW5jdGlvbiByZWFkU2hhcGUoaW5wdXQpIHtcbiAgICBpZiAodHlwZW9mIGlucHV0ICE9PSAnb2JqZWN0JyB8fCBpbnB1dCA9PT0gbnVsbCkge1xuICAgICAgICByZXR1cm4gdW5kZWZpbmVkO1xuICAgIH1cbiAgICBjb25zdCBjYW5kaWRhdGUgPSBpbnB1dDtcbiAgICBpZiAoY2FuZGlkYXRlLnNoYXBlICYmIHR5cGVvZiBjYW5kaWRhdGUuc2hhcGUgPT09ICdvYmplY3QnKSB7XG4gICAgICAgIHJldHVybiBjYW5kaWRhdGUuc2hhcGU7XG4gICAgfVxuICAgIGlmICh0eXBlb2YgY2FuZGlkYXRlLnNoYXBlID09PSAnZnVuY3Rpb24nKSB7XG4gICAgICAgIHRyeSB7XG4gICAgICAgICAgICByZXR1cm4gY2FuZGlkYXRlLnNoYXBlKCk7XG4gICAgICAgIH1cbiAgICAgICAgY2F0Y2ggKF9lcnJvcikge1xuICAgICAgICAgICAgcmV0dXJuIHVuZGVmaW5lZDtcbiAgICAgICAgfVxuICAgIH1cbiAgICBjb25zdCBkZWYgPSByZWFkWm9kRGVmaW5pdGlvbihjYW5kaWRhdGUpO1xuICAgIGNvbnN0IHNoYXBlID0gZGVmPy5zaGFwZTtcbiAgICBpZiAoc2hhcGUgJiYgdHlwZW9mIHNoYXBlID09PSAnb2JqZWN0Jykge1xuICAgICAgICByZXR1cm4gc2hhcGU7XG4gICAgfVxuICAgIGlmICh0eXBlb2Ygc2hhcGUgPT09ICdmdW5jdGlvbicpIHtcbiAgICAgICAgdHJ5IHtcbiAgICAgICAgICAgIHJldHVybiBzaGFwZSgpO1xuICAgICAgICB9XG4gICAgICAgIGNhdGNoIChfZXJyb3IpIHtcbiAgICAgICAgICAgIHJldHVybiB1bmRlZmluZWQ7XG4gICAgICAgIH1cbiAgICB9XG4gICAgcmV0dXJuIHVuZGVmaW5lZDtcbn1cbi8vIyBzb3VyY2VNYXBwaW5nVVJMPXpvZEpzb25TY2hlbWFDb21wYXQubWpzLm1hcCIsImltcG9ydCB7IHpvZFJlc3BvbnNlc0Z1bmN0aW9uLCB6b2RUZXh0Rm9ybWF0IH0gZnJvbSAnb3BlbmFpL2hlbHBlcnMvem9kJztcbmltcG9ydCB7IFVzZXJFcnJvciB9IGZyb20gXCIuLi9lcnJvcnMubWpzXCI7XG5pbXBvcnQgeyBpc1pvZE9iamVjdCB9IGZyb20gXCIuL3R5cGVHdWFyZHMubWpzXCI7XG5pbXBvcnQgeyB6b2RKc29uU2NoZW1hQ29tcGF0LCBoYXNKc29uU2NoZW1hT2JqZWN0U2hhcGUsIH0gZnJvbSBcIi4vem9kSnNvblNjaGVtYUNvbXBhdC5tanNcIjtcbmltcG9ydCB7IGFzWm9kVHlwZSB9IGZyb20gXCIuL3pvZENvbXBhdC5tanNcIjtcbmNvbnN0IHpvZFJlc3BvbnNlc0Z1bmN0aW9uQ29tcGF0ID0gem9kUmVzcG9uc2VzRnVuY3Rpb247XG4vLyBUaGUgYC5zY2hlbWFgIHBheWxvYWQgaXMgYWxsIHdlIG5lZWQsIHNvIGEgbGlnaHR3ZWlnaHQgc2lnbmF0dXJlIGtlZXBzIHRoZSBjb21waWxlciBoYXBweS5cbmNvbnN0IHpvZFRleHRGb3JtYXRDb21wYXQgPSB6b2RUZXh0Rm9ybWF0O1xuLy8gb3BlbmFpL2hlbHBlcnMvem9kIGNhbm5vdCBlbWl0IHN0cmljdCBzY2hlbWFzIGZvciBldmVyeSBab2QgcnVudGltZVxuLy8gKG5vdGFibHkgWm9kIHY0KSwgc28gd2UgZGVsZWdhdGUgdG8gYSBzbWFsbCBsb2NhbCBjb252ZXJ0ZXIgbGl2aW5nIGluXG4vLyB6b2RKc29uU2NoZW1hQ29tcGF0LnRzIHdoZW5ldmVyIGl0cyBvdXRwdXQgaXMgbWlzc2luZyB0aGUgcmVxdWlyZWQgSlNPTiBTY2hlbWEgYml0cy5cbmZ1bmN0aW9uIGJ1aWxkSnNvblNjaGVtYUZyb21ab2QoaW5wdXRUeXBlKSB7XG4gICAgcmV0dXJuIHpvZEpzb25TY2hlbWFDb21wYXQoaW5wdXRUeXBlKTtcbn1cbi8qKlxuICogQ29udmVydCBhIHN0cmluZyB0byBhIGZ1bmN0aW9uIHRvb2wgbmFtZSBieSByZXBsYWNpbmcgc3BhY2VzIHdpdGggdW5kZXJzY29yZXMgYW5kXG4gKiBub24tYWxwaGFudW1lcmljIGNoYXJhY3RlcnMgd2l0aCB1bmRlcnNjb3Jlcy5cbiAqIEBwYXJhbSBuYW1lIC0gVGhlIG5hbWUgb2YgdGhlIHRvb2wuXG4gKiBAcmV0dXJucyBUaGUgZnVuY3Rpb24gdG9vbCBuYW1lLlxuICovXG5leHBvcnQgZnVuY3Rpb24gdG9GdW5jdGlvblRvb2xOYW1lKG5hbWUpIHtcbiAgICAvLyBSZXBsYWNlIHNwYWNlcyB3aXRoIHVuZGVyc2NvcmVzXG4gICAgbmFtZSA9IG5hbWUucmVwbGFjZSgvXFxzL2csICdfJyk7XG4gICAgLy8gUmVwbGFjZSBub24tYWxwaGFudW1lcmljIGNoYXJhY3RlcnMgd2l0aCB1bmRlcnNjb3Jlc1xuICAgIG5hbWUgPSBuYW1lLnJlcGxhY2UoL1teYS16QS1aMC05XS9nLCAnXycpO1xuICAgIC8vIEVuc3VyZSB0aGUgbmFtZSBpcyBub3QgZW1wdHlcbiAgICBpZiAobmFtZS5sZW5ndGggPT09IDApIHtcbiAgICAgICAgdGhyb3cgbmV3IEVycm9yKCdUb29sIG5hbWUgY2Fubm90IGJlIGVtcHR5Jyk7XG4gICAgfVxuICAgIHJldHVybiBuYW1lO1xufVxuLyoqXG4gKiBHZXQgdGhlIHNjaGVtYSBhbmQgcGFyc2VyIGZyb20gYW4gaW5wdXQgdHlwZS4gSWYgdGhlIGlucHV0IHR5cGUgaXMgYSBab2RPYmplY3QsIHdlIHdpbGwgY29udmVydFxuICogaXQgaW50byBhIEpTT04gU2NoZW1hIGFuZCB1c2UgWm9kIGFzIHBhcnNlci4gSWYgdGhlIGlucHV0IHR5cGUgaXMgYSBKU09OIHNjaGVtYSwgd2UgdXNlIHRoZVxuICogSlNPTi5wYXJzZSBmdW5jdGlvbiB0byBnZXQgdGhlIHBhcnNlci5cbiAqIEBwYXJhbSBpbnB1dFR5cGUgLSBUaGUgaW5wdXQgdHlwZSB0byBnZXQgdGhlIHNjaGVtYSBhbmQgcGFyc2VyIGZyb20uXG4gKiBAcGFyYW0gbmFtZSAtIFRoZSBuYW1lIG9mIHRoZSB0b29sLlxuICogQHJldHVybnMgVGhlIHNjaGVtYSBhbmQgcGFyc2VyLlxuICovXG5leHBvcnQgZnVuY3Rpb24gZ2V0U2NoZW1hQW5kUGFyc2VyRnJvbUlucHV0VHlwZShpbnB1dFR5cGUsIG5hbWUpIHtcbiAgICBjb25zdCBwYXJzZXIgPSAoaW5wdXQpID0+IEpTT04ucGFyc2UoaW5wdXQpO1xuICAgIGlmIChpc1pvZE9iamVjdChpbnB1dFR5cGUpKSB7XG4gICAgICAgIGNvbnN0IHVzZUZhbGxiYWNrID0gKG9yaWdpbmFsRXJyb3IpID0+IHtcbiAgICAgICAgICAgIGNvbnN0IGZhbGxiYWNrU2NoZW1hID0gYnVpbGRKc29uU2NoZW1hRnJvbVpvZChpbnB1dFR5cGUpO1xuICAgICAgICAgICAgaWYgKGZhbGxiYWNrU2NoZW1hKSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuIHtcbiAgICAgICAgICAgICAgICAgICAgc2NoZW1hOiBmYWxsYmFja1NjaGVtYSxcbiAgICAgICAgICAgICAgICAgICAgcGFyc2VyOiAocmF3SW5wdXQpID0+IGlucHV0VHlwZS5wYXJzZShKU09OLnBhcnNlKHJhd0lucHV0KSksXG4gICAgICAgICAgICAgICAgfTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGNvbnN0IGVycm9yTWVzc2FnZSA9IG9yaWdpbmFsRXJyb3IgaW5zdGFuY2VvZiBFcnJvclxuICAgICAgICAgICAgICAgID8gYCBVcHN0cmVhbSBoZWxwZXIgZXJyb3I6ICR7b3JpZ2luYWxFcnJvci5tZXNzYWdlfWBcbiAgICAgICAgICAgICAgICA6ICcnO1xuICAgICAgICAgICAgdGhyb3cgbmV3IFVzZXJFcnJvcihgVW5hYmxlIHRvIGNvbnZlcnQgdGhlIHByb3ZpZGVkIFpvZCBzY2hlbWEgdG8gSlNPTiBTY2hlbWEuIEVuc3VyZSB0aGF0IHRoZSBcXGB6b2RcXGAgcGFja2FnZSBpcyBhdmFpbGFibGUgYXQgcnVudGltZSBvciBwcm92aWRlIGEgSlNPTiBzY2hlbWEgb2JqZWN0IGluc3RlYWQuJHtlcnJvck1lc3NhZ2V9YCk7XG4gICAgICAgIH07XG4gICAgICAgIGxldCBmb3JtYXR0ZWRGdW5jdGlvbjtcbiAgICAgICAgdHJ5IHtcbiAgICAgICAgICAgIGZvcm1hdHRlZEZ1bmN0aW9uID0gem9kUmVzcG9uc2VzRnVuY3Rpb25Db21wYXQoe1xuICAgICAgICAgICAgICAgIG5hbWUsXG4gICAgICAgICAgICAgICAgcGFyYW1ldGVyczogYXNab2RUeXBlKGlucHV0VHlwZSksXG4gICAgICAgICAgICAgICAgZnVuY3Rpb246ICgpID0+IHsgfSwgLy8gZW1wdHkgZnVuY3Rpb24gaGVyZSB0byBzYXRpc2Z5IHRoZSBPcGVuQUkgaGVscGVyXG4gICAgICAgICAgICAgICAgZGVzY3JpcHRpb246ICcnLFxuICAgICAgICAgICAgfSk7XG4gICAgICAgIH1cbiAgICAgICAgY2F0Y2ggKGVycm9yKSB7XG4gICAgICAgICAgICByZXR1cm4gdXNlRmFsbGJhY2soZXJyb3IpO1xuICAgICAgICB9XG4gICAgICAgIGlmIChoYXNKc29uU2NoZW1hT2JqZWN0U2hhcGUoZm9ybWF0dGVkRnVuY3Rpb24ucGFyYW1ldGVycykpIHtcbiAgICAgICAgICAgIHJldHVybiB7XG4gICAgICAgICAgICAgICAgc2NoZW1hOiBmb3JtYXR0ZWRGdW5jdGlvbi5wYXJhbWV0ZXJzLFxuICAgICAgICAgICAgICAgIHBhcnNlcjogZm9ybWF0dGVkRnVuY3Rpb24uJHBhcnNlUmF3LFxuICAgICAgICAgICAgfTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gdXNlRmFsbGJhY2soKTtcbiAgICB9XG4gICAgZWxzZSBpZiAodHlwZW9mIGlucHV0VHlwZSA9PT0gJ29iamVjdCcgJiYgaW5wdXRUeXBlICE9PSBudWxsKSB7XG4gICAgICAgIHJldHVybiB7XG4gICAgICAgICAgICBzY2hlbWE6IGlucHV0VHlwZSxcbiAgICAgICAgICAgIHBhcnNlcixcbiAgICAgICAgfTtcbiAgICB9XG4gICAgdGhyb3cgbmV3IFVzZXJFcnJvcignSW5wdXQgdHlwZSBpcyBub3QgYSBab2RPYmplY3Qgb3IgYSB2YWxpZCBKU09OIHNjaGVtYScpO1xufVxuLyoqXG4gKiBDb252ZXJ0cyB0aGUgYWdlbnQgb3V0cHV0IHR5cGUgcHJvdmlkZWQgdG8gYSBzZXJpYWxpemFibGUgdmVyc2lvblxuICovXG5leHBvcnQgZnVuY3Rpb24gY29udmVydEFnZW50T3V0cHV0VHlwZVRvU2VyaWFsaXphYmxlKG91dHB1dFR5cGUpIHtcbiAgICBpZiAob3V0cHV0VHlwZSA9PT0gJ3RleHQnKSB7XG4gICAgICAgIHJldHVybiAndGV4dCc7XG4gICAgfVxuICAgIGlmIChpc1pvZE9iamVjdChvdXRwdXRUeXBlKSkge1xuICAgICAgICBjb25zdCB1c2VGYWxsYmFjayA9IChleGlzdGluZywgb3JpZ2luYWxFcnJvcikgPT4ge1xuICAgICAgICAgICAgY29uc3QgZmFsbGJhY2tTY2hlbWEgPSBidWlsZEpzb25TY2hlbWFGcm9tWm9kKG91dHB1dFR5cGUpO1xuICAgICAgICAgICAgaWYgKGZhbGxiYWNrU2NoZW1hKSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuIHtcbiAgICAgICAgICAgICAgICAgICAgdHlwZTogZXhpc3Rpbmc/LnR5cGUgPz8gJ2pzb25fc2NoZW1hJyxcbiAgICAgICAgICAgICAgICAgICAgbmFtZTogZXhpc3Rpbmc/Lm5hbWUgPz8gJ291dHB1dCcsXG4gICAgICAgICAgICAgICAgICAgIHN0cmljdDogZXhpc3Rpbmc/LnN0cmljdCA/PyBmYWxzZSxcbiAgICAgICAgICAgICAgICAgICAgc2NoZW1hOiBmYWxsYmFja1NjaGVtYSxcbiAgICAgICAgICAgICAgICB9O1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgY29uc3QgZXJyb3JNZXNzYWdlID0gb3JpZ2luYWxFcnJvciBpbnN0YW5jZW9mIEVycm9yXG4gICAgICAgICAgICAgICAgPyBgIFVwc3RyZWFtIGhlbHBlciBlcnJvcjogJHtvcmlnaW5hbEVycm9yLm1lc3NhZ2V9YFxuICAgICAgICAgICAgICAgIDogJyc7XG4gICAgICAgICAgICB0aHJvdyBuZXcgVXNlckVycm9yKGBVbmFibGUgdG8gY29udmVydCB0aGUgcHJvdmlkZWQgWm9kIHNjaGVtYSB0byBKU09OIFNjaGVtYS4gRW5zdXJlIHRoYXQgdGhlIFxcYHpvZFxcYCBwYWNrYWdlIGlzIGF2YWlsYWJsZSBhdCBydW50aW1lIG9yIHByb3ZpZGUgYSBKU09OIHNjaGVtYSBvYmplY3QgaW5zdGVhZC4ke2Vycm9yTWVzc2FnZX1gKTtcbiAgICAgICAgfTtcbiAgICAgICAgbGV0IG91dHB1dDtcbiAgICAgICAgdHJ5IHtcbiAgICAgICAgICAgIG91dHB1dCA9IHpvZFRleHRGb3JtYXRDb21wYXQoYXNab2RUeXBlKG91dHB1dFR5cGUpLCAnb3V0cHV0Jyk7XG4gICAgICAgIH1cbiAgICAgICAgY2F0Y2ggKGVycm9yKSB7XG4gICAgICAgICAgICByZXR1cm4gdXNlRmFsbGJhY2sodW5kZWZpbmVkLCBlcnJvcik7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKGhhc0pzb25TY2hlbWFPYmplY3RTaGFwZShvdXRwdXQuc2NoZW1hKSkge1xuICAgICAgICAgICAgcmV0dXJuIHtcbiAgICAgICAgICAgICAgICB0eXBlOiBvdXRwdXQudHlwZSxcbiAgICAgICAgICAgICAgICBuYW1lOiBvdXRwdXQubmFtZSxcbiAgICAgICAgICAgICAgICBzdHJpY3Q6IG91dHB1dC5zdHJpY3QgfHwgZmFsc2UsXG4gICAgICAgICAgICAgICAgc2NoZW1hOiBvdXRwdXQuc2NoZW1hLFxuICAgICAgICAgICAgfTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gdXNlRmFsbGJhY2sob3V0cHV0KTtcbiAgICB9XG4gICAgcmV0dXJuIG91dHB1dFR5cGU7XG59XG4vLyMgc291cmNlTWFwcGluZ1VSTD10b29scy5tanMubWFwIiwiLyoqXG4gKiBIZWxwZXJzLlxuICovXG5cbnZhciBzID0gMTAwMDtcbnZhciBtID0gcyAqIDYwO1xudmFyIGggPSBtICogNjA7XG52YXIgZCA9IGggKiAyNDtcbnZhciB3ID0gZCAqIDc7XG52YXIgeSA9IGQgKiAzNjUuMjU7XG5cbi8qKlxuICogUGFyc2Ugb3IgZm9ybWF0IHRoZSBnaXZlbiBgdmFsYC5cbiAqXG4gKiBPcHRpb25zOlxuICpcbiAqICAtIGBsb25nYCB2ZXJib3NlIGZvcm1hdHRpbmcgW2ZhbHNlXVxuICpcbiAqIEBwYXJhbSB7U3RyaW5nfE51bWJlcn0gdmFsXG4gKiBAcGFyYW0ge09iamVjdH0gW29wdGlvbnNdXG4gKiBAdGhyb3dzIHtFcnJvcn0gdGhyb3cgYW4gZXJyb3IgaWYgdmFsIGlzIG5vdCBhIG5vbi1lbXB0eSBzdHJpbmcgb3IgYSBudW1iZXJcbiAqIEByZXR1cm4ge1N0cmluZ3xOdW1iZXJ9XG4gKiBAYXBpIHB1YmxpY1xuICovXG5cbm1vZHVsZS5leHBvcnRzID0gZnVuY3Rpb24gKHZhbCwgb3B0aW9ucykge1xuICBvcHRpb25zID0gb3B0aW9ucyB8fCB7fTtcbiAgdmFyIHR5cGUgPSB0eXBlb2YgdmFsO1xuICBpZiAodHlwZSA9PT0gJ3N0cmluZycgJiYgdmFsLmxlbmd0aCA+IDApIHtcbiAgICByZXR1cm4gcGFyc2UodmFsKTtcbiAgfSBlbHNlIGlmICh0eXBlID09PSAnbnVtYmVyJyAmJiBpc0Zpbml0ZSh2YWwpKSB7XG4gICAgcmV0dXJuIG9wdGlvbnMubG9uZyA/IGZtdExvbmcodmFsKSA6IGZtdFNob3J0KHZhbCk7XG4gIH1cbiAgdGhyb3cgbmV3IEVycm9yKFxuICAgICd2YWwgaXMgbm90IGEgbm9uLWVtcHR5IHN0cmluZyBvciBhIHZhbGlkIG51bWJlci4gdmFsPScgK1xuICAgICAgSlNPTi5zdHJpbmdpZnkodmFsKVxuICApO1xufTtcblxuLyoqXG4gKiBQYXJzZSB0aGUgZ2l2ZW4gYHN0cmAgYW5kIHJldHVybiBtaWxsaXNlY29uZHMuXG4gKlxuICogQHBhcmFtIHtTdHJpbmd9IHN0clxuICogQHJldHVybiB7TnVtYmVyfVxuICogQGFwaSBwcml2YXRlXG4gKi9cblxuZnVuY3Rpb24gcGFyc2Uoc3RyKSB7XG4gIHN0ciA9IFN0cmluZyhzdHIpO1xuICBpZiAoc3RyLmxlbmd0aCA+IDEwMCkge1xuICAgIHJldHVybjtcbiAgfVxuICB2YXIgbWF0Y2ggPSAvXigtPyg/OlxcZCspP1xcLj9cXGQrKSAqKG1pbGxpc2Vjb25kcz98bXNlY3M/fG1zfHNlY29uZHM/fHNlY3M/fHN8bWludXRlcz98bWlucz98bXxob3Vycz98aHJzP3xofGRheXM/fGR8d2Vla3M/fHd8eWVhcnM/fHlycz98eSk/JC9pLmV4ZWMoXG4gICAgc3RyXG4gICk7XG4gIGlmICghbWF0Y2gpIHtcbiAgICByZXR1cm47XG4gIH1cbiAgdmFyIG4gPSBwYXJzZUZsb2F0KG1hdGNoWzFdKTtcbiAgdmFyIHR5cGUgPSAobWF0Y2hbMl0gfHwgJ21zJykudG9Mb3dlckNhc2UoKTtcbiAgc3dpdGNoICh0eXBlKSB7XG4gICAgY2FzZSAneWVhcnMnOlxuICAgIGNhc2UgJ3llYXInOlxuICAgIGNhc2UgJ3lycyc6XG4gICAgY2FzZSAneXInOlxuICAgIGNhc2UgJ3knOlxuICAgICAgcmV0dXJuIG4gKiB5O1xuICAgIGNhc2UgJ3dlZWtzJzpcbiAgICBjYXNlICd3ZWVrJzpcbiAgICBjYXNlICd3JzpcbiAgICAgIHJldHVybiBuICogdztcbiAgICBjYXNlICdkYXlzJzpcbiAgICBjYXNlICdkYXknOlxuICAgIGNhc2UgJ2QnOlxuICAgICAgcmV0dXJuIG4gKiBkO1xuICAgIGNhc2UgJ2hvdXJzJzpcbiAgICBjYXNlICdob3VyJzpcbiAgICBjYXNlICdocnMnOlxuICAgIGNhc2UgJ2hyJzpcbiAgICBjYXNlICdoJzpcbiAgICAgIHJldHVybiBuICogaDtcbiAgICBjYXNlICdtaW51dGVzJzpcbiAgICBjYXNlICdtaW51dGUnOlxuICAgIGNhc2UgJ21pbnMnOlxuICAgIGNhc2UgJ21pbic6XG4gICAgY2FzZSAnbSc6XG4gICAgICByZXR1cm4gbiAqIG07XG4gICAgY2FzZSAnc2Vjb25kcyc6XG4gICAgY2FzZSAnc2Vjb25kJzpcbiAgICBjYXNlICdzZWNzJzpcbiAgICBjYXNlICdzZWMnOlxuICAgIGNhc2UgJ3MnOlxuICAgICAgcmV0dXJuIG4gKiBzO1xuICAgIGNhc2UgJ21pbGxpc2Vjb25kcyc6XG4gICAgY2FzZSAnbWlsbGlzZWNvbmQnOlxuICAgIGNhc2UgJ21zZWNzJzpcbiAgICBjYXNlICdtc2VjJzpcbiAgICBjYXNlICdtcyc6XG4gICAgICByZXR1cm4gbjtcbiAgICBkZWZhdWx0OlxuICAgICAgcmV0dXJuIHVuZGVmaW5lZDtcbiAgfVxufVxuXG4vKipcbiAqIFNob3J0IGZvcm1hdCBmb3IgYG1zYC5cbiAqXG4gKiBAcGFyYW0ge051bWJlcn0gbXNcbiAqIEByZXR1cm4ge1N0cmluZ31cbiAqIEBhcGkgcHJpdmF0ZVxuICovXG5cbmZ1bmN0aW9uIGZtdFNob3J0KG1zKSB7XG4gIHZhciBtc0FicyA9IE1hdGguYWJzKG1zKTtcbiAgaWYgKG1zQWJzID49IGQpIHtcbiAgICByZXR1cm4gTWF0aC5yb3VuZChtcyAvIGQpICsgJ2QnO1xuICB9XG4gIGlmIChtc0FicyA+PSBoKSB7XG4gICAgcmV0dXJuIE1hdGgucm91bmQobXMgLyBoKSArICdoJztcbiAgfVxuICBpZiAobXNBYnMgPj0gbSkge1xuICAgIHJldHVybiBNYXRoLnJvdW5kKG1zIC8gbSkgKyAnbSc7XG4gIH1cbiAgaWYgKG1zQWJzID49IHMpIHtcbiAgICByZXR1cm4gTWF0aC5yb3VuZChtcyAvIHMpICsgJ3MnO1xuICB9XG4gIHJldHVybiBtcyArICdtcyc7XG59XG5cbi8qKlxuICogTG9uZyBmb3JtYXQgZm9yIGBtc2AuXG4gKlxuICogQHBhcmFtIHtOdW1iZXJ9IG1zXG4gKiBAcmV0dXJuIHtTdHJpbmd9XG4gKiBAYXBpIHByaXZhdGVcbiAqL1xuXG5mdW5jdGlvbiBmbXRMb25nKG1zKSB7XG4gIHZhciBtc0FicyA9IE1hdGguYWJzKG1zKTtcbiAgaWYgKG1zQWJzID49IGQpIHtcbiAgICByZXR1cm4gcGx1cmFsKG1zLCBtc0FicywgZCwgJ2RheScpO1xuICB9XG4gIGlmIChtc0FicyA+PSBoKSB7XG4gICAgcmV0dXJuIHBsdXJhbChtcywgbXNBYnMsIGgsICdob3VyJyk7XG4gIH1cbiAgaWYgKG1zQWJzID49IG0pIHtcbiAgICByZXR1cm4gcGx1cmFsKG1zLCBtc0FicywgbSwgJ21pbnV0ZScpO1xuICB9XG4gIGlmIChtc0FicyA+PSBzKSB7XG4gICAgcmV0dXJuIHBsdXJhbChtcywgbXNBYnMsIHMsICdzZWNvbmQnKTtcbiAgfVxuICByZXR1cm4gbXMgKyAnIG1zJztcbn1cblxuLyoqXG4gKiBQbHVyYWxpemF0aW9uIGhlbHBlci5cbiAqL1xuXG5mdW5jdGlvbiBwbHVyYWwobXMsIG1zQWJzLCBuLCBuYW1lKSB7XG4gIHZhciBpc1BsdXJhbCA9IG1zQWJzID49IG4gKiAxLjU7XG4gIHJldHVybiBNYXRoLnJvdW5kKG1zIC8gbikgKyAnICcgKyBuYW1lICsgKGlzUGx1cmFsID8gJ3MnIDogJycpO1xufVxuIiwiXG4vKipcbiAqIFRoaXMgaXMgdGhlIGNvbW1vbiBsb2dpYyBmb3IgYm90aCB0aGUgTm9kZS5qcyBhbmQgd2ViIGJyb3dzZXJcbiAqIGltcGxlbWVudGF0aW9ucyBvZiBgZGVidWcoKWAuXG4gKi9cblxuZnVuY3Rpb24gc2V0dXAoZW52KSB7XG5cdGNyZWF0ZURlYnVnLmRlYnVnID0gY3JlYXRlRGVidWc7XG5cdGNyZWF0ZURlYnVnLmRlZmF1bHQgPSBjcmVhdGVEZWJ1Zztcblx0Y3JlYXRlRGVidWcuY29lcmNlID0gY29lcmNlO1xuXHRjcmVhdGVEZWJ1Zy5kaXNhYmxlID0gZGlzYWJsZTtcblx0Y3JlYXRlRGVidWcuZW5hYmxlID0gZW5hYmxlO1xuXHRjcmVhdGVEZWJ1Zy5lbmFibGVkID0gZW5hYmxlZDtcblx0Y3JlYXRlRGVidWcuaHVtYW5pemUgPSByZXF1aXJlKCdtcycpO1xuXHRjcmVhdGVEZWJ1Zy5kZXN0cm95ID0gZGVzdHJveTtcblxuXHRPYmplY3Qua2V5cyhlbnYpLmZvckVhY2goa2V5ID0+IHtcblx0XHRjcmVhdGVEZWJ1Z1trZXldID0gZW52W2tleV07XG5cdH0pO1xuXG5cdC8qKlxuXHQqIFRoZSBjdXJyZW50bHkgYWN0aXZlIGRlYnVnIG1vZGUgbmFtZXMsIGFuZCBuYW1lcyB0byBza2lwLlxuXHQqL1xuXG5cdGNyZWF0ZURlYnVnLm5hbWVzID0gW107XG5cdGNyZWF0ZURlYnVnLnNraXBzID0gW107XG5cblx0LyoqXG5cdCogTWFwIG9mIHNwZWNpYWwgXCIlblwiIGhhbmRsaW5nIGZ1bmN0aW9ucywgZm9yIHRoZSBkZWJ1ZyBcImZvcm1hdFwiIGFyZ3VtZW50LlxuXHQqXG5cdCogVmFsaWQga2V5IG5hbWVzIGFyZSBhIHNpbmdsZSwgbG93ZXIgb3IgdXBwZXItY2FzZSBsZXR0ZXIsIGkuZS4gXCJuXCIgYW5kIFwiTlwiLlxuXHQqL1xuXHRjcmVhdGVEZWJ1Zy5mb3JtYXR0ZXJzID0ge307XG5cblx0LyoqXG5cdCogU2VsZWN0cyBhIGNvbG9yIGZvciBhIGRlYnVnIG5hbWVzcGFjZVxuXHQqIEBwYXJhbSB7U3RyaW5nfSBuYW1lc3BhY2UgVGhlIG5hbWVzcGFjZSBzdHJpbmcgZm9yIHRoZSBkZWJ1ZyBpbnN0YW5jZSB0byBiZSBjb2xvcmVkXG5cdCogQHJldHVybiB7TnVtYmVyfFN0cmluZ30gQW4gQU5TSSBjb2xvciBjb2RlIGZvciB0aGUgZ2l2ZW4gbmFtZXNwYWNlXG5cdCogQGFwaSBwcml2YXRlXG5cdCovXG5cdGZ1bmN0aW9uIHNlbGVjdENvbG9yKG5hbWVzcGFjZSkge1xuXHRcdGxldCBoYXNoID0gMDtcblxuXHRcdGZvciAobGV0IGkgPSAwOyBpIDwgbmFtZXNwYWNlLmxlbmd0aDsgaSsrKSB7XG5cdFx0XHRoYXNoID0gKChoYXNoIDw8IDUpIC0gaGFzaCkgKyBuYW1lc3BhY2UuY2hhckNvZGVBdChpKTtcblx0XHRcdGhhc2ggfD0gMDsgLy8gQ29udmVydCB0byAzMmJpdCBpbnRlZ2VyXG5cdFx0fVxuXG5cdFx0cmV0dXJuIGNyZWF0ZURlYnVnLmNvbG9yc1tNYXRoLmFicyhoYXNoKSAlIGNyZWF0ZURlYnVnLmNvbG9ycy5sZW5ndGhdO1xuXHR9XG5cdGNyZWF0ZURlYnVnLnNlbGVjdENvbG9yID0gc2VsZWN0Q29sb3I7XG5cblx0LyoqXG5cdCogQ3JlYXRlIGEgZGVidWdnZXIgd2l0aCB0aGUgZ2l2ZW4gYG5hbWVzcGFjZWAuXG5cdCpcblx0KiBAcGFyYW0ge1N0cmluZ30gbmFtZXNwYWNlXG5cdCogQHJldHVybiB7RnVuY3Rpb259XG5cdCogQGFwaSBwdWJsaWNcblx0Ki9cblx0ZnVuY3Rpb24gY3JlYXRlRGVidWcobmFtZXNwYWNlKSB7XG5cdFx0bGV0IHByZXZUaW1lO1xuXHRcdGxldCBlbmFibGVPdmVycmlkZSA9IG51bGw7XG5cdFx0bGV0IG5hbWVzcGFjZXNDYWNoZTtcblx0XHRsZXQgZW5hYmxlZENhY2hlO1xuXG5cdFx0ZnVuY3Rpb24gZGVidWcoLi4uYXJncykge1xuXHRcdFx0Ly8gRGlzYWJsZWQ/XG5cdFx0XHRpZiAoIWRlYnVnLmVuYWJsZWQpIHtcblx0XHRcdFx0cmV0dXJuO1xuXHRcdFx0fVxuXG5cdFx0XHRjb25zdCBzZWxmID0gZGVidWc7XG5cblx0XHRcdC8vIFNldCBgZGlmZmAgdGltZXN0YW1wXG5cdFx0XHRjb25zdCBjdXJyID0gTnVtYmVyKG5ldyBEYXRlKCkpO1xuXHRcdFx0Y29uc3QgbXMgPSBjdXJyIC0gKHByZXZUaW1lIHx8IGN1cnIpO1xuXHRcdFx0c2VsZi5kaWZmID0gbXM7XG5cdFx0XHRzZWxmLnByZXYgPSBwcmV2VGltZTtcblx0XHRcdHNlbGYuY3VyciA9IGN1cnI7XG5cdFx0XHRwcmV2VGltZSA9IGN1cnI7XG5cblx0XHRcdGFyZ3NbMF0gPSBjcmVhdGVEZWJ1Zy5jb2VyY2UoYXJnc1swXSk7XG5cblx0XHRcdGlmICh0eXBlb2YgYXJnc1swXSAhPT0gJ3N0cmluZycpIHtcblx0XHRcdFx0Ly8gQW55dGhpbmcgZWxzZSBsZXQncyBpbnNwZWN0IHdpdGggJU9cblx0XHRcdFx0YXJncy51bnNoaWZ0KCclTycpO1xuXHRcdFx0fVxuXG5cdFx0XHQvLyBBcHBseSBhbnkgYGZvcm1hdHRlcnNgIHRyYW5zZm9ybWF0aW9uc1xuXHRcdFx0bGV0IGluZGV4ID0gMDtcblx0XHRcdGFyZ3NbMF0gPSBhcmdzWzBdLnJlcGxhY2UoLyUoW2EtekEtWiVdKS9nLCAobWF0Y2gsIGZvcm1hdCkgPT4ge1xuXHRcdFx0XHQvLyBJZiB3ZSBlbmNvdW50ZXIgYW4gZXNjYXBlZCAlIHRoZW4gZG9uJ3QgaW5jcmVhc2UgdGhlIGFycmF5IGluZGV4XG5cdFx0XHRcdGlmIChtYXRjaCA9PT0gJyUlJykge1xuXHRcdFx0XHRcdHJldHVybiAnJSc7XG5cdFx0XHRcdH1cblx0XHRcdFx0aW5kZXgrKztcblx0XHRcdFx0Y29uc3QgZm9ybWF0dGVyID0gY3JlYXRlRGVidWcuZm9ybWF0dGVyc1tmb3JtYXRdO1xuXHRcdFx0XHRpZiAodHlwZW9mIGZvcm1hdHRlciA9PT0gJ2Z1bmN0aW9uJykge1xuXHRcdFx0XHRcdGNvbnN0IHZhbCA9IGFyZ3NbaW5kZXhdO1xuXHRcdFx0XHRcdG1hdGNoID0gZm9ybWF0dGVyLmNhbGwoc2VsZiwgdmFsKTtcblxuXHRcdFx0XHRcdC8vIE5vdyB3ZSBuZWVkIHRvIHJlbW92ZSBgYXJnc1tpbmRleF1gIHNpbmNlIGl0J3MgaW5saW5lZCBpbiB0aGUgYGZvcm1hdGBcblx0XHRcdFx0XHRhcmdzLnNwbGljZShpbmRleCwgMSk7XG5cdFx0XHRcdFx0aW5kZXgtLTtcblx0XHRcdFx0fVxuXHRcdFx0XHRyZXR1cm4gbWF0Y2g7XG5cdFx0XHR9KTtcblxuXHRcdFx0Ly8gQXBwbHkgZW52LXNwZWNpZmljIGZvcm1hdHRpbmcgKGNvbG9ycywgZXRjLilcblx0XHRcdGNyZWF0ZURlYnVnLmZvcm1hdEFyZ3MuY2FsbChzZWxmLCBhcmdzKTtcblxuXHRcdFx0Y29uc3QgbG9nRm4gPSBzZWxmLmxvZyB8fCBjcmVhdGVEZWJ1Zy5sb2c7XG5cdFx0XHRsb2dGbi5hcHBseShzZWxmLCBhcmdzKTtcblx0XHR9XG5cblx0XHRkZWJ1Zy5uYW1lc3BhY2UgPSBuYW1lc3BhY2U7XG5cdFx0ZGVidWcudXNlQ29sb3JzID0gY3JlYXRlRGVidWcudXNlQ29sb3JzKCk7XG5cdFx0ZGVidWcuY29sb3IgPSBjcmVhdGVEZWJ1Zy5zZWxlY3RDb2xvcihuYW1lc3BhY2UpO1xuXHRcdGRlYnVnLmV4dGVuZCA9IGV4dGVuZDtcblx0XHRkZWJ1Zy5kZXN0cm95ID0gY3JlYXRlRGVidWcuZGVzdHJveTsgLy8gWFhYIFRlbXBvcmFyeS4gV2lsbCBiZSByZW1vdmVkIGluIHRoZSBuZXh0IG1ham9yIHJlbGVhc2UuXG5cblx0XHRPYmplY3QuZGVmaW5lUHJvcGVydHkoZGVidWcsICdlbmFibGVkJywge1xuXHRcdFx0ZW51bWVyYWJsZTogdHJ1ZSxcblx0XHRcdGNvbmZpZ3VyYWJsZTogZmFsc2UsXG5cdFx0XHRnZXQ6ICgpID0+IHtcblx0XHRcdFx0aWYgKGVuYWJsZU92ZXJyaWRlICE9PSBudWxsKSB7XG5cdFx0XHRcdFx0cmV0dXJuIGVuYWJsZU92ZXJyaWRlO1xuXHRcdFx0XHR9XG5cdFx0XHRcdGlmIChuYW1lc3BhY2VzQ2FjaGUgIT09IGNyZWF0ZURlYnVnLm5hbWVzcGFjZXMpIHtcblx0XHRcdFx0XHRuYW1lc3BhY2VzQ2FjaGUgPSBjcmVhdGVEZWJ1Zy5uYW1lc3BhY2VzO1xuXHRcdFx0XHRcdGVuYWJsZWRDYWNoZSA9IGNyZWF0ZURlYnVnLmVuYWJsZWQobmFtZXNwYWNlKTtcblx0XHRcdFx0fVxuXG5cdFx0XHRcdHJldHVybiBlbmFibGVkQ2FjaGU7XG5cdFx0XHR9LFxuXHRcdFx0c2V0OiB2ID0+IHtcblx0XHRcdFx0ZW5hYmxlT3ZlcnJpZGUgPSB2O1xuXHRcdFx0fVxuXHRcdH0pO1xuXG5cdFx0Ly8gRW52LXNwZWNpZmljIGluaXRpYWxpemF0aW9uIGxvZ2ljIGZvciBkZWJ1ZyBpbnN0YW5jZXNcblx0XHRpZiAodHlwZW9mIGNyZWF0ZURlYnVnLmluaXQgPT09ICdmdW5jdGlvbicpIHtcblx0XHRcdGNyZWF0ZURlYnVnLmluaXQoZGVidWcpO1xuXHRcdH1cblxuXHRcdHJldHVybiBkZWJ1Zztcblx0fVxuXG5cdGZ1bmN0aW9uIGV4dGVuZChuYW1lc3BhY2UsIGRlbGltaXRlcikge1xuXHRcdGNvbnN0IG5ld0RlYnVnID0gY3JlYXRlRGVidWcodGhpcy5uYW1lc3BhY2UgKyAodHlwZW9mIGRlbGltaXRlciA9PT0gJ3VuZGVmaW5lZCcgPyAnOicgOiBkZWxpbWl0ZXIpICsgbmFtZXNwYWNlKTtcblx0XHRuZXdEZWJ1Zy5sb2cgPSB0aGlzLmxvZztcblx0XHRyZXR1cm4gbmV3RGVidWc7XG5cdH1cblxuXHQvKipcblx0KiBFbmFibGVzIGEgZGVidWcgbW9kZSBieSBuYW1lc3BhY2VzLiBUaGlzIGNhbiBpbmNsdWRlIG1vZGVzXG5cdCogc2VwYXJhdGVkIGJ5IGEgY29sb24gYW5kIHdpbGRjYXJkcy5cblx0KlxuXHQqIEBwYXJhbSB7U3RyaW5nfSBuYW1lc3BhY2VzXG5cdCogQGFwaSBwdWJsaWNcblx0Ki9cblx0ZnVuY3Rpb24gZW5hYmxlKG5hbWVzcGFjZXMpIHtcblx0XHRjcmVhdGVEZWJ1Zy5zYXZlKG5hbWVzcGFjZXMpO1xuXHRcdGNyZWF0ZURlYnVnLm5hbWVzcGFjZXMgPSBuYW1lc3BhY2VzO1xuXG5cdFx0Y3JlYXRlRGVidWcubmFtZXMgPSBbXTtcblx0XHRjcmVhdGVEZWJ1Zy5za2lwcyA9IFtdO1xuXG5cdFx0Y29uc3Qgc3BsaXQgPSAodHlwZW9mIG5hbWVzcGFjZXMgPT09ICdzdHJpbmcnID8gbmFtZXNwYWNlcyA6ICcnKVxuXHRcdFx0LnRyaW0oKVxuXHRcdFx0LnJlcGxhY2UoL1xccysvZywgJywnKVxuXHRcdFx0LnNwbGl0KCcsJylcblx0XHRcdC5maWx0ZXIoQm9vbGVhbik7XG5cblx0XHRmb3IgKGNvbnN0IG5zIG9mIHNwbGl0KSB7XG5cdFx0XHRpZiAobnNbMF0gPT09ICctJykge1xuXHRcdFx0XHRjcmVhdGVEZWJ1Zy5za2lwcy5wdXNoKG5zLnNsaWNlKDEpKTtcblx0XHRcdH0gZWxzZSB7XG5cdFx0XHRcdGNyZWF0ZURlYnVnLm5hbWVzLnB1c2gobnMpO1xuXHRcdFx0fVxuXHRcdH1cblx0fVxuXG5cdC8qKlxuXHQgKiBDaGVja3MgaWYgdGhlIGdpdmVuIHN0cmluZyBtYXRjaGVzIGEgbmFtZXNwYWNlIHRlbXBsYXRlLCBob25vcmluZ1xuXHQgKiBhc3Rlcmlza3MgYXMgd2lsZGNhcmRzLlxuXHQgKlxuXHQgKiBAcGFyYW0ge1N0cmluZ30gc2VhcmNoXG5cdCAqIEBwYXJhbSB7U3RyaW5nfSB0ZW1wbGF0ZVxuXHQgKiBAcmV0dXJuIHtCb29sZWFufVxuXHQgKi9cblx0ZnVuY3Rpb24gbWF0Y2hlc1RlbXBsYXRlKHNlYXJjaCwgdGVtcGxhdGUpIHtcblx0XHRsZXQgc2VhcmNoSW5kZXggPSAwO1xuXHRcdGxldCB0ZW1wbGF0ZUluZGV4ID0gMDtcblx0XHRsZXQgc3RhckluZGV4ID0gLTE7XG5cdFx0bGV0IG1hdGNoSW5kZXggPSAwO1xuXG5cdFx0d2hpbGUgKHNlYXJjaEluZGV4IDwgc2VhcmNoLmxlbmd0aCkge1xuXHRcdFx0aWYgKHRlbXBsYXRlSW5kZXggPCB0ZW1wbGF0ZS5sZW5ndGggJiYgKHRlbXBsYXRlW3RlbXBsYXRlSW5kZXhdID09PSBzZWFyY2hbc2VhcmNoSW5kZXhdIHx8IHRlbXBsYXRlW3RlbXBsYXRlSW5kZXhdID09PSAnKicpKSB7XG5cdFx0XHRcdC8vIE1hdGNoIGNoYXJhY3RlciBvciBwcm9jZWVkIHdpdGggd2lsZGNhcmRcblx0XHRcdFx0aWYgKHRlbXBsYXRlW3RlbXBsYXRlSW5kZXhdID09PSAnKicpIHtcblx0XHRcdFx0XHRzdGFySW5kZXggPSB0ZW1wbGF0ZUluZGV4O1xuXHRcdFx0XHRcdG1hdGNoSW5kZXggPSBzZWFyY2hJbmRleDtcblx0XHRcdFx0XHR0ZW1wbGF0ZUluZGV4Kys7IC8vIFNraXAgdGhlICcqJ1xuXHRcdFx0XHR9IGVsc2Uge1xuXHRcdFx0XHRcdHNlYXJjaEluZGV4Kys7XG5cdFx0XHRcdFx0dGVtcGxhdGVJbmRleCsrO1xuXHRcdFx0XHR9XG5cdFx0XHR9IGVsc2UgaWYgKHN0YXJJbmRleCAhPT0gLTEpIHsgLy8gZXNsaW50LWRpc2FibGUtbGluZSBuby1uZWdhdGVkLWNvbmRpdGlvblxuXHRcdFx0XHQvLyBCYWNrdHJhY2sgdG8gdGhlIGxhc3QgJyonIGFuZCB0cnkgdG8gbWF0Y2ggbW9yZSBjaGFyYWN0ZXJzXG5cdFx0XHRcdHRlbXBsYXRlSW5kZXggPSBzdGFySW5kZXggKyAxO1xuXHRcdFx0XHRtYXRjaEluZGV4Kys7XG5cdFx0XHRcdHNlYXJjaEluZGV4ID0gbWF0Y2hJbmRleDtcblx0XHRcdH0gZWxzZSB7XG5cdFx0XHRcdHJldHVybiBmYWxzZTsgLy8gTm8gbWF0Y2hcblx0XHRcdH1cblx0XHR9XG5cblx0XHQvLyBIYW5kbGUgdHJhaWxpbmcgJyonIGluIHRlbXBsYXRlXG5cdFx0d2hpbGUgKHRlbXBsYXRlSW5kZXggPCB0ZW1wbGF0ZS5sZW5ndGggJiYgdGVtcGxhdGVbdGVtcGxhdGVJbmRleF0gPT09ICcqJykge1xuXHRcdFx0dGVtcGxhdGVJbmRleCsrO1xuXHRcdH1cblxuXHRcdHJldHVybiB0ZW1wbGF0ZUluZGV4ID09PSB0ZW1wbGF0ZS5sZW5ndGg7XG5cdH1cblxuXHQvKipcblx0KiBEaXNhYmxlIGRlYnVnIG91dHB1dC5cblx0KlxuXHQqIEByZXR1cm4ge1N0cmluZ30gbmFtZXNwYWNlc1xuXHQqIEBhcGkgcHVibGljXG5cdCovXG5cdGZ1bmN0aW9uIGRpc2FibGUoKSB7XG5cdFx0Y29uc3QgbmFtZXNwYWNlcyA9IFtcblx0XHRcdC4uLmNyZWF0ZURlYnVnLm5hbWVzLFxuXHRcdFx0Li4uY3JlYXRlRGVidWcuc2tpcHMubWFwKG5hbWVzcGFjZSA9PiAnLScgKyBuYW1lc3BhY2UpXG5cdFx0XS5qb2luKCcsJyk7XG5cdFx0Y3JlYXRlRGVidWcuZW5hYmxlKCcnKTtcblx0XHRyZXR1cm4gbmFtZXNwYWNlcztcblx0fVxuXG5cdC8qKlxuXHQqIFJldHVybnMgdHJ1ZSBpZiB0aGUgZ2l2ZW4gbW9kZSBuYW1lIGlzIGVuYWJsZWQsIGZhbHNlIG90aGVyd2lzZS5cblx0KlxuXHQqIEBwYXJhbSB7U3RyaW5nfSBuYW1lXG5cdCogQHJldHVybiB7Qm9vbGVhbn1cblx0KiBAYXBpIHB1YmxpY1xuXHQqL1xuXHRmdW5jdGlvbiBlbmFibGVkKG5hbWUpIHtcblx0XHRmb3IgKGNvbnN0IHNraXAgb2YgY3JlYXRlRGVidWcuc2tpcHMpIHtcblx0XHRcdGlmIChtYXRjaGVzVGVtcGxhdGUobmFtZSwgc2tpcCkpIHtcblx0XHRcdFx0cmV0dXJuIGZhbHNlO1xuXHRcdFx0fVxuXHRcdH1cblxuXHRcdGZvciAoY29uc3QgbnMgb2YgY3JlYXRlRGVidWcubmFtZXMpIHtcblx0XHRcdGlmIChtYXRjaGVzVGVtcGxhdGUobmFtZSwgbnMpKSB7XG5cdFx0XHRcdHJldHVybiB0cnVlO1xuXHRcdFx0fVxuXHRcdH1cblxuXHRcdHJldHVybiBmYWxzZTtcblx0fVxuXG5cdC8qKlxuXHQqIENvZXJjZSBgdmFsYC5cblx0KlxuXHQqIEBwYXJhbSB7TWl4ZWR9IHZhbFxuXHQqIEByZXR1cm4ge01peGVkfVxuXHQqIEBhcGkgcHJpdmF0ZVxuXHQqL1xuXHRmdW5jdGlvbiBjb2VyY2UodmFsKSB7XG5cdFx0aWYgKHZhbCBpbnN0YW5jZW9mIEVycm9yKSB7XG5cdFx0XHRyZXR1cm4gdmFsLnN0YWNrIHx8IHZhbC5tZXNzYWdlO1xuXHRcdH1cblx0XHRyZXR1cm4gdmFsO1xuXHR9XG5cblx0LyoqXG5cdCogWFhYIERPIE5PVCBVU0UuIFRoaXMgaXMgYSB0ZW1wb3Jhcnkgc3R1YiBmdW5jdGlvbi5cblx0KiBYWFggSXQgV0lMTCBiZSByZW1vdmVkIGluIHRoZSBuZXh0IG1ham9yIHJlbGVhc2UuXG5cdCovXG5cdGZ1bmN0aW9uIGRlc3Ryb3koKSB7XG5cdFx0Y29uc29sZS53YXJuKCdJbnN0YW5jZSBtZXRob2QgYGRlYnVnLmRlc3Ryb3koKWAgaXMgZGVwcmVjYXRlZCBhbmQgbm8gbG9uZ2VyIGRvZXMgYW55dGhpbmcuIEl0IHdpbGwgYmUgcmVtb3ZlZCBpbiB0aGUgbmV4dCBtYWpvciB2ZXJzaW9uIG9mIGBkZWJ1Z2AuJyk7XG5cdH1cblxuXHRjcmVhdGVEZWJ1Zy5lbmFibGUoY3JlYXRlRGVidWcubG9hZCgpKTtcblxuXHRyZXR1cm4gY3JlYXRlRGVidWc7XG59XG5cbm1vZHVsZS5leHBvcnRzID0gc2V0dXA7XG4iLCIvKiBlc2xpbnQtZW52IGJyb3dzZXIgKi9cblxuLyoqXG4gKiBUaGlzIGlzIHRoZSB3ZWIgYnJvd3NlciBpbXBsZW1lbnRhdGlvbiBvZiBgZGVidWcoKWAuXG4gKi9cblxuZXhwb3J0cy5mb3JtYXRBcmdzID0gZm9ybWF0QXJncztcbmV4cG9ydHMuc2F2ZSA9IHNhdmU7XG5leHBvcnRzLmxvYWQgPSBsb2FkO1xuZXhwb3J0cy51c2VDb2xvcnMgPSB1c2VDb2xvcnM7XG5leHBvcnRzLnN0b3JhZ2UgPSBsb2NhbHN0b3JhZ2UoKTtcbmV4cG9ydHMuZGVzdHJveSA9ICgoKSA9PiB7XG5cdGxldCB3YXJuZWQgPSBmYWxzZTtcblxuXHRyZXR1cm4gKCkgPT4ge1xuXHRcdGlmICghd2FybmVkKSB7XG5cdFx0XHR3YXJuZWQgPSB0cnVlO1xuXHRcdFx0Y29uc29sZS53YXJuKCdJbnN0YW5jZSBtZXRob2QgYGRlYnVnLmRlc3Ryb3koKWAgaXMgZGVwcmVjYXRlZCBhbmQgbm8gbG9uZ2VyIGRvZXMgYW55dGhpbmcuIEl0IHdpbGwgYmUgcmVtb3ZlZCBpbiB0aGUgbmV4dCBtYWpvciB2ZXJzaW9uIG9mIGBkZWJ1Z2AuJyk7XG5cdFx0fVxuXHR9O1xufSkoKTtcblxuLyoqXG4gKiBDb2xvcnMuXG4gKi9cblxuZXhwb3J0cy5jb2xvcnMgPSBbXG5cdCcjMDAwMENDJyxcblx0JyMwMDAwRkYnLFxuXHQnIzAwMzNDQycsXG5cdCcjMDAzM0ZGJyxcblx0JyMwMDY2Q0MnLFxuXHQnIzAwNjZGRicsXG5cdCcjMDA5OUNDJyxcblx0JyMwMDk5RkYnLFxuXHQnIzAwQ0MwMCcsXG5cdCcjMDBDQzMzJyxcblx0JyMwMENDNjYnLFxuXHQnIzAwQ0M5OScsXG5cdCcjMDBDQ0NDJyxcblx0JyMwMENDRkYnLFxuXHQnIzMzMDBDQycsXG5cdCcjMzMwMEZGJyxcblx0JyMzMzMzQ0MnLFxuXHQnIzMzMzNGRicsXG5cdCcjMzM2NkNDJyxcblx0JyMzMzY2RkYnLFxuXHQnIzMzOTlDQycsXG5cdCcjMzM5OUZGJyxcblx0JyMzM0NDMDAnLFxuXHQnIzMzQ0MzMycsXG5cdCcjMzNDQzY2Jyxcblx0JyMzM0NDOTknLFxuXHQnIzMzQ0NDQycsXG5cdCcjMzNDQ0ZGJyxcblx0JyM2NjAwQ0MnLFxuXHQnIzY2MDBGRicsXG5cdCcjNjYzM0NDJyxcblx0JyM2NjMzRkYnLFxuXHQnIzY2Q0MwMCcsXG5cdCcjNjZDQzMzJyxcblx0JyM5OTAwQ0MnLFxuXHQnIzk5MDBGRicsXG5cdCcjOTkzM0NDJyxcblx0JyM5OTMzRkYnLFxuXHQnIzk5Q0MwMCcsXG5cdCcjOTlDQzMzJyxcblx0JyNDQzAwMDAnLFxuXHQnI0NDMDAzMycsXG5cdCcjQ0MwMDY2Jyxcblx0JyNDQzAwOTknLFxuXHQnI0NDMDBDQycsXG5cdCcjQ0MwMEZGJyxcblx0JyNDQzMzMDAnLFxuXHQnI0NDMzMzMycsXG5cdCcjQ0MzMzY2Jyxcblx0JyNDQzMzOTknLFxuXHQnI0NDMzNDQycsXG5cdCcjQ0MzM0ZGJyxcblx0JyNDQzY2MDAnLFxuXHQnI0NDNjYzMycsXG5cdCcjQ0M5OTAwJyxcblx0JyNDQzk5MzMnLFxuXHQnI0NDQ0MwMCcsXG5cdCcjQ0NDQzMzJyxcblx0JyNGRjAwMDAnLFxuXHQnI0ZGMDAzMycsXG5cdCcjRkYwMDY2Jyxcblx0JyNGRjAwOTknLFxuXHQnI0ZGMDBDQycsXG5cdCcjRkYwMEZGJyxcblx0JyNGRjMzMDAnLFxuXHQnI0ZGMzMzMycsXG5cdCcjRkYzMzY2Jyxcblx0JyNGRjMzOTknLFxuXHQnI0ZGMzNDQycsXG5cdCcjRkYzM0ZGJyxcblx0JyNGRjY2MDAnLFxuXHQnI0ZGNjYzMycsXG5cdCcjRkY5OTAwJyxcblx0JyNGRjk5MzMnLFxuXHQnI0ZGQ0MwMCcsXG5cdCcjRkZDQzMzJ1xuXTtcblxuLyoqXG4gKiBDdXJyZW50bHkgb25seSBXZWJLaXQtYmFzZWQgV2ViIEluc3BlY3RvcnMsIEZpcmVmb3ggPj0gdjMxLFxuICogYW5kIHRoZSBGaXJlYnVnIGV4dGVuc2lvbiAoYW55IEZpcmVmb3ggdmVyc2lvbikgYXJlIGtub3duXG4gKiB0byBzdXBwb3J0IFwiJWNcIiBDU1MgY3VzdG9taXphdGlvbnMuXG4gKlxuICogVE9ETzogYWRkIGEgYGxvY2FsU3RvcmFnZWAgdmFyaWFibGUgdG8gZXhwbGljaXRseSBlbmFibGUvZGlzYWJsZSBjb2xvcnNcbiAqL1xuXG4vLyBlc2xpbnQtZGlzYWJsZS1uZXh0LWxpbmUgY29tcGxleGl0eVxuZnVuY3Rpb24gdXNlQ29sb3JzKCkge1xuXHQvLyBOQjogSW4gYW4gRWxlY3Ryb24gcHJlbG9hZCBzY3JpcHQsIGRvY3VtZW50IHdpbGwgYmUgZGVmaW5lZCBidXQgbm90IGZ1bGx5XG5cdC8vIGluaXRpYWxpemVkLiBTaW5jZSB3ZSBrbm93IHdlJ3JlIGluIENocm9tZSwgd2UnbGwganVzdCBkZXRlY3QgdGhpcyBjYXNlXG5cdC8vIGV4cGxpY2l0bHlcblx0aWYgKHR5cGVvZiB3aW5kb3cgIT09ICd1bmRlZmluZWQnICYmIHdpbmRvdy5wcm9jZXNzICYmICh3aW5kb3cucHJvY2Vzcy50eXBlID09PSAncmVuZGVyZXInIHx8IHdpbmRvdy5wcm9jZXNzLl9fbndqcykpIHtcblx0XHRyZXR1cm4gdHJ1ZTtcblx0fVxuXG5cdC8vIEludGVybmV0IEV4cGxvcmVyIGFuZCBFZGdlIGRvIG5vdCBzdXBwb3J0IGNvbG9ycy5cblx0aWYgKHR5cGVvZiBuYXZpZ2F0b3IgIT09ICd1bmRlZmluZWQnICYmIG5hdmlnYXRvci51c2VyQWdlbnQgJiYgbmF2aWdhdG9yLnVzZXJBZ2VudC50b0xvd2VyQ2FzZSgpLm1hdGNoKC8oZWRnZXx0cmlkZW50KVxcLyhcXGQrKS8pKSB7XG5cdFx0cmV0dXJuIGZhbHNlO1xuXHR9XG5cblx0bGV0IG07XG5cblx0Ly8gSXMgd2Via2l0PyBodHRwOi8vc3RhY2tvdmVyZmxvdy5jb20vYS8xNjQ1OTYwNi8zNzY3NzNcblx0Ly8gZG9jdW1lbnQgaXMgdW5kZWZpbmVkIGluIHJlYWN0LW5hdGl2ZTogaHR0cHM6Ly9naXRodWIuY29tL2ZhY2Vib29rL3JlYWN0LW5hdGl2ZS9wdWxsLzE2MzJcblx0Ly8gZXNsaW50LWRpc2FibGUtbmV4dC1saW5lIG5vLXJldHVybi1hc3NpZ25cblx0cmV0dXJuICh0eXBlb2YgZG9jdW1lbnQgIT09ICd1bmRlZmluZWQnICYmIGRvY3VtZW50LmRvY3VtZW50RWxlbWVudCAmJiBkb2N1bWVudC5kb2N1bWVudEVsZW1lbnQuc3R5bGUgJiYgZG9jdW1lbnQuZG9jdW1lbnRFbGVtZW50LnN0eWxlLldlYmtpdEFwcGVhcmFuY2UpIHx8XG5cdFx0Ly8gSXMgZmlyZWJ1Zz8gaHR0cDovL3N0YWNrb3ZlcmZsb3cuY29tL2EvMzk4MTIwLzM3Njc3M1xuXHRcdCh0eXBlb2Ygd2luZG93ICE9PSAndW5kZWZpbmVkJyAmJiB3aW5kb3cuY29uc29sZSAmJiAod2luZG93LmNvbnNvbGUuZmlyZWJ1ZyB8fCAod2luZG93LmNvbnNvbGUuZXhjZXB0aW9uICYmIHdpbmRvdy5jb25zb2xlLnRhYmxlKSkpIHx8XG5cdFx0Ly8gSXMgZmlyZWZveCA+PSB2MzE/XG5cdFx0Ly8gaHR0cHM6Ly9kZXZlbG9wZXIubW96aWxsYS5vcmcvZW4tVVMvZG9jcy9Ub29scy9XZWJfQ29uc29sZSNTdHlsaW5nX21lc3NhZ2VzXG5cdFx0KHR5cGVvZiBuYXZpZ2F0b3IgIT09ICd1bmRlZmluZWQnICYmIG5hdmlnYXRvci51c2VyQWdlbnQgJiYgKG0gPSBuYXZpZ2F0b3IudXNlckFnZW50LnRvTG93ZXJDYXNlKCkubWF0Y2goL2ZpcmVmb3hcXC8oXFxkKykvKSkgJiYgcGFyc2VJbnQobVsxXSwgMTApID49IDMxKSB8fFxuXHRcdC8vIERvdWJsZSBjaGVjayB3ZWJraXQgaW4gdXNlckFnZW50IGp1c3QgaW4gY2FzZSB3ZSBhcmUgaW4gYSB3b3JrZXJcblx0XHQodHlwZW9mIG5hdmlnYXRvciAhPT0gJ3VuZGVmaW5lZCcgJiYgbmF2aWdhdG9yLnVzZXJBZ2VudCAmJiBuYXZpZ2F0b3IudXNlckFnZW50LnRvTG93ZXJDYXNlKCkubWF0Y2goL2FwcGxld2Via2l0XFwvKFxcZCspLykpO1xufVxuXG4vKipcbiAqIENvbG9yaXplIGxvZyBhcmd1bWVudHMgaWYgZW5hYmxlZC5cbiAqXG4gKiBAYXBpIHB1YmxpY1xuICovXG5cbmZ1bmN0aW9uIGZvcm1hdEFyZ3MoYXJncykge1xuXHRhcmdzWzBdID0gKHRoaXMudXNlQ29sb3JzID8gJyVjJyA6ICcnKSArXG5cdFx0dGhpcy5uYW1lc3BhY2UgK1xuXHRcdCh0aGlzLnVzZUNvbG9ycyA/ICcgJWMnIDogJyAnKSArXG5cdFx0YXJnc1swXSArXG5cdFx0KHRoaXMudXNlQ29sb3JzID8gJyVjICcgOiAnICcpICtcblx0XHQnKycgKyBtb2R1bGUuZXhwb3J0cy5odW1hbml6ZSh0aGlzLmRpZmYpO1xuXG5cdGlmICghdGhpcy51c2VDb2xvcnMpIHtcblx0XHRyZXR1cm47XG5cdH1cblxuXHRjb25zdCBjID0gJ2NvbG9yOiAnICsgdGhpcy5jb2xvcjtcblx0YXJncy5zcGxpY2UoMSwgMCwgYywgJ2NvbG9yOiBpbmhlcml0Jyk7XG5cblx0Ly8gVGhlIGZpbmFsIFwiJWNcIiBpcyBzb21ld2hhdCB0cmlja3ksIGJlY2F1c2UgdGhlcmUgY291bGQgYmUgb3RoZXJcblx0Ly8gYXJndW1lbnRzIHBhc3NlZCBlaXRoZXIgYmVmb3JlIG9yIGFmdGVyIHRoZSAlYywgc28gd2UgbmVlZCB0b1xuXHQvLyBmaWd1cmUgb3V0IHRoZSBjb3JyZWN0IGluZGV4IHRvIGluc2VydCB0aGUgQ1NTIGludG9cblx0bGV0IGluZGV4ID0gMDtcblx0bGV0IGxhc3RDID0gMDtcblx0YXJnc1swXS5yZXBsYWNlKC8lW2EtekEtWiVdL2csIG1hdGNoID0+IHtcblx0XHRpZiAobWF0Y2ggPT09ICclJScpIHtcblx0XHRcdHJldHVybjtcblx0XHR9XG5cdFx0aW5kZXgrKztcblx0XHRpZiAobWF0Y2ggPT09ICclYycpIHtcblx0XHRcdC8vIFdlIG9ubHkgYXJlIGludGVyZXN0ZWQgaW4gdGhlICpsYXN0KiAlY1xuXHRcdFx0Ly8gKHRoZSB1c2VyIG1heSBoYXZlIHByb3ZpZGVkIHRoZWlyIG93bilcblx0XHRcdGxhc3RDID0gaW5kZXg7XG5cdFx0fVxuXHR9KTtcblxuXHRhcmdzLnNwbGljZShsYXN0QywgMCwgYyk7XG59XG5cbi8qKlxuICogSW52b2tlcyBgY29uc29sZS5kZWJ1ZygpYCB3aGVuIGF2YWlsYWJsZS5cbiAqIE5vLW9wIHdoZW4gYGNvbnNvbGUuZGVidWdgIGlzIG5vdCBhIFwiZnVuY3Rpb25cIi5cbiAqIElmIGBjb25zb2xlLmRlYnVnYCBpcyBub3QgYXZhaWxhYmxlLCBmYWxscyBiYWNrXG4gKiB0byBgY29uc29sZS5sb2dgLlxuICpcbiAqIEBhcGkgcHVibGljXG4gKi9cbmV4cG9ydHMubG9nID0gY29uc29sZS5kZWJ1ZyB8fCBjb25zb2xlLmxvZyB8fCAoKCkgPT4ge30pO1xuXG4vKipcbiAqIFNhdmUgYG5hbWVzcGFjZXNgLlxuICpcbiAqIEBwYXJhbSB7U3RyaW5nfSBuYW1lc3BhY2VzXG4gKiBAYXBpIHByaXZhdGVcbiAqL1xuZnVuY3Rpb24gc2F2ZShuYW1lc3BhY2VzKSB7XG5cdHRyeSB7XG5cdFx0aWYgKG5hbWVzcGFjZXMpIHtcblx0XHRcdGV4cG9ydHMuc3RvcmFnZS5zZXRJdGVtKCdkZWJ1ZycsIG5hbWVzcGFjZXMpO1xuXHRcdH0gZWxzZSB7XG5cdFx0XHRleHBvcnRzLnN0b3JhZ2UucmVtb3ZlSXRlbSgnZGVidWcnKTtcblx0XHR9XG5cdH0gY2F0Y2ggKGVycm9yKSB7XG5cdFx0Ly8gU3dhbGxvd1xuXHRcdC8vIFhYWCAoQFFpeC0pIHNob3VsZCB3ZSBiZSBsb2dnaW5nIHRoZXNlP1xuXHR9XG59XG5cbi8qKlxuICogTG9hZCBgbmFtZXNwYWNlc2AuXG4gKlxuICogQHJldHVybiB7U3RyaW5nfSByZXR1cm5zIHRoZSBwcmV2aW91c2x5IHBlcnNpc3RlZCBkZWJ1ZyBtb2Rlc1xuICogQGFwaSBwcml2YXRlXG4gKi9cbmZ1bmN0aW9uIGxvYWQoKSB7XG5cdGxldCByO1xuXHR0cnkge1xuXHRcdHIgPSBleHBvcnRzLnN0b3JhZ2UuZ2V0SXRlbSgnZGVidWcnKSB8fCBleHBvcnRzLnN0b3JhZ2UuZ2V0SXRlbSgnREVCVUcnKSA7XG5cdH0gY2F0Y2ggKGVycm9yKSB7XG5cdFx0Ly8gU3dhbGxvd1xuXHRcdC8vIFhYWCAoQFFpeC0pIHNob3VsZCB3ZSBiZSBsb2dnaW5nIHRoZXNlP1xuXHR9XG5cblx0Ly8gSWYgZGVidWcgaXNuJ3Qgc2V0IGluIExTLCBhbmQgd2UncmUgaW4gRWxlY3Ryb24sIHRyeSB0byBsb2FkICRERUJVR1xuXHRpZiAoIXIgJiYgdHlwZW9mIHByb2Nlc3MgIT09ICd1bmRlZmluZWQnICYmICdlbnYnIGluIHByb2Nlc3MpIHtcblx0XHRyID0gcHJvY2Vzcy5lbnYuREVCVUc7XG5cdH1cblxuXHRyZXR1cm4gcjtcbn1cblxuLyoqXG4gKiBMb2NhbHN0b3JhZ2UgYXR0ZW1wdHMgdG8gcmV0dXJuIHRoZSBsb2NhbHN0b3JhZ2UuXG4gKlxuICogVGhpcyBpcyBuZWNlc3NhcnkgYmVjYXVzZSBzYWZhcmkgdGhyb3dzXG4gKiB3aGVuIGEgdXNlciBkaXNhYmxlcyBjb29raWVzL2xvY2Fsc3RvcmFnZVxuICogYW5kIHlvdSBhdHRlbXB0IHRvIGFjY2VzcyBpdC5cbiAqXG4gKiBAcmV0dXJuIHtMb2NhbFN0b3JhZ2V9XG4gKiBAYXBpIHByaXZhdGVcbiAqL1xuXG5mdW5jdGlvbiBsb2NhbHN0b3JhZ2UoKSB7XG5cdHRyeSB7XG5cdFx0Ly8gVFZNTEtpdCAoQXBwbGUgVFYgSlMgUnVudGltZSkgZG9lcyBub3QgaGF2ZSBhIHdpbmRvdyBvYmplY3QsIGp1c3QgbG9jYWxTdG9yYWdlIGluIHRoZSBnbG9iYWwgY29udGV4dFxuXHRcdC8vIFRoZSBCcm93c2VyIGFsc28gaGFzIGxvY2FsU3RvcmFnZSBpbiB0aGUgZ2xvYmFsIGNvbnRleHQuXG5cdFx0cmV0dXJuIGxvY2FsU3RvcmFnZTtcblx0fSBjYXRjaCAoZXJyb3IpIHtcblx0XHQvLyBTd2FsbG93XG5cdFx0Ly8gWFhYIChAUWl4LSkgc2hvdWxkIHdlIGJlIGxvZ2dpbmcgdGhlc2U/XG5cdH1cbn1cblxubW9kdWxlLmV4cG9ydHMgPSByZXF1aXJlKCcuL2NvbW1vbicpKGV4cG9ydHMpO1xuXG5jb25zdCB7Zm9ybWF0dGVyc30gPSBtb2R1bGUuZXhwb3J0cztcblxuLyoqXG4gKiBNYXAgJWogdG8gYEpTT04uc3RyaW5naWZ5KClgLCBzaW5jZSBubyBXZWIgSW5zcGVjdG9ycyBkbyB0aGF0IGJ5IGRlZmF1bHQuXG4gKi9cblxuZm9ybWF0dGVycy5qID0gZnVuY3Rpb24gKHYpIHtcblx0dHJ5IHtcblx0XHRyZXR1cm4gSlNPTi5zdHJpbmdpZnkodik7XG5cdH0gY2F0Y2ggKGVycm9yKSB7XG5cdFx0cmV0dXJuICdbVW5leHBlY3RlZEpTT05QYXJzZUVycm9yXTogJyArIGVycm9yLm1lc3NhZ2U7XG5cdH1cbn07XG4iLCJpbXBvcnQgeyBsb2FkRW52IGFzIF9sb2FkRW52LCBpc0Jyb3dzZXJFbnZpcm9ubWVudCwgfSBmcm9tICdAb3BlbmFpL2FnZW50cy1jb3JlL19zaGltcyc7XG4vKipcbiAqIExvYWRzIGVudmlyb25tZW50IHZhcmlhYmxlcyBmcm9tIHRoZSBwcm9jZXNzIGVudmlyb25tZW50LlxuICpcbiAqIEByZXR1cm5zIEFuIG9iamVjdCBjb250YWluaW5nIHRoZSBlbnZpcm9ubWVudCB2YXJpYWJsZXMuXG4gKi9cbmV4cG9ydCBmdW5jdGlvbiBsb2FkRW52KCkge1xuICAgIHJldHVybiBfbG9hZEVudigpO1xufVxuLyoqXG4gKiBDaGVja3MgaWYgYSBmbGFnIGlzIGVuYWJsZWQgaW4gdGhlIGVudmlyb25tZW50LlxuICpcbiAqIEBwYXJhbSBmbGFnTmFtZSAtIFRoZSBuYW1lIG9mIHRoZSBmbGFnIHRvIGNoZWNrLlxuICogQHJldHVybnMgYHRydWVgIGlmIHRoZSBmbGFnIGlzIGVuYWJsZWQsIGBmYWxzZWAgb3RoZXJ3aXNlLlxuICovXG5mdW5jdGlvbiBpc0VuYWJsZWQoZmxhZ05hbWUpIHtcbiAgICBjb25zdCBlbnYgPSBsb2FkRW52KCk7XG4gICAgcmV0dXJuICh0eXBlb2YgZW52ICE9PSAndW5kZWZpbmVkJyAmJlxuICAgICAgICAoZW52W2ZsYWdOYW1lXSA9PT0gJ3RydWUnIHx8IGVudltmbGFnTmFtZV0gPT09ICcxJykpO1xufVxuLyoqXG4gKiBHbG9iYWwgY29uZmlndXJhdGlvbiBmb3IgdHJhY2luZy5cbiAqL1xuZXhwb3J0IGNvbnN0IHRyYWNpbmcgPSB7XG4gICAgZ2V0IGRpc2FibGVkKCkge1xuICAgICAgICBpZiAoaXNCcm93c2VyRW52aXJvbm1lbnQoKSkge1xuICAgICAgICAgICAgcmV0dXJuIHRydWU7XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSBpZiAobG9hZEVudigpLk5PREVfRU5WID09PSAndGVzdCcpIHtcbiAgICAgICAgICAgIC8vIGRpc2FibGluZyBieSBkZWZhdWx0IGluIHRlc3RzXG4gICAgICAgICAgICByZXR1cm4gdHJ1ZTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gaXNFbmFibGVkKCdPUEVOQUlfQUdFTlRTX0RJU0FCTEVfVFJBQ0lORycpO1xuICAgIH0sXG59O1xuLyoqXG4gKiBHbG9iYWwgY29uZmlndXJhdGlvbiBmb3IgbG9nZ2luZy5cbiAqL1xuZXhwb3J0IGNvbnN0IGxvZ2dpbmcgPSB7XG4gICAgZ2V0IGRvbnRMb2dNb2RlbERhdGEoKSB7XG4gICAgICAgIHJldHVybiBpc0VuYWJsZWQoJ09QRU5BSV9BR0VOVFNfRE9OVF9MT0dfTU9ERUxfREFUQScpO1xuICAgIH0sXG4gICAgZ2V0IGRvbnRMb2dUb29sRGF0YSgpIHtcbiAgICAgICAgcmV0dXJuIGlzRW5hYmxlZCgnT1BFTkFJX0FHRU5UU19ET05UX0xPR19UT09MX0RBVEEnKTtcbiAgICB9LFxufTtcbi8vIyBzb3VyY2VNYXBwaW5nVVJMPWNvbmZpZy5tanMubWFwIiwiaW1wb3J0IGRlYnVnIGZyb20gJ2RlYnVnJztcbmltcG9ydCB7IGxvZ2dpbmcgfSBmcm9tIFwiLi9jb25maWcubWpzXCI7XG4vKipcbiAqIEJ5IGRlZmF1bHQgd2UgZG9uJ3QgbG9nIExMTSBpbnB1dHMvb3V0cHV0cywgdG8gcHJldmVudCBleHBvc2luZyBzZW5zaXRpdmUgZGF0YS4gU2V0IHRoaXMgZmxhZ1xuICogdG8gZW5hYmxlIGxvZ2dpbmcgdGhlbS5cbiAqL1xuY29uc3QgZG9udExvZ01vZGVsRGF0YSA9IGxvZ2dpbmcuZG9udExvZ01vZGVsRGF0YTtcbi8qKlxuICogQnkgZGVmYXVsdCB3ZSBkb24ndCBsb2cgdG9vbCBpbnB1dHMvb3V0cHV0cywgdG8gcHJldmVudCBleHBvc2luZyBzZW5zaXRpdmUgZGF0YS4gU2V0IHRoaXMgZmxhZ1xuICogdG8gZW5hYmxlIGxvZ2dpbmcgdGhlbS5cbiAqL1xuY29uc3QgZG9udExvZ1Rvb2xEYXRhID0gbG9nZ2luZy5kb250TG9nVG9vbERhdGE7XG4vKipcbiAqIEdldCBhIGxvZ2dlciBmb3IgYSBnaXZlbiBwYWNrYWdlLlxuICpcbiAqIEBwYXJhbSBuYW1lc3BhY2UgLSB0aGUgbmFtZXNwYWNlIHRvIHVzZSBmb3IgdGhlIGxvZ2dlci5cbiAqIEByZXR1cm5zIEEgbG9nZ2VyIG9iamVjdCB3aXRoIGBkZWJ1Z2AgYW5kIGBlcnJvcmAgbWV0aG9kcy5cbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIGdldExvZ2dlcihuYW1lc3BhY2UgPSAnb3BlbmFpLWFnZW50cycpIHtcbiAgICByZXR1cm4ge1xuICAgICAgICBuYW1lc3BhY2UsXG4gICAgICAgIGRlYnVnOiBkZWJ1ZyhuYW1lc3BhY2UpLFxuICAgICAgICBlcnJvcjogY29uc29sZS5lcnJvcixcbiAgICAgICAgd2FybjogY29uc29sZS53YXJuLFxuICAgICAgICBkb250TG9nTW9kZWxEYXRhLFxuICAgICAgICBkb250TG9nVG9vbERhdGEsXG4gICAgfTtcbn1cbmV4cG9ydCBjb25zdCBsb2dnZXIgPSBnZXRMb2dnZXIoJ29wZW5haS1hZ2VudHM6Y29yZScpO1xuZXhwb3J0IGRlZmF1bHQgbG9nZ2VyO1xuLy8jIHNvdXJjZU1hcHBpbmdVUkw9bG9nZ2VyLm1qcy5tYXAiLCJjb25zdCBCWVRFX1BSRVZJRVdfTElNSVQgPSAyMDtcbmV4cG9ydCBmdW5jdGlvbiB0b1NtYXJ0U3RyaW5nKHZhbHVlKSB7XG4gICAgLy8gUHJvZHVjZSBhIGh1bWFuLWZyaWVuZGx5IHN0cmluZyByZXByZXNlbnRhdGlvbiB3aGlsZSBwcmVzZXJ2aW5nIGVub3VnaCBkZXRhaWwgZm9yIGRlYnVnZ2luZyB3b3JrZmxvd3MuXG4gICAgaWYgKHZhbHVlID09PSBudWxsIHx8IHZhbHVlID09PSB1bmRlZmluZWQpIHtcbiAgICAgICAgcmV0dXJuIFN0cmluZyh2YWx1ZSk7XG4gICAgfVxuICAgIGlmIChpc0FycmF5QnVmZmVyTGlrZSh2YWx1ZSkpIHtcbiAgICAgICAgcmV0dXJuIGZvcm1hdEJ5dGVBcnJheShuZXcgVWludDhBcnJheSh2YWx1ZSkpO1xuICAgIH1cbiAgICBpZiAoaXNBcnJheUJ1ZmZlclZpZXcodmFsdWUpKSB7XG4gICAgICAgIGNvbnN0IHZpZXcgPSB2YWx1ZTtcbiAgICAgICAgcmV0dXJuIGZvcm1hdEJ5dGVBcnJheShuZXcgVWludDhBcnJheSh2aWV3LmJ1ZmZlciwgdmlldy5ieXRlT2Zmc2V0LCB2aWV3LmJ5dGVMZW5ndGgpKTtcbiAgICB9XG4gICAgaWYgKHR5cGVvZiB2YWx1ZSA9PT0gJ3N0cmluZycpIHtcbiAgICAgICAgcmV0dXJuIHZhbHVlO1xuICAgIH1cbiAgICBpZiAodHlwZW9mIHZhbHVlID09PSAnb2JqZWN0Jykge1xuICAgICAgICB0cnkge1xuICAgICAgICAgICAgcmV0dXJuIEpTT04uc3RyaW5naWZ5KHZhbHVlLCBzbWFydFN0cmluZ1JlcGxhY2VyKTtcbiAgICAgICAgfVxuICAgICAgICBjYXRjaCAoX2UpIHtcbiAgICAgICAgICAgIHJldHVybiAnW29iamVjdCB3aXRoIGNpcmN1bGFyIHJlZmVyZW5jZXNdJztcbiAgICAgICAgfVxuICAgIH1cbiAgICByZXR1cm4gU3RyaW5nKHZhbHVlKTtcbn1cbmV4cG9ydCBmdW5jdGlvbiBpc0FycmF5QnVmZmVyTGlrZSh2YWx1ZSkge1xuICAgIC8vIERldGVjdCByYXcgQXJyYXlCdWZmZXItYmFja2VkIHBheWxvYWRzIHNvIGNhbGxlcnMgY2FuIGdlbmVyYXRlIGZ1bGwgcHJldmlld3MgcmF0aGVyIHRoYW4gdHJ1bmNhdGVkIGhhc2hlcy5cbiAgICBpZiAodmFsdWUgaW5zdGFuY2VvZiBBcnJheUJ1ZmZlcikge1xuICAgICAgICByZXR1cm4gdHJ1ZTtcbiAgICB9XG4gICAgY29uc3Qgc2hhcmVkQXJyYXlCdWZmZXJDdG9yID0gZ2xvYmFsVGhpcy5TaGFyZWRBcnJheUJ1ZmZlcjtcbiAgICByZXR1cm4gQm9vbGVhbihzaGFyZWRBcnJheUJ1ZmZlckN0b3IgJiYgdmFsdWUgaW5zdGFuY2VvZiBzaGFyZWRBcnJheUJ1ZmZlckN0b3IpO1xufVxuZXhwb3J0IGZ1bmN0aW9uIGlzQXJyYXlCdWZmZXJWaWV3KHZhbHVlKSB7XG4gICAgLy8gVHJlYXQgdHlwZWQgYXJyYXkgdmlld3MgYXMgYmluYXJ5IGRhdGEgZm9yIGNvbnNpc3RlbnQgc2VyaWFsaXphdGlvbi5cbiAgICByZXR1cm4gdHlwZW9mIEFycmF5QnVmZmVyICE9PSAndW5kZWZpbmVkJyAmJiBBcnJheUJ1ZmZlci5pc1ZpZXcodmFsdWUpO1xufVxuZXhwb3J0IGZ1bmN0aW9uIGlzU2VyaWFsaXplZEJ1ZmZlclNuYXBzaG90KHZhbHVlKSB7XG4gICAgLy8gU3VwcG9ydCBzZXJpYWxpemVkIEJ1ZmZlciBzbmFwc2hvdHMgKGUuZy4sIGZyb20gSlNPTi5wYXJzZSkgZW1pdHRlZCBieSBzb21lIHRvb2wgb3V0cHV0cy5cbiAgICByZXR1cm4gKHR5cGVvZiB2YWx1ZSA9PT0gJ29iamVjdCcgJiZcbiAgICAgICAgdmFsdWUgIT09IG51bGwgJiZcbiAgICAgICAgdmFsdWUudHlwZSA9PT0gJ0J1ZmZlcicgJiZcbiAgICAgICAgQXJyYXkuaXNBcnJheSh2YWx1ZS5kYXRhKSk7XG59XG5leHBvcnQgZnVuY3Rpb24gaXNOb2RlQnVmZmVyKHZhbHVlKSB7XG4gICAgLy8gRGV0ZWN0IHJ1bnRpbWUgQnVmZmVycyB3aXRob3V0IGltcG9ydGluZyBub2RlLXNwZWNpZmljIHNoaW1zLCBoYW5kbGluZyBicm93c2VyIGJ1aWxkcyBncmFjZWZ1bGx5LlxuICAgIGNvbnN0IGJ1ZmZlckN0b3IgPSBnbG9iYWxUaGlzLkJ1ZmZlcjtcbiAgICByZXR1cm4gQm9vbGVhbihidWZmZXJDdG9yICYmXG4gICAgICAgIHR5cGVvZiBidWZmZXJDdG9yLmlzQnVmZmVyID09PSAnZnVuY3Rpb24nICYmXG4gICAgICAgIGJ1ZmZlckN0b3IuaXNCdWZmZXIodmFsdWUpKTtcbn1cbmZ1bmN0aW9uIGZvcm1hdEJ5dGVBcnJheShieXRlcykge1xuICAgIGlmIChieXRlcy5sZW5ndGggPT09IDApIHtcbiAgICAgICAgcmV0dXJuICdbYnl0ZSBhcnJheSAoMCBieXRlcyldJztcbiAgICB9XG4gICAgY29uc3QgcHJldmlld0xlbmd0aCA9IE1hdGgubWluKGJ5dGVzLmxlbmd0aCwgQllURV9QUkVWSUVXX0xJTUlUKTtcbiAgICBjb25zdCBwcmV2aWV3UGFydHMgPSBbXTtcbiAgICBmb3IgKGxldCBpID0gMDsgaSA8IHByZXZpZXdMZW5ndGg7IGkrKykge1xuICAgICAgICBwcmV2aWV3UGFydHMucHVzaChmb3JtYXRCeXRlKGJ5dGVzW2ldKSk7XG4gICAgfVxuICAgIGNvbnN0IGVsbGlwc2lzID0gYnl0ZXMubGVuZ3RoID4gQllURV9QUkVWSUVXX0xJTUlUID8gJyDigKYnIDogJyc7XG4gICAgY29uc3QgcHJldmlldyA9IHByZXZpZXdQYXJ0cy5qb2luKCcgJyk7XG4gICAgcmV0dXJuIGBbYnl0ZSBhcnJheSAke3ByZXZpZXd9JHtlbGxpcHNpc30gKCR7Ynl0ZXMubGVuZ3RofSBieXRlcyldYDtcbn1cbmZ1bmN0aW9uIGZvcm1hdEJ5dGUoYnl0ZSkge1xuICAgIHJldHVybiBgMHgke2J5dGUudG9TdHJpbmcoMTYpLnBhZFN0YXJ0KDIsICcwJyl9YDtcbn1cbmZ1bmN0aW9uIHNtYXJ0U3RyaW5nUmVwbGFjZXIoX2tleSwgbmVzdGVkVmFsdWUpIHtcbiAgICBpZiAoaXNBcnJheUJ1ZmZlckxpa2UobmVzdGVkVmFsdWUpKSB7XG4gICAgICAgIHJldHVybiBmb3JtYXRCeXRlQXJyYXkobmV3IFVpbnQ4QXJyYXkobmVzdGVkVmFsdWUpKTtcbiAgICB9XG4gICAgaWYgKGlzQXJyYXlCdWZmZXJWaWV3KG5lc3RlZFZhbHVlKSkge1xuICAgICAgICBjb25zdCB2aWV3ID0gbmVzdGVkVmFsdWU7XG4gICAgICAgIHJldHVybiBmb3JtYXRCeXRlQXJyYXkobmV3IFVpbnQ4QXJyYXkodmlldy5idWZmZXIsIHZpZXcuYnl0ZU9mZnNldCwgdmlldy5ieXRlTGVuZ3RoKSk7XG4gICAgfVxuICAgIGlmIChpc1NlcmlhbGl6ZWRCdWZmZXJTbmFwc2hvdChuZXN0ZWRWYWx1ZSkpIHtcbiAgICAgICAgcmV0dXJuIGZvcm1hdEJ5dGVBcnJheShVaW50OEFycmF5LmZyb20obmVzdGVkVmFsdWUuZGF0YSkpO1xuICAgIH1cbiAgICByZXR1cm4gbmVzdGVkVmFsdWU7XG59XG4vLyMgc291cmNlTWFwcGluZ1VSTD1zbWFydFN0cmluZy5tanMubWFwIiwiaW1wb3J0IHsgc2FmZUV4ZWN1dGUgfSBmcm9tIFwiLi91dGlscy9zYWZlRXhlY3V0ZS5tanNcIjtcbmltcG9ydCB7IHRvRnVuY3Rpb25Ub29sTmFtZSB9IGZyb20gXCIuL3V0aWxzL3Rvb2xzLm1qc1wiO1xuaW1wb3J0IHsgZ2V0U2NoZW1hQW5kUGFyc2VyRnJvbUlucHV0VHlwZSB9IGZyb20gXCIuL3V0aWxzL3Rvb2xzLm1qc1wiO1xuaW1wb3J0IHsgaXNab2RPYmplY3QgfSBmcm9tIFwiLi91dGlscy90eXBlR3VhcmRzLm1qc1wiO1xuaW1wb3J0IHsgTW9kZWxCZWhhdmlvckVycm9yLCBVc2VyRXJyb3IgfSBmcm9tIFwiLi9lcnJvcnMubWpzXCI7XG5pbXBvcnQgbG9nZ2VyIGZyb20gXCIuL2xvZ2dlci5tanNcIjtcbmltcG9ydCB7IGdldEN1cnJlbnRTcGFuIH0gZnJvbSBcIi4vdHJhY2luZy9pbmRleC5tanNcIjtcbmltcG9ydCB7IHRvU21hcnRTdHJpbmcgfSBmcm9tIFwiLi91dGlscy9zbWFydFN0cmluZy5tanNcIjtcbi8qKlxuICogRXhwb3NlcyBhIGNvbXB1dGVyIHRvIHRoZSBhZ2VudCBhcyBhIHRvb2wgdG8gYmUgY2FsbGVkXG4gKlxuICogQHBhcmFtIG9wdGlvbnMgQWRkaXRpb25hbCBjb25maWd1cmF0aW9uIGZvciB0aGUgY29tcHV0ZXIgdG9vbCBsaWtlIHNwZWNpZnlpbmcgdGhlIGxvY2F0aW9uIG9mIHlvdXIgYWdlbnRcbiAqIEByZXR1cm5zIGEgY29tcHV0ZXIgdG9vbCBkZWZpbml0aW9uXG4gKi9cbmV4cG9ydCBmdW5jdGlvbiBjb21wdXRlclRvb2wob3B0aW9ucykge1xuICAgIHJldHVybiB7XG4gICAgICAgIHR5cGU6ICdjb21wdXRlcicsXG4gICAgICAgIG5hbWU6IG9wdGlvbnMubmFtZSA/PyAnY29tcHV0ZXJfdXNlX3ByZXZpZXcnLFxuICAgICAgICBjb21wdXRlcjogb3B0aW9ucy5jb21wdXRlcixcbiAgICB9O1xufVxuZXhwb3J0IGZ1bmN0aW9uIHNoZWxsVG9vbChvcHRpb25zKSB7XG4gICAgY29uc3QgbmVlZHNBcHByb3ZhbCA9IHR5cGVvZiBvcHRpb25zLm5lZWRzQXBwcm92YWwgPT09ICdmdW5jdGlvbidcbiAgICAgICAgPyBvcHRpb25zLm5lZWRzQXBwcm92YWxcbiAgICAgICAgOiBhc3luYyAoKSA9PiB0eXBlb2Ygb3B0aW9ucy5uZWVkc0FwcHJvdmFsID09PSAnYm9vbGVhbidcbiAgICAgICAgICAgID8gb3B0aW9ucy5uZWVkc0FwcHJvdmFsXG4gICAgICAgICAgICA6IGZhbHNlO1xuICAgIHJldHVybiB7XG4gICAgICAgIHR5cGU6ICdzaGVsbCcsXG4gICAgICAgIG5hbWU6IG9wdGlvbnMubmFtZSA/PyAnc2hlbGwnLFxuICAgICAgICBzaGVsbDogb3B0aW9ucy5zaGVsbCxcbiAgICAgICAgbmVlZHNBcHByb3ZhbCxcbiAgICAgICAgb25BcHByb3ZhbDogb3B0aW9ucy5vbkFwcHJvdmFsLFxuICAgIH07XG59XG5leHBvcnQgZnVuY3Rpb24gYXBwbHlQYXRjaFRvb2wob3B0aW9ucykge1xuICAgIGNvbnN0IG5lZWRzQXBwcm92YWwgPSB0eXBlb2Ygb3B0aW9ucy5uZWVkc0FwcHJvdmFsID09PSAnZnVuY3Rpb24nXG4gICAgICAgID8gb3B0aW9ucy5uZWVkc0FwcHJvdmFsXG4gICAgICAgIDogYXN5bmMgKCkgPT4gdHlwZW9mIG9wdGlvbnMubmVlZHNBcHByb3ZhbCA9PT0gJ2Jvb2xlYW4nXG4gICAgICAgICAgICA/IG9wdGlvbnMubmVlZHNBcHByb3ZhbFxuICAgICAgICAgICAgOiBmYWxzZTtcbiAgICByZXR1cm4ge1xuICAgICAgICB0eXBlOiAnYXBwbHlfcGF0Y2gnLFxuICAgICAgICBuYW1lOiBvcHRpb25zLm5hbWUgPz8gJ2FwcGx5X3BhdGNoJyxcbiAgICAgICAgZWRpdG9yOiBvcHRpb25zLmVkaXRvcixcbiAgICAgICAgbmVlZHNBcHByb3ZhbCxcbiAgICAgICAgb25BcHByb3ZhbDogb3B0aW9ucy5vbkFwcHJvdmFsLFxuICAgIH07XG59XG4vKipcbiAqIENyZWF0ZXMgYSBob3N0ZWQgTUNQIHRvb2wgZGVmaW5pdGlvbi5cbiAqXG4gKiBAcGFyYW0gb3B0aW9ucyAtIENvbmZpZ3VyYXRpb24gZm9yIHRoZSBob3N0ZWQgTUNQIHRvb2wsIGluY2x1ZGluZyBzZXJ2ZXIgY29ubmVjdGlvbiBkZXRhaWxzXG4gKiBhbmQgYXBwcm92YWwgcmVxdWlyZW1lbnRzLlxuICovXG5leHBvcnQgZnVuY3Rpb24gaG9zdGVkTWNwVG9vbChvcHRpb25zKSB7XG4gICAgaWYgKCdzZXJ2ZXJVcmwnIGluIG9wdGlvbnMpIHtcbiAgICAgICAgLy8gdGhlIE1DUCBzZXJ2ZXJzIGNvbWFwdGlibGUgd2l0aCB0aGUgc3BlY2lmaWNhdGlvblxuICAgICAgICBjb25zdCBwcm92aWRlckRhdGEgPSB0eXBlb2Ygb3B0aW9ucy5yZXF1aXJlQXBwcm92YWwgPT09ICd1bmRlZmluZWQnIHx8XG4gICAgICAgICAgICBvcHRpb25zLnJlcXVpcmVBcHByb3ZhbCA9PT0gJ25ldmVyJ1xuICAgICAgICAgICAgPyB7XG4gICAgICAgICAgICAgICAgdHlwZTogJ21jcCcsXG4gICAgICAgICAgICAgICAgc2VydmVyX2xhYmVsOiBvcHRpb25zLnNlcnZlckxhYmVsLFxuICAgICAgICAgICAgICAgIHNlcnZlcl91cmw6IG9wdGlvbnMuc2VydmVyVXJsLFxuICAgICAgICAgICAgICAgIGF1dGhvcml6YXRpb246IG9wdGlvbnMuYXV0aG9yaXphdGlvbixcbiAgICAgICAgICAgICAgICByZXF1aXJlX2FwcHJvdmFsOiAnbmV2ZXInLFxuICAgICAgICAgICAgICAgIGFsbG93ZWRfdG9vbHM6IHRvTWNwQWxsb3dlZFRvb2xzRmlsdGVyKG9wdGlvbnMuYWxsb3dlZFRvb2xzKSxcbiAgICAgICAgICAgICAgICBoZWFkZXJzOiBvcHRpb25zLmhlYWRlcnMsXG4gICAgICAgICAgICB9XG4gICAgICAgICAgICA6IHtcbiAgICAgICAgICAgICAgICB0eXBlOiAnbWNwJyxcbiAgICAgICAgICAgICAgICBzZXJ2ZXJfbGFiZWw6IG9wdGlvbnMuc2VydmVyTGFiZWwsXG4gICAgICAgICAgICAgICAgc2VydmVyX3VybDogb3B0aW9ucy5zZXJ2ZXJVcmwsXG4gICAgICAgICAgICAgICAgYXV0aG9yaXphdGlvbjogb3B0aW9ucy5hdXRob3JpemF0aW9uLFxuICAgICAgICAgICAgICAgIGFsbG93ZWRfdG9vbHM6IHRvTWNwQWxsb3dlZFRvb2xzRmlsdGVyKG9wdGlvbnMuYWxsb3dlZFRvb2xzKSxcbiAgICAgICAgICAgICAgICBoZWFkZXJzOiBvcHRpb25zLmhlYWRlcnMsXG4gICAgICAgICAgICAgICAgcmVxdWlyZV9hcHByb3ZhbDogdHlwZW9mIG9wdGlvbnMucmVxdWlyZUFwcHJvdmFsID09PSAnc3RyaW5nJ1xuICAgICAgICAgICAgICAgICAgICA/ICdhbHdheXMnXG4gICAgICAgICAgICAgICAgICAgIDogYnVpbGRSZXF1aXJlQXBwcm92YWwob3B0aW9ucy5yZXF1aXJlQXBwcm92YWwpLFxuICAgICAgICAgICAgICAgIG9uX2FwcHJvdmFsOiBvcHRpb25zLm9uQXBwcm92YWwsXG4gICAgICAgICAgICB9O1xuICAgICAgICByZXR1cm4ge1xuICAgICAgICAgICAgdHlwZTogJ2hvc3RlZF90b29sJyxcbiAgICAgICAgICAgIG5hbWU6ICdob3N0ZWRfbWNwJyxcbiAgICAgICAgICAgIHByb3ZpZGVyRGF0YSxcbiAgICAgICAgfTtcbiAgICB9XG4gICAgZWxzZSBpZiAoJ2Nvbm5lY3RvcklkJyBpbiBvcHRpb25zKSB7XG4gICAgICAgIC8vIE9wZW5BSSdzIGNvbm5lY3RvcnNcbiAgICAgICAgY29uc3QgcHJvdmlkZXJEYXRhID0gdHlwZW9mIG9wdGlvbnMucmVxdWlyZUFwcHJvdmFsID09PSAndW5kZWZpbmVkJyB8fFxuICAgICAgICAgICAgb3B0aW9ucy5yZXF1aXJlQXBwcm92YWwgPT09ICduZXZlcidcbiAgICAgICAgICAgID8ge1xuICAgICAgICAgICAgICAgIHR5cGU6ICdtY3AnLFxuICAgICAgICAgICAgICAgIHNlcnZlcl9sYWJlbDogb3B0aW9ucy5zZXJ2ZXJMYWJlbCxcbiAgICAgICAgICAgICAgICBjb25uZWN0b3JfaWQ6IG9wdGlvbnMuY29ubmVjdG9ySWQsXG4gICAgICAgICAgICAgICAgYXV0aG9yaXphdGlvbjogb3B0aW9ucy5hdXRob3JpemF0aW9uLFxuICAgICAgICAgICAgICAgIHJlcXVpcmVfYXBwcm92YWw6ICduZXZlcicsXG4gICAgICAgICAgICAgICAgYWxsb3dlZF90b29sczogdG9NY3BBbGxvd2VkVG9vbHNGaWx0ZXIob3B0aW9ucy5hbGxvd2VkVG9vbHMpLFxuICAgICAgICAgICAgICAgIGhlYWRlcnM6IG9wdGlvbnMuaGVhZGVycyxcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIDoge1xuICAgICAgICAgICAgICAgIHR5cGU6ICdtY3AnLFxuICAgICAgICAgICAgICAgIHNlcnZlcl9sYWJlbDogb3B0aW9ucy5zZXJ2ZXJMYWJlbCxcbiAgICAgICAgICAgICAgICBjb25uZWN0b3JfaWQ6IG9wdGlvbnMuY29ubmVjdG9ySWQsXG4gICAgICAgICAgICAgICAgYXV0aG9yaXphdGlvbjogb3B0aW9ucy5hdXRob3JpemF0aW9uLFxuICAgICAgICAgICAgICAgIGFsbG93ZWRfdG9vbHM6IHRvTWNwQWxsb3dlZFRvb2xzRmlsdGVyKG9wdGlvbnMuYWxsb3dlZFRvb2xzKSxcbiAgICAgICAgICAgICAgICBoZWFkZXJzOiBvcHRpb25zLmhlYWRlcnMsXG4gICAgICAgICAgICAgICAgcmVxdWlyZV9hcHByb3ZhbDogdHlwZW9mIG9wdGlvbnMucmVxdWlyZUFwcHJvdmFsID09PSAnc3RyaW5nJ1xuICAgICAgICAgICAgICAgICAgICA/ICdhbHdheXMnXG4gICAgICAgICAgICAgICAgICAgIDogYnVpbGRSZXF1aXJlQXBwcm92YWwob3B0aW9ucy5yZXF1aXJlQXBwcm92YWwpLFxuICAgICAgICAgICAgICAgIG9uX2FwcHJvdmFsOiBvcHRpb25zLm9uQXBwcm92YWwsXG4gICAgICAgICAgICB9O1xuICAgICAgICByZXR1cm4ge1xuICAgICAgICAgICAgdHlwZTogJ2hvc3RlZF90b29sJyxcbiAgICAgICAgICAgIG5hbWU6ICdob3N0ZWRfbWNwJyxcbiAgICAgICAgICAgIHByb3ZpZGVyRGF0YSxcbiAgICAgICAgfTtcbiAgICB9XG4gICAgZWxzZSB7XG4gICAgICAgIC8vIHRoZSBNQ1Agc2VydmVycyBjb21hcHRpYmxlIHdpdGggdGhlIHNwZWNpZmljYXRpb25cbiAgICAgICAgY29uc3QgcHJvdmlkZXJEYXRhID0gdHlwZW9mIG9wdGlvbnMucmVxdWlyZUFwcHJvdmFsID09PSAndW5kZWZpbmVkJyB8fFxuICAgICAgICAgICAgb3B0aW9ucy5yZXF1aXJlQXBwcm92YWwgPT09ICduZXZlcidcbiAgICAgICAgICAgID8ge1xuICAgICAgICAgICAgICAgIHR5cGU6ICdtY3AnLFxuICAgICAgICAgICAgICAgIHNlcnZlcl9sYWJlbDogb3B0aW9ucy5zZXJ2ZXJMYWJlbCxcbiAgICAgICAgICAgICAgICByZXF1aXJlX2FwcHJvdmFsOiAnbmV2ZXInLFxuICAgICAgICAgICAgICAgIGFsbG93ZWRfdG9vbHM6IHRvTWNwQWxsb3dlZFRvb2xzRmlsdGVyKG9wdGlvbnMuYWxsb3dlZFRvb2xzKSxcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIDoge1xuICAgICAgICAgICAgICAgIHR5cGU6ICdtY3AnLFxuICAgICAgICAgICAgICAgIHNlcnZlcl9sYWJlbDogb3B0aW9ucy5zZXJ2ZXJMYWJlbCxcbiAgICAgICAgICAgICAgICBhbGxvd2VkX3Rvb2xzOiB0b01jcEFsbG93ZWRUb29sc0ZpbHRlcihvcHRpb25zLmFsbG93ZWRUb29scyksXG4gICAgICAgICAgICAgICAgcmVxdWlyZV9hcHByb3ZhbDogdHlwZW9mIG9wdGlvbnMucmVxdWlyZUFwcHJvdmFsID09PSAnc3RyaW5nJ1xuICAgICAgICAgICAgICAgICAgICA/ICdhbHdheXMnXG4gICAgICAgICAgICAgICAgICAgIDogYnVpbGRSZXF1aXJlQXBwcm92YWwob3B0aW9ucy5yZXF1aXJlQXBwcm92YWwpLFxuICAgICAgICAgICAgICAgIG9uX2FwcHJvdmFsOiBvcHRpb25zLm9uQXBwcm92YWwsXG4gICAgICAgICAgICB9O1xuICAgICAgICByZXR1cm4ge1xuICAgICAgICAgICAgdHlwZTogJ2hvc3RlZF90b29sJyxcbiAgICAgICAgICAgIG5hbWU6ICdob3N0ZWRfbWNwJyxcbiAgICAgICAgICAgIHByb3ZpZGVyRGF0YSxcbiAgICAgICAgfTtcbiAgICB9XG59XG4vKipcbiAqIFRoZSBkZWZhdWx0IGZ1bmN0aW9uIHRvIGludm9rZSB3aGVuIGFuIGVycm9yIG9jY3VycyB3aGlsZSBydW5uaW5nIHRoZSB0b29sLlxuICpcbiAqIEFsd2F5cyByZXR1cm5zIGBBbiBlcnJvciBvY2N1cnJlZCB3aGlsZSBydW5uaW5nIHRoZSB0b29sLiBQbGVhc2UgdHJ5IGFnYWluLiBFcnJvcjogPGVycm9yIGRldGFpbHM+YFxuICpcbiAqIEBwYXJhbSBjb250ZXh0IEFuIGluc3RhbmNlIG9mIHRoZSBjdXJyZW50IFJ1bkNvbnRleHRcbiAqIEBwYXJhbSBlcnJvciBUaGUgZXJyb3IgdGhhdCBvY2N1cnJlZFxuICovXG5mdW5jdGlvbiBkZWZhdWx0VG9vbEVycm9yRnVuY3Rpb24oY29udGV4dCwgZXJyb3IpIHtcbiAgICBjb25zdCBkZXRhaWxzID0gZXJyb3IgaW5zdGFuY2VvZiBFcnJvciA/IGVycm9yLnRvU3RyaW5nKCkgOiBTdHJpbmcoZXJyb3IpO1xuICAgIHJldHVybiBgQW4gZXJyb3Igb2NjdXJyZWQgd2hpbGUgcnVubmluZyB0aGUgdG9vbC4gUGxlYXNlIHRyeSBhZ2Fpbi4gRXJyb3I6ICR7ZGV0YWlsc31gO1xufVxuLyoqXG4gKiBFeHBvc2VzIGEgZnVuY3Rpb24gdG8gdGhlIGFnZW50IGFzIGEgdG9vbCB0byBiZSBjYWxsZWRcbiAqXG4gKiBAcGFyYW0gb3B0aW9ucyBUaGUgb3B0aW9ucyBmb3IgdGhlIHRvb2xcbiAqIEByZXR1cm5zIEEgbmV3IHRvb2xcbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIHRvb2wob3B0aW9ucykge1xuICAgIGNvbnN0IG5hbWUgPSBvcHRpb25zLm5hbWVcbiAgICAgICAgPyB0b0Z1bmN0aW9uVG9vbE5hbWUob3B0aW9ucy5uYW1lKVxuICAgICAgICA6IHRvRnVuY3Rpb25Ub29sTmFtZShvcHRpb25zLmV4ZWN1dGUubmFtZSk7XG4gICAgY29uc3QgdG9vbEVycm9yRnVuY3Rpb24gPSB0eXBlb2Ygb3B0aW9ucy5lcnJvckZ1bmN0aW9uID09PSAndW5kZWZpbmVkJ1xuICAgICAgICA/IGRlZmF1bHRUb29sRXJyb3JGdW5jdGlvblxuICAgICAgICA6IG9wdGlvbnMuZXJyb3JGdW5jdGlvbjtcbiAgICBpZiAoIW5hbWUpIHtcbiAgICAgICAgdGhyb3cgbmV3IEVycm9yKCdUb29sIG5hbWUgY2Fubm90IGJlIGVtcHR5LiBFaXRoZXIgbmFtZSB5b3VyIGZ1bmN0aW9uIG9yIHByb3ZpZGUgYSBuYW1lIGluIHRoZSBvcHRpb25zLicpO1xuICAgIH1cbiAgICBjb25zdCBzdHJpY3RNb2RlID0gb3B0aW9ucy5zdHJpY3QgPz8gdHJ1ZTtcbiAgICBpZiAoIXN0cmljdE1vZGUgJiYgaXNab2RPYmplY3Qob3B0aW9ucy5wYXJhbWV0ZXJzKSkge1xuICAgICAgICB0aHJvdyBuZXcgVXNlckVycm9yKCdTdHJpY3QgbW9kZSBpcyByZXF1aXJlZCBmb3IgWm9kIHBhcmFtZXRlcnMnKTtcbiAgICB9XG4gICAgY29uc3QgeyBwYXJzZXIsIHNjaGVtYTogcGFyYW1ldGVycyB9ID0gZ2V0U2NoZW1hQW5kUGFyc2VyRnJvbUlucHV0VHlwZShvcHRpb25zLnBhcmFtZXRlcnMsIG5hbWUpO1xuICAgIGFzeW5jIGZ1bmN0aW9uIF9pbnZva2UocnVuQ29udGV4dCwgaW5wdXQsIGRldGFpbHMpIHtcbiAgICAgICAgY29uc3QgW2Vycm9yLCBwYXJzZWRdID0gYXdhaXQgc2FmZUV4ZWN1dGUoKCkgPT4gcGFyc2VyKGlucHV0KSk7XG4gICAgICAgIGlmIChlcnJvciAhPT0gbnVsbCkge1xuICAgICAgICAgICAgaWYgKGxvZ2dlci5kb250TG9nVG9vbERhdGEpIHtcbiAgICAgICAgICAgICAgICBsb2dnZXIuZGVidWcoYEludmFsaWQgSlNPTiBpbnB1dCBmb3IgdG9vbCAke25hbWV9YCk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgICAgICBsb2dnZXIuZGVidWcoYEludmFsaWQgSlNPTiBpbnB1dCBmb3IgdG9vbCAke25hbWV9OiAke2lucHV0fWApO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgdGhyb3cgbmV3IE1vZGVsQmVoYXZpb3JFcnJvcignSW52YWxpZCBKU09OIGlucHV0IGZvciB0b29sJyk7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKGxvZ2dlci5kb250TG9nVG9vbERhdGEpIHtcbiAgICAgICAgICAgIGxvZ2dlci5kZWJ1ZyhgSW52b2tpbmcgdG9vbCAke25hbWV9YCk7XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICBsb2dnZXIuZGVidWcoYEludm9raW5nIHRvb2wgJHtuYW1lfSB3aXRoIGlucHV0ICR7aW5wdXR9YCk7XG4gICAgICAgIH1cbiAgICAgICAgY29uc3QgcmVzdWx0ID0gYXdhaXQgb3B0aW9ucy5leGVjdXRlKHBhcnNlZCwgcnVuQ29udGV4dCwgZGV0YWlscyk7XG4gICAgICAgIGNvbnN0IHN0cmluZ1Jlc3VsdCA9IHRvU21hcnRTdHJpbmcocmVzdWx0KTtcbiAgICAgICAgaWYgKGxvZ2dlci5kb250TG9nVG9vbERhdGEpIHtcbiAgICAgICAgICAgIGxvZ2dlci5kZWJ1ZyhgVG9vbCAke25hbWV9IGNvbXBsZXRlZGApO1xuICAgICAgICB9XG4gICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgbG9nZ2VyLmRlYnVnKGBUb29sICR7bmFtZX0gcmV0dXJuZWQ6ICR7c3RyaW5nUmVzdWx0fWApO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiByZXN1bHQ7XG4gICAgfVxuICAgIGFzeW5jIGZ1bmN0aW9uIGludm9rZShydW5Db250ZXh0LCBpbnB1dCwgZGV0YWlscykge1xuICAgICAgICByZXR1cm4gX2ludm9rZShydW5Db250ZXh0LCBpbnB1dCwgZGV0YWlscykuY2F0Y2goKGVycm9yKSA9PiB7XG4gICAgICAgICAgICBpZiAodG9vbEVycm9yRnVuY3Rpb24pIHtcbiAgICAgICAgICAgICAgICBjb25zdCBjdXJyZW50U3BhbiA9IGdldEN1cnJlbnRTcGFuKCk7XG4gICAgICAgICAgICAgICAgY3VycmVudFNwYW4/LnNldEVycm9yKHtcbiAgICAgICAgICAgICAgICAgICAgbWVzc2FnZTogJ0Vycm9yIHJ1bm5pbmcgdG9vbCAobm9uLWZhdGFsKScsXG4gICAgICAgICAgICAgICAgICAgIGRhdGE6IHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHRvb2xfbmFtZTogbmFtZSxcbiAgICAgICAgICAgICAgICAgICAgICAgIGVycm9yOiBlcnJvci50b1N0cmluZygpLFxuICAgICAgICAgICAgICAgICAgICB9LFxuICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgICAgIHJldHVybiB0b29sRXJyb3JGdW5jdGlvbihydW5Db250ZXh0LCBlcnJvcik7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICB0aHJvdyBlcnJvcjtcbiAgICAgICAgfSk7XG4gICAgfVxuICAgIGNvbnN0IG5lZWRzQXBwcm92YWwgPSB0eXBlb2Ygb3B0aW9ucy5uZWVkc0FwcHJvdmFsID09PSAnZnVuY3Rpb24nXG4gICAgICAgID8gb3B0aW9ucy5uZWVkc0FwcHJvdmFsXG4gICAgICAgIDogYXN5bmMgKCkgPT4gdHlwZW9mIG9wdGlvbnMubmVlZHNBcHByb3ZhbCA9PT0gJ2Jvb2xlYW4nXG4gICAgICAgICAgICA/IG9wdGlvbnMubmVlZHNBcHByb3ZhbFxuICAgICAgICAgICAgOiBmYWxzZTtcbiAgICBjb25zdCBpc0VuYWJsZWQgPSB0eXBlb2Ygb3B0aW9ucy5pc0VuYWJsZWQgPT09ICdmdW5jdGlvbidcbiAgICAgICAgPyBhc3luYyAocnVuQ29udGV4dCwgYWdlbnQpID0+IHtcbiAgICAgICAgICAgIGNvbnN0IHByZWRpY2F0ZSA9IG9wdGlvbnMuaXNFbmFibGVkO1xuICAgICAgICAgICAgY29uc3QgcmVzdWx0ID0gYXdhaXQgcHJlZGljYXRlKHsgcnVuQ29udGV4dCwgYWdlbnQgfSk7XG4gICAgICAgICAgICByZXR1cm4gQm9vbGVhbihyZXN1bHQpO1xuICAgICAgICB9XG4gICAgICAgIDogYXN5bmMgKCkgPT4gdHlwZW9mIG9wdGlvbnMuaXNFbmFibGVkID09PSAnYm9vbGVhbicgPyBvcHRpb25zLmlzRW5hYmxlZCA6IHRydWU7XG4gICAgcmV0dXJuIHtcbiAgICAgICAgdHlwZTogJ2Z1bmN0aW9uJyxcbiAgICAgICAgbmFtZSxcbiAgICAgICAgZGVzY3JpcHRpb246IG9wdGlvbnMuZGVzY3JpcHRpb24sXG4gICAgICAgIHBhcmFtZXRlcnMsXG4gICAgICAgIHN0cmljdDogc3RyaWN0TW9kZSxcbiAgICAgICAgaW52b2tlLFxuICAgICAgICBuZWVkc0FwcHJvdmFsLFxuICAgICAgICBpc0VuYWJsZWQsXG4gICAgfTtcbn1cbmZ1bmN0aW9uIGJ1aWxkUmVxdWlyZUFwcHJvdmFsKHJlcXVpcmVBcHByb3ZhbCkge1xuICAgIGNvbnN0IHJlc3VsdCA9IHt9O1xuICAgIGlmIChyZXF1aXJlQXBwcm92YWwuYWx3YXlzKSB7XG4gICAgICAgIHJlc3VsdC5hbHdheXMgPSB7IHRvb2xfbmFtZXM6IHJlcXVpcmVBcHByb3ZhbC5hbHdheXMudG9vbE5hbWVzIH07XG4gICAgfVxuICAgIGlmIChyZXF1aXJlQXBwcm92YWwubmV2ZXIpIHtcbiAgICAgICAgcmVzdWx0Lm5ldmVyID0geyB0b29sX25hbWVzOiByZXF1aXJlQXBwcm92YWwubmV2ZXIudG9vbE5hbWVzIH07XG4gICAgfVxuICAgIHJldHVybiByZXN1bHQ7XG59XG5mdW5jdGlvbiB0b01jcEFsbG93ZWRUb29sc0ZpbHRlcihhbGxvd2VkVG9vbHMpIHtcbiAgICBpZiAodHlwZW9mIGFsbG93ZWRUb29scyA9PT0gJ3VuZGVmaW5lZCcpIHtcbiAgICAgICAgcmV0dXJuIHVuZGVmaW5lZDtcbiAgICB9XG4gICAgaWYgKEFycmF5LmlzQXJyYXkoYWxsb3dlZFRvb2xzKSkge1xuICAgICAgICByZXR1cm4geyB0b29sX25hbWVzOiBhbGxvd2VkVG9vbHMgfTtcbiAgICB9XG4gICAgcmV0dXJuIHsgdG9vbF9uYW1lczogYWxsb3dlZFRvb2xzPy50b29sTmFtZXMgPz8gW10gfTtcbn1cbi8vIyBzb3VyY2VNYXBwaW5nVVJMPXRvb2wubWpzLm1hcCIsImltcG9ydCB7IHRvb2wgfSBmcm9tIFwiLi90b29sLm1qc1wiO1xuaW1wb3J0IHsgVXNlckVycm9yIH0gZnJvbSBcIi4vZXJyb3JzLm1qc1wiO1xuaW1wb3J0IHsgTUNQU2VydmVyU3RkaW8gYXMgVW5kZXJseWluZ01DUFNlcnZlclN0ZGlvLCBNQ1BTZXJ2ZXJTdHJlYW1hYmxlSHR0cCBhcyBVbmRlcmx5aW5nTUNQU2VydmVyU3RyZWFtYWJsZUh0dHAsIE1DUFNlcnZlclNTRSBhcyBVbmRlcmx5aW5nTUNQU2VydmVyU1NFLCB9IGZyb20gJ0BvcGVuYWkvYWdlbnRzLWNvcmUvX3NoaW1zJztcbmltcG9ydCB7IGdldEN1cnJlbnRTcGFuLCBnZXRDdXJyZW50VHJhY2UsIHdpdGhNQ1BMaXN0VG9vbHNTcGFuLCB9IGZyb20gXCIuL3RyYWNpbmcvaW5kZXgubWpzXCI7XG5pbXBvcnQgeyBsb2dnZXIgYXMgZ2xvYmFsTG9nZ2VyLCBnZXRMb2dnZXIgfSBmcm9tIFwiLi9sb2dnZXIubWpzXCI7XG5pbXBvcnQgZGVidWcgZnJvbSAnZGVidWcnO1xuaW1wb3J0IHsgeiB9IGZyb20gJ3pvZCc7XG5leHBvcnQgY29uc3QgREVGQVVMVF9TVERJT19NQ1BfQ0xJRU5UX0xPR0dFUl9OQU1FID0gJ29wZW5haS1hZ2VudHM6c3RkaW8tbWNwLWNsaWVudCc7XG5leHBvcnQgY29uc3QgREVGQVVMVF9TVFJFQU1BQkxFX0hUVFBfTUNQX0NMSUVOVF9MT0dHRVJfTkFNRSA9ICdvcGVuYWktYWdlbnRzOnN0cmVhbWFibGUtaHR0cC1tY3AtY2xpZW50JztcbmV4cG9ydCBjb25zdCBERUZBVUxUX1NTRV9NQ1BfQ0xJRU5UX0xPR0dFUl9OQU1FID0gJ29wZW5haS1hZ2VudHM6c3NlLW1jcC1jbGllbnQnO1xuZXhwb3J0IGNsYXNzIEJhc2VNQ1BTZXJ2ZXJTdGRpbyB7XG4gICAgY2FjaGVUb29sc0xpc3Q7XG4gICAgX2NhY2hlZFRvb2xzID0gdW5kZWZpbmVkO1xuICAgIHRvb2xGaWx0ZXI7XG4gICAgbG9nZ2VyO1xuICAgIGNvbnN0cnVjdG9yKG9wdGlvbnMpIHtcbiAgICAgICAgdGhpcy5sb2dnZXIgPVxuICAgICAgICAgICAgb3B0aW9ucy5sb2dnZXIgPz8gZ2V0TG9nZ2VyKERFRkFVTFRfU1RESU9fTUNQX0NMSUVOVF9MT0dHRVJfTkFNRSk7XG4gICAgICAgIHRoaXMuY2FjaGVUb29sc0xpc3QgPSBvcHRpb25zLmNhY2hlVG9vbHNMaXN0ID8/IGZhbHNlO1xuICAgICAgICB0aGlzLnRvb2xGaWx0ZXIgPSBvcHRpb25zLnRvb2xGaWx0ZXI7XG4gICAgfVxuICAgIC8qKlxuICAgICAqIExvZ3MgYSBkZWJ1ZyBtZXNzYWdlIHdoZW4gZGVidWcgbG9nZ2luZyBpcyBlbmFibGVkLlxuICAgICAqIEBwYXJhbSBidWlsZE1lc3NhZ2UgQSBmdW5jdGlvbiB0aGF0IHJldHVybnMgdGhlIG1lc3NhZ2UgdG8gbG9nLlxuICAgICAqL1xuICAgIGRlYnVnTG9nKGJ1aWxkTWVzc2FnZSkge1xuICAgICAgICBpZiAoZGVidWcuZW5hYmxlZCh0aGlzLmxvZ2dlci5uYW1lc3BhY2UpKSB7XG4gICAgICAgICAgICAvLyBvbmx5IHdoZW4gdGhpcyBpcyB0cnVlLCB0aGUgZnVuY3Rpb24gdG8gYnVpbGQgdGhlIHN0cmluZyBpcyBjYWxsZWRcbiAgICAgICAgICAgIHRoaXMubG9nZ2VyLmRlYnVnKGJ1aWxkTWVzc2FnZSgpKTtcbiAgICAgICAgfVxuICAgIH1cbn1cbmV4cG9ydCBjbGFzcyBCYXNlTUNQU2VydmVyU3RyZWFtYWJsZUh0dHAge1xuICAgIGNhY2hlVG9vbHNMaXN0O1xuICAgIF9jYWNoZWRUb29scyA9IHVuZGVmaW5lZDtcbiAgICB0b29sRmlsdGVyO1xuICAgIGxvZ2dlcjtcbiAgICBjb25zdHJ1Y3RvcihvcHRpb25zKSB7XG4gICAgICAgIHRoaXMubG9nZ2VyID1cbiAgICAgICAgICAgIG9wdGlvbnMubG9nZ2VyID8/XG4gICAgICAgICAgICAgICAgZ2V0TG9nZ2VyKERFRkFVTFRfU1RSRUFNQUJMRV9IVFRQX01DUF9DTElFTlRfTE9HR0VSX05BTUUpO1xuICAgICAgICB0aGlzLmNhY2hlVG9vbHNMaXN0ID0gb3B0aW9ucy5jYWNoZVRvb2xzTGlzdCA/PyBmYWxzZTtcbiAgICAgICAgdGhpcy50b29sRmlsdGVyID0gb3B0aW9ucy50b29sRmlsdGVyO1xuICAgIH1cbiAgICAvKipcbiAgICAgKiBMb2dzIGEgZGVidWcgbWVzc2FnZSB3aGVuIGRlYnVnIGxvZ2dpbmcgaXMgZW5hYmxlZC5cbiAgICAgKiBAcGFyYW0gYnVpbGRNZXNzYWdlIEEgZnVuY3Rpb24gdGhhdCByZXR1cm5zIHRoZSBtZXNzYWdlIHRvIGxvZy5cbiAgICAgKi9cbiAgICBkZWJ1Z0xvZyhidWlsZE1lc3NhZ2UpIHtcbiAgICAgICAgaWYgKGRlYnVnLmVuYWJsZWQodGhpcy5sb2dnZXIubmFtZXNwYWNlKSkge1xuICAgICAgICAgICAgLy8gb25seSB3aGVuIHRoaXMgaXMgdHJ1ZSwgdGhlIGZ1bmN0aW9uIHRvIGJ1aWxkIHRoZSBzdHJpbmcgaXMgY2FsbGVkXG4gICAgICAgICAgICB0aGlzLmxvZ2dlci5kZWJ1ZyhidWlsZE1lc3NhZ2UoKSk7XG4gICAgICAgIH1cbiAgICB9XG59XG5leHBvcnQgY2xhc3MgQmFzZU1DUFNlcnZlclNTRSB7XG4gICAgY2FjaGVUb29sc0xpc3Q7XG4gICAgX2NhY2hlZFRvb2xzID0gdW5kZWZpbmVkO1xuICAgIHRvb2xGaWx0ZXI7XG4gICAgbG9nZ2VyO1xuICAgIGNvbnN0cnVjdG9yKG9wdGlvbnMpIHtcbiAgICAgICAgdGhpcy5sb2dnZXIgPVxuICAgICAgICAgICAgb3B0aW9ucy5sb2dnZXIgPz8gZ2V0TG9nZ2VyKERFRkFVTFRfU1NFX01DUF9DTElFTlRfTE9HR0VSX05BTUUpO1xuICAgICAgICB0aGlzLmNhY2hlVG9vbHNMaXN0ID0gb3B0aW9ucy5jYWNoZVRvb2xzTGlzdCA/PyBmYWxzZTtcbiAgICAgICAgdGhpcy50b29sRmlsdGVyID0gb3B0aW9ucy50b29sRmlsdGVyO1xuICAgIH1cbiAgICAvKipcbiAgICAgKiBMb2dzIGEgZGVidWcgbWVzc2FnZSB3aGVuIGRlYnVnIGxvZ2dpbmcgaXMgZW5hYmxlZC5cbiAgICAgKiBAcGFyYW0gYnVpbGRNZXNzYWdlIEEgZnVuY3Rpb24gdGhhdCByZXR1cm5zIHRoZSBtZXNzYWdlIHRvIGxvZy5cbiAgICAgKi9cbiAgICBkZWJ1Z0xvZyhidWlsZE1lc3NhZ2UpIHtcbiAgICAgICAgaWYgKGRlYnVnLmVuYWJsZWQodGhpcy5sb2dnZXIubmFtZXNwYWNlKSkge1xuICAgICAgICAgICAgLy8gb25seSB3aGVuIHRoaXMgaXMgdHJ1ZSwgdGhlIGZ1bmN0aW9uIHRvIGJ1aWxkIHRoZSBzdHJpbmcgaXMgY2FsbGVkXG4gICAgICAgICAgICB0aGlzLmxvZ2dlci5kZWJ1ZyhidWlsZE1lc3NhZ2UoKSk7XG4gICAgICAgIH1cbiAgICB9XG59XG4vKipcbiAqIE1pbmltdW0gTUNQIHRvb2wgZGF0YSBkZWZpbml0aW9uLlxuICogVGhpcyB0eXBlIGRlZmluaXRpb24gZG9lcyBub3QgaW50ZW5kIHRvIGNvdmVyIGFsbCBwb3NzaWJsZSBwcm9wZXJ0aWVzLlxuICogSXQgc3VwcG9ydHMgdGhlIHByb3BlcnRpZXMgdGhhdCBhcmUgdXNlZCBpbiB0aGlzIFNESy5cbiAqL1xuZXhwb3J0IGNvbnN0IE1DUFRvb2wgPSB6Lm9iamVjdCh7XG4gICAgbmFtZTogei5zdHJpbmcoKSxcbiAgICBkZXNjcmlwdGlvbjogei5zdHJpbmcoKS5vcHRpb25hbCgpLFxuICAgIGlucHV0U2NoZW1hOiB6Lm9iamVjdCh7XG4gICAgICAgIHR5cGU6IHoubGl0ZXJhbCgnb2JqZWN0JyksXG4gICAgICAgIHByb3BlcnRpZXM6IHoucmVjb3JkKHouc3RyaW5nKCksIHouYW55KCkpLFxuICAgICAgICByZXF1aXJlZDogei5hcnJheSh6LnN0cmluZygpKSxcbiAgICAgICAgYWRkaXRpb25hbFByb3BlcnRpZXM6IHouYm9vbGVhbigpLFxuICAgIH0pLFxufSk7XG4vKipcbiAqIFB1YmxpYyBpbnRlcmZhY2Ugb2YgYW4gTUNQIHNlcnZlciB0aGF0IHByb3ZpZGVzIHRvb2xzLlxuICogWW91IGNhbiB1c2UgdGhpcyBjbGFzcyB0byBwYXNzIE1DUCBzZXJ2ZXIgc2V0dGluZ3MgdG8geW91ciBhZ2VudC5cbiAqL1xuZXhwb3J0IGNsYXNzIE1DUFNlcnZlclN0ZGlvIGV4dGVuZHMgQmFzZU1DUFNlcnZlclN0ZGlvIHtcbiAgICB1bmRlcmx5aW5nO1xuICAgIGNvbnN0cnVjdG9yKG9wdGlvbnMpIHtcbiAgICAgICAgc3VwZXIob3B0aW9ucyk7XG4gICAgICAgIHRoaXMudW5kZXJseWluZyA9IG5ldyBVbmRlcmx5aW5nTUNQU2VydmVyU3RkaW8ob3B0aW9ucyk7XG4gICAgfVxuICAgIGdldCBuYW1lKCkge1xuICAgICAgICByZXR1cm4gdGhpcy51bmRlcmx5aW5nLm5hbWU7XG4gICAgfVxuICAgIGNvbm5lY3QoKSB7XG4gICAgICAgIHJldHVybiB0aGlzLnVuZGVybHlpbmcuY29ubmVjdCgpO1xuICAgIH1cbiAgICBjbG9zZSgpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMudW5kZXJseWluZy5jbG9zZSgpO1xuICAgIH1cbiAgICBhc3luYyBsaXN0VG9vbHMoKSB7XG4gICAgICAgIGlmICh0aGlzLmNhY2hlVG9vbHNMaXN0ICYmIHRoaXMuX2NhY2hlZFRvb2xzKSB7XG4gICAgICAgICAgICByZXR1cm4gdGhpcy5fY2FjaGVkVG9vbHM7XG4gICAgICAgIH1cbiAgICAgICAgY29uc3QgdG9vbHMgPSBhd2FpdCB0aGlzLnVuZGVybHlpbmcubGlzdFRvb2xzKCk7XG4gICAgICAgIGlmICh0aGlzLmNhY2hlVG9vbHNMaXN0KSB7XG4gICAgICAgICAgICB0aGlzLl9jYWNoZWRUb29scyA9IHRvb2xzO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiB0b29scztcbiAgICB9XG4gICAgY2FsbFRvb2wodG9vbE5hbWUsIGFyZ3MpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMudW5kZXJseWluZy5jYWxsVG9vbCh0b29sTmFtZSwgYXJncyk7XG4gICAgfVxuICAgIGludmFsaWRhdGVUb29sc0NhY2hlKCkge1xuICAgICAgICByZXR1cm4gdGhpcy51bmRlcmx5aW5nLmludmFsaWRhdGVUb29sc0NhY2hlKCk7XG4gICAgfVxufVxuZXhwb3J0IGNsYXNzIE1DUFNlcnZlclN0cmVhbWFibGVIdHRwIGV4dGVuZHMgQmFzZU1DUFNlcnZlclN0cmVhbWFibGVIdHRwIHtcbiAgICB1bmRlcmx5aW5nO1xuICAgIGNvbnN0cnVjdG9yKG9wdGlvbnMpIHtcbiAgICAgICAgc3VwZXIob3B0aW9ucyk7XG4gICAgICAgIHRoaXMudW5kZXJseWluZyA9IG5ldyBVbmRlcmx5aW5nTUNQU2VydmVyU3RyZWFtYWJsZUh0dHAob3B0aW9ucyk7XG4gICAgfVxuICAgIGdldCBuYW1lKCkge1xuICAgICAgICByZXR1cm4gdGhpcy51bmRlcmx5aW5nLm5hbWU7XG4gICAgfVxuICAgIGNvbm5lY3QoKSB7XG4gICAgICAgIHJldHVybiB0aGlzLnVuZGVybHlpbmcuY29ubmVjdCgpO1xuICAgIH1cbiAgICBjbG9zZSgpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMudW5kZXJseWluZy5jbG9zZSgpO1xuICAgIH1cbiAgICBhc3luYyBsaXN0VG9vbHMoKSB7XG4gICAgICAgIGlmICh0aGlzLmNhY2hlVG9vbHNMaXN0ICYmIHRoaXMuX2NhY2hlZFRvb2xzKSB7XG4gICAgICAgICAgICByZXR1cm4gdGhpcy5fY2FjaGVkVG9vbHM7XG4gICAgICAgIH1cbiAgICAgICAgY29uc3QgdG9vbHMgPSBhd2FpdCB0aGlzLnVuZGVybHlpbmcubGlzdFRvb2xzKCk7XG4gICAgICAgIGlmICh0aGlzLmNhY2hlVG9vbHNMaXN0KSB7XG4gICAgICAgICAgICB0aGlzLl9jYWNoZWRUb29scyA9IHRvb2xzO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiB0b29scztcbiAgICB9XG4gICAgY2FsbFRvb2wodG9vbE5hbWUsIGFyZ3MpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMudW5kZXJseWluZy5jYWxsVG9vbCh0b29sTmFtZSwgYXJncyk7XG4gICAgfVxuICAgIGludmFsaWRhdGVUb29sc0NhY2hlKCkge1xuICAgICAgICByZXR1cm4gdGhpcy51bmRlcmx5aW5nLmludmFsaWRhdGVUb29sc0NhY2hlKCk7XG4gICAgfVxufVxuZXhwb3J0IGNsYXNzIE1DUFNlcnZlclNTRSBleHRlbmRzIEJhc2VNQ1BTZXJ2ZXJTU0Uge1xuICAgIHVuZGVybHlpbmc7XG4gICAgY29uc3RydWN0b3Iob3B0aW9ucykge1xuICAgICAgICBzdXBlcihvcHRpb25zKTtcbiAgICAgICAgdGhpcy51bmRlcmx5aW5nID0gbmV3IFVuZGVybHlpbmdNQ1BTZXJ2ZXJTU0Uob3B0aW9ucyk7XG4gICAgfVxuICAgIGdldCBuYW1lKCkge1xuICAgICAgICByZXR1cm4gdGhpcy51bmRlcmx5aW5nLm5hbWU7XG4gICAgfVxuICAgIGNvbm5lY3QoKSB7XG4gICAgICAgIHJldHVybiB0aGlzLnVuZGVybHlpbmcuY29ubmVjdCgpO1xuICAgIH1cbiAgICBjbG9zZSgpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMudW5kZXJseWluZy5jbG9zZSgpO1xuICAgIH1cbiAgICBhc3luYyBsaXN0VG9vbHMoKSB7XG4gICAgICAgIGlmICh0aGlzLmNhY2hlVG9vbHNMaXN0ICYmIHRoaXMuX2NhY2hlZFRvb2xzKSB7XG4gICAgICAgICAgICByZXR1cm4gdGhpcy5fY2FjaGVkVG9vbHM7XG4gICAgICAgIH1cbiAgICAgICAgY29uc3QgdG9vbHMgPSBhd2FpdCB0aGlzLnVuZGVybHlpbmcubGlzdFRvb2xzKCk7XG4gICAgICAgIGlmICh0aGlzLmNhY2hlVG9vbHNMaXN0KSB7XG4gICAgICAgICAgICB0aGlzLl9jYWNoZWRUb29scyA9IHRvb2xzO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiB0b29scztcbiAgICB9XG4gICAgY2FsbFRvb2wodG9vbE5hbWUsIGFyZ3MpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMudW5kZXJseWluZy5jYWxsVG9vbCh0b29sTmFtZSwgYXJncyk7XG4gICAgfVxuICAgIGludmFsaWRhdGVUb29sc0NhY2hlKCkge1xuICAgICAgICByZXR1cm4gdGhpcy51bmRlcmx5aW5nLmludmFsaWRhdGVUb29sc0NhY2hlKCk7XG4gICAgfVxufVxuLyoqXG4gKiBGZXRjaGVzIGFuZCBmbGF0dGVucyBhbGwgdG9vbHMgZnJvbSBtdWx0aXBsZSBNQ1Agc2VydmVycy5cbiAqIExvZ3MgYW5kIHNraXBzIGFueSBzZXJ2ZXJzIHRoYXQgZmFpbCB0byByZXNwb25kLlxuICovXG5jb25zdCBfY2FjaGVkVG9vbHMgPSB7fTtcbmNvbnN0IF9jYWNoZWRUb29sS2V5c0J5U2VydmVyID0ge307XG4vKipcbiAqIFJlbW92ZSBjYWNoZWQgdG9vbHMgZm9yIHRoZSBnaXZlbiBzZXJ2ZXIgc28gdGhlIG5leHQgbG9va3VwIGZldGNoZXMgZnJlc2ggZGF0YS5cbiAqXG4gKiBAcGFyYW0gc2VydmVyTmFtZSAtIE5hbWUgb2YgdGhlIE1DUCBzZXJ2ZXIgd2hvc2UgY2FjaGUgc2hvdWxkIGJlIGNsZWFyZWQuXG4gKi9cbmV4cG9ydCBhc3luYyBmdW5jdGlvbiBpbnZhbGlkYXRlU2VydmVyVG9vbHNDYWNoZShzZXJ2ZXJOYW1lKSB7XG4gICAgY29uc3QgY2FjaGVkS2V5cyA9IF9jYWNoZWRUb29sS2V5c0J5U2VydmVyW3NlcnZlck5hbWVdO1xuICAgIGlmIChjYWNoZWRLZXlzKSB7XG4gICAgICAgIGZvciAoY29uc3QgY2FjaGVLZXkgb2YgY2FjaGVkS2V5cykge1xuICAgICAgICAgICAgZGVsZXRlIF9jYWNoZWRUb29sc1tjYWNoZUtleV07XG4gICAgICAgIH1cbiAgICAgICAgZGVsZXRlIF9jYWNoZWRUb29sS2V5c0J5U2VydmVyW3NlcnZlck5hbWVdO1xuICAgICAgICByZXR1cm47XG4gICAgfVxuICAgIGRlbGV0ZSBfY2FjaGVkVG9vbHNbc2VydmVyTmFtZV07XG4gICAgZm9yIChjb25zdCBjYWNoZUtleSBvZiBPYmplY3Qua2V5cyhfY2FjaGVkVG9vbHMpKSB7XG4gICAgICAgIGlmIChjYWNoZUtleS5zdGFydHNXaXRoKGAke3NlcnZlck5hbWV9OmApKSB7XG4gICAgICAgICAgICBkZWxldGUgX2NhY2hlZFRvb2xzW2NhY2hlS2V5XTtcbiAgICAgICAgfVxuICAgIH1cbn1cbi8qKlxuICogRGVmYXVsdCBjYWNoZSBrZXkgZ2VuZXJhdG9yIGZvciBNQ1AgdG9vbHMuXG4gKiBVc2VzIHNlcnZlciBuYW1lLCBvciBzZXJ2ZXIrYWdlbnQgaWYgdXNpbmcgY2FsbGFibGUgZmlsdGVyLlxuICovXG5leHBvcnQgY29uc3QgZGVmYXVsdE1DUFRvb2xDYWNoZUtleSA9ICh7IHNlcnZlciwgYWdlbnQsIH0pID0+IHtcbiAgICBpZiAoc2VydmVyLnRvb2xGaWx0ZXIgJiYgdHlwZW9mIHNlcnZlci50b29sRmlsdGVyID09PSAnZnVuY3Rpb24nICYmIGFnZW50KSB7XG4gICAgICAgIHJldHVybiBgJHtzZXJ2ZXIubmFtZX06JHthZ2VudC5uYW1lfWA7XG4gICAgfVxuICAgIHJldHVybiBzZXJ2ZXIubmFtZTtcbn07XG4vKipcbiAqIEZldGNoZXMgYWxsIGZ1bmN0aW9uIHRvb2xzIGZyb20gYSBzaW5nbGUgTUNQIHNlcnZlci5cbiAqL1xuYXN5bmMgZnVuY3Rpb24gZ2V0RnVuY3Rpb25Ub29sc0Zyb21TZXJ2ZXIoeyBzZXJ2ZXIsIGNvbnZlcnRTY2hlbWFzVG9TdHJpY3QsIHJ1bkNvbnRleHQsIGFnZW50LCBnZW5lcmF0ZU1DUFRvb2xDYWNoZUtleSwgfSkge1xuICAgIGNvbnN0IGNhY2hlS2V5ID0gKGdlbmVyYXRlTUNQVG9vbENhY2hlS2V5IHx8IGRlZmF1bHRNQ1BUb29sQ2FjaGVLZXkpKHtcbiAgICAgICAgc2VydmVyLFxuICAgICAgICBhZ2VudCxcbiAgICAgICAgcnVuQ29udGV4dCxcbiAgICB9KTtcbiAgICAvLyBVc2UgY2FjaGUga2V5IGdlbmVyYXRvciBpbmplY3RlZCBmcm9tIHRoZSBvdXRzaWRlLCBvciB0aGUgZGVmYXVsdCBpZiBhYnNlbnQuXG4gICAgaWYgKHNlcnZlci5jYWNoZVRvb2xzTGlzdCAmJiBfY2FjaGVkVG9vbHNbY2FjaGVLZXldKSB7XG4gICAgICAgIHJldHVybiBfY2FjaGVkVG9vbHNbY2FjaGVLZXldLm1hcCgodCkgPT4gbWNwVG9GdW5jdGlvblRvb2wodCwgc2VydmVyLCBjb252ZXJ0U2NoZW1hc1RvU3RyaWN0KSk7XG4gICAgfVxuICAgIGNvbnN0IGxpc3RUb29sc0ZvclNlcnZlciA9IGFzeW5jIChzcGFuKSA9PiB7XG4gICAgICAgIGNvbnN0IGZldGNoZWRNY3BUb29scyA9IGF3YWl0IHNlcnZlci5saXN0VG9vbHMoKTtcbiAgICAgICAgbGV0IG1jcFRvb2xzID0gZmV0Y2hlZE1jcFRvb2xzO1xuICAgICAgICBpZiAocnVuQ29udGV4dCAmJiBhZ2VudCkge1xuICAgICAgICAgICAgY29uc3QgY29udGV4dCA9IHsgcnVuQ29udGV4dCwgYWdlbnQsIHNlcnZlck5hbWU6IHNlcnZlci5uYW1lIH07XG4gICAgICAgICAgICBjb25zdCBmaWx0ZXJlZFRvb2xzID0gW107XG4gICAgICAgICAgICBmb3IgKGNvbnN0IHRvb2wgb2YgZmV0Y2hlZE1jcFRvb2xzKSB7XG4gICAgICAgICAgICAgICAgY29uc3QgZmlsdGVyID0gc2VydmVyLnRvb2xGaWx0ZXI7XG4gICAgICAgICAgICAgICAgaWYgKGZpbHRlcikge1xuICAgICAgICAgICAgICAgICAgICBpZiAodHlwZW9mIGZpbHRlciA9PT0gJ2Z1bmN0aW9uJykge1xuICAgICAgICAgICAgICAgICAgICAgICAgY29uc3QgZmlsdGVyZWQgPSBhd2FpdCBmaWx0ZXIoY29udGV4dCwgdG9vbCk7XG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAoIWZpbHRlcmVkKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgZ2xvYmFsTG9nZ2VyLmRlYnVnKGBNQ1AgVG9vbCAoc2VydmVyOiAke3NlcnZlci5uYW1lfSwgdG9vbDogJHt0b29sLm5hbWV9KSBpcyBibG9ja2VkIGJ5IHRoZSBjYWxsYWJsZSBmaWx0ZXIuYCk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgY29udGludWU7XG4gICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBjb25zdCBhbGxvd2VkVG9vbE5hbWVzID0gZmlsdGVyLmFsbG93ZWRUb29sTmFtZXMgPz8gW107XG4gICAgICAgICAgICAgICAgICAgICAgICBjb25zdCBibG9ja2VkVG9vbE5hbWVzID0gZmlsdGVyLmJsb2NrZWRUb29sTmFtZXMgPz8gW107XG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAoYWxsb3dlZFRvb2xOYW1lcy5sZW5ndGggPiAwIHx8IGJsb2NrZWRUb29sTmFtZXMubGVuZ3RoID4gMCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNvbnN0IGFsbG93ZWQgPSBhbGxvd2VkVG9vbE5hbWVzLmxlbmd0aCA+IDBcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPyBhbGxvd2VkVG9vbE5hbWVzLmluY2x1ZGVzKHRvb2wubmFtZSlcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgOiB0cnVlO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNvbnN0IGJsb2NrZWQgPSBibG9ja2VkVG9vbE5hbWVzLmxlbmd0aCA+IDBcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPyBibG9ja2VkVG9vbE5hbWVzLmluY2x1ZGVzKHRvb2wubmFtZSlcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgOiBmYWxzZTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAoIWFsbG93ZWQgfHwgYmxvY2tlZCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAoYmxvY2tlZCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZ2xvYmFsTG9nZ2VyLmRlYnVnKGBNQ1AgVG9vbCAoc2VydmVyOiAke3NlcnZlci5uYW1lfSwgdG9vbDogJHt0b29sLm5hbWV9KSBpcyBibG9ja2VkIGJ5IHRoZSBzdGF0aWMgZmlsdGVyLmApO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGVsc2UgaWYgKCFhbGxvd2VkKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBnbG9iYWxMb2dnZXIuZGVidWcoYE1DUCBUb29sIChzZXJ2ZXI6ICR7c2VydmVyLm5hbWV9LCB0b29sOiAke3Rvb2wubmFtZX0pIGlzIG5vdCBhbGxvd2VkIGJ5IHRoZSBzdGF0aWMgZmlsdGVyLmApO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNvbnRpbnVlO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBmaWx0ZXJlZFRvb2xzLnB1c2godG9vbCk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBtY3BUb29scyA9IGZpbHRlcmVkVG9vbHM7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKHNwYW4pIHtcbiAgICAgICAgICAgIHNwYW4uc3BhbkRhdGEucmVzdWx0ID0gbWNwVG9vbHMubWFwKCh0KSA9PiB0Lm5hbWUpO1xuICAgICAgICB9XG4gICAgICAgIGNvbnN0IHRvb2xzID0gbWNwVG9vbHMubWFwKCh0KSA9PiBtY3BUb0Z1bmN0aW9uVG9vbCh0LCBzZXJ2ZXIsIGNvbnZlcnRTY2hlbWFzVG9TdHJpY3QpKTtcbiAgICAgICAgLy8gQ2FjaGUgc3RvcmVcbiAgICAgICAgaWYgKHNlcnZlci5jYWNoZVRvb2xzTGlzdCkge1xuICAgICAgICAgICAgX2NhY2hlZFRvb2xzW2NhY2hlS2V5XSA9IG1jcFRvb2xzO1xuICAgICAgICAgICAgaWYgKCFfY2FjaGVkVG9vbEtleXNCeVNlcnZlcltzZXJ2ZXIubmFtZV0pIHtcbiAgICAgICAgICAgICAgICBfY2FjaGVkVG9vbEtleXNCeVNlcnZlcltzZXJ2ZXIubmFtZV0gPSBuZXcgU2V0KCk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBfY2FjaGVkVG9vbEtleXNCeVNlcnZlcltzZXJ2ZXIubmFtZV0uYWRkKGNhY2hlS2V5KTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gdG9vbHM7XG4gICAgfTtcbiAgICBpZiAoIWdldEN1cnJlbnRUcmFjZSgpKSB7XG4gICAgICAgIHJldHVybiBsaXN0VG9vbHNGb3JTZXJ2ZXIoKTtcbiAgICB9XG4gICAgcmV0dXJuIHdpdGhNQ1BMaXN0VG9vbHNTcGFuKGxpc3RUb29sc0ZvclNlcnZlciwge1xuICAgICAgICBkYXRhOiB7IHNlcnZlcjogc2VydmVyLm5hbWUgfSxcbiAgICB9KTtcbn1cbi8qKlxuICogUmV0dXJucyBhbGwgTUNQIHRvb2xzIGZyb20gdGhlIHByb3ZpZGVkIHNlcnZlcnMsIHVzaW5nIHRoZSBmdW5jdGlvbiB0b29sIGNvbnZlcnNpb24uXG4gKiBJZiBydW5Db250ZXh0IGFuZCBhZ2VudCBhcmUgcHJvdmlkZWQsIGNhbGxhYmxlIHRvb2wgZmlsdGVycyB3aWxsIGJlIGFwcGxpZWQuXG4gKi9cbmV4cG9ydCBhc3luYyBmdW5jdGlvbiBnZXRBbGxNY3BUb29scyhtY3BTZXJ2ZXJzT3JPcHRzLCBydW5Db250ZXh0LCBhZ2VudCwgY29udmVydFNjaGVtYXNUb1N0cmljdCA9IGZhbHNlKSB7XG4gICAgY29uc3Qgb3B0cyA9IEFycmF5LmlzQXJyYXkobWNwU2VydmVyc09yT3B0cylcbiAgICAgICAgPyB7XG4gICAgICAgICAgICBtY3BTZXJ2ZXJzOiBtY3BTZXJ2ZXJzT3JPcHRzLFxuICAgICAgICAgICAgcnVuQ29udGV4dCxcbiAgICAgICAgICAgIGFnZW50LFxuICAgICAgICAgICAgY29udmVydFNjaGVtYXNUb1N0cmljdCxcbiAgICAgICAgfVxuICAgICAgICA6IG1jcFNlcnZlcnNPck9wdHM7XG4gICAgY29uc3QgeyBtY3BTZXJ2ZXJzLCBjb252ZXJ0U2NoZW1hc1RvU3RyaWN0OiBjb252ZXJ0U2NoZW1hc1RvU3RyaWN0RnJvbU9wdHMgPSBmYWxzZSwgcnVuQ29udGV4dDogcnVuQ29udGV4dEZyb21PcHRzLCBhZ2VudDogYWdlbnRGcm9tT3B0cywgZ2VuZXJhdGVNQ1BUb29sQ2FjaGVLZXksIH0gPSBvcHRzO1xuICAgIGNvbnN0IGFsbFRvb2xzID0gW107XG4gICAgY29uc3QgdG9vbE5hbWVzID0gbmV3IFNldCgpO1xuICAgIGZvciAoY29uc3Qgc2VydmVyIG9mIG1jcFNlcnZlcnMpIHtcbiAgICAgICAgY29uc3Qgc2VydmVyVG9vbHMgPSBhd2FpdCBnZXRGdW5jdGlvblRvb2xzRnJvbVNlcnZlcih7XG4gICAgICAgICAgICBzZXJ2ZXIsXG4gICAgICAgICAgICBjb252ZXJ0U2NoZW1hc1RvU3RyaWN0OiBjb252ZXJ0U2NoZW1hc1RvU3RyaWN0RnJvbU9wdHMsXG4gICAgICAgICAgICBydW5Db250ZXh0OiBydW5Db250ZXh0RnJvbU9wdHMsXG4gICAgICAgICAgICBhZ2VudDogYWdlbnRGcm9tT3B0cyxcbiAgICAgICAgICAgIGdlbmVyYXRlTUNQVG9vbENhY2hlS2V5LFxuICAgICAgICB9KTtcbiAgICAgICAgY29uc3Qgc2VydmVyVG9vbE5hbWVzID0gbmV3IFNldChzZXJ2ZXJUb29scy5tYXAoKHQpID0+IHQubmFtZSkpO1xuICAgICAgICBjb25zdCBpbnRlcnNlY3Rpb24gPSBbLi4uc2VydmVyVG9vbE5hbWVzXS5maWx0ZXIoKG4pID0+IHRvb2xOYW1lcy5oYXMobikpO1xuICAgICAgICBpZiAoaW50ZXJzZWN0aW9uLmxlbmd0aCA+IDApIHtcbiAgICAgICAgICAgIHRocm93IG5ldyBVc2VyRXJyb3IoYER1cGxpY2F0ZSB0b29sIG5hbWVzIGZvdW5kIGFjcm9zcyBNQ1Agc2VydmVyczogJHtpbnRlcnNlY3Rpb24uam9pbignLCAnKX1gKTtcbiAgICAgICAgfVxuICAgICAgICBmb3IgKGNvbnN0IHQgb2Ygc2VydmVyVG9vbHMpIHtcbiAgICAgICAgICAgIHRvb2xOYW1lcy5hZGQodC5uYW1lKTtcbiAgICAgICAgICAgIGFsbFRvb2xzLnB1c2godCk7XG4gICAgICAgIH1cbiAgICB9XG4gICAgcmV0dXJuIGFsbFRvb2xzO1xufVxuLyoqXG4gKiBDb252ZXJ0cyBhbiBNQ1AgdG9vbCBkZWZpbml0aW9uIHRvIGEgZnVuY3Rpb24gdG9vbCBmb3IgdGhlIEFnZW50cyBTREsuXG4gKi9cbmV4cG9ydCBmdW5jdGlvbiBtY3BUb0Z1bmN0aW9uVG9vbChtY3BUb29sLCBzZXJ2ZXIsIGNvbnZlcnRTY2hlbWFzVG9TdHJpY3QpIHtcbiAgICBhc3luYyBmdW5jdGlvbiBpbnZva2UoaW5wdXQsIF9jb250ZXh0KSB7XG4gICAgICAgIGxldCBhcmdzID0ge307XG4gICAgICAgIGlmICh0eXBlb2YgaW5wdXQgPT09ICdzdHJpbmcnICYmIGlucHV0KSB7XG4gICAgICAgICAgICBhcmdzID0gSlNPTi5wYXJzZShpbnB1dCk7XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSBpZiAodHlwZW9mIGlucHV0ID09PSAnb2JqZWN0JyAmJiBpbnB1dCAhPSBudWxsKSB7XG4gICAgICAgICAgICBhcmdzID0gaW5wdXQ7XG4gICAgICAgIH1cbiAgICAgICAgY29uc3QgY3VycmVudFNwYW4gPSBnZXRDdXJyZW50U3BhbigpO1xuICAgICAgICBpZiAoY3VycmVudFNwYW4pIHtcbiAgICAgICAgICAgIGN1cnJlbnRTcGFuLnNwYW5EYXRhWydtY3BfZGF0YSddID0geyBzZXJ2ZXI6IHNlcnZlci5uYW1lIH07XG4gICAgICAgIH1cbiAgICAgICAgY29uc3QgY29udGVudCA9IGF3YWl0IHNlcnZlci5jYWxsVG9vbChtY3BUb29sLm5hbWUsIGFyZ3MpO1xuICAgICAgICByZXR1cm4gY29udGVudC5sZW5ndGggPT09IDEgPyBjb250ZW50WzBdIDogY29udGVudDtcbiAgICB9XG4gICAgY29uc3Qgc2NoZW1hID0ge1xuICAgICAgICAuLi5tY3BUb29sLmlucHV0U2NoZW1hLFxuICAgICAgICB0eXBlOiBtY3BUb29sLmlucHV0U2NoZW1hPy50eXBlID8/ICdvYmplY3QnLFxuICAgICAgICBwcm9wZXJ0aWVzOiBtY3BUb29sLmlucHV0U2NoZW1hPy5wcm9wZXJ0aWVzID8/IHt9LFxuICAgICAgICByZXF1aXJlZDogbWNwVG9vbC5pbnB1dFNjaGVtYT8ucmVxdWlyZWQgPz8gW10sXG4gICAgICAgIGFkZGl0aW9uYWxQcm9wZXJ0aWVzOiBtY3BUb29sLmlucHV0U2NoZW1hPy5hZGRpdGlvbmFsUHJvcGVydGllcyA/PyBmYWxzZSxcbiAgICB9O1xuICAgIGlmIChjb252ZXJ0U2NoZW1hc1RvU3RyaWN0IHx8IHNjaGVtYS5hZGRpdGlvbmFsUHJvcGVydGllcyA9PT0gdHJ1ZSkge1xuICAgICAgICB0cnkge1xuICAgICAgICAgICAgY29uc3Qgc3RyaWN0U2NoZW1hID0gZW5zdXJlU3RyaWN0SnNvblNjaGVtYShzY2hlbWEpO1xuICAgICAgICAgICAgcmV0dXJuIHRvb2woe1xuICAgICAgICAgICAgICAgIG5hbWU6IG1jcFRvb2wubmFtZSxcbiAgICAgICAgICAgICAgICBkZXNjcmlwdGlvbjogbWNwVG9vbC5kZXNjcmlwdGlvbiB8fCAnJyxcbiAgICAgICAgICAgICAgICBwYXJhbWV0ZXJzOiBzdHJpY3RTY2hlbWEsXG4gICAgICAgICAgICAgICAgc3RyaWN0OiB0cnVlLFxuICAgICAgICAgICAgICAgIGV4ZWN1dGU6IGludm9rZSxcbiAgICAgICAgICAgIH0pO1xuICAgICAgICB9XG4gICAgICAgIGNhdGNoIChlKSB7XG4gICAgICAgICAgICBnbG9iYWxMb2dnZXIud2FybihgRXJyb3IgY29udmVydGluZyBNQ1Agc2NoZW1hIHRvIHN0cmljdCBtb2RlOiAke2V9YCk7XG4gICAgICAgIH1cbiAgICB9XG4gICAgY29uc3Qgbm9uU3RyaWN0U2NoZW1hID0ge1xuICAgICAgICAuLi5zY2hlbWEsXG4gICAgICAgIGFkZGl0aW9uYWxQcm9wZXJ0aWVzOiB0cnVlLFxuICAgIH07XG4gICAgcmV0dXJuIHRvb2woe1xuICAgICAgICBuYW1lOiBtY3BUb29sLm5hbWUsXG4gICAgICAgIGRlc2NyaXB0aW9uOiBtY3BUb29sLmRlc2NyaXB0aW9uIHx8ICcnLFxuICAgICAgICBwYXJhbWV0ZXJzOiBub25TdHJpY3RTY2hlbWEsXG4gICAgICAgIHN0cmljdDogZmFsc2UsXG4gICAgICAgIGV4ZWN1dGU6IGludm9rZSxcbiAgICB9KTtcbn1cbi8qKlxuICogRW5zdXJlcyB0aGUgZ2l2ZW4gSlNPTiBzY2hlbWEgaXMgc3RyaWN0IChubyBhZGRpdGlvbmFsIHByb3BlcnRpZXMsIHJlcXVpcmVkIGZpZWxkcyBzZXQpLlxuICovXG5mdW5jdGlvbiBlbnN1cmVTdHJpY3RKc29uU2NoZW1hKHNjaGVtYSkge1xuICAgIGNvbnN0IG91dCA9IHtcbiAgICAgICAgLi4uc2NoZW1hLFxuICAgICAgICBhZGRpdGlvbmFsUHJvcGVydGllczogZmFsc2UsXG4gICAgfTtcbiAgICBpZiAoIW91dC5yZXF1aXJlZClcbiAgICAgICAgb3V0LnJlcXVpcmVkID0gW107XG4gICAgcmV0dXJuIG91dDtcbn1cbi8vIyBzb3VyY2VNYXBwaW5nVVJMPW1jcC5tanMubWFwIiwiLy8vIDxyZWZlcmVuY2UgbGliPVwiZG9tXCIgLz5cbi8vIFVzZSBmdW5jdGlvbiBpbnN0ZWFkIG9mIGV4cG9ydGluZyB0aGUgdmFsdWUgdG8gcHJldmVudFxuLy8gY2lyY3VsYXIgZGVwZW5kZW5jeSByZXNvbHV0aW9uIGlzc3VlcyBjYXVzZWQgYnkgb3RoZXIgZXhwb3J0cyBpbiAnQG9wZW5haS9hZ2VudHMtY29yZS9fc2hpbXMnXG5leHBvcnQgZnVuY3Rpb24gbG9hZEVudigpIHtcbiAgICByZXR1cm4ge307XG59XG5leHBvcnQgY2xhc3MgQnJvd3NlckV2ZW50RW1pdHRlciB7XG4gICAgI3RhcmdldCA9IG5ldyBFdmVudFRhcmdldCgpO1xuICAgICNsaXN0ZW5lcldyYXBwZXJzID0gbmV3IE1hcCgpO1xuICAgIG9uKHR5cGUsIGxpc3RlbmVyKSB7XG4gICAgICAgIGNvbnN0IGV2ZW50VHlwZSA9IHR5cGU7XG4gICAgICAgIGxldCBsaXN0ZW5lcnNGb3JUeXBlID0gdGhpcy4jbGlzdGVuZXJXcmFwcGVycy5nZXQoZXZlbnRUeXBlKTtcbiAgICAgICAgaWYgKCFsaXN0ZW5lcnNGb3JUeXBlKSB7XG4gICAgICAgICAgICBsaXN0ZW5lcnNGb3JUeXBlID0gbmV3IE1hcCgpO1xuICAgICAgICAgICAgdGhpcy4jbGlzdGVuZXJXcmFwcGVycy5zZXQoZXZlbnRUeXBlLCBsaXN0ZW5lcnNGb3JUeXBlKTtcbiAgICAgICAgfVxuICAgICAgICBsZXQgd3JhcHBlcnMgPSBsaXN0ZW5lcnNGb3JUeXBlLmdldChsaXN0ZW5lcik7XG4gICAgICAgIGlmICghd3JhcHBlcnMpIHtcbiAgICAgICAgICAgIHdyYXBwZXJzID0gbmV3IFNldCgpO1xuICAgICAgICAgICAgbGlzdGVuZXJzRm9yVHlwZS5zZXQobGlzdGVuZXIsIHdyYXBwZXJzKTtcbiAgICAgICAgfVxuICAgICAgICBjb25zdCB3cmFwcGVyID0gKChldmVudCkgPT4gbGlzdGVuZXIoLi4uKGV2ZW50LmRldGFpbCA/PyBbXSkpKTtcbiAgICAgICAgd3JhcHBlcnMuYWRkKHdyYXBwZXIpO1xuICAgICAgICB0aGlzLiN0YXJnZXQuYWRkRXZlbnRMaXN0ZW5lcihldmVudFR5cGUsIHdyYXBwZXIpO1xuICAgICAgICByZXR1cm4gdGhpcztcbiAgICB9XG4gICAgb2ZmKHR5cGUsIGxpc3RlbmVyKSB7XG4gICAgICAgIGNvbnN0IGV2ZW50VHlwZSA9IHR5cGU7XG4gICAgICAgIGNvbnN0IGxpc3RlbmVyc0ZvclR5cGUgPSB0aGlzLiNsaXN0ZW5lcldyYXBwZXJzLmdldChldmVudFR5cGUpO1xuICAgICAgICBjb25zdCB3cmFwcGVycyA9IGxpc3RlbmVyc0ZvclR5cGU/LmdldChsaXN0ZW5lcik7XG4gICAgICAgIGlmICh3cmFwcGVycz8uc2l6ZSkge1xuICAgICAgICAgICAgZm9yIChjb25zdCB3cmFwcGVyIG9mIHdyYXBwZXJzKSB7XG4gICAgICAgICAgICAgICAgdGhpcy4jdGFyZ2V0LnJlbW92ZUV2ZW50TGlzdGVuZXIoZXZlbnRUeXBlLCB3cmFwcGVyKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGxpc3RlbmVyc0ZvclR5cGU/LmRlbGV0ZShsaXN0ZW5lcik7XG4gICAgICAgICAgICBpZiAobGlzdGVuZXJzRm9yVHlwZT8uc2l6ZSA9PT0gMCkge1xuICAgICAgICAgICAgICAgIHRoaXMuI2xpc3RlbmVyV3JhcHBlcnMuZGVsZXRlKGV2ZW50VHlwZSk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIHRoaXM7XG4gICAgfVxuICAgIGVtaXQodHlwZSwgLi4uYXJncykge1xuICAgICAgICBjb25zdCBldmVudCA9IG5ldyBDdXN0b21FdmVudCh0eXBlLCB7IGRldGFpbDogYXJncyB9KTtcbiAgICAgICAgcmV0dXJuIHRoaXMuI3RhcmdldC5kaXNwYXRjaEV2ZW50KGV2ZW50KTtcbiAgICB9XG4gICAgb25jZSh0eXBlLCBsaXN0ZW5lcikge1xuICAgICAgICBjb25zdCBoYW5kbGVyID0gKC4uLmFyZ3MpID0+IHtcbiAgICAgICAgICAgIHRoaXMub2ZmKHR5cGUsIGhhbmRsZXIpO1xuICAgICAgICAgICAgbGlzdGVuZXIoLi4uYXJncyk7XG4gICAgICAgIH07XG4gICAgICAgIHRoaXMub24odHlwZSwgaGFuZGxlcik7XG4gICAgICAgIHJldHVybiB0aGlzO1xuICAgIH1cbn1cbmV4cG9ydCB7IEJyb3dzZXJFdmVudEVtaXR0ZXIgYXMgUnVudGltZUV2ZW50RW1pdHRlciB9O1xuZXhwb3J0IGNvbnN0IHJhbmRvbVVVSUQgPSAoKSA9PiB7XG4gICAgaWYgKHR5cGVvZiBjcnlwdG8gIT09ICd1bmRlZmluZWQnICYmIGNyeXB0by5yYW5kb21VVUlEKSB7XG4gICAgICAgIHJldHVybiBjcnlwdG8ucmFuZG9tVVVJRCgpO1xuICAgIH1cbiAgICByZXR1cm4gJ3h4eHh4eHh4LXh4eHgtNHh4eC15eHh4LXh4eHh4eHh4eHh4eCcucmVwbGFjZSgvW3h5XS9nLCBmdW5jdGlvbiAoYykge1xuICAgICAgICBjb25zdCByID0gKE1hdGgucmFuZG9tKCkgKiAxNikgfCAwO1xuICAgICAgICBjb25zdCB2ID0gYyA9PT0gJ3gnID8gciA6IChyICYgMHgzKSB8IDB4ODtcbiAgICAgICAgcmV0dXJuIHYudG9TdHJpbmcoMTYpO1xuICAgIH0pO1xufTtcbmV4cG9ydCBjb25zdCBSZWFkYWJsZSA9IGNsYXNzIFJlYWRhYmxlIHtcbiAgICBjb25zdHJ1Y3RvcigpIHsgfVxuICAgIHBpcGVUbyhfZGVzdGluYXRpb24sIF9vcHRpb25zKSB7IH1cbiAgICBwaXBlVGhyb3VnaChfdHJhbnNmb3JtLCBfb3B0aW9ucykgeyB9XG59O1xuZXhwb3J0IGNvbnN0IFJlYWRhYmxlU3RyZWFtID0gZ2xvYmFsVGhpcy5SZWFkYWJsZVN0cmVhbTtcbmV4cG9ydCBjb25zdCBSZWFkYWJsZVN0cmVhbUNvbnRyb2xsZXIgPSBnbG9iYWxUaGlzLlJlYWRhYmxlU3RyZWFtRGVmYXVsdENvbnRyb2xsZXI7XG5leHBvcnQgY29uc3QgVHJhbnNmb3JtU3RyZWFtID0gZ2xvYmFsVGhpcy5UcmFuc2Zvcm1TdHJlYW07XG5leHBvcnQgY2xhc3MgQXN5bmNMb2NhbFN0b3JhZ2Uge1xuICAgIGNvbnRleHQgPSBudWxsO1xuICAgIGNvbnN0cnVjdG9yKCkgeyB9XG4gICAgcnVuKGNvbnRleHQsIGZuKSB7XG4gICAgICAgIHRoaXMuY29udGV4dCA9IGNvbnRleHQ7XG4gICAgICAgIHJldHVybiBmbigpO1xuICAgIH1cbiAgICBnZXRTdG9yZSgpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuY29udGV4dDtcbiAgICB9XG4gICAgZW50ZXJXaXRoKGNvbnRleHQpIHtcbiAgICAgICAgdGhpcy5jb250ZXh0ID0gY29udGV4dDtcbiAgICB9XG59XG5leHBvcnQgZnVuY3Rpb24gaXNCcm93c2VyRW52aXJvbm1lbnQoKSB7XG4gICAgcmV0dXJuIHRydWU7XG59XG5leHBvcnQgZnVuY3Rpb24gaXNUcmFjaW5nTG9vcFJ1bm5pbmdCeURlZmF1bHQoKSB7XG4gICAgcmV0dXJuIGZhbHNlO1xufVxuZXhwb3J0IHsgTUNQU2VydmVyU3RkaW8sIE1DUFNlcnZlclN0cmVhbWFibGVIdHRwLCBNQ1BTZXJ2ZXJTU0UsIH0gZnJvbSBcIi4vbWNwLXNlcnZlci9icm93c2VyLm1qc1wiO1xuY2xhc3MgQnJvd3NlclRpbWVyIHtcbiAgICBjb25zdHJ1Y3RvcigpIHsgfVxuICAgIHNldFRpbWVvdXQoY2FsbGJhY2ssIG1zKSB7XG4gICAgICAgIGNvbnN0IHRpbWVvdXQgPSBzZXRUaW1lb3V0KGNhbGxiYWNrLCBtcyk7XG4gICAgICAgIHRpbWVvdXQucmVmID1cbiAgICAgICAgICAgIHR5cGVvZiB0aW1lb3V0LnJlZiA9PT0gJ2Z1bmN0aW9uJyA/IHRpbWVvdXQucmVmIDogKCkgPT4gdGltZW91dDtcbiAgICAgICAgdGltZW91dC51bnJlZiA9XG4gICAgICAgICAgICB0eXBlb2YgdGltZW91dC51bnJlZiA9PT0gJ2Z1bmN0aW9uJyA/IHRpbWVvdXQudW5yZWYgOiAoKSA9PiB0aW1lb3V0O1xuICAgICAgICB0aW1lb3V0Lmhhc1JlZiA9XG4gICAgICAgICAgICB0eXBlb2YgdGltZW91dC5oYXNSZWYgPT09ICdmdW5jdGlvbicgPyB0aW1lb3V0Lmhhc1JlZiA6ICgpID0+IHRydWU7XG4gICAgICAgIHRpbWVvdXQucmVmcmVzaCA9XG4gICAgICAgICAgICB0eXBlb2YgdGltZW91dC5yZWZyZXNoID09PSAnZnVuY3Rpb24nID8gdGltZW91dC5yZWZyZXNoIDogKCkgPT4gdGltZW91dDtcbiAgICAgICAgcmV0dXJuIHRpbWVvdXQ7XG4gICAgfVxuICAgIGNsZWFyVGltZW91dCh0aW1lb3V0SWQpIHtcbiAgICAgICAgd2luZG93LmNsZWFyVGltZW91dCh0aW1lb3V0SWQpO1xuICAgIH1cbn1cbmNvbnN0IHRpbWVyID0gbmV3IEJyb3dzZXJUaW1lcigpO1xuZXhwb3J0IHsgdGltZXIgfTtcbi8vIyBzb3VyY2VNYXBwaW5nVVJMPXNoaW1zLWJyb3dzZXIubWpzLm1hcCIsImltcG9ydCB7IFJ1bnRpbWVFdmVudEVtaXR0ZXIsIH0gZnJvbSAnQG9wZW5haS9hZ2VudHMtY29yZS9fc2hpbXMnO1xuZXhwb3J0IGNsYXNzIEV2ZW50RW1pdHRlckRlbGVnYXRlIHtcbiAgICBvbih0eXBlLCBsaXN0ZW5lcikge1xuICAgICAgICB0aGlzLmV2ZW50RW1pdHRlci5vbih0eXBlLCBsaXN0ZW5lcik7XG4gICAgICAgIHJldHVybiB0aGlzLmV2ZW50RW1pdHRlcjtcbiAgICB9XG4gICAgb2ZmKHR5cGUsIGxpc3RlbmVyKSB7XG4gICAgICAgIHRoaXMuZXZlbnRFbWl0dGVyLm9mZih0eXBlLCBsaXN0ZW5lcik7XG4gICAgICAgIHJldHVybiB0aGlzLmV2ZW50RW1pdHRlcjtcbiAgICB9XG4gICAgZW1pdCh0eXBlLCAuLi5hcmdzKSB7XG4gICAgICAgIHJldHVybiB0aGlzLmV2ZW50RW1pdHRlci5lbWl0KHR5cGUsIC4uLmFyZ3MpO1xuICAgIH1cbiAgICBvbmNlKHR5cGUsIGxpc3RlbmVyKSB7XG4gICAgICAgIHRoaXMuZXZlbnRFbWl0dGVyLm9uY2UodHlwZSwgbGlzdGVuZXIpO1xuICAgICAgICByZXR1cm4gdGhpcy5ldmVudEVtaXR0ZXI7XG4gICAgfVxufVxuLyoqXG4gKiBFdmVudCBlbWl0dGVyIHRoYXQgZXZlcnkgQWdlbnQgaW5zdGFuY2UgaW5oZXJpdHMgZnJvbSBhbmQgdGhhdCBlbWl0cyBldmVudHMgZm9yIHRoZSBsaWZlY3ljbGVcbiAqIG9mIHRoZSBhZ2VudC5cbiAqL1xuZXhwb3J0IGNsYXNzIEFnZW50SG9va3MgZXh0ZW5kcyBFdmVudEVtaXR0ZXJEZWxlZ2F0ZSB7XG4gICAgZXZlbnRFbWl0dGVyID0gbmV3IFJ1bnRpbWVFdmVudEVtaXR0ZXIoKTtcbn1cbi8qKlxuICogRXZlbnQgZW1pdHRlciB0aGF0IGV2ZXJ5IFJ1bm5lciBpbnN0YW5jZSBpbmhlcml0cyBmcm9tIGFuZCB0aGF0IGVtaXRzIGV2ZW50cyBmb3IgdGhlIGxpZmVjeWNsZVxuICogb2YgdGhlIG92ZXJhbGwgcnVuLlxuICovXG5leHBvcnQgY2xhc3MgUnVuSG9va3MgZXh0ZW5kcyBFdmVudEVtaXR0ZXJEZWxlZ2F0ZSB7XG4gICAgZXZlbnRFbWl0dGVyID0gbmV3IFJ1bnRpbWVFdmVudEVtaXR0ZXIoKTtcbn1cbi8vIyBzb3VyY2VNYXBwaW5nVVJMPWxpZmVjeWNsZS5tanMubWFwIiwiaW1wb3J0IHsgbG9hZEVudiB9IGZyb20gXCIuL2NvbmZpZy5tanNcIjtcbmV4cG9ydCBjb25zdCBPUEVOQUlfREVGQVVMVF9NT0RFTF9FTlZfVkFSSUFCTEVfTkFNRSA9ICdPUEVOQUlfREVGQVVMVF9NT0RFTCc7XG4vKipcbiAqIFJldHVybnMgVHJ1ZSBpZiB0aGUgbW9kZWwgbmFtZSBpcyBhIEdQVC01IG1vZGVsIGFuZCByZWFzb25pbmcgc2V0dGluZ3MgYXJlIHJlcXVpcmVkLlxuICovXG5leHBvcnQgZnVuY3Rpb24gZ3B0NVJlYXNvbmluZ1NldHRpbmdzUmVxdWlyZWQobW9kZWxOYW1lKSB7XG4gICAgaWYgKG1vZGVsTmFtZS5zdGFydHNXaXRoKCdncHQtNS1jaGF0JykpIHtcbiAgICAgICAgLy8gZ3B0LTUtY2hhdC1sYXRlc3QgZG9lcyBub3QgcmVxdWlyZSByZWFzb25pbmcgc2V0dGluZ3NcbiAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgIH1cbiAgICAvLyBtYXRjaGVzIGFueSBvZiBncHQtNSBtb2RlbHNcbiAgICByZXR1cm4gbW9kZWxOYW1lLnN0YXJ0c1dpdGgoJ2dwdC01Jyk7XG59XG4vKipcbiAqIFJldHVybnMgVHJ1ZSBpZiB0aGUgZGVmYXVsdCBtb2RlbCBpcyBhIEdQVC01IG1vZGVsLlxuICogVGhpcyBpcyB1c2VkIHRvIGRldGVybWluZSBpZiB0aGUgZGVmYXVsdCBtb2RlbCBzZXR0aW5ncyBhcmUgY29tcGF0aWJsZSB3aXRoIEdQVC01IG1vZGVscy5cbiAqIElmIHRoZSBkZWZhdWx0IG1vZGVsIGlzIG5vdCBhIEdQVC01IG1vZGVsLCB0aGUgbW9kZWwgc2V0dGluZ3MgYXJlIGNvbXBhdGlibGUgd2l0aCBvdGhlciBtb2RlbHMuXG4gKi9cbmV4cG9ydCBmdW5jdGlvbiBpc0dwdDVEZWZhdWx0KCkge1xuICAgIHJldHVybiBncHQ1UmVhc29uaW5nU2V0dGluZ3NSZXF1aXJlZChnZXREZWZhdWx0TW9kZWwoKSk7XG59XG4vKipcbiAqIFJldHVybnMgdGhlIGRlZmF1bHQgbW9kZWwgbmFtZS5cbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIGdldERlZmF1bHRNb2RlbCgpIHtcbiAgICBjb25zdCBlbnYgPSBsb2FkRW52KCk7XG4gICAgcmV0dXJuIChlbnZbT1BFTkFJX0RFRkFVTFRfTU9ERUxfRU5WX1ZBUklBQkxFX05BTUVdPy50b0xvd2VyQ2FzZSgpID8/ICdncHQtNC4xJyk7XG59XG4vKipcbiAqIFJldHVybnMgdGhlIGRlZmF1bHQgbW9kZWwgc2V0dGluZ3MuXG4gKiBJZiB0aGUgZGVmYXVsdCBtb2RlbCBpcyBhIEdQVC01IG1vZGVsLCByZXR1cm5zIHRoZSBHUFQtNSBkZWZhdWx0IG1vZGVsIHNldHRpbmdzLlxuICogT3RoZXJ3aXNlLCByZXR1cm5zIHRoZSBsZWdhY3kgZGVmYXVsdCBtb2RlbCBzZXR0aW5ncy5cbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIGdldERlZmF1bHRNb2RlbFNldHRpbmdzKG1vZGVsKSB7XG4gICAgY29uc3QgX21vZGVsID0gbW9kZWwgPz8gZ2V0RGVmYXVsdE1vZGVsKCk7XG4gICAgaWYgKGdwdDVSZWFzb25pbmdTZXR0aW5nc1JlcXVpcmVkKF9tb2RlbCkpIHtcbiAgICAgICAgcmV0dXJuIHtcbiAgICAgICAgICAgIC8vIFdlIGNob3NlIFwibG93XCIgaW5zdGVhZCBvZiBcIm1pbmltYWxcIiBiZWNhdXNlIHNvbWUgb2YgdGhlIGJ1aWx0LWluIHRvb2xzXG4gICAgICAgICAgICAvLyAoZS5nLiwgZmlsZSBzZWFyY2gsIGltYWdlIGdlbmVyYXRpb24sIGV0Yy4pIGRvIG5vdCBzdXBwb3J0IFwibWluaW1hbFwiXG4gICAgICAgICAgICAvLyBJZiB5b3Ugd2FudCB0byB1c2UgXCJtaW5pbWFsXCIgcmVhc29uaW5nIGVmZm9ydCwgeW91IGNhbiBwYXNzIHlvdXIgb3duIG1vZGVsIHNldHRpbmdzXG4gICAgICAgICAgICByZWFzb25pbmc6IHsgZWZmb3J0OiAnbG93JyB9LFxuICAgICAgICAgICAgdGV4dDogeyB2ZXJib3NpdHk6ICdsb3cnIH0sXG4gICAgICAgIH07XG4gICAgfVxuICAgIHJldHVybiB7fTtcbn1cbi8vIyBzb3VyY2VNYXBwaW5nVVJMPWRlZmF1bHRNb2RlbC5tanMubWFwIiwiaW1wb3J0IHsgTW9kZWxCZWhhdmlvckVycm9yLCBVc2VyRXJyb3IgfSBmcm9tIFwiLi9lcnJvcnMubWpzXCI7XG5pbXBvcnQgeyB0b0Z1bmN0aW9uVG9vbE5hbWUgfSBmcm9tIFwiLi91dGlscy90b29scy5tanNcIjtcbmltcG9ydCB7IGdldFNjaGVtYUFuZFBhcnNlckZyb21JbnB1dFR5cGUgfSBmcm9tIFwiLi91dGlscy90b29scy5tanNcIjtcbmltcG9ydCB7IGFkZEVycm9yVG9DdXJyZW50U3BhbiB9IGZyb20gXCIuL3RyYWNpbmcvY29udGV4dC5tanNcIjtcbmltcG9ydCBsb2dnZXIgZnJvbSBcIi4vbG9nZ2VyLm1qc1wiO1xuLyoqXG4gKiBHZW5lcmF0ZXMgdGhlIG1lc3NhZ2UgdGhhdCB3aWxsIGJlIGdpdmVuIGFzIHRvb2wgb3V0cHV0IHRvIHRoZSBtb2RlbCB0aGF0IHJlcXVlc3RlZCB0aGUgaGFuZG9mZi5cbiAqXG4gKiBAcGFyYW0gYWdlbnQgVGhlIGFnZW50IHRvIHRyYW5zZmVyIHRvXG4gKiBAcmV0dXJucyBUaGUgbWVzc2FnZSB0aGF0IHdpbGwgYmUgZ2l2ZW4gYXMgdG9vbCBvdXRwdXQgdG8gdGhlIG1vZGVsIHRoYXQgcmVxdWVzdGVkIHRoZSBoYW5kb2ZmXG4gKi9cbmV4cG9ydCBmdW5jdGlvbiBnZXRUcmFuc2Zlck1lc3NhZ2UoYWdlbnQpIHtcbiAgICByZXR1cm4gSlNPTi5zdHJpbmdpZnkoeyBhc3Npc3RhbnQ6IGFnZW50Lm5hbWUgfSk7XG59XG4vKipcbiAqIFRoZSBkZWZhdWx0IG5hbWUgb2YgdGhlIHRvb2wgdGhhdCByZXByZXNlbnRzIHRoZSBoYW5kb2ZmLlxuICpcbiAqIEBwYXJhbSBhZ2VudCBUaGUgYWdlbnQgdG8gdHJhbnNmZXIgdG9cbiAqIEByZXR1cm5zIFRoZSBuYW1lIG9mIHRoZSB0b29sIHRoYXQgcmVwcmVzZW50cyB0aGUgaGFuZG9mZlxuICovXG5mdW5jdGlvbiBkZWZhdWx0SGFuZG9mZlRvb2xOYW1lKGFnZW50KSB7XG4gICAgcmV0dXJuIGB0cmFuc2Zlcl90b18ke3RvRnVuY3Rpb25Ub29sTmFtZShhZ2VudC5uYW1lKX1gO1xufVxuLyoqXG4gKiBHZW5lcmF0ZXMgdGhlIGRlc2NyaXB0aW9uIG9mIHRoZSB0b29sIHRoYXQgcmVwcmVzZW50cyB0aGUgaGFuZG9mZi5cbiAqXG4gKiBAcGFyYW0gYWdlbnQgVGhlIGFnZW50IHRvIHRyYW5zZmVyIHRvXG4gKiBAcmV0dXJucyBUaGUgZGVzY3JpcHRpb24gb2YgdGhlIHRvb2wgdGhhdCByZXByZXNlbnRzIHRoZSBoYW5kb2ZmXG4gKi9cbmZ1bmN0aW9uIGRlZmF1bHRIYW5kb2ZmVG9vbERlc2NyaXB0aW9uKGFnZW50KSB7XG4gICAgcmV0dXJuIGBIYW5kb2ZmIHRvIHRoZSAke2FnZW50Lm5hbWV9IGFnZW50IHRvIGhhbmRsZSB0aGUgcmVxdWVzdC4gJHthZ2VudC5oYW5kb2ZmRGVzY3JpcHRpb24gPz8gJyd9YDtcbn1cbmV4cG9ydCBjbGFzcyBIYW5kb2ZmIHtcbiAgICAvKipcbiAgICAgKiBUaGUgbmFtZSBvZiB0aGUgdG9vbCB0aGF0IHJlcHJlc2VudHMgdGhlIGhhbmRvZmYuXG4gICAgICovXG4gICAgdG9vbE5hbWU7XG4gICAgLyoqXG4gICAgICogVGhlIGRlc2NyaXB0aW9uIG9mIHRoZSB0b29sIHRoYXQgcmVwcmVzZW50cyB0aGUgaGFuZG9mZi5cbiAgICAgKi9cbiAgICB0b29sRGVzY3JpcHRpb247XG4gICAgLyoqXG4gICAgICogVGhlIEpTT04gc2NoZW1hIGZvciB0aGUgaGFuZG9mZiBpbnB1dC4gQ2FuIGJlIGVtcHR5IGlmIHRoZSBoYW5kb2ZmIGRvZXMgbm90IHRha2UgYW4gaW5wdXRcbiAgICAgKi9cbiAgICBpbnB1dEpzb25TY2hlbWEgPSB7XG4gICAgICAgIHR5cGU6ICdvYmplY3QnLFxuICAgICAgICBwcm9wZXJ0aWVzOiB7fSxcbiAgICAgICAgcmVxdWlyZWQ6IFtdLFxuICAgICAgICBhZGRpdGlvbmFsUHJvcGVydGllczogZmFsc2UsXG4gICAgfTtcbiAgICAvKipcbiAgICAgKiBXaGV0aGVyIHRoZSBpbnB1dCBKU09OIHNjaGVtYSBpcyBpbiBzdHJpY3QgbW9kZS4gV2UgKipzdHJvbmdseSoqIHJlY29tbWVuZCBzZXR0aW5nIHRoaXMgdG9cbiAgICAgKiB0cnVlLCBhcyBpdCBpbmNyZWFzZXMgdGhlIGxpa2VsaWhvb2Qgb2YgY29ycmVjdCBKU09OIGlucHV0LlxuICAgICAqL1xuICAgIHN0cmljdEpzb25TY2hlbWEgPSB0cnVlO1xuICAgIC8qKlxuICAgICAqIFRoZSBmdW5jdGlvbiB0aGF0IGludm9rZXMgdGhlIGhhbmRvZmYuIFRoZSBwYXJhbWV0ZXJzIHBhc3NlZCBhcmU6XG4gICAgICogMS4gVGhlIGhhbmRvZmYgcnVuIGNvbnRleHRcbiAgICAgKiAyLiBUaGUgYXJndW1lbnRzIGZyb20gdGhlIExMTSwgYXMgYSBKU09OIHN0cmluZy4gRW1wdHkgc3RyaW5nIGlmIGlucHV0SnNvblNjaGVtYSBpcyBlbXB0eS5cbiAgICAgKlxuICAgICAqIE11c3QgcmV0dXJuIGFuIGFnZW50XG4gICAgICovXG4gICAgb25JbnZva2VIYW5kb2ZmO1xuICAgIC8qKlxuICAgICAqIFRoZSBuYW1lIG9mIHRoZSBhZ2VudCB0aGF0IGlzIGJlaW5nIGhhbmRlZCBvZmYgdG8uXG4gICAgICovXG4gICAgYWdlbnROYW1lO1xuICAgIC8qKlxuICAgICAqIEEgZnVuY3Rpb24gdGhhdCBmaWx0ZXJzIHRoZSBpbnB1dHMgdGhhdCBhcmUgcGFzc2VkIHRvIHRoZSBuZXh0IGFnZW50LiBCeSBkZWZhdWx0LCB0aGUgbmV3IGFnZW50XG4gICAgICogc2VlcyB0aGUgZW50aXJlIGNvbnZlcnNhdGlvbiBoaXN0b3J5LiBJbiBzb21lIGNhc2VzLCB5b3UgbWF5IHdhbnQgdG8gZmlsdGVyIGlucHV0cyBlLmcuIHRvXG4gICAgICogcmVtb3ZlIG9sZGVyIGlucHV0cywgb3IgcmVtb3ZlIHRvb2xzIGZyb20gZXhpc3RpbmcgaW5wdXRzLlxuICAgICAqXG4gICAgICogVGhlIGZ1bmN0aW9uIHdpbGwgcmVjZWl2ZSB0aGUgZW50aXJlIGNvbnZlcnNhdGlvbiBoaXNzdG9yeSBzbyBmYXIsIGluY2x1ZGluZyB0aGUgaW5wdXQgaXRlbVxuICAgICAqIHRoYXQgdHJpZ2dlcmVkIHRoZSBoYW5kb2ZmIGFuZCBhIHRvb2wgY2FsbCBvdXRwdXQgaXRlbSByZXByZXNlbnRpbmcgdGhlIGhhbmRvZmYgdG9vbCdzIG91dHB1dC5cbiAgICAgKlxuICAgICAqIFlvdSBhcmUgZnJlZSB0byBtb2RpZnkgdGhlIGlucHV0IGhpc3Rvcnkgb3IgbmV3IGl0ZW1zIGFzIHlvdSBzZWUgZml0LiBUaGUgbmV4dCBhZ2VudCB0aGF0IHJ1bnNcbiAgICAgKiB3aWxsIHJlY2VpdmUgYGhhbmRvZmZJbnB1dERhdGEuYWxsSXRlbXNcbiAgICAgKi9cbiAgICBpbnB1dEZpbHRlcjtcbiAgICAvKipcbiAgICAgKiBUaGUgYWdlbnQgdGhhdCBpcyBiZWluZyBoYW5kZWQgb2ZmIHRvLlxuICAgICAqL1xuICAgIGFnZW50O1xuICAgIC8qKlxuICAgICAqIFJldHVybnMgYSBmdW5jdGlvbiB0b29sIGRlZmluaXRpb24gdGhhdCBjYW4gYmUgdXNlZCB0byBpbnZva2UgdGhlIGhhbmRvZmYuXG4gICAgICovXG4gICAgZ2V0SGFuZG9mZkFzRnVuY3Rpb25Ub29sKCkge1xuICAgICAgICByZXR1cm4ge1xuICAgICAgICAgICAgdHlwZTogJ2Z1bmN0aW9uJyxcbiAgICAgICAgICAgIG5hbWU6IHRoaXMudG9vbE5hbWUsXG4gICAgICAgICAgICBkZXNjcmlwdGlvbjogdGhpcy50b29sRGVzY3JpcHRpb24sXG4gICAgICAgICAgICBwYXJhbWV0ZXJzOiB0aGlzLmlucHV0SnNvblNjaGVtYSxcbiAgICAgICAgICAgIHN0cmljdDogdGhpcy5zdHJpY3RKc29uU2NoZW1hLFxuICAgICAgICB9O1xuICAgIH1cbiAgICBpc0VuYWJsZWQgPSBhc3luYyAoKSA9PiB0cnVlO1xuICAgIGNvbnN0cnVjdG9yKGFnZW50LCBvbkludm9rZUhhbmRvZmYpIHtcbiAgICAgICAgdGhpcy5hZ2VudE5hbWUgPSBhZ2VudC5uYW1lO1xuICAgICAgICB0aGlzLm9uSW52b2tlSGFuZG9mZiA9IG9uSW52b2tlSGFuZG9mZjtcbiAgICAgICAgdGhpcy50b29sTmFtZSA9IGRlZmF1bHRIYW5kb2ZmVG9vbE5hbWUoYWdlbnQpO1xuICAgICAgICB0aGlzLnRvb2xEZXNjcmlwdGlvbiA9IGRlZmF1bHRIYW5kb2ZmVG9vbERlc2NyaXB0aW9uKGFnZW50KTtcbiAgICAgICAgdGhpcy5hZ2VudCA9IGFnZW50O1xuICAgIH1cbn1cbi8qKlxuICogQ3JlYXRlcyBhIGhhbmRvZmYgZnJvbSBhbiBhZ2VudC4gSGFuZG9mZnMgYXJlIGF1dG9tYXRpY2FsbHkgY3JlYXRlZCB3aGVuIHlvdSBwYXNzIGFuIGFnZW50XG4gKiBpbnRvIHRoZSBgaGFuZG9mZnNgIG9wdGlvbiBvZiB0aGUgYEFnZW50YCBjb25zdHJ1Y3Rvci4gQWx0ZXJuYXRpdmVseSwgeW91IGNhbiB1c2UgdGhpcyBmdW5jdGlvblxuICogdG8gY3JlYXRlIGEgaGFuZG9mZiBtYW51YWxseSwgZ2l2aW5nIHlvdSBtb3JlIGNvbnRyb2wgb3ZlciBjb25maWd1cmF0aW9uLlxuICpcbiAqIEB0ZW1wbGF0ZSBUQ29udGV4dCBUaGUgY29udGV4dCBvZiB0aGUgaGFuZG9mZlxuICogQHRlbXBsYXRlIFRPdXRwdXQgVGhlIG91dHB1dCB0eXBlIG9mIHRoZSBoYW5kb2ZmXG4gKiBAdGVtcGxhdGUgVElucHV0VHlwZSBUaGUgaW5wdXQgdHlwZSBvZiB0aGUgaGFuZG9mZlxuICovXG5leHBvcnQgZnVuY3Rpb24gaGFuZG9mZihhZ2VudCwgY29uZmlnID0ge30pIHtcbiAgICBsZXQgcGFyc2VyID0gdW5kZWZpbmVkO1xuICAgIGNvbnN0IGhhc09uSGFuZG9mZiA9ICEhY29uZmlnLm9uSGFuZG9mZjtcbiAgICBjb25zdCBoYXNJbnB1dFR5cGUgPSAhIWNvbmZpZy5pbnB1dFR5cGU7XG4gICAgY29uc3QgaGFzQm90aE9yTmVpdGhlckhhbmRvZmZBbmRJbnB1dFR5cGUgPSBoYXNPbkhhbmRvZmYgPT09IGhhc0lucHV0VHlwZTtcbiAgICBpZiAoIWhhc0JvdGhPck5laXRoZXJIYW5kb2ZmQW5kSW5wdXRUeXBlKSB7XG4gICAgICAgIHRocm93IG5ldyBVc2VyRXJyb3IoJ1lvdSBtdXN0IHByb3ZpZGUgZWl0aGVyIGJvdGggYG9uSGFuZG9mZmAgYW5kIGBpbnB1dFR5cGVgIG9yIG5laXRoZXIuJyk7XG4gICAgfVxuICAgIGFzeW5jIGZ1bmN0aW9uIG9uSW52b2tlSGFuZG9mZihjb250ZXh0LCBpbnB1dEpzb25TdHJpbmcpIHtcbiAgICAgICAgaWYgKHBhcnNlcikge1xuICAgICAgICAgICAgaWYgKCFpbnB1dEpzb25TdHJpbmcpIHtcbiAgICAgICAgICAgICAgICBhZGRFcnJvclRvQ3VycmVudFNwYW4oe1xuICAgICAgICAgICAgICAgICAgICBtZXNzYWdlOiBgSGFuZG9mZiBmdW5jdGlvbiBleHBlY3RlZCBub24gZW1wdHkgaW5wdXQgYnV0IGdvdDogJHtpbnB1dEpzb25TdHJpbmd9YCxcbiAgICAgICAgICAgICAgICAgICAgZGF0YToge1xuICAgICAgICAgICAgICAgICAgICAgICAgZGV0YWlsczogYGlucHV0IGlzIGVtcHR5YCxcbiAgICAgICAgICAgICAgICAgICAgfSxcbiAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgICAgICB0aHJvdyBuZXcgTW9kZWxCZWhhdmlvckVycm9yKCdIYW5kb2ZmIGZ1bmN0aW9uIGV4cGVjdGVkIG5vbiBlbXB0eSBpbnB1dCcpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgdHJ5IHtcbiAgICAgICAgICAgICAgICAvLyB2ZXJpZnkgdGhhdCBpdCdzIHZhbGlkIGlucHV0IGJ1dCB3ZSBkb24ndCBjYXJlIGFib3V0IHRoZSByZXN1bHRcbiAgICAgICAgICAgICAgICBjb25zdCBwYXJzZWQgPSBhd2FpdCBwYXJzZXIoaW5wdXRKc29uU3RyaW5nKTtcbiAgICAgICAgICAgICAgICBpZiAoY29uZmlnLm9uSGFuZG9mZikge1xuICAgICAgICAgICAgICAgICAgICBhd2FpdCBjb25maWcub25IYW5kb2ZmKGNvbnRleHQsIHBhcnNlZCk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICAgICAgY2F0Y2ggKGVycm9yKSB7XG4gICAgICAgICAgICAgICAgYWRkRXJyb3JUb0N1cnJlbnRTcGFuKHtcbiAgICAgICAgICAgICAgICAgICAgbWVzc2FnZTogYEludmFsaWQgSlNPTiBwcm92aWRlZGAsXG4gICAgICAgICAgICAgICAgICAgIGRhdGE6IHt9LFxuICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgICAgIGlmICghbG9nZ2VyLmRvbnRMb2dUb29sRGF0YSkge1xuICAgICAgICAgICAgICAgICAgICBsb2dnZXIuZXJyb3IoYEludmFsaWQgSlNPTiB3aGVuIHBhcnNpbmc6ICR7aW5wdXRKc29uU3RyaW5nfS4gRXJyb3I6ICR7ZXJyb3J9YCk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIHRocm93IG5ldyBNb2RlbEJlaGF2aW9yRXJyb3IoJ0ludmFsaWQgSlNPTiBwcm92aWRlZCcpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgYXdhaXQgY29uZmlnLm9uSGFuZG9mZj8uKGNvbnRleHQpO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiBhZ2VudDtcbiAgICB9XG4gICAgY29uc3QgaGFuZG9mZiA9IG5ldyBIYW5kb2ZmKGFnZW50LCBvbkludm9rZUhhbmRvZmYpO1xuICAgIGlmICh0eXBlb2YgY29uZmlnLmlzRW5hYmxlZCA9PT0gJ2Z1bmN0aW9uJykge1xuICAgICAgICBjb25zdCBwcmVkaWNhdGUgPSBjb25maWcuaXNFbmFibGVkO1xuICAgICAgICBoYW5kb2ZmLmlzRW5hYmxlZCA9IGFzeW5jICh7IHJ1bkNvbnRleHQsIGFnZW50IH0pID0+IHtcbiAgICAgICAgICAgIGNvbnN0IHJlc3VsdCA9IGF3YWl0IHByZWRpY2F0ZSh7IHJ1bkNvbnRleHQsIGFnZW50IH0pO1xuICAgICAgICAgICAgcmV0dXJuIEJvb2xlYW4ocmVzdWx0KTtcbiAgICAgICAgfTtcbiAgICB9XG4gICAgZWxzZSBpZiAodHlwZW9mIGNvbmZpZy5pc0VuYWJsZWQgPT09ICdib29sZWFuJykge1xuICAgICAgICBoYW5kb2ZmLmlzRW5hYmxlZCA9IGFzeW5jICgpID0+IGNvbmZpZy5pc0VuYWJsZWQ7XG4gICAgfVxuICAgIGlmIChjb25maWcuaW5wdXRUeXBlKSB7XG4gICAgICAgIGNvbnN0IHJlc3VsdCA9IGdldFNjaGVtYUFuZFBhcnNlckZyb21JbnB1dFR5cGUoY29uZmlnLmlucHV0VHlwZSwgaGFuZG9mZi50b29sTmFtZSk7XG4gICAgICAgIGhhbmRvZmYuaW5wdXRKc29uU2NoZW1hID0gcmVzdWx0LnNjaGVtYTtcbiAgICAgICAgaGFuZG9mZi5zdHJpY3RKc29uU2NoZW1hID0gdHJ1ZTtcbiAgICAgICAgcGFyc2VyID0gcmVzdWx0LnBhcnNlcjtcbiAgICB9XG4gICAgaWYgKGNvbmZpZy50b29sTmFtZU92ZXJyaWRlKSB7XG4gICAgICAgIGhhbmRvZmYudG9vbE5hbWUgPSBjb25maWcudG9vbE5hbWVPdmVycmlkZTtcbiAgICB9XG4gICAgaWYgKGNvbmZpZy50b29sRGVzY3JpcHRpb25PdmVycmlkZSkge1xuICAgICAgICBoYW5kb2ZmLnRvb2xEZXNjcmlwdGlvbiA9IGNvbmZpZy50b29sRGVzY3JpcHRpb25PdmVycmlkZTtcbiAgICB9XG4gICAgaWYgKGNvbmZpZy5pbnB1dEZpbHRlcikge1xuICAgICAgICBoYW5kb2ZmLmlucHV0RmlsdGVyID0gY29uZmlnLmlucHV0RmlsdGVyO1xuICAgIH1cbiAgICByZXR1cm4gaGFuZG9mZjtcbn1cbi8qKlxuICogUmV0dXJucyBhIGhhbmRvZmYgZm9yIHRoZSBnaXZlbiBhZ2VudC4gSWYgdGhlIGFnZW50IGlzIGFscmVhZHkgd3JhcHBlZCBpbnRvIGEgaGFuZG9mZixcbiAqIGl0IHdpbGwgYmUgcmV0dXJuZWQgYXMgaXMuIE90aGVyd2lzZSwgYSBuZXcgaGFuZG9mZiBpbnN0YW5jZSB3aWxsIGJlIGNyZWF0ZWQuXG4gKlxuICogQHRlbXBsYXRlIFRDb250ZXh0IFRoZSBjb250ZXh0IG9mIHRoZSBoYW5kb2ZmXG4gKiBAdGVtcGxhdGUgVE91dHB1dCBUaGUgb3V0cHV0IHR5cGUgb2YgdGhlIGhhbmRvZmZcbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIGdldEhhbmRvZmYoYWdlbnQpIHtcbiAgICBpZiAoYWdlbnQgaW5zdGFuY2VvZiBIYW5kb2ZmKSB7XG4gICAgICAgIHJldHVybiBhZ2VudDtcbiAgICB9XG4gICAgcmV0dXJuIGhhbmRvZmYoYWdlbnQpO1xufVxuLy8jIHNvdXJjZU1hcHBpbmdVUkw9aGFuZG9mZi5tanMubWFwIiwiLyoqXG4gKiBHZXQgdGhlIGxhc3QgdGV4dCBmcm9tIHRoZSBvdXRwdXQgbWVzc2FnZS5cbiAqIEBwYXJhbSBvdXRwdXRNZXNzYWdlXG4gKiBAcmV0dXJuc1xuICovXG5leHBvcnQgZnVuY3Rpb24gZ2V0TGFzdFRleHRGcm9tT3V0cHV0TWVzc2FnZShvdXRwdXRNZXNzYWdlKSB7XG4gICAgaWYgKG91dHB1dE1lc3NhZ2UudHlwZSAhPT0gJ21lc3NhZ2UnKSB7XG4gICAgICAgIHJldHVybiB1bmRlZmluZWQ7XG4gICAgfVxuICAgIGlmIChvdXRwdXRNZXNzYWdlLnJvbGUgIT09ICdhc3Npc3RhbnQnKSB7XG4gICAgICAgIHJldHVybiB1bmRlZmluZWQ7XG4gICAgfVxuICAgIGNvbnN0IGxhc3RJdGVtID0gb3V0cHV0TWVzc2FnZS5jb250ZW50W291dHB1dE1lc3NhZ2UuY29udGVudC5sZW5ndGggLSAxXTtcbiAgICBpZiAobGFzdEl0ZW0udHlwZSAhPT0gJ291dHB1dF90ZXh0Jykge1xuICAgICAgICByZXR1cm4gdW5kZWZpbmVkO1xuICAgIH1cbiAgICByZXR1cm4gbGFzdEl0ZW0udGV4dDtcbn1cbi8qKlxuICogR2V0IHRoZSBsYXN0IHRleHQgZnJvbSB0aGUgb3V0cHV0IG1lc3NhZ2UuXG4gKiBAcGFyYW0gb3V0cHV0XG4gKiBAcmV0dXJuc1xuICovXG5leHBvcnQgZnVuY3Rpb24gZ2V0T3V0cHV0VGV4dChvdXRwdXQpIHtcbiAgICBpZiAob3V0cHV0Lm91dHB1dC5sZW5ndGggPT09IDApIHtcbiAgICAgICAgcmV0dXJuICcnO1xuICAgIH1cbiAgICByZXR1cm4gKGdldExhc3RUZXh0RnJvbU91dHB1dE1lc3NhZ2Uob3V0cHV0Lm91dHB1dFtvdXRwdXQub3V0cHV0Lmxlbmd0aCAtIDFdKSB8fCAnJyk7XG59XG4vLyMgc291cmNlTWFwcGluZ1VSTD1tZXNzYWdlcy5tanMubWFwIiwiaW1wb3J0IHsgeiB9IGZyb20gJ3pvZCc7XG5pbXBvcnQgeyBBZ2VudEhvb2tzIH0gZnJvbSBcIi4vbGlmZWN5Y2xlLm1qc1wiO1xuaW1wb3J0IHsgZ2V0QWxsTWNwVG9vbHMgfSBmcm9tIFwiLi9tY3AubWpzXCI7XG5pbXBvcnQgeyBnZXREZWZhdWx0TW9kZWxTZXR0aW5ncywgZ3B0NVJlYXNvbmluZ1NldHRpbmdzUmVxdWlyZWQsIGlzR3B0NURlZmF1bHQsIH0gZnJvbSBcIi4vZGVmYXVsdE1vZGVsLm1qc1wiO1xuaW1wb3J0IHsgdG9vbCwgfSBmcm9tIFwiLi90b29sLm1qc1wiO1xuaW1wb3J0IHsgZ2V0SGFuZG9mZiB9IGZyb20gXCIuL2hhbmRvZmYubWpzXCI7XG5pbXBvcnQgeyBSdW5uZXIgfSBmcm9tIFwiLi9ydW4ubWpzXCI7XG5pbXBvcnQgeyB0b0Z1bmN0aW9uVG9vbE5hbWUgfSBmcm9tIFwiLi91dGlscy90b29scy5tanNcIjtcbmltcG9ydCB7IGdldE91dHB1dFRleHQgfSBmcm9tIFwiLi91dGlscy9tZXNzYWdlcy5tanNcIjtcbmltcG9ydCB7IGlzQWdlbnRUb29sSW5wdXQgfSBmcm9tIFwiLi91dGlscy90eXBlR3VhcmRzLm1qc1wiO1xuaW1wb3J0IHsgaXNab2RPYmplY3QgfSBmcm9tIFwiLi91dGlscy90eXBlR3VhcmRzLm1qc1wiO1xuaW1wb3J0IHsgTW9kZWxCZWhhdmlvckVycm9yLCBVc2VyRXJyb3IgfSBmcm9tIFwiLi9lcnJvcnMubWpzXCI7XG5pbXBvcnQgbG9nZ2VyIGZyb20gXCIuL2xvZ2dlci5tanNcIjtcbi8vIFBlci1wcm9jZXNzLCBlcGhlbWVyYWwgbWFwIGxpbmtpbmcgYSBmdW5jdGlvbiB0b29sIGNhbGwgdG8gaXRzIG5lc3RlZFxuLy8gQWdlbnQgcnVuIHJlc3VsdCB3aXRoaW4gdGhlIHNhbWUgcnVuOyBlbnRyeSBpcyByZW1vdmVkIGFmdGVyIGNvbnN1bXB0aW9uLlxuY29uc3QgYWdlbnRUb29sUnVuUmVzdWx0cyA9IG5ldyBXZWFrTWFwKCk7XG5leHBvcnQgZnVuY3Rpb24gc2F2ZUFnZW50VG9vbFJ1blJlc3VsdCh0b29sQ2FsbCwgcnVuUmVzdWx0KSB7XG4gICAgaWYgKHRvb2xDYWxsKSB7XG4gICAgICAgIGFnZW50VG9vbFJ1blJlc3VsdHMuc2V0KHRvb2xDYWxsLCBydW5SZXN1bHQpO1xuICAgIH1cbn1cbmV4cG9ydCBmdW5jdGlvbiBjb25zdW1lQWdlbnRUb29sUnVuUmVzdWx0KHRvb2xDYWxsKSB7XG4gICAgY29uc3QgcnVuUmVzdWx0ID0gYWdlbnRUb29sUnVuUmVzdWx0cy5nZXQodG9vbENhbGwpO1xuICAgIGlmIChydW5SZXN1bHQpIHtcbiAgICAgICAgYWdlbnRUb29sUnVuUmVzdWx0cy5kZWxldGUodG9vbENhbGwpO1xuICAgIH1cbiAgICByZXR1cm4gcnVuUmVzdWx0O1xufVxuLy8gVGhlIHBhcmFtZXRlciB0eXBlIGZvIG5lZWRBcHByb3ZhbCBmdW5jdGlvbiBmb3IgdGhlIHRvb2wgY3JlYXRlZCBieSBBZ2VudC5hc1Rvb2woKSBtZXRob2RcbmNvbnN0IEFnZW50QXNUb29sTmVlZEFwcHJvdmFsU2NoYW1lID0gei5vYmplY3QoeyBpbnB1dDogei5zdHJpbmcoKSB9KTtcbi8qKlxuICogVGhlIGNsYXNzIHJlcHJlc2VudGluZyBhbiBBSSBhZ2VudCBjb25maWd1cmVkIHdpdGggaW5zdHJ1Y3Rpb25zLCB0b29scywgZ3VhcmRyYWlscywgaGFuZG9mZnMgYW5kIG1vcmUuXG4gKlxuICogV2Ugc3Ryb25nbHkgcmVjb21tZW5kIHBhc3NpbmcgYGluc3RydWN0aW9uc2AsIHdoaWNoIGlzIHRoZSBcInN5c3RlbSBwcm9tcHRcIiBmb3IgdGhlIGFnZW50LiBJblxuICogYWRkaXRpb24sIHlvdSBjYW4gcGFzcyBgaGFuZG9mZkRlc2NyaXB0aW9uYCwgd2hpY2ggaXMgYSBodW1hbi1yZWFkYWJsZSBkZXNjcmlwdGlvbiBvZiB0aGVcbiAqIGFnZW50LCB1c2VkIHdoZW4gdGhlIGFnZW50IGlzIHVzZWQgaW5zaWRlIHRvb2xzL2hhbmRvZmZzLlxuICpcbiAqIEFnZW50cyBhcmUgZ2VuZXJpYyBvbiB0aGUgY29udGV4dCB0eXBlLiBUaGUgY29udGV4dCBpcyBhIChtdXRhYmxlKSBvYmplY3QgeW91IGNyZWF0ZS4gSXQgaXNcbiAqIHBhc3NlZCB0byB0b29sIGZ1bmN0aW9ucywgaGFuZG9mZnMsIGd1YXJkcmFpbHMsIGV0Yy5cbiAqL1xuZXhwb3J0IGNsYXNzIEFnZW50IGV4dGVuZHMgQWdlbnRIb29rcyB7XG4gICAgLyoqXG4gICAgICogQ3JlYXRlIGFuIEFnZW50IHdpdGggaGFuZG9mZnMgYW5kIGF1dG9tYXRpY2FsbHkgaW5mZXIgdGhlIHVuaW9uIHR5cGUgZm9yIFRPdXRwdXQgZnJvbSB0aGUgaGFuZG9mZiBhZ2VudHMnIG91dHB1dCB0eXBlcy5cbiAgICAgKi9cbiAgICBzdGF0aWMgY3JlYXRlKGNvbmZpZykge1xuICAgICAgICByZXR1cm4gbmV3IEFnZW50KHtcbiAgICAgICAgICAgIC4uLmNvbmZpZyxcbiAgICAgICAgICAgIGhhbmRvZmZzOiBjb25maWcuaGFuZG9mZnMsXG4gICAgICAgICAgICBvdXRwdXRUeXBlOiBjb25maWcub3V0cHV0VHlwZSxcbiAgICAgICAgICAgIGhhbmRvZmZPdXRwdXRUeXBlV2FybmluZ0VuYWJsZWQ6IGZhbHNlLFxuICAgICAgICB9KTtcbiAgICB9XG4gICAgc3RhdGljIERFRkFVTFRfTU9ERUxfUExBQ0VIT0xERVIgPSAnJztcbiAgICBuYW1lO1xuICAgIGluc3RydWN0aW9ucztcbiAgICBwcm9tcHQ7XG4gICAgaGFuZG9mZkRlc2NyaXB0aW9uO1xuICAgIGhhbmRvZmZzO1xuICAgIG1vZGVsO1xuICAgIG1vZGVsU2V0dGluZ3M7XG4gICAgdG9vbHM7XG4gICAgbWNwU2VydmVycztcbiAgICBpbnB1dEd1YXJkcmFpbHM7XG4gICAgb3V0cHV0R3VhcmRyYWlscztcbiAgICBvdXRwdXRUeXBlID0gJ3RleHQnO1xuICAgIHRvb2xVc2VCZWhhdmlvcjtcbiAgICByZXNldFRvb2xDaG9pY2U7XG4gICAgX3Rvb2xzRXhwbGljaXRseUNvbmZpZ3VyZWQ7XG4gICAgY29uc3RydWN0b3IoY29uZmlnKSB7XG4gICAgICAgIHN1cGVyKCk7XG4gICAgICAgIGlmICh0eXBlb2YgY29uZmlnLm5hbWUgIT09ICdzdHJpbmcnIHx8IGNvbmZpZy5uYW1lLnRyaW0oKSA9PT0gJycpIHtcbiAgICAgICAgICAgIHRocm93IG5ldyBVc2VyRXJyb3IoJ0FnZW50IG11c3QgaGF2ZSBhIG5hbWUuJyk7XG4gICAgICAgIH1cbiAgICAgICAgdGhpcy5uYW1lID0gY29uZmlnLm5hbWU7XG4gICAgICAgIHRoaXMuaW5zdHJ1Y3Rpb25zID0gY29uZmlnLmluc3RydWN0aW9ucyA/PyBBZ2VudC5ERUZBVUxUX01PREVMX1BMQUNFSE9MREVSO1xuICAgICAgICB0aGlzLnByb21wdCA9IGNvbmZpZy5wcm9tcHQ7XG4gICAgICAgIHRoaXMuaGFuZG9mZkRlc2NyaXB0aW9uID0gY29uZmlnLmhhbmRvZmZEZXNjcmlwdGlvbiA/PyAnJztcbiAgICAgICAgdGhpcy5oYW5kb2ZmcyA9IGNvbmZpZy5oYW5kb2ZmcyA/PyBbXTtcbiAgICAgICAgdGhpcy5tb2RlbCA9IGNvbmZpZy5tb2RlbCA/PyAnJztcbiAgICAgICAgdGhpcy5tb2RlbFNldHRpbmdzID0gY29uZmlnLm1vZGVsU2V0dGluZ3MgPz8gZ2V0RGVmYXVsdE1vZGVsU2V0dGluZ3MoKTtcbiAgICAgICAgdGhpcy50b29scyA9IGNvbmZpZy50b29scyA/PyBbXTtcbiAgICAgICAgdGhpcy5fdG9vbHNFeHBsaWNpdGx5Q29uZmlndXJlZCA9IGNvbmZpZy50b29scyAhPT0gdW5kZWZpbmVkO1xuICAgICAgICB0aGlzLm1jcFNlcnZlcnMgPSBjb25maWcubWNwU2VydmVycyA/PyBbXTtcbiAgICAgICAgdGhpcy5pbnB1dEd1YXJkcmFpbHMgPSBjb25maWcuaW5wdXRHdWFyZHJhaWxzID8/IFtdO1xuICAgICAgICB0aGlzLm91dHB1dEd1YXJkcmFpbHMgPSBjb25maWcub3V0cHV0R3VhcmRyYWlscyA/PyBbXTtcbiAgICAgICAgaWYgKGNvbmZpZy5vdXRwdXRUeXBlKSB7XG4gICAgICAgICAgICB0aGlzLm91dHB1dFR5cGUgPSBjb25maWcub3V0cHV0VHlwZTtcbiAgICAgICAgfVxuICAgICAgICB0aGlzLnRvb2xVc2VCZWhhdmlvciA9IGNvbmZpZy50b29sVXNlQmVoYXZpb3IgPz8gJ3J1bl9sbG1fYWdhaW4nO1xuICAgICAgICB0aGlzLnJlc2V0VG9vbENob2ljZSA9IGNvbmZpZy5yZXNldFRvb2xDaG9pY2UgPz8gdHJ1ZTtcbiAgICAgICAgaWYgKFxuICAgICAgICAvLyBUaGUgdXNlciBzZXRzIGEgbm9uLWRlZmF1bHQgbW9kZWxcbiAgICAgICAgY29uZmlnLm1vZGVsICE9PSB1bmRlZmluZWQgJiZcbiAgICAgICAgICAgIC8vIFRoZSBkZWZhdWx0IG1vZGVsIGlzIGdwdC01XG4gICAgICAgICAgICBpc0dwdDVEZWZhdWx0KCkgJiZcbiAgICAgICAgICAgIC8vIEhvd2V2ZXIsIHRoZSBzcGVjaWZpZWQgbW9kZWwgaXMgbm90IGEgZ3B0LTUgbW9kZWxcbiAgICAgICAgICAgICh0eXBlb2YgY29uZmlnLm1vZGVsICE9PSAnc3RyaW5nJyB8fFxuICAgICAgICAgICAgICAgICFncHQ1UmVhc29uaW5nU2V0dGluZ3NSZXF1aXJlZChjb25maWcubW9kZWwpKSAmJlxuICAgICAgICAgICAgLy8gVGhlIG1vZGVsIHNldHRpbmdzIGFyZSBub3QgY3VzdG9taXplZCBmb3IgdGhlIHNwZWNpZmllZCBtb2RlbFxuICAgICAgICAgICAgY29uZmlnLm1vZGVsU2V0dGluZ3MgPT09IHVuZGVmaW5lZCkge1xuICAgICAgICAgICAgLy8gSW4gdGhpcyBzY2VuYXJpbywgd2Ugc2hvdWxkIHVzZSBhIGdlbmVyaWMgbW9kZWwgc2V0dGluZ3NcbiAgICAgICAgICAgIC8vIGJlY2F1c2Ugbm9uLWdwdC01IG1vZGVscyBhcmUgbm90IGNvbXBhdGlibGUgd2l0aCB0aGUgZGVmYXVsdCBncHQtNSBtb2RlbCBzZXR0aW5ncy5cbiAgICAgICAgICAgIC8vIFRoaXMgaXMgYSBiZXN0LWVmZm9ydCBhdHRlbXB0IHRvIG1ha2UgdGhlIGFnZW50IHdvcmsgd2l0aCBub24tZ3B0LTUgbW9kZWxzLlxuICAgICAgICAgICAgdGhpcy5tb2RlbFNldHRpbmdzID0ge307XG4gICAgICAgIH1cbiAgICAgICAgLy8gLS0tIFJ1bnRpbWUgd2FybmluZyBmb3IgaGFuZG9mZiBvdXRwdXQgdHlwZSBjb21wYXRpYmlsaXR5IC0tLVxuICAgICAgICBpZiAoY29uZmlnLmhhbmRvZmZPdXRwdXRUeXBlV2FybmluZ0VuYWJsZWQgPT09IHVuZGVmaW5lZCB8fFxuICAgICAgICAgICAgY29uZmlnLmhhbmRvZmZPdXRwdXRUeXBlV2FybmluZ0VuYWJsZWQpIHtcbiAgICAgICAgICAgIGlmICh0aGlzLmhhbmRvZmZzICYmIHRoaXMub3V0cHV0VHlwZSkge1xuICAgICAgICAgICAgICAgIGNvbnN0IG91dHB1dFR5cGVzID0gbmV3IFNldChbSlNPTi5zdHJpbmdpZnkodGhpcy5vdXRwdXRUeXBlKV0pO1xuICAgICAgICAgICAgICAgIGZvciAoY29uc3QgaCBvZiB0aGlzLmhhbmRvZmZzKSB7XG4gICAgICAgICAgICAgICAgICAgIGlmICgnb3V0cHV0VHlwZScgaW4gaCAmJiBoLm91dHB1dFR5cGUpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIG91dHB1dFR5cGVzLmFkZChKU09OLnN0cmluZ2lmeShoLm91dHB1dFR5cGUpKTtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICBlbHNlIGlmICgnYWdlbnQnIGluIGggJiYgaC5hZ2VudC5vdXRwdXRUeXBlKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBvdXRwdXRUeXBlcy5hZGQoSlNPTi5zdHJpbmdpZnkoaC5hZ2VudC5vdXRwdXRUeXBlKSk7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgaWYgKG91dHB1dFR5cGVzLnNpemUgPiAxKSB7XG4gICAgICAgICAgICAgICAgICAgIGxvZ2dlci53YXJuKGBbQWdlbnRdIFdhcm5pbmc6IEhhbmRvZmYgYWdlbnRzIGhhdmUgZGlmZmVyZW50IG91dHB1dCB0eXBlczogJHtBcnJheS5mcm9tKG91dHB1dFR5cGVzKS5qb2luKCcsICcpfS4gWW91IGNhbiBtYWtlIGl0IHR5cGUtc2FmZSBieSB1c2luZyBBZ2VudC5jcmVhdGUoeyAuLi4gfSkgbWV0aG9kIGluc3RlYWQuYCk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgfVxuICAgIC8qKlxuICAgICAqIE91dHB1dCBzY2hlbWEgbmFtZS5cbiAgICAgKi9cbiAgICBnZXQgb3V0cHV0U2NoZW1hTmFtZSgpIHtcbiAgICAgICAgaWYgKHRoaXMub3V0cHV0VHlwZSA9PT0gJ3RleHQnKSB7XG4gICAgICAgICAgICByZXR1cm4gJ3RleHQnO1xuICAgICAgICB9XG4gICAgICAgIGVsc2UgaWYgKGlzWm9kT2JqZWN0KHRoaXMub3V0cHV0VHlwZSkpIHtcbiAgICAgICAgICAgIHJldHVybiAnWm9kT3V0cHV0JztcbiAgICAgICAgfVxuICAgICAgICBlbHNlIGlmICh0eXBlb2YgdGhpcy5vdXRwdXRUeXBlID09PSAnb2JqZWN0Jykge1xuICAgICAgICAgICAgcmV0dXJuIHRoaXMub3V0cHV0VHlwZS5uYW1lO1xuICAgICAgICB9XG4gICAgICAgIHRocm93IG5ldyBFcnJvcihgVW5rbm93biBvdXRwdXQgdHlwZTogJHt0aGlzLm91dHB1dFR5cGV9YCk7XG4gICAgfVxuICAgIC8qKlxuICAgICAqIE1ha2VzIGEgY29weSBvZiB0aGUgYWdlbnQsIHdpdGggdGhlIGdpdmVuIGFyZ3VtZW50cyBjaGFuZ2VkLiBGb3IgZXhhbXBsZSwgeW91IGNvdWxkIGRvOlxuICAgICAqXG4gICAgICogYGBgXG4gICAgICogY29uc3QgbmV3QWdlbnQgPSBhZ2VudC5jbG9uZSh7IGluc3RydWN0aW9uczogJ05ldyBpbnN0cnVjdGlvbnMnIH0pXG4gICAgICogYGBgXG4gICAgICpcbiAgICAgKiBAcGFyYW0gY29uZmlnIC0gQSBwYXJ0aWFsIGNvbmZpZ3VyYXRpb24gdG8gY2hhbmdlLlxuICAgICAqIEByZXR1cm5zIEEgbmV3IGFnZW50IHdpdGggdGhlIGdpdmVuIGNoYW5nZXMuXG4gICAgICovXG4gICAgY2xvbmUoY29uZmlnKSB7XG4gICAgICAgIHJldHVybiBuZXcgQWdlbnQoe1xuICAgICAgICAgICAgLi4udGhpcyxcbiAgICAgICAgICAgIC4uLmNvbmZpZyxcbiAgICAgICAgfSk7XG4gICAgfVxuICAgIC8qKlxuICAgICAqIFRyYW5zZm9ybSB0aGlzIGFnZW50IGludG8gYSB0b29sLCBjYWxsYWJsZSBieSBvdGhlciBhZ2VudHMuXG4gICAgICpcbiAgICAgKiBUaGlzIGlzIGRpZmZlcmVudCBmcm9tIGhhbmRvZmZzIGluIHR3byB3YXlzOlxuICAgICAqIDEuIEluIGhhbmRvZmZzLCB0aGUgbmV3IGFnZW50IHJlY2VpdmVzIHRoZSBjb252ZXJzYXRpb24gaGlzdG9yeS4gSW4gdGhpcyB0b29sLCB0aGUgbmV3IGFnZW50XG4gICAgICogICAgcmVjZWl2ZXMgZ2VuZXJhdGVkIGlucHV0LlxuICAgICAqIDIuIEluIGhhbmRvZmZzLCB0aGUgbmV3IGFnZW50IHRha2VzIG92ZXIgdGhlIGNvbnZlcnNhdGlvbi4gSW4gdGhpcyB0b29sLCB0aGUgbmV3IGFnZW50IGlzXG4gICAgICogICAgY2FsbGVkIGFzIGEgdG9vbCwgYW5kIHRoZSBjb252ZXJzYXRpb24gaXMgY29udGludWVkIGJ5IHRoZSBvcmlnaW5hbCBhZ2VudC5cbiAgICAgKlxuICAgICAqIEBwYXJhbSBvcHRpb25zIC0gT3B0aW9ucyBmb3IgdGhlIHRvb2wuXG4gICAgICogQHJldHVybnMgQSB0b29sIHRoYXQgcnVucyB0aGUgYWdlbnQgYW5kIHJldHVybnMgdGhlIG91dHB1dCB0ZXh0LlxuICAgICAqL1xuICAgIGFzVG9vbChvcHRpb25zKSB7XG4gICAgICAgIGNvbnN0IHsgdG9vbE5hbWUsIHRvb2xEZXNjcmlwdGlvbiwgY3VzdG9tT3V0cHV0RXh0cmFjdG9yLCBuZWVkc0FwcHJvdmFsLCBydW5Db25maWcsIHJ1bk9wdGlvbnMsIGlzRW5hYmxlZCwgfSA9IG9wdGlvbnM7XG4gICAgICAgIHJldHVybiB0b29sKHtcbiAgICAgICAgICAgIG5hbWU6IHRvb2xOYW1lID8/IHRvRnVuY3Rpb25Ub29sTmFtZSh0aGlzLm5hbWUpLFxuICAgICAgICAgICAgZGVzY3JpcHRpb246IHRvb2xEZXNjcmlwdGlvbiA/PyAnJyxcbiAgICAgICAgICAgIHBhcmFtZXRlcnM6IEFnZW50QXNUb29sTmVlZEFwcHJvdmFsU2NoYW1lLFxuICAgICAgICAgICAgc3RyaWN0OiB0cnVlLFxuICAgICAgICAgICAgbmVlZHNBcHByb3ZhbCxcbiAgICAgICAgICAgIGlzRW5hYmxlZCxcbiAgICAgICAgICAgIGV4ZWN1dGU6IGFzeW5jIChkYXRhLCBjb250ZXh0LCBkZXRhaWxzKSA9PiB7XG4gICAgICAgICAgICAgICAgaWYgKCFpc0FnZW50VG9vbElucHV0KGRhdGEpKSB7XG4gICAgICAgICAgICAgICAgICAgIHRocm93IG5ldyBNb2RlbEJlaGF2aW9yRXJyb3IoJ0FnZW50IHRvb2wgY2FsbGVkIHdpdGggaW52YWxpZCBpbnB1dCcpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBjb25zdCBydW5uZXIgPSBuZXcgUnVubmVyKHJ1bkNvbmZpZyA/PyB7fSk7XG4gICAgICAgICAgICAgICAgY29uc3QgcmVzdWx0ID0gYXdhaXQgcnVubmVyLnJ1bih0aGlzLCBkYXRhLmlucHV0LCB7XG4gICAgICAgICAgICAgICAgICAgIGNvbnRleHQsXG4gICAgICAgICAgICAgICAgICAgIC4uLihydW5PcHRpb25zID8/IHt9KSxcbiAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgICAgICBjb25zdCBjb21wbGV0ZWRSZXN1bHQgPSByZXN1bHQ7XG4gICAgICAgICAgICAgICAgY29uc3QgdXNlc1N0b3BBdFRvb2xOYW1lcyA9IHR5cGVvZiB0aGlzLnRvb2xVc2VCZWhhdmlvciA9PT0gJ29iamVjdCcgJiZcbiAgICAgICAgICAgICAgICAgICAgdGhpcy50b29sVXNlQmVoYXZpb3IgIT09IG51bGwgJiZcbiAgICAgICAgICAgICAgICAgICAgJ3N0b3BBdFRvb2xOYW1lcycgaW4gdGhpcy50b29sVXNlQmVoYXZpb3I7XG4gICAgICAgICAgICAgICAgaWYgKHR5cGVvZiBjdXN0b21PdXRwdXRFeHRyYWN0b3IgIT09ICdmdW5jdGlvbicgJiZcbiAgICAgICAgICAgICAgICAgICAgdXNlc1N0b3BBdFRvb2xOYW1lcykge1xuICAgICAgICAgICAgICAgICAgICBsb2dnZXIuZGVidWcoYFlvdSdyZSBwYXNzaW5nIHRoZSBhZ2VudCAobmFtZTogJHt0aGlzLm5hbWV9KSB3aXRoIHRvb2xVc2VCZWhhdmlvci5zdG9wQXRUb29sTmFtZXMgY29uZmlndXJlZCBhcyBhIHRvb2wgdG8gYSBkaWZmZXJlbnQgYWdlbnQ7IHRoaXMgbWF5IG5vdCB3b3JrIGFzIHlvdSBleHBlY3QuIFlvdSBtYXkgd2FudCB0byBoYXZlIGEgd3JhcHBlciBmdW5jdGlvbiB0b29sIHRvIGNvbnNpc3RlbnRseSByZXR1cm4gdGhlIGZpbmFsIG91dHB1dC5gKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgY29uc3Qgb3V0cHV0VGV4dCA9IHR5cGVvZiBjdXN0b21PdXRwdXRFeHRyYWN0b3IgPT09ICdmdW5jdGlvbidcbiAgICAgICAgICAgICAgICAgICAgPyBhd2FpdCBjdXN0b21PdXRwdXRFeHRyYWN0b3IoY29tcGxldGVkUmVzdWx0KVxuICAgICAgICAgICAgICAgICAgICA6IGdldE91dHB1dFRleHQoY29tcGxldGVkUmVzdWx0LnJhd1Jlc3BvbnNlc1tjb21wbGV0ZWRSZXN1bHQucmF3UmVzcG9uc2VzLmxlbmd0aCAtIDFdKTtcbiAgICAgICAgICAgICAgICBpZiAoZGV0YWlscz8udG9vbENhbGwpIHtcbiAgICAgICAgICAgICAgICAgICAgc2F2ZUFnZW50VG9vbFJ1blJlc3VsdChkZXRhaWxzLnRvb2xDYWxsLCBjb21wbGV0ZWRSZXN1bHQpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICByZXR1cm4gb3V0cHV0VGV4dDtcbiAgICAgICAgICAgIH0sXG4gICAgICAgIH0pO1xuICAgIH1cbiAgICAvKipcbiAgICAgKiBSZXR1cm5zIHRoZSBzeXN0ZW0gcHJvbXB0IGZvciB0aGUgYWdlbnQuXG4gICAgICpcbiAgICAgKiBJZiB0aGUgYWdlbnQgaGFzIGEgZnVuY3Rpb24gYXMgaXRzIGluc3RydWN0aW9ucywgdGhpcyBmdW5jdGlvbiB3aWxsIGJlIGNhbGxlZCB3aXRoIHRoZVxuICAgICAqIHJ1bkNvbnRleHQgYW5kIHRoZSBhZ2VudCBpbnN0YW5jZS5cbiAgICAgKi9cbiAgICBhc3luYyBnZXRTeXN0ZW1Qcm9tcHQocnVuQ29udGV4dCkge1xuICAgICAgICBpZiAodHlwZW9mIHRoaXMuaW5zdHJ1Y3Rpb25zID09PSAnZnVuY3Rpb24nKSB7XG4gICAgICAgICAgICByZXR1cm4gYXdhaXQgdGhpcy5pbnN0cnVjdGlvbnMocnVuQ29udGV4dCwgdGhpcyk7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIHRoaXMuaW5zdHJ1Y3Rpb25zO1xuICAgIH1cbiAgICAvKipcbiAgICAgKiBSZXR1cm5zIHRoZSBwcm9tcHQgdGVtcGxhdGUgZm9yIHRoZSBhZ2VudCwgaWYgZGVmaW5lZC5cbiAgICAgKlxuICAgICAqIElmIHRoZSBhZ2VudCBoYXMgYSBmdW5jdGlvbiBhcyBpdHMgcHJvbXB0LCB0aGlzIGZ1bmN0aW9uIHdpbGwgYmUgY2FsbGVkIHdpdGggdGhlXG4gICAgICogcnVuQ29udGV4dCBhbmQgdGhlIGFnZW50IGluc3RhbmNlLlxuICAgICAqL1xuICAgIGFzeW5jIGdldFByb21wdChydW5Db250ZXh0KSB7XG4gICAgICAgIGlmICh0eXBlb2YgdGhpcy5wcm9tcHQgPT09ICdmdW5jdGlvbicpIHtcbiAgICAgICAgICAgIHJldHVybiBhd2FpdCB0aGlzLnByb21wdChydW5Db250ZXh0LCB0aGlzKTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gdGhpcy5wcm9tcHQ7XG4gICAgfVxuICAgIC8qKlxuICAgICAqIEZldGNoZXMgdGhlIGF2YWlsYWJsZSB0b29scyBmcm9tIHRoZSBNQ1Agc2VydmVycy5cbiAgICAgKiBAcmV0dXJucyB0aGUgTUNQIHBvd2VyZWQgdG9vbHNcbiAgICAgKi9cbiAgICBhc3luYyBnZXRNY3BUb29scyhydW5Db250ZXh0KSB7XG4gICAgICAgIGlmICh0aGlzLm1jcFNlcnZlcnMubGVuZ3RoID4gMCkge1xuICAgICAgICAgICAgcmV0dXJuIGdldEFsbE1jcFRvb2xzKHtcbiAgICAgICAgICAgICAgICBtY3BTZXJ2ZXJzOiB0aGlzLm1jcFNlcnZlcnMsXG4gICAgICAgICAgICAgICAgcnVuQ29udGV4dCxcbiAgICAgICAgICAgICAgICBhZ2VudDogdGhpcyxcbiAgICAgICAgICAgICAgICBjb252ZXJ0U2NoZW1hc1RvU3RyaWN0OiBmYWxzZSxcbiAgICAgICAgICAgIH0pO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiBbXTtcbiAgICB9XG4gICAgLyoqXG4gICAgICogQUxsIGFnZW50IHRvb2xzLCBpbmNsdWRpbmcgdGhlIE1DUGwgYW5kIGZ1bmN0aW9uIHRvb2xzLlxuICAgICAqXG4gICAgICogQHJldHVybnMgYWxsIGNvbmZpZ3VyZWQgdG9vbHNcbiAgICAgKi9cbiAgICBhc3luYyBnZXRBbGxUb29scyhydW5Db250ZXh0KSB7XG4gICAgICAgIGNvbnN0IG1jcFRvb2xzID0gYXdhaXQgdGhpcy5nZXRNY3BUb29scyhydW5Db250ZXh0KTtcbiAgICAgICAgY29uc3QgZW5hYmxlZFRvb2xzID0gW107XG4gICAgICAgIGZvciAoY29uc3QgY2FuZGlkYXRlIG9mIHRoaXMudG9vbHMpIHtcbiAgICAgICAgICAgIGlmIChjYW5kaWRhdGUudHlwZSA9PT0gJ2Z1bmN0aW9uJykge1xuICAgICAgICAgICAgICAgIGNvbnN0IG1heWJlSXNFbmFibGVkID0gY2FuZGlkYXRlLmlzRW5hYmxlZDtcbiAgICAgICAgICAgICAgICBjb25zdCBlbmFibGVkID0gdHlwZW9mIG1heWJlSXNFbmFibGVkID09PSAnZnVuY3Rpb24nXG4gICAgICAgICAgICAgICAgICAgID8gYXdhaXQgbWF5YmVJc0VuYWJsZWQocnVuQ29udGV4dCwgdGhpcylcbiAgICAgICAgICAgICAgICAgICAgOiB0eXBlb2YgbWF5YmVJc0VuYWJsZWQgPT09ICdib29sZWFuJ1xuICAgICAgICAgICAgICAgICAgICAgICAgPyBtYXliZUlzRW5hYmxlZFxuICAgICAgICAgICAgICAgICAgICAgICAgOiB0cnVlO1xuICAgICAgICAgICAgICAgIGlmICghZW5hYmxlZCkge1xuICAgICAgICAgICAgICAgICAgICBjb250aW51ZTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBlbmFibGVkVG9vbHMucHVzaChjYW5kaWRhdGUpO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiBbLi4ubWNwVG9vbHMsIC4uLmVuYWJsZWRUb29sc107XG4gICAgfVxuICAgIGhhc0V4cGxpY2l0VG9vbENvbmZpZygpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuX3Rvb2xzRXhwbGljaXRseUNvbmZpZ3VyZWQ7XG4gICAgfVxuICAgIC8qKlxuICAgICAqIFJldHVybnMgdGhlIGhhbmRvZmZzIHRoYXQgc2hvdWxkIGJlIGV4cG9zZWQgdG8gdGhlIG1vZGVsIGZvciB0aGUgY3VycmVudCBydW4uXG4gICAgICpcbiAgICAgKiBIYW5kb2ZmcyB0aGF0IHByb3ZpZGUgYW4gYGlzRW5hYmxlZGAgZnVuY3Rpb24gcmV0dXJuaW5nIGBmYWxzZWAgYXJlIG9taXR0ZWQuXG4gICAgICovXG4gICAgYXN5bmMgZ2V0RW5hYmxlZEhhbmRvZmZzKHJ1bkNvbnRleHQpIHtcbiAgICAgICAgY29uc3QgaGFuZG9mZnMgPSB0aGlzLmhhbmRvZmZzPy5tYXAoKGgpID0+IGdldEhhbmRvZmYoaCkpID8/IFtdO1xuICAgICAgICBjb25zdCBlbmFibGVkID0gW107XG4gICAgICAgIGZvciAoY29uc3QgaGFuZG9mZiBvZiBoYW5kb2Zmcykge1xuICAgICAgICAgICAgaWYgKGF3YWl0IGhhbmRvZmYuaXNFbmFibGVkKHsgcnVuQ29udGV4dCwgYWdlbnQ6IHRoaXMgfSkpIHtcbiAgICAgICAgICAgICAgICBlbmFibGVkLnB1c2goaGFuZG9mZik7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIGVuYWJsZWQ7XG4gICAgfVxuICAgIC8qKlxuICAgICAqIFByb2Nlc3NlcyB0aGUgZmluYWwgb3V0cHV0IG9mIHRoZSBhZ2VudC5cbiAgICAgKlxuICAgICAqIEBwYXJhbSBvdXRwdXQgLSBUaGUgb3V0cHV0IG9mIHRoZSBhZ2VudC5cbiAgICAgKiBAcmV0dXJucyBUaGUgcGFyc2VkIG91dC5cbiAgICAgKi9cbiAgICBwcm9jZXNzRmluYWxPdXRwdXQob3V0cHV0KSB7XG4gICAgICAgIGlmICh0aGlzLm91dHB1dFR5cGUgPT09ICd0ZXh0Jykge1xuICAgICAgICAgICAgcmV0dXJuIG91dHB1dDtcbiAgICAgICAgfVxuICAgICAgICBpZiAodHlwZW9mIHRoaXMub3V0cHV0VHlwZSA9PT0gJ29iamVjdCcpIHtcbiAgICAgICAgICAgIGNvbnN0IHBhcnNlZCA9IEpTT04ucGFyc2Uob3V0cHV0KTtcbiAgICAgICAgICAgIGlmIChpc1pvZE9iamVjdCh0aGlzLm91dHB1dFR5cGUpKSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuIHRoaXMub3V0cHV0VHlwZS5wYXJzZShwYXJzZWQpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgcmV0dXJuIHBhcnNlZDtcbiAgICAgICAgfVxuICAgICAgICB0aHJvdyBuZXcgRXJyb3IoYFVua25vd24gb3V0cHV0IHR5cGU6ICR7dGhpcy5vdXRwdXRUeXBlfWApO1xuICAgIH1cbiAgICAvKipcbiAgICAgKiBSZXR1cm5zIGEgSlNPTiByZXByZXNlbnRhdGlvbiBvZiB0aGUgYWdlbnQsIHdoaWNoIGlzIHNlcmlhbGl6YWJsZS5cbiAgICAgKlxuICAgICAqIEByZXR1cm5zIEEgSlNPTiBvYmplY3QgY29udGFpbmluZyB0aGUgYWdlbnQncyBuYW1lLlxuICAgICAqL1xuICAgIHRvSlNPTigpIHtcbiAgICAgICAgcmV0dXJuIHtcbiAgICAgICAgICAgIG5hbWU6IHRoaXMubmFtZSxcbiAgICAgICAgfTtcbiAgICB9XG59XG4vLyMgc291cmNlTWFwcGluZ1VSTD1hZ2VudC5tanMubWFwIiwiLyoqXG4gKiBEZWZpbmVzIGFuIGlucHV0IGd1YXJkcmFpbCBkZWZpbml0aW9uLlxuICovXG5leHBvcnQgZnVuY3Rpb24gZGVmaW5lSW5wdXRHdWFyZHJhaWwoeyBuYW1lLCBleGVjdXRlLCBydW5JblBhcmFsbGVsID0gdHJ1ZSwgfSkge1xuICAgIHJldHVybiB7XG4gICAgICAgIHR5cGU6ICdpbnB1dCcsXG4gICAgICAgIG5hbWUsXG4gICAgICAgIHJ1bkluUGFyYWxsZWwsXG4gICAgICAgIGd1YXJkcmFpbEZ1bmN0aW9uOiBleGVjdXRlLFxuICAgICAgICBhc3luYyBydW4oYXJncykge1xuICAgICAgICAgICAgcmV0dXJuIHtcbiAgICAgICAgICAgICAgICBndWFyZHJhaWw6IHsgdHlwZTogJ2lucHV0JywgbmFtZSB9LFxuICAgICAgICAgICAgICAgIG91dHB1dDogYXdhaXQgZXhlY3V0ZShhcmdzKSxcbiAgICAgICAgICAgIH07XG4gICAgICAgIH0sXG4gICAgfTtcbn1cbi8qKlxuICogQ3JlYXRlcyBhbiBvdXRwdXQgZ3VhcmRyYWlsIGRlZmluaXRpb24uXG4gKi9cbmV4cG9ydCBmdW5jdGlvbiBkZWZpbmVPdXRwdXRHdWFyZHJhaWwoeyBuYW1lLCBleGVjdXRlLCB9KSB7XG4gICAgcmV0dXJuIHtcbiAgICAgICAgdHlwZTogJ291dHB1dCcsXG4gICAgICAgIG5hbWUsXG4gICAgICAgIGd1YXJkcmFpbEZ1bmN0aW9uOiBleGVjdXRlLFxuICAgICAgICBhc3luYyBydW4oYXJncykge1xuICAgICAgICAgICAgcmV0dXJuIHtcbiAgICAgICAgICAgICAgICBndWFyZHJhaWw6IHsgdHlwZTogJ291dHB1dCcsIG5hbWUgfSxcbiAgICAgICAgICAgICAgICBhZ2VudDogYXJncy5hZ2VudCxcbiAgICAgICAgICAgICAgICBhZ2VudE91dHB1dDogYXJncy5hZ2VudE91dHB1dCxcbiAgICAgICAgICAgICAgICBvdXRwdXQ6IGF3YWl0IGV4ZWN1dGUoYXJncyksXG4gICAgICAgICAgICB9O1xuICAgICAgICB9LFxuICAgIH07XG59XG4vLyMgc291cmNlTWFwcGluZ1VSTD1ndWFyZHJhaWwubWpzLm1hcCIsImxldCBERUZBVUxUX1BST1ZJREVSO1xuLyoqXG4gKiBTZXQgdGhlIG1vZGVsIHByb3ZpZGVyIHVzZWQgd2hlbiBubyBleHBsaWNpdCBwcm92aWRlciBpcyBzdXBwbGllZC5cbiAqXG4gKiBAcGFyYW0gcHJvdmlkZXIgLSBUaGUgcHJvdmlkZXIgdG8gdXNlIGJ5IGRlZmF1bHQuXG4gKi9cbmV4cG9ydCBmdW5jdGlvbiBzZXREZWZhdWx0TW9kZWxQcm92aWRlcihwcm92aWRlcikge1xuICAgIERFRkFVTFRfUFJPVklERVIgPSBwcm92aWRlcjtcbn1cbi8qKlxuICogUmV0dXJucyB0aGUgZGVmYXVsdCBtb2RlbCBwcm92aWRlci5cbiAqXG4gKiBAcmV0dXJucyBUaGUgZGVmYXVsdCBtb2RlbCBwcm92aWRlci5cbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIGdldERlZmF1bHRNb2RlbFByb3ZpZGVyKCkge1xuICAgIGlmICh0eXBlb2YgREVGQVVMVF9QUk9WSURFUiA9PT0gJ3VuZGVmaW5lZCcpIHtcbiAgICAgICAgdGhyb3cgbmV3IEVycm9yKCdObyBkZWZhdWx0IG1vZGVsIHByb3ZpZGVyIHNldC4gTWFrZSBzdXJlIHRvIHNldCBhIHByb3ZpZGVyIHVzaW5nIHNldERlZmF1bHRNb2RlbFByb3ZpZGVyIGJlZm9yZSBjYWxsaW5nIGdldERlZmF1bHRNb2RlbFByb3ZpZGVyIG9yIHBhc3MgYW4gZXhwbGljaXQgcHJvdmlkZXIuJyk7XG4gICAgfVxuICAgIHJldHVybiBERUZBVUxUX1BST1ZJREVSO1xufVxuLy8jIHNvdXJjZU1hcHBpbmdVUkw9cHJvdmlkZXJzLm1qcy5tYXAiLCJpbXBvcnQgeyB6IH0gZnJvbSAnem9kJztcbi8vIC0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS1cbi8vIFNoYXJlZCBiYXNlIHR5cGVzXG4vLyAtLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tXG4vKipcbiAqIEV2ZXJ5IGl0ZW0gaW4gdGhlIHByb3RvY29sIHByb3ZpZGVzIGEgYHByb3ZpZGVyRGF0YWAgZmllbGQgdG8gYWNjb21tb2RhdGUgY3VzdG9tIGZ1bmN0aW9uYWxpdHlcbiAqIG9yIG5ldyBmaWVsZHNcbiAqL1xuZXhwb3J0IGNvbnN0IFNoYXJlZEJhc2UgPSB6Lm9iamVjdCh7XG4gICAgLyoqXG4gICAgICogQWRkaXRpb25hbCBvcHRpb25hbCBwcm92aWRlciBzcGVjaWZpYyBkYXRhLiBVc2VkIGZvciBjdXN0b20gZnVuY3Rpb25hbGl0eSBvciBtb2RlbCBwcm92aWRlclxuICAgICAqIHNwZWNpZmljIGZpZWxkcy5cbiAgICAgKi9cbiAgICBwcm92aWRlckRhdGE6IHoucmVjb3JkKHouc3RyaW5nKCksIHouYW55KCkpLm9wdGlvbmFsKCksXG59KTtcbi8qKlxuICogRXZlcnkgaXRlbSBoYXMgYSBzaGFyZWQgb2Ygc2hhcmVkIGl0ZW0gZGF0YSBpbmNsdWRpbmcgYW4gb3B0aW9uYWwgSUQuXG4gKi9cbmV4cG9ydCBjb25zdCBJdGVtQmFzZSA9IFNoYXJlZEJhc2UuZXh0ZW5kKHtcbiAgICAvKipcbiAgICAgKiBBbiBJRCB0byBpZGVudGlmeSB0aGUgaXRlbS4gVGhpcyBpcyBvcHRpb25hbCBieSBkZWZhdWx0LiBJZiBhIG1vZGVsIHByb3ZpZGVyIGFic29sdXRlbHlcbiAgICAgKiByZXF1aXJlcyB0aGlzIGZpZWxkLCBpdCB3aWxsIGJlIHZhbGlkYXRlZCBvbiB0aGUgbW9kZWwgbGV2ZWwuXG4gICAgICovXG4gICAgaWQ6IHouc3RyaW5nKCkub3B0aW9uYWwoKSxcbn0pO1xuLy8gLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLVxuLy8gQ29udGVudCB0eXBlc1xuLy8gLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLVxuZXhwb3J0IGNvbnN0IFJlZnVzYWwgPSBTaGFyZWRCYXNlLmV4dGVuZCh7XG4gICAgdHlwZTogei5saXRlcmFsKCdyZWZ1c2FsJyksXG4gICAgLyoqXG4gICAgICogVGhlIHJlZnVzYWwgZXhwbGFuYXRpb24gZnJvbSB0aGUgbW9kZWwuXG4gICAgICovXG4gICAgcmVmdXNhbDogei5zdHJpbmcoKSxcbn0pO1xuZXhwb3J0IGNvbnN0IE91dHB1dFRleHQgPSBTaGFyZWRCYXNlLmV4dGVuZCh7XG4gICAgdHlwZTogei5saXRlcmFsKCdvdXRwdXRfdGV4dCcpLFxuICAgIC8qKlxuICAgICAqIFRoZSB0ZXh0IG91dHB1dCBmcm9tIHRoZSBtb2RlbC5cbiAgICAgKi9cbiAgICB0ZXh0OiB6LnN0cmluZygpLFxufSk7XG5leHBvcnQgY29uc3QgSW5wdXRUZXh0ID0gU2hhcmVkQmFzZS5leHRlbmQoe1xuICAgIHR5cGU6IHoubGl0ZXJhbCgnaW5wdXRfdGV4dCcpLFxuICAgIC8qKlxuICAgICAqIEEgdGV4dCBpbnB1dCBmb3IgZXhhbXBsZSBhIG1lc3NhZ2UgZnJvbSBhIHVzZXJcbiAgICAgKi9cbiAgICB0ZXh0OiB6LnN0cmluZygpLFxufSk7XG5leHBvcnQgY29uc3QgUmVhc29uaW5nVGV4dCA9IFNoYXJlZEJhc2UuZXh0ZW5kKHtcbiAgICB0eXBlOiB6LmxpdGVyYWwoJ3JlYXNvbmluZ190ZXh0JyksXG4gICAgLyoqXG4gICAgICogQSB0ZXh0IGlucHV0IGZvciBleGFtcGxlIGEgbWVzc2FnZSBmcm9tIGEgdXNlclxuICAgICAqL1xuICAgIHRleHQ6IHouc3RyaW5nKCksXG59KTtcbmV4cG9ydCBjb25zdCBJbnB1dEltYWdlID0gU2hhcmVkQmFzZS5leHRlbmQoe1xuICAgIHR5cGU6IHoubGl0ZXJhbCgnaW5wdXRfaW1hZ2UnKSxcbiAgICAvKipcbiAgICAgKiBUaGUgaW1hZ2UgaW5wdXQgdG8gdGhlIG1vZGVsLiBDb3VsZCBiZSBwcm92aWRlZCBpbmxpbmUgKGBpbWFnZWApLCBhcyBhIFVSTCwgb3IgYnkgcmVmZXJlbmNlIHRvIGFcbiAgICAgKiBwcmV2aW91c2x5IHVwbG9hZGVkIE9wZW5BSSBmaWxlLlxuICAgICAqL1xuICAgIGltYWdlOiB6XG4gICAgICAgIC8vIDEuIGltYWdlIGRhdGFcbiAgICAgICAgLnN0cmluZygpXG4gICAgICAgIC8vIDIuZmlsZSBJRCBmb3IgdGhlIGltYWdlXG4gICAgICAgIC5vcih6Lm9iamVjdCh7IGlkOiB6LnN0cmluZygpLmRlc2NyaWJlKCdPcGVuQUkgZmlsZSBJRCcpIH0pKVxuICAgICAgICAuZGVzY3JpYmUoJ0VpdGhlciBiYXNlNjQgZW5jb2RlZCBpbWFnZSBkYXRhLCBhIGRhdGEgVVJMLCBvciBhbiBvYmplY3Qgd2l0aCBhIGZpbGUgSUQuJylcbiAgICAgICAgLm9wdGlvbmFsKCksXG4gICAgLyoqXG4gICAgICogQ29udHJvbHMgdGhlIGxldmVsIG9mIGRldGFpbCByZXF1ZXN0ZWQgZm9yIGltYWdlIHVuZGVyc3RhbmRpbmcgdGFza3MuXG4gICAgICogRnV0dXJlIG1vZGVscyBtYXkgYWRkIG5ldyB2YWx1ZXMsIHRoZXJlZm9yZSB0aGlzIGFjY2VwdHMgYW55IHN0cmluZy5cbiAgICAgKi9cbiAgICBkZXRhaWw6IHouc3RyaW5nKCkub3B0aW9uYWwoKSxcbn0pO1xuZXhwb3J0IGNvbnN0IElucHV0RmlsZSA9IFNoYXJlZEJhc2UuZXh0ZW5kKHtcbiAgICB0eXBlOiB6LmxpdGVyYWwoJ2lucHV0X2ZpbGUnKSxcbiAgICAvKipcbiAgICAgKiBUaGUgZmlsZSBpbnB1dCB0byB0aGUgbW9kZWwuIENvdWxkIGJlIHJhdyBkYXRhLCBhIFVSTCwgb3IgYW4gT3BlbkFJIGZpbGUgSUQuXG4gICAgICovXG4gICAgZmlsZTogelxuICAgICAgICAvLyAxLiBmaWxlIGRhdGFcbiAgICAgICAgLnN0cmluZygpXG4gICAgICAgIC5kZXNjcmliZSgnRWl0aGVyIGJhc2U2NCBlbmNvZGVkIGZpbGUgZGF0YSBvciBhIHB1YmxpY2x5IGFjY2Vzc2libGUgZmlsZSBVUkwnKVxuICAgICAgICAvLyAyLiBmaWxlIElEXG4gICAgICAgIC5vcih6Lm9iamVjdCh7IGlkOiB6LnN0cmluZygpLmRlc2NyaWJlKCdPcGVuQUkgZmlsZSBJRCcpIH0pKVxuICAgICAgICAvLyAzLiBwdWJsaWNseSBhY2Nlc3NpYmxlIGZpbGUgVVJMXG4gICAgICAgIC5vcih6Lm9iamVjdCh7IHVybDogei5zdHJpbmcoKS5kZXNjcmliZSgnUHVibGljbHkgYWNjZXNzaWJsZSBmaWxlIFVSTCcpIH0pKVxuICAgICAgICAuZGVzY3JpYmUoJ0NvbnRlbnRzIG9mIHRoZSBmaWxlIG9yIGFuIG9iamVjdCB3aXRoIGEgZmlsZSBJRC4nKVxuICAgICAgICAub3B0aW9uYWwoKSxcbiAgICAvKipcbiAgICAgKiBPcHRpb25hbCBmaWxlbmFtZSBtZXRhZGF0YSB3aGVuIHVwbG9hZGluZyBmaWxlIGRhdGEgaW5saW5lLlxuICAgICAqL1xuICAgIGZpbGVuYW1lOiB6LnN0cmluZygpLm9wdGlvbmFsKCksXG59KTtcbmV4cG9ydCBjb25zdCBBdWRpb0NvbnRlbnQgPSBTaGFyZWRCYXNlLmV4dGVuZCh7XG4gICAgdHlwZTogei5saXRlcmFsKCdhdWRpbycpLFxuICAgIC8qKlxuICAgICAqIFRoZSBhdWRpbyBpbnB1dCB0byB0aGUgbW9kZWwuIENvdWxkIGJlIGJhc2U2NCBlbmNvZGVkIGF1ZGlvIGRhdGEgb3IgYW4gb2JqZWN0IHdpdGggYSBmaWxlIElELlxuICAgICAqL1xuICAgIGF1ZGlvOiB6XG4gICAgICAgIC5zdHJpbmcoKVxuICAgICAgICAub3Ioei5vYmplY3Qoe1xuICAgICAgICBpZDogei5zdHJpbmcoKSxcbiAgICB9KSlcbiAgICAgICAgLmRlc2NyaWJlKCdCYXNlNjQgZW5jb2RlZCBhdWRpbyBkYXRhIG9yIGZpbGUgaWQnKSxcbiAgICAvKipcbiAgICAgKiBUaGUgZm9ybWF0IG9mIHRoZSBhdWRpby5cbiAgICAgKi9cbiAgICBmb3JtYXQ6IHouc3RyaW5nKCkubnVsbGFibGUoKS5vcHRpb25hbCgpLFxuICAgIC8qKlxuICAgICAqIFRoZSB0cmFuc2NyaXB0IG9mIHRoZSBhdWRpby5cbiAgICAgKi9cbiAgICB0cmFuc2NyaXB0OiB6LnN0cmluZygpLm51bGxhYmxlKCkub3B0aW9uYWwoKSxcbn0pO1xuZXhwb3J0IGNvbnN0IEltYWdlQ29udGVudCA9IFNoYXJlZEJhc2UuZXh0ZW5kKHtcbiAgICB0eXBlOiB6LmxpdGVyYWwoJ2ltYWdlJyksXG4gICAgLyoqXG4gICAgICogVGhlIGltYWdlIGlucHV0IHRvIHRoZSBtb2RlbC4gQ291bGQgYmUgYmFzZTY0IGVuY29kZWQgaW1hZ2UgZGF0YSBvciBhbiBvYmplY3Qgd2l0aCBhIGZpbGUgSUQuXG4gICAgICovXG4gICAgaW1hZ2U6IHouc3RyaW5nKCkuZGVzY3JpYmUoJ0Jhc2U2NCBlbmNvZGVkIGltYWdlIGRhdGEnKSxcbn0pO1xuZXhwb3J0IGNvbnN0IFRvb2xPdXRwdXRUZXh0ID0gU2hhcmVkQmFzZS5leHRlbmQoe1xuICAgIHR5cGU6IHoubGl0ZXJhbCgndGV4dCcpLFxuICAgIC8qKlxuICAgICAqIFRoZSB0ZXh0IG91dHB1dCBmcm9tIHRoZSBtb2RlbC5cbiAgICAgKi9cbiAgICB0ZXh0OiB6LnN0cmluZygpLFxufSk7XG5jb25zdCBJbWFnZURhdGFPYmplY3RTY2hlbWEgPSB6Lm9iamVjdCh7XG4gICAgZGF0YTogelxuICAgICAgICAudW5pb24oW3ouc3RyaW5nKCksIHouaW5zdGFuY2VvZihVaW50OEFycmF5KV0pXG4gICAgICAgIC5kZXNjcmliZSgnQmFzZTY0IGltYWdlIGRhdGEsIG9yIHJhdyBieXRlcyB0aGF0IHdpbGwgYmUgYmFzZTY0IGVuY29kZWQgYXV0b21hdGljYWxseS4nKSxcbiAgICBtZWRpYVR5cGU6IHouc3RyaW5nKCkub3B0aW9uYWwoKSxcbn0pO1xuY29uc3QgSW1hZ2VVcmxPYmplY3RTY2hlbWEgPSB6Lm9iamVjdCh7XG4gICAgdXJsOiB6XG4gICAgICAgIC5zdHJpbmcoKVxuICAgICAgICAuZGVzY3JpYmUoJ1B1YmxpY2x5IGFjY2Vzc2libGUgVVJMIHBvaW50aW5nIHRvIHRoZSBpbWFnZSBjb250ZW50JyksXG59KTtcbmNvbnN0IEltYWdlRmlsZUlkT2JqZWN0U2NoZW1hID0gei5vYmplY3Qoe1xuICAgIGZpbGVJZDogelxuICAgICAgICAuc3RyaW5nKClcbiAgICAgICAgLmRlc2NyaWJlKCdPcGVuQUkgZmlsZSBJRCByZWZlcmVuY2luZyB1cGxvYWRlZCBpbWFnZSBjb250ZW50JyksXG59KTtcbmNvbnN0IEltYWdlT2JqZWN0U2NoZW1hID0gelxuICAgIC51bmlvbihbSW1hZ2VEYXRhT2JqZWN0U2NoZW1hLCBJbWFnZVVybE9iamVjdFNjaGVtYSwgSW1hZ2VGaWxlSWRPYmplY3RTY2hlbWFdKVxuICAgIC5kZXNjcmliZSgnSW5saW5lIGltYWdlIGRhdGEgb3IgcmVmZXJlbmNlcyB0byB1cGxvYWRlZCBjb250ZW50LicpO1xuY29uc3QgRmlsZURhdGFPYmplY3RTY2hlbWEgPSB6Lm9iamVjdCh7XG4gICAgZGF0YTogelxuICAgICAgICAudW5pb24oW3ouc3RyaW5nKCksIHouaW5zdGFuY2VvZihVaW50OEFycmF5KV0pXG4gICAgICAgIC5kZXNjcmliZSgnQmFzZTY0IGVuY29kZWQgZmlsZSBkYXRhLCBvciByYXcgYnl0ZXMgdGhhdCB3aWxsIGJlIGVuY29kZWQgYXV0b21hdGljYWxseS4nKSxcbiAgICBtZWRpYVR5cGU6IHpcbiAgICAgICAgLnN0cmluZygpXG4gICAgICAgIC5kZXNjcmliZSgnSUFOQSBtZWRpYSB0eXBlIGRlc2NyaWJpbmcgdGhlIGZpbGUgY29udGVudHMnKSxcbiAgICBmaWxlbmFtZTogei5zdHJpbmcoKS5kZXNjcmliZSgnRmlsZW5hbWUgYXNzb2NpYXRlZCB3aXRoIHRoZSBpbmxpbmUgZGF0YScpLFxufSk7XG5jb25zdCBGaWxlVXJsT2JqZWN0U2NoZW1hID0gei5vYmplY3Qoe1xuICAgIHVybDogei5zdHJpbmcoKS5kZXNjcmliZSgnUHVibGljbHkgYWNjZXNzaWJsZSBVUkwgZm9yIHRoZSBmaWxlIGNvbnRlbnQnKSxcbiAgICBmaWxlbmFtZTogei5zdHJpbmcoKS5vcHRpb25hbCgpLFxufSk7XG5jb25zdCBGaWxlSWRPYmplY3RTY2hlbWEgPSB6Lm9iamVjdCh7XG4gICAgaWQ6IHouc3RyaW5nKCkuZGVzY3JpYmUoJ09wZW5BSSBmaWxlIElEIHJlZmVyZW5jaW5nIHVwbG9hZGVkIGNvbnRlbnQnKSxcbiAgICBmaWxlbmFtZTogei5zdHJpbmcoKS5vcHRpb25hbCgpLFxufSk7XG5jb25zdCBGaWxlUmVmZXJlbmNlU2NoZW1hID0gelxuICAgIC51bmlvbihbXG4gICAgei5zdHJpbmcoKS5kZXNjcmliZSgnRXhpc3RpbmcgZGF0YSBVUkwgb3IgYmFzZTY0IHN0cmluZycpLFxuICAgIEZpbGVEYXRhT2JqZWN0U2NoZW1hLFxuICAgIEZpbGVVcmxPYmplY3RTY2hlbWEsXG4gICAgRmlsZUlkT2JqZWN0U2NoZW1hLFxuXSlcbiAgICAuZGVzY3JpYmUoJ0lubGluZSBkYXRhICh3aXRoIG1ldGFkYXRhKSBvciByZWZlcmVuY2VzIHBvaW50aW5nIHRvIGZpbGUgY29udGVudHMuJyk7XG5jb25zdCB6U3RyaW5nV2l0aEhpbnRzID0gKC4uLl9oaW50cykgPT4gei5zdHJpbmcoKTtcbmV4cG9ydCBjb25zdCBUb29sT3V0cHV0SW1hZ2UgPSBTaGFyZWRCYXNlLmV4dGVuZCh7XG4gICAgdHlwZTogei5saXRlcmFsKCdpbWFnZScpLFxuICAgIC8qKlxuICAgICAqIElubGluZSBpbWFnZSBjb250ZW50IG9yIGEgcmVmZXJlbmNlIHRvIGFuIHVwbG9hZGVkIGZpbGUuIEFjY2VwdHMgYSBVUkwvZGF0YSBVUkwgc3RyaW5nIG9yIGFuXG4gICAgICogb2JqZWN0IGRlc2NyaWJpbmcgdGhlIGRhdGEvdXJsL2ZpbGVJZCBzb3VyY2UuXG4gICAgICovXG4gICAgaW1hZ2U6IHouc3RyaW5nKCkub3IoSW1hZ2VPYmplY3RTY2hlbWEpLm9wdGlvbmFsKCksXG4gICAgLyoqXG4gICAgICogQ29udHJvbHMgdGhlIHJlcXVlc3RlZCBsZXZlbCBvZiBkZXRhaWwgZm9yIHZpc2lvbiBtb2RlbHMuXG4gICAgICogVXNlIGEgc3RyaW5nIHRvIGF2b2lkIGNvbnN0cmFpbmluZyBmdXR1cmUgbW9kZWwgY2FwYWJpbGl0aWVzLlxuICAgICAqL1xuICAgIGRldGFpbDogelN0cmluZ1dpdGhIaW50cygnbG93JywgJ2hpZ2gnLCAnYXV0bycpLm9wdGlvbmFsKCksXG59KTtcbmV4cG9ydCBjb25zdCBUb29sT3V0cHV0RmlsZUNvbnRlbnQgPSBTaGFyZWRCYXNlLmV4dGVuZCh7XG4gICAgdHlwZTogei5saXRlcmFsKCdmaWxlJyksXG4gICAgLyoqXG4gICAgICogRmlsZSBvdXRwdXQgcmVmZXJlbmNlLiBQcm92aWRlIGVpdGhlciBhIHN0cmluZyAoZGF0YSBVUkwgLyBiYXNlNjQpLCBhIGRhdGEgb2JqZWN0IChyZXF1aXJlc1xuICAgICAqIG1lZGlhVHlwZSArIGZpbGVuYW1lKSwgb3IgYW4gb2JqZWN0IHBvaW50aW5nIHRvIGFuIHVwbG9hZGVkIGZpbGUvVVJMLlxuICAgICAqL1xuICAgIGZpbGU6IEZpbGVSZWZlcmVuY2VTY2hlbWEsXG59KTtcbmV4cG9ydCBjb25zdCBDb21wdXRlclRvb2xPdXRwdXQgPSBTaGFyZWRCYXNlLmV4dGVuZCh7XG4gICAgdHlwZTogei5saXRlcmFsKCdjb21wdXRlcl9zY3JlZW5zaG90JyksXG4gICAgLyoqXG4gICAgICogQSBiYXNlNjQgZW5jb2RlZCBpbWFnZSBkYXRhIG9yIGEgVVJMIHJlcHJlc2VudGluZyB0aGUgc2NyZWVuc2hvdC5cbiAgICAgKi9cbiAgICBkYXRhOiB6LnN0cmluZygpLmRlc2NyaWJlKCdCYXNlNjQgZW5jb2RlZCBpbWFnZSBkYXRhIG9yIFVSTCcpLFxufSk7XG5leHBvcnQgY29uc3QgY29tcHV0ZXJBY3Rpb25zID0gei5kaXNjcmltaW5hdGVkVW5pb24oJ3R5cGUnLCBbXG4gICAgei5vYmplY3QoeyB0eXBlOiB6LmxpdGVyYWwoJ3NjcmVlbnNob3QnKSB9KSxcbiAgICB6Lm9iamVjdCh7XG4gICAgICAgIHR5cGU6IHoubGl0ZXJhbCgnY2xpY2snKSxcbiAgICAgICAgeDogei5udW1iZXIoKSxcbiAgICAgICAgeTogei5udW1iZXIoKSxcbiAgICAgICAgYnV0dG9uOiB6LmVudW0oWydsZWZ0JywgJ3JpZ2h0JywgJ3doZWVsJywgJ2JhY2snLCAnZm9yd2FyZCddKSxcbiAgICB9KSxcbiAgICB6Lm9iamVjdCh7XG4gICAgICAgIHR5cGU6IHoubGl0ZXJhbCgnZG91YmxlX2NsaWNrJyksXG4gICAgICAgIHg6IHoubnVtYmVyKCksXG4gICAgICAgIHk6IHoubnVtYmVyKCksXG4gICAgfSksXG4gICAgei5vYmplY3Qoe1xuICAgICAgICB0eXBlOiB6LmxpdGVyYWwoJ3Njcm9sbCcpLFxuICAgICAgICB4OiB6Lm51bWJlcigpLFxuICAgICAgICB5OiB6Lm51bWJlcigpLFxuICAgICAgICBzY3JvbGxfeDogei5udW1iZXIoKSxcbiAgICAgICAgc2Nyb2xsX3k6IHoubnVtYmVyKCksXG4gICAgfSksXG4gICAgei5vYmplY3Qoe1xuICAgICAgICB0eXBlOiB6LmxpdGVyYWwoJ3R5cGUnKSxcbiAgICAgICAgdGV4dDogei5zdHJpbmcoKSxcbiAgICB9KSxcbiAgICB6Lm9iamVjdCh7IHR5cGU6IHoubGl0ZXJhbCgnd2FpdCcpIH0pLFxuICAgIHoub2JqZWN0KHtcbiAgICAgICAgdHlwZTogei5saXRlcmFsKCdtb3ZlJyksXG4gICAgICAgIHg6IHoubnVtYmVyKCksXG4gICAgICAgIHk6IHoubnVtYmVyKCksXG4gICAgfSksXG4gICAgei5vYmplY3Qoe1xuICAgICAgICB0eXBlOiB6LmxpdGVyYWwoJ2tleXByZXNzJyksXG4gICAgICAgIGtleXM6IHouYXJyYXkoei5zdHJpbmcoKSksXG4gICAgfSksXG4gICAgei5vYmplY3Qoe1xuICAgICAgICB0eXBlOiB6LmxpdGVyYWwoJ2RyYWcnKSxcbiAgICAgICAgcGF0aDogei5hcnJheSh6Lm9iamVjdCh7IHg6IHoubnVtYmVyKCksIHk6IHoubnVtYmVyKCkgfSkpLFxuICAgIH0pLFxuXSk7XG4vLyAtLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tXG4vLyBNZXNzYWdlIHR5cGVzXG4vLyAtLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tXG5leHBvcnQgY29uc3QgQXNzaXN0YW50Q29udGVudCA9IHouZGlzY3JpbWluYXRlZFVuaW9uKCd0eXBlJywgW1xuICAgIE91dHB1dFRleHQsXG4gICAgUmVmdXNhbCxcbiAgICBBdWRpb0NvbnRlbnQsXG4gICAgSW1hZ2VDb250ZW50LFxuXSk7XG5jb25zdCBNZXNzYWdlQmFzZSA9IEl0ZW1CYXNlLmV4dGVuZCh7XG4gICAgLyoqXG4gICAgICogQW55IGl0ZW0gd2l0aG91dCBhIHR5cGUgaXMgdHJlYXRlZCBhcyBhIG1lc3NhZ2VcbiAgICAgKi9cbiAgICB0eXBlOiB6LmxpdGVyYWwoJ21lc3NhZ2UnKS5vcHRpb25hbCgpLFxufSk7XG5leHBvcnQgY29uc3QgQXNzaXN0YW50TWVzc2FnZUl0ZW0gPSBNZXNzYWdlQmFzZS5leHRlbmQoe1xuICAgIC8qKlxuICAgICAqIFJlcHJlc2VudGluZyBhIG1lc3NhZ2UgZnJvbSB0aGUgYXNzaXN0YW50IChpLmUuIHRoZSBtb2RlbClcbiAgICAgKi9cbiAgICByb2xlOiB6LmxpdGVyYWwoJ2Fzc2lzdGFudCcpLFxuICAgIC8qKlxuICAgICAqIFRoZSBzdGF0dXMgb2YgdGhlIG1lc3NhZ2UuXG4gICAgICovXG4gICAgc3RhdHVzOiB6LmVudW0oWydpbl9wcm9ncmVzcycsICdjb21wbGV0ZWQnLCAnaW5jb21wbGV0ZSddKSxcbiAgICAvKipcbiAgICAgKiBUaGUgY29udGVudCBvZiB0aGUgbWVzc2FnZS5cbiAgICAgKi9cbiAgICBjb250ZW50OiB6LmFycmF5KEFzc2lzdGFudENvbnRlbnQpLFxufSk7XG5leHBvcnQgY29uc3QgVXNlckNvbnRlbnQgPSB6LmRpc2NyaW1pbmF0ZWRVbmlvbigndHlwZScsIFtcbiAgICBJbnB1dFRleHQsXG4gICAgSW5wdXRJbWFnZSxcbiAgICBJbnB1dEZpbGUsXG4gICAgQXVkaW9Db250ZW50LFxuXSk7XG5leHBvcnQgY29uc3QgVXNlck1lc3NhZ2VJdGVtID0gTWVzc2FnZUJhc2UuZXh0ZW5kKHtcbiAgICAvLyB0eXBlOiB6LmxpdGVyYWwoJ21lc3NhZ2UnKSxcbiAgICAvKipcbiAgICAgKiBSZXByZXNlbnRpbmcgYSBtZXNzYWdlIGZyb20gdGhlIHVzZXJcbiAgICAgKi9cbiAgICByb2xlOiB6LmxpdGVyYWwoJ3VzZXInKSxcbiAgICAvKipcbiAgICAgKiBUaGUgY29udGVudCBvZiB0aGUgbWVzc2FnZS5cbiAgICAgKi9cbiAgICBjb250ZW50OiB6LmFycmF5KFVzZXJDb250ZW50KS5vcih6LnN0cmluZygpKSxcbn0pO1xuY29uc3QgU3lzdGVtTWVzc2FnZUl0ZW0gPSBNZXNzYWdlQmFzZS5leHRlbmQoe1xuICAgIC8vIHR5cGU6IHoubGl0ZXJhbCgnbWVzc2FnZScpLFxuICAgIC8qKlxuICAgICAqIFJlcHJlc2VudGluZyBhIHN5c3RlbSBtZXNzYWdlIHRvIHRoZSB1c2VyXG4gICAgICovXG4gICAgcm9sZTogei5saXRlcmFsKCdzeXN0ZW0nKSxcbiAgICAvKipcbiAgICAgKiBUaGUgY29udGVudCBvZiB0aGUgbWVzc2FnZS5cbiAgICAgKi9cbiAgICBjb250ZW50OiB6LnN0cmluZygpLFxufSk7XG5leHBvcnQgY29uc3QgTWVzc2FnZUl0ZW0gPSB6LmRpc2NyaW1pbmF0ZWRVbmlvbigncm9sZScsIFtcbiAgICBTeXN0ZW1NZXNzYWdlSXRlbSxcbiAgICBBc3Npc3RhbnRNZXNzYWdlSXRlbSxcbiAgICBVc2VyTWVzc2FnZUl0ZW0sXG5dKTtcbi8vIC0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS1cbi8vIFRvb2wgY2FsbCB0eXBlc1xuLy8gLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLVxuZXhwb3J0IGNvbnN0IEhvc3RlZFRvb2xDYWxsSXRlbSA9IEl0ZW1CYXNlLmV4dGVuZCh7XG4gICAgdHlwZTogei5saXRlcmFsKCdob3N0ZWRfdG9vbF9jYWxsJyksXG4gICAgLyoqXG4gICAgICogVGhlIG5hbWUgb2YgdGhlIGhvc3RlZCB0b29sLiBGb3IgZXhhbXBsZSBgd2ViX3NlYXJjaF9jYWxsYCBvciBgZmlsZV9zZWFyY2hfY2FsbGBcbiAgICAgKi9cbiAgICBuYW1lOiB6LnN0cmluZygpLmRlc2NyaWJlKCdUaGUgbmFtZSBvZiB0aGUgaG9zdGVkIHRvb2wnKSxcbiAgICAvKipcbiAgICAgKiBUaGUgYXJndW1lbnRzIG9mIHRoZSBob3N0ZWQgdG9vbCBjYWxsLlxuICAgICAqL1xuICAgIGFyZ3VtZW50czogelxuICAgICAgICAuc3RyaW5nKClcbiAgICAgICAgLmRlc2NyaWJlKCdUaGUgYXJndW1lbnRzIG9mIHRoZSBob3N0ZWQgdG9vbCBjYWxsJylcbiAgICAgICAgLm9wdGlvbmFsKCksXG4gICAgLyoqXG4gICAgICogVGhlIHN0YXR1cyBvZiB0aGUgdG9vbCBjYWxsLlxuICAgICAqL1xuICAgIHN0YXR1czogei5zdHJpbmcoKS5vcHRpb25hbCgpLFxuICAgIC8qKlxuICAgICAqIFRoZSBwcmltYXJ5IG91dHB1dCBvZiB0aGUgdG9vbCBjYWxsLiBBZGRpdGlvbmFsIG91dHB1dCBtaWdodCBiZSBpbiB0aGUgYHByb3ZpZGVyRGF0YWAgZmllbGQuXG4gICAgICovXG4gICAgb3V0cHV0OiB6LnN0cmluZygpLm9wdGlvbmFsKCksXG59KTtcbmV4cG9ydCBjb25zdCBGdW5jdGlvbkNhbGxJdGVtID0gSXRlbUJhc2UuZXh0ZW5kKHtcbiAgICB0eXBlOiB6LmxpdGVyYWwoJ2Z1bmN0aW9uX2NhbGwnKSxcbiAgICAvKipcbiAgICAgKiBUaGUgSUQgb2YgdGhlIHRvb2wgY2FsbC4gUmVxdWlyZWQgdG8gbWF0Y2ggdXAgdGhlIHJlc3BlY3RpdmUgdG9vbCBjYWxsIHJlc3VsdC5cbiAgICAgKi9cbiAgICBjYWxsSWQ6IHouc3RyaW5nKCkuZGVzY3JpYmUoJ1RoZSBJRCBvZiB0aGUgdG9vbCBjYWxsJyksXG4gICAgLyoqXG4gICAgICogVGhlIG5hbWUgb2YgdGhlIGZ1bmN0aW9uLlxuICAgICAqL1xuICAgIG5hbWU6IHouc3RyaW5nKCkuZGVzY3JpYmUoJ1RoZSBuYW1lIG9mIHRoZSBmdW5jdGlvbicpLFxuICAgIC8qKlxuICAgICAqIFRoZSBzdGF0dXMgb2YgdGhlIGZ1bmN0aW9uIGNhbGwuXG4gICAgICovXG4gICAgc3RhdHVzOiB6LmVudW0oWydpbl9wcm9ncmVzcycsICdjb21wbGV0ZWQnLCAnaW5jb21wbGV0ZSddKS5vcHRpb25hbCgpLFxuICAgIC8qKlxuICAgICAqIFRoZSBhcmd1bWVudHMgb2YgdGhlIGZ1bmN0aW9uIGNhbGwuXG4gICAgICovXG4gICAgYXJndW1lbnRzOiB6LnN0cmluZygpLFxufSk7XG5leHBvcnQgY29uc3QgVG9vbENhbGxPdXRwdXRDb250ZW50ID0gei5kaXNjcmltaW5hdGVkVW5pb24oJ3R5cGUnLCBbXG4gICAgVG9vbE91dHB1dFRleHQsXG4gICAgVG9vbE91dHB1dEltYWdlLFxuICAgIFRvb2xPdXRwdXRGaWxlQ29udGVudCxcbl0pO1xuZXhwb3J0IGNvbnN0IFRvb2xDYWxsU3RydWN0dXJlZE91dHB1dCA9IHouZGlzY3JpbWluYXRlZFVuaW9uKCd0eXBlJywgW1xuICAgIElucHV0VGV4dCxcbiAgICBJbnB1dEltYWdlLFxuICAgIElucHV0RmlsZSxcbl0pO1xuZXhwb3J0IGNvbnN0IEZ1bmN0aW9uQ2FsbFJlc3VsdEl0ZW0gPSBJdGVtQmFzZS5leHRlbmQoe1xuICAgIHR5cGU6IHoubGl0ZXJhbCgnZnVuY3Rpb25fY2FsbF9yZXN1bHQnKSxcbiAgICAvKipcbiAgICAgKiBUaGUgbmFtZSBvZiB0aGUgdG9vbCB0aGF0IHdhcyBjYWxsZWRcbiAgICAgKi9cbiAgICBuYW1lOiB6LnN0cmluZygpLmRlc2NyaWJlKCdUaGUgbmFtZSBvZiB0aGUgdG9vbCcpLFxuICAgIC8qKlxuICAgICAqIFRoZSBJRCBvZiB0aGUgdG9vbCBjYWxsLiBSZXF1aXJlZCB0byBtYXRjaCB1cCB0aGUgcmVzcGVjdGl2ZSB0b29sIGNhbGwgcmVzdWx0LlxuICAgICAqL1xuICAgIGNhbGxJZDogei5zdHJpbmcoKS5kZXNjcmliZSgnVGhlIElEIG9mIHRoZSB0b29sIGNhbGwnKSxcbiAgICAvKipcbiAgICAgKiBUaGUgc3RhdHVzIG9mIHRoZSB0b29sIGNhbGwuXG4gICAgICovXG4gICAgc3RhdHVzOiB6LmVudW0oWydpbl9wcm9ncmVzcycsICdjb21wbGV0ZWQnLCAnaW5jb21wbGV0ZSddKSxcbiAgICAvKipcbiAgICAgKiBUaGUgb3V0cHV0IG9mIHRoZSB0b29sIGNhbGwuXG4gICAgICovXG4gICAgb3V0cHV0OiB6XG4gICAgICAgIC51bmlvbihbXG4gICAgICAgIHouc3RyaW5nKCksXG4gICAgICAgIFRvb2xDYWxsT3V0cHV0Q29udGVudCxcbiAgICAgICAgei5hcnJheShUb29sQ2FsbFN0cnVjdHVyZWRPdXRwdXQpLFxuICAgIF0pXG4gICAgICAgIC5kZXNjcmliZSgnT3V0cHV0IHJldHVybmVkIGJ5IHRoZSB0b29sIGNhbGwuIFN1cHBvcnRzIHBsYWluIHN0cmluZ3MsIGxlZ2FjeSBUb29sT3V0cHV0IGl0ZW1zLCBvciBzdHJ1Y3R1cmVkIGlucHV0XyogaXRlbXMuJyksXG59KTtcbmV4cG9ydCBjb25zdCBDb21wdXRlclVzZUNhbGxJdGVtID0gSXRlbUJhc2UuZXh0ZW5kKHtcbiAgICB0eXBlOiB6LmxpdGVyYWwoJ2NvbXB1dGVyX2NhbGwnKSxcbiAgICAvKipcbiAgICAgKiBUaGUgSUQgb2YgdGhlIGNvbXB1dGVyIGNhbGwuIFJlcXVpcmVkIHRvIG1hdGNoIHVwIHRoZSByZXNwZWN0aXZlIGNvbXB1dGVyIGNhbGwgcmVzdWx0LlxuICAgICAqL1xuICAgIGNhbGxJZDogei5zdHJpbmcoKS5kZXNjcmliZSgnVGhlIElEIG9mIHRoZSBjb21wdXRlciBjYWxsJyksXG4gICAgLyoqXG4gICAgICogVGhlIHN0YXR1cyBvZiB0aGUgY29tcHV0ZXIgY2FsbC5cbiAgICAgKi9cbiAgICBzdGF0dXM6IHouZW51bShbJ2luX3Byb2dyZXNzJywgJ2NvbXBsZXRlZCcsICdpbmNvbXBsZXRlJ10pLFxuICAgIC8qKlxuICAgICAqIFRoZSBhY3Rpb24gdG8gYmUgcGVyZm9ybWVkIGJ5IHRoZSBjb21wdXRlci5cbiAgICAgKi9cbiAgICBhY3Rpb246IGNvbXB1dGVyQWN0aW9ucyxcbn0pO1xuZXhwb3J0IGNvbnN0IENvbXB1dGVyQ2FsbFJlc3VsdEl0ZW0gPSBJdGVtQmFzZS5leHRlbmQoe1xuICAgIHR5cGU6IHoubGl0ZXJhbCgnY29tcHV0ZXJfY2FsbF9yZXN1bHQnKSxcbiAgICAvKipcbiAgICAgKiBUaGUgSUQgb2YgdGhlIGNvbXB1dGVyIGNhbGwuIFJlcXVpcmVkIHRvIG1hdGNoIHVwIHRoZSByZXNwZWN0aXZlIGNvbXB1dGVyIGNhbGwgcmVzdWx0LlxuICAgICAqL1xuICAgIGNhbGxJZDogei5zdHJpbmcoKS5kZXNjcmliZSgnVGhlIElEIG9mIHRoZSBjb21wdXRlciBjYWxsJyksXG4gICAgLyoqXG4gICAgICogVGhlIG91dHB1dCBvZiB0aGUgY29tcHV0ZXIgY2FsbC5cbiAgICAgKi9cbiAgICBvdXRwdXQ6IENvbXB1dGVyVG9vbE91dHB1dCxcbn0pO1xuZXhwb3J0IGNvbnN0IFNoZWxsQWN0aW9uID0gei5vYmplY3Qoe1xuICAgIGNvbW1hbmRzOiB6LmFycmF5KHouc3RyaW5nKCkpLFxuICAgIHRpbWVvdXRNczogei5udW1iZXIoKS5pbnQoKS5taW4oMCkub3B0aW9uYWwoKSxcbiAgICBtYXhPdXRwdXRMZW5ndGg6IHoubnVtYmVyKCkuaW50KCkubWluKDApLm9wdGlvbmFsKCksXG59KTtcbmV4cG9ydCBjb25zdCBTaGVsbENhbGxJdGVtID0gSXRlbUJhc2UuZXh0ZW5kKHtcbiAgICB0eXBlOiB6LmxpdGVyYWwoJ3NoZWxsX2NhbGwnKSxcbiAgICBjYWxsSWQ6IHouc3RyaW5nKCksXG4gICAgc3RhdHVzOiB6LmVudW0oWydpbl9wcm9ncmVzcycsICdjb21wbGV0ZWQnLCAnaW5jb21wbGV0ZSddKS5vcHRpb25hbCgpLFxuICAgIGFjdGlvbjogU2hlbGxBY3Rpb24sXG59KTtcbmV4cG9ydCBjb25zdCBTaGVsbENhbGxPdXRjb21lID0gei5kaXNjcmltaW5hdGVkVW5pb24oJ3R5cGUnLCBbXG4gICAgei5vYmplY3QoeyB0eXBlOiB6LmxpdGVyYWwoJ3RpbWVvdXQnKSB9KSxcbiAgICB6Lm9iamVjdCh7XG4gICAgICAgIHR5cGU6IHoubGl0ZXJhbCgnZXhpdCcpLFxuICAgICAgICBleGl0Q29kZTogei5udW1iZXIoKS5pbnQoKS5udWxsYWJsZSgpLFxuICAgIH0pLFxuXSk7XG5leHBvcnQgY29uc3QgU2hlbGxDYWxsT3V0cHV0Q29udGVudCA9IHpcbiAgICAub2JqZWN0KHtcbiAgICBzdGRvdXQ6IHouc3RyaW5nKCksXG4gICAgc3RkZXJyOiB6LnN0cmluZygpLFxuICAgIG91dGNvbWU6IFNoZWxsQ2FsbE91dGNvbWUsXG59KVxuICAgIC5wYXNzdGhyb3VnaCgpO1xuZXhwb3J0IGNvbnN0IFNoZWxsQ2FsbFJlc3VsdEl0ZW0gPSBJdGVtQmFzZS5leHRlbmQoe1xuICAgIHR5cGU6IHoubGl0ZXJhbCgnc2hlbGxfY2FsbF9vdXRwdXQnKSxcbiAgICBjYWxsSWQ6IHouc3RyaW5nKCksXG4gICAgbWF4T3V0cHV0TGVuZ3RoOiB6Lm51bWJlcigpLm9wdGlvbmFsKCksXG4gICAgb3V0cHV0OiB6LmFycmF5KFNoZWxsQ2FsbE91dHB1dENvbnRlbnQpLFxufSk7XG5leHBvcnQgY29uc3QgQXBwbHlQYXRjaE9wZXJhdGlvbkNyZWF0ZUZpbGUgPSB6Lm9iamVjdCh7XG4gICAgdHlwZTogei5saXRlcmFsKCdjcmVhdGVfZmlsZScpLFxuICAgIHBhdGg6IHouc3RyaW5nKCksXG4gICAgZGlmZjogei5zdHJpbmcoKSxcbn0pO1xuZXhwb3J0IGNvbnN0IEFwcGx5UGF0Y2hPcGVyYXRpb25VcGRhdGVGaWxlID0gei5vYmplY3Qoe1xuICAgIHR5cGU6IHoubGl0ZXJhbCgndXBkYXRlX2ZpbGUnKSxcbiAgICBwYXRoOiB6LnN0cmluZygpLFxuICAgIGRpZmY6IHouc3RyaW5nKCksXG59KTtcbmV4cG9ydCBjb25zdCBBcHBseVBhdGNoT3BlcmF0aW9uRGVsZXRlRmlsZSA9IHoub2JqZWN0KHtcbiAgICB0eXBlOiB6LmxpdGVyYWwoJ2RlbGV0ZV9maWxlJyksXG4gICAgcGF0aDogei5zdHJpbmcoKSxcbn0pO1xuZXhwb3J0IGNvbnN0IEFwcGx5UGF0Y2hPcGVyYXRpb24gPSB6LmRpc2NyaW1pbmF0ZWRVbmlvbigndHlwZScsIFtcbiAgICBBcHBseVBhdGNoT3BlcmF0aW9uQ3JlYXRlRmlsZSxcbiAgICBBcHBseVBhdGNoT3BlcmF0aW9uVXBkYXRlRmlsZSxcbiAgICBBcHBseVBhdGNoT3BlcmF0aW9uRGVsZXRlRmlsZSxcbl0pO1xuZXhwb3J0IGNvbnN0IEFwcGx5UGF0Y2hDYWxsSXRlbSA9IEl0ZW1CYXNlLmV4dGVuZCh7XG4gICAgdHlwZTogei5saXRlcmFsKCdhcHBseV9wYXRjaF9jYWxsJyksXG4gICAgY2FsbElkOiB6LnN0cmluZygpLFxuICAgIHN0YXR1czogei5lbnVtKFsnaW5fcHJvZ3Jlc3MnLCAnY29tcGxldGVkJ10pLFxuICAgIG9wZXJhdGlvbjogQXBwbHlQYXRjaE9wZXJhdGlvbixcbn0pO1xuZXhwb3J0IGNvbnN0IEFwcGx5UGF0Y2hDYWxsUmVzdWx0SXRlbSA9IEl0ZW1CYXNlLmV4dGVuZCh7XG4gICAgdHlwZTogei5saXRlcmFsKCdhcHBseV9wYXRjaF9jYWxsX291dHB1dCcpLFxuICAgIGNhbGxJZDogei5zdHJpbmcoKSxcbiAgICBzdGF0dXM6IHouZW51bShbJ2NvbXBsZXRlZCcsICdmYWlsZWQnXSksXG4gICAgb3V0cHV0OiB6LnN0cmluZygpLm9wdGlvbmFsKCksXG59KTtcbmV4cG9ydCBjb25zdCBUb29sQ2FsbEl0ZW0gPSB6LmRpc2NyaW1pbmF0ZWRVbmlvbigndHlwZScsIFtcbiAgICBDb21wdXRlclVzZUNhbGxJdGVtLFxuICAgIFNoZWxsQ2FsbEl0ZW0sXG4gICAgQXBwbHlQYXRjaENhbGxJdGVtLFxuICAgIEZ1bmN0aW9uQ2FsbEl0ZW0sXG4gICAgSG9zdGVkVG9vbENhbGxJdGVtLFxuXSk7XG4vLyAtLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tXG4vLyBTcGVjaWFsIGl0ZW0gdHlwZXNcbi8vIC0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS1cbmV4cG9ydCBjb25zdCBSZWFzb25pbmdJdGVtID0gU2hhcmVkQmFzZS5leHRlbmQoe1xuICAgIGlkOiB6LnN0cmluZygpLm9wdGlvbmFsKCksXG4gICAgdHlwZTogei5saXRlcmFsKCdyZWFzb25pbmcnKSxcbiAgICAvKipcbiAgICAgKiBUaGUgdXNlciBmYWNpbmcgcmVwcmVzZW50YXRpb24gb2YgdGhlIHJlYXNvbmluZy4gQWRkaXRpb25hbCBpbmZvcm1hdGlvbiBtaWdodCBiZSBpbiB0aGUgYHByb3ZpZGVyRGF0YWAgZmllbGQuXG4gICAgICovXG4gICAgY29udGVudDogei5hcnJheShJbnB1dFRleHQpLFxuICAgIC8qKlxuICAgICAqIFRoZSByYXcgcmVhc29uaW5nIHRleHQgZnJvbSB0aGUgbW9kZWwuXG4gICAgICovXG4gICAgcmF3Q29udGVudDogei5hcnJheShSZWFzb25pbmdUZXh0KS5vcHRpb25hbCgpLFxufSk7XG4vKipcbiAqIFRoaXMgaXMgYSBjYXRjaCBhbGwgZm9yIGl0ZW1zIHRoYXQgYXJlIG5vdCBwYXJ0IG9mIHRoZSBwcm90b2NvbC5cbiAqXG4gKiBGb3IgZXhhbXBsZSwgYSBtb2RlbCBtaWdodCByZXR1cm4gYW4gaXRlbSB0aGF0IGlzIG5vdCBwYXJ0IG9mIHRoZSBwcm90b2NvbCB1c2luZyB0aGlzIHR5cGUuXG4gKlxuICogSW4gdGhhdCBjYXNlIGV2ZXJ5dGhpbmcgcmV0dXJuZWQgZnJvbSB0aGUgbW9kZWwgc2hvdWxkIGJlIHBhc3NlZCBpbiB0aGUgYHByb3ZpZGVyRGF0YWAgZmllbGQuXG4gKlxuICogVGhpcyBlbmFibGVzIG5ldyBmZWF0dXJlcyB0byBiZSBhZGRlZCB0byBiZSBhZGRlZCBieSBhIG1vZGVsIHByb3ZpZGVyIHdpdGhvdXQgYnJlYWtpbmcgdGhlIHByb3RvY29sLlxuICovXG5leHBvcnQgY29uc3QgVW5rbm93bkl0ZW0gPSBJdGVtQmFzZS5leHRlbmQoe1xuICAgIHR5cGU6IHoubGl0ZXJhbCgndW5rbm93bicpLFxufSk7XG4vLyAtLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tXG4vLyBKb2luZWQgaXRlbSB0eXBlc1xuLy8gLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLVxuZXhwb3J0IGNvbnN0IE91dHB1dE1vZGVsSXRlbSA9IHouZGlzY3JpbWluYXRlZFVuaW9uKCd0eXBlJywgW1xuICAgIEFzc2lzdGFudE1lc3NhZ2VJdGVtLFxuICAgIEhvc3RlZFRvb2xDYWxsSXRlbSxcbiAgICBGdW5jdGlvbkNhbGxJdGVtLFxuICAgIENvbXB1dGVyVXNlQ2FsbEl0ZW0sXG4gICAgU2hlbGxDYWxsSXRlbSxcbiAgICBBcHBseVBhdGNoQ2FsbEl0ZW0sXG4gICAgRnVuY3Rpb25DYWxsUmVzdWx0SXRlbSxcbiAgICBTaGVsbENhbGxSZXN1bHRJdGVtLFxuICAgIEFwcGx5UGF0Y2hDYWxsUmVzdWx0SXRlbSxcbiAgICBSZWFzb25pbmdJdGVtLFxuICAgIFVua25vd25JdGVtLFxuXSk7XG5leHBvcnQgY29uc3QgTW9kZWxJdGVtID0gei51bmlvbihbXG4gICAgVXNlck1lc3NhZ2VJdGVtLFxuICAgIEFzc2lzdGFudE1lc3NhZ2VJdGVtLFxuICAgIFN5c3RlbU1lc3NhZ2VJdGVtLFxuICAgIEhvc3RlZFRvb2xDYWxsSXRlbSxcbiAgICBGdW5jdGlvbkNhbGxJdGVtLFxuICAgIENvbXB1dGVyVXNlQ2FsbEl0ZW0sXG4gICAgU2hlbGxDYWxsSXRlbSxcbiAgICBBcHBseVBhdGNoQ2FsbEl0ZW0sXG4gICAgRnVuY3Rpb25DYWxsUmVzdWx0SXRlbSxcbiAgICBDb21wdXRlckNhbGxSZXN1bHRJdGVtLFxuICAgIFNoZWxsQ2FsbFJlc3VsdEl0ZW0sXG4gICAgQXBwbHlQYXRjaENhbGxSZXN1bHRJdGVtLFxuICAgIFJlYXNvbmluZ0l0ZW0sXG4gICAgVW5rbm93bkl0ZW0sXG5dKTtcbi8vIC0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS1cbi8vIE1ldGEgZGF0YSB0eXBlc1xuLy8gLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLVxuZXhwb3J0IGNvbnN0IFJlcXVlc3RVc2FnZURhdGEgPSB6Lm9iamVjdCh7XG4gICAgaW5wdXRUb2tlbnM6IHoubnVtYmVyKCksXG4gICAgb3V0cHV0VG9rZW5zOiB6Lm51bWJlcigpLFxuICAgIHRvdGFsVG9rZW5zOiB6Lm51bWJlcigpLFxuICAgIGlucHV0VG9rZW5zRGV0YWlsczogei5yZWNvcmQoei5zdHJpbmcoKSwgei5udW1iZXIoKSkub3B0aW9uYWwoKSxcbiAgICBvdXRwdXRUb2tlbnNEZXRhaWxzOiB6LnJlY29yZCh6LnN0cmluZygpLCB6Lm51bWJlcigpKS5vcHRpb25hbCgpLFxufSk7XG5leHBvcnQgY29uc3QgVXNhZ2VEYXRhID0gei5vYmplY3Qoe1xuICAgIHJlcXVlc3RzOiB6Lm51bWJlcigpLm9wdGlvbmFsKCksXG4gICAgaW5wdXRUb2tlbnM6IHoubnVtYmVyKCksXG4gICAgb3V0cHV0VG9rZW5zOiB6Lm51bWJlcigpLFxuICAgIHRvdGFsVG9rZW5zOiB6Lm51bWJlcigpLFxuICAgIGlucHV0VG9rZW5zRGV0YWlsczogelxuICAgICAgICAudW5pb24oW1xuICAgICAgICB6LnJlY29yZCh6LnN0cmluZygpLCB6Lm51bWJlcigpKSxcbiAgICAgICAgei5hcnJheSh6LnJlY29yZCh6LnN0cmluZygpLCB6Lm51bWJlcigpKSksXG4gICAgXSlcbiAgICAgICAgLm9wdGlvbmFsKCksXG4gICAgb3V0cHV0VG9rZW5zRGV0YWlsczogelxuICAgICAgICAudW5pb24oW1xuICAgICAgICB6LnJlY29yZCh6LnN0cmluZygpLCB6Lm51bWJlcigpKSxcbiAgICAgICAgei5hcnJheSh6LnJlY29yZCh6LnN0cmluZygpLCB6Lm51bWJlcigpKSksXG4gICAgXSlcbiAgICAgICAgLm9wdGlvbmFsKCksXG4gICAgcmVxdWVzdFVzYWdlRW50cmllczogei5hcnJheShSZXF1ZXN0VXNhZ2VEYXRhKS5vcHRpb25hbCgpLFxufSk7XG4vLyAtLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tXG4vLyBTdHJlYW0gZXZlbnQgdHlwZXNcbi8vIC0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS1cbi8qKlxuICogRXZlbnQgcmV0dXJuZWQgYnkgdGhlIG1vZGVsIHdoZW4gbmV3IG91dHB1dCB0ZXh0IGlzIGF2YWlsYWJsZSB0byBzdHJlYW0gdG8gdGhlIHVzZXIuXG4gKi9cbmV4cG9ydCBjb25zdCBTdHJlYW1FdmVudFRleHRTdHJlYW0gPSBTaGFyZWRCYXNlLmV4dGVuZCh7XG4gICAgdHlwZTogei5saXRlcmFsKCdvdXRwdXRfdGV4dF9kZWx0YScpLFxuICAgIC8qKlxuICAgICAqIFRoZSBkZWx0YSB0ZXh0IHRoYXQgd2FzIHN0cmVhbWVkIGJ5IHRoZSBtb2RlbHRvIHRoZSB1c2VyLlxuICAgICAqL1xuICAgIGRlbHRhOiB6LnN0cmluZygpLFxufSk7XG4vKipcbiAqIEV2ZW50IHJldHVybmVkIGJ5IHRoZSBtb2RlbCB3aGVuIGEgbmV3IHJlc3BvbnNlIGlzIHN0YXJ0ZWQuXG4gKi9cbmV4cG9ydCBjb25zdCBTdHJlYW1FdmVudFJlc3BvbnNlU3RhcnRlZCA9IFNoYXJlZEJhc2UuZXh0ZW5kKHtcbiAgICB0eXBlOiB6LmxpdGVyYWwoJ3Jlc3BvbnNlX3N0YXJ0ZWQnKSxcbn0pO1xuLyoqXG4gKiBFdmVudCByZXR1cm5lZCBieSB0aGUgbW9kZWwgd2hlbiBhIHJlc3BvbnNlIGlzIGNvbXBsZXRlZC5cbiAqL1xuZXhwb3J0IGNvbnN0IFN0cmVhbUV2ZW50UmVzcG9uc2VDb21wbGV0ZWQgPSBTaGFyZWRCYXNlLmV4dGVuZCh7XG4gICAgdHlwZTogei5saXRlcmFsKCdyZXNwb25zZV9kb25lJyksXG4gICAgLyoqXG4gICAgICogVGhlIHJlc3BvbnNlIGZyb20gdGhlIG1vZGVsLlxuICAgICAqL1xuICAgIHJlc3BvbnNlOiBTaGFyZWRCYXNlLmV4dGVuZCh7XG4gICAgICAgIC8qKlxuICAgICAgICAgKiBUaGUgSUQgb2YgdGhlIHJlc3BvbnNlLlxuICAgICAgICAgKi9cbiAgICAgICAgaWQ6IHouc3RyaW5nKCksXG4gICAgICAgIC8qKlxuICAgICAgICAgKiBUaGUgdXNhZ2UgZGF0YSBmb3IgdGhlIHJlc3BvbnNlLlxuICAgICAgICAgKi9cbiAgICAgICAgdXNhZ2U6IFVzYWdlRGF0YSxcbiAgICAgICAgLyoqXG4gICAgICAgICAqIFRoZSBvdXRwdXQgZnJvbSB0aGUgbW9kZWwuXG4gICAgICAgICAqL1xuICAgICAgICBvdXRwdXQ6IHouYXJyYXkoT3V0cHV0TW9kZWxJdGVtKSxcbiAgICB9KSxcbn0pO1xuLyoqXG4gKiBFdmVudCByZXR1cm5lZCBmb3IgZXZlcnkgaXRlbSB0aGF0IGdldHMgc3RyZWFtZWQgdG8gdGhlIG1vZGVsLiBVc2VkIHRvIGV4cG9zZSB0aGUgcmF3IGV2ZW50c1xuICogZnJvbSB0aGUgbW9kZWwuXG4gKi9cbmV4cG9ydCBjb25zdCBTdHJlYW1FdmVudEdlbmVyaWNJdGVtID0gU2hhcmVkQmFzZS5leHRlbmQoe1xuICAgIHR5cGU6IHoubGl0ZXJhbCgnbW9kZWwnKSxcbiAgICBldmVudDogei5hbnkoKS5kZXNjcmliZSgnVGhlIGV2ZW50IGZyb20gdGhlIG1vZGVsJyksXG59KTtcbmV4cG9ydCBjb25zdCBTdHJlYW1FdmVudCA9IHouZGlzY3JpbWluYXRlZFVuaW9uKCd0eXBlJywgW1xuICAgIFN0cmVhbUV2ZW50VGV4dFN0cmVhbSxcbiAgICBTdHJlYW1FdmVudFJlc3BvbnNlQ29tcGxldGVkLFxuICAgIFN0cmVhbUV2ZW50UmVzcG9uc2VTdGFydGVkLFxuICAgIFN0cmVhbUV2ZW50R2VuZXJpY0l0ZW0sXG5dKTtcbi8vIyBzb3VyY2VNYXBwaW5nVVJMPXByb3RvY29sLm1qcy5tYXAiLCJpbXBvcnQgeyBSZXF1ZXN0VXNhZ2VEYXRhLCBVc2FnZURhdGEgfSBmcm9tIFwiLi90eXBlcy9wcm90b2NvbC5tanNcIjtcbi8qKlxuICogVXNhZ2UgZGV0YWlscyBmb3IgYSBzaW5nbGUgQVBJIHJlcXVlc3QuXG4gKi9cbmV4cG9ydCBjbGFzcyBSZXF1ZXN0VXNhZ2Uge1xuICAgIC8qKlxuICAgICAqIFRoZSBudW1iZXIgb2YgaW5wdXQgdG9rZW5zIHVzZWQgZm9yIHRoaXMgcmVxdWVzdC5cbiAgICAgKi9cbiAgICBpbnB1dFRva2VucztcbiAgICAvKipcbiAgICAgKiBUaGUgbnVtYmVyIG9mIG91dHB1dCB0b2tlbnMgdXNlZCBmb3IgdGhpcyByZXF1ZXN0LlxuICAgICAqL1xuICAgIG91dHB1dFRva2VucztcbiAgICAvKipcbiAgICAgKiBUaGUgdG90YWwgbnVtYmVyIG9mIHRva2VucyBzZW50IGFuZCByZWNlaXZlZCBmb3IgdGhpcyByZXF1ZXN0LlxuICAgICAqL1xuICAgIHRvdGFsVG9rZW5zO1xuICAgIC8qKlxuICAgICAqIERldGFpbHMgYWJvdXQgdGhlIGlucHV0IHRva2VucyB1c2VkIGZvciB0aGlzIHJlcXVlc3QuXG4gICAgICovXG4gICAgaW5wdXRUb2tlbnNEZXRhaWxzO1xuICAgIC8qKlxuICAgICAqIERldGFpbHMgYWJvdXQgdGhlIG91dHB1dCB0b2tlbnMgdXNlZCBmb3IgdGhpcyByZXF1ZXN0LlxuICAgICAqL1xuICAgIG91dHB1dFRva2Vuc0RldGFpbHM7XG4gICAgY29uc3RydWN0b3IoaW5wdXQpIHtcbiAgICAgICAgdGhpcy5pbnB1dFRva2VucyA9IGlucHV0Py5pbnB1dFRva2VucyA/PyBpbnB1dD8uaW5wdXRfdG9rZW5zID8/IDA7XG4gICAgICAgIHRoaXMub3V0cHV0VG9rZW5zID0gaW5wdXQ/Lm91dHB1dFRva2VucyA/PyBpbnB1dD8ub3V0cHV0X3Rva2VucyA/PyAwO1xuICAgICAgICB0aGlzLnRvdGFsVG9rZW5zID1cbiAgICAgICAgICAgIGlucHV0Py50b3RhbFRva2VucyA/P1xuICAgICAgICAgICAgICAgIGlucHV0Py50b3RhbF90b2tlbnMgPz9cbiAgICAgICAgICAgICAgICB0aGlzLmlucHV0VG9rZW5zICsgdGhpcy5vdXRwdXRUb2tlbnM7XG4gICAgICAgIGNvbnN0IGlucHV0VG9rZW5zRGV0YWlscyA9IGlucHV0Py5pbnB1dFRva2Vuc0RldGFpbHMgPz8gaW5wdXQ/LmlucHV0X3Rva2Vuc19kZXRhaWxzO1xuICAgICAgICB0aGlzLmlucHV0VG9rZW5zRGV0YWlscyA9IGlucHV0VG9rZW5zRGV0YWlsc1xuICAgICAgICAgICAgPyBpbnB1dFRva2Vuc0RldGFpbHNcbiAgICAgICAgICAgIDoge307XG4gICAgICAgIGNvbnN0IG91dHB1dFRva2Vuc0RldGFpbHMgPSBpbnB1dD8ub3V0cHV0VG9rZW5zRGV0YWlscyA/PyBpbnB1dD8ub3V0cHV0X3Rva2Vuc19kZXRhaWxzO1xuICAgICAgICB0aGlzLm91dHB1dFRva2Vuc0RldGFpbHMgPSBvdXRwdXRUb2tlbnNEZXRhaWxzXG4gICAgICAgICAgICA/IG91dHB1dFRva2Vuc0RldGFpbHNcbiAgICAgICAgICAgIDoge307XG4gICAgfVxufVxuLyoqXG4gKiBUcmFja3MgdG9rZW4gdXNhZ2UgYW5kIHJlcXVlc3QgY291bnRzIGZvciBhbiBhZ2VudCBydW4uXG4gKi9cbmV4cG9ydCBjbGFzcyBVc2FnZSB7XG4gICAgLyoqXG4gICAgICogVGhlIG51bWJlciBvZiByZXF1ZXN0cyBtYWRlIHRvIHRoZSBMTE0gQVBJLlxuICAgICAqL1xuICAgIHJlcXVlc3RzO1xuICAgIC8qKlxuICAgICAqIFRoZSBudW1iZXIgb2YgaW5wdXQgdG9rZW5zIHVzZWQgYWNyb3NzIGFsbCByZXF1ZXN0cy5cbiAgICAgKi9cbiAgICBpbnB1dFRva2VucztcbiAgICAvKipcbiAgICAgKiBUaGUgbnVtYmVyIG9mIG91dHB1dCB0b2tlbnMgdXNlZCBhY3Jvc3MgYWxsIHJlcXVlc3RzLlxuICAgICAqL1xuICAgIG91dHB1dFRva2VucztcbiAgICAvKipcbiAgICAgKiBUaGUgdG90YWwgbnVtYmVyIG9mIHRva2VucyBzZW50IGFuZCByZWNlaXZlZCwgYWNyb3NzIGFsbCByZXF1ZXN0cy5cbiAgICAgKi9cbiAgICB0b3RhbFRva2VucztcbiAgICAvKipcbiAgICAgKiBEZXRhaWxzIGFib3V0IHRoZSBpbnB1dCB0b2tlbnMgdXNlZCBhY3Jvc3MgYWxsIHJlcXVlc3RzLlxuICAgICAqL1xuICAgIGlucHV0VG9rZW5zRGV0YWlscyA9IFtdO1xuICAgIC8qKlxuICAgICAqIERldGFpbHMgYWJvdXQgdGhlIG91dHB1dCB0b2tlbnMgdXNlZCBhY3Jvc3MgYWxsIHJlcXVlc3RzLlxuICAgICAqL1xuICAgIG91dHB1dFRva2Vuc0RldGFpbHMgPSBbXTtcbiAgICAvKipcbiAgICAgKiBMaXN0IG9mIHBlci1yZXF1ZXN0IHVzYWdlIGVudHJpZXMgZm9yIGRldGFpbGVkIGNvc3QgY2FsY3VsYXRpb25zLlxuICAgICAqL1xuICAgIHJlcXVlc3RVc2FnZUVudHJpZXM7XG4gICAgY29uc3RydWN0b3IoaW5wdXQpIHtcbiAgICAgICAgaWYgKHR5cGVvZiBpbnB1dCA9PT0gJ3VuZGVmaW5lZCcpIHtcbiAgICAgICAgICAgIHRoaXMucmVxdWVzdHMgPSAwO1xuICAgICAgICAgICAgdGhpcy5pbnB1dFRva2VucyA9IDA7XG4gICAgICAgICAgICB0aGlzLm91dHB1dFRva2VucyA9IDA7XG4gICAgICAgICAgICB0aGlzLnRvdGFsVG9rZW5zID0gMDtcbiAgICAgICAgICAgIHRoaXMuaW5wdXRUb2tlbnNEZXRhaWxzID0gW107XG4gICAgICAgICAgICB0aGlzLm91dHB1dFRva2Vuc0RldGFpbHMgPSBbXTtcbiAgICAgICAgICAgIHRoaXMucmVxdWVzdFVzYWdlRW50cmllcyA9IHVuZGVmaW5lZDtcbiAgICAgICAgfVxuICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgIHRoaXMucmVxdWVzdHMgPSBpbnB1dD8ucmVxdWVzdHMgPz8gMTtcbiAgICAgICAgICAgIHRoaXMuaW5wdXRUb2tlbnMgPSBpbnB1dD8uaW5wdXRUb2tlbnMgPz8gaW5wdXQ/LmlucHV0X3Rva2VucyA/PyAwO1xuICAgICAgICAgICAgdGhpcy5vdXRwdXRUb2tlbnMgPSBpbnB1dD8ub3V0cHV0VG9rZW5zID8/IGlucHV0Py5vdXRwdXRfdG9rZW5zID8/IDA7XG4gICAgICAgICAgICB0aGlzLnRvdGFsVG9rZW5zID1cbiAgICAgICAgICAgICAgICBpbnB1dD8udG90YWxUb2tlbnMgPz9cbiAgICAgICAgICAgICAgICAgICAgaW5wdXQ/LnRvdGFsX3Rva2VucyA/P1xuICAgICAgICAgICAgICAgICAgICB0aGlzLmlucHV0VG9rZW5zICsgdGhpcy5vdXRwdXRUb2tlbnM7XG4gICAgICAgICAgICBjb25zdCBpbnB1dFRva2Vuc0RldGFpbHMgPSBpbnB1dD8uaW5wdXRUb2tlbnNEZXRhaWxzID8/IGlucHV0Py5pbnB1dF90b2tlbnNfZGV0YWlscztcbiAgICAgICAgICAgIGlmIChBcnJheS5pc0FycmF5KGlucHV0VG9rZW5zRGV0YWlscykpIHtcbiAgICAgICAgICAgICAgICB0aGlzLmlucHV0VG9rZW5zRGV0YWlscyA9IGlucHV0VG9rZW5zRGV0YWlscztcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgICAgIHRoaXMuaW5wdXRUb2tlbnNEZXRhaWxzID0gaW5wdXRUb2tlbnNEZXRhaWxzXG4gICAgICAgICAgICAgICAgICAgID8gW2lucHV0VG9rZW5zRGV0YWlsc11cbiAgICAgICAgICAgICAgICAgICAgOiBbXTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGNvbnN0IG91dHB1dFRva2Vuc0RldGFpbHMgPSBpbnB1dD8ub3V0cHV0VG9rZW5zRGV0YWlscyA/PyBpbnB1dD8ub3V0cHV0X3Rva2Vuc19kZXRhaWxzO1xuICAgICAgICAgICAgaWYgKEFycmF5LmlzQXJyYXkob3V0cHV0VG9rZW5zRGV0YWlscykpIHtcbiAgICAgICAgICAgICAgICB0aGlzLm91dHB1dFRva2Vuc0RldGFpbHMgPSBvdXRwdXRUb2tlbnNEZXRhaWxzO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICAgICAgdGhpcy5vdXRwdXRUb2tlbnNEZXRhaWxzID0gb3V0cHV0VG9rZW5zRGV0YWlsc1xuICAgICAgICAgICAgICAgICAgICA/IFtvdXRwdXRUb2tlbnNEZXRhaWxzXVxuICAgICAgICAgICAgICAgICAgICA6IFtdO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgY29uc3QgcmVxdWVzdFVzYWdlRW50cmllcyA9IGlucHV0Py5yZXF1ZXN0VXNhZ2VFbnRyaWVzID8/IGlucHV0Py5yZXF1ZXN0X3VzYWdlX2VudHJpZXM7XG4gICAgICAgICAgICBjb25zdCBub3JtYWxpemVkUmVxdWVzdFVzYWdlRW50cmllcyA9IEFycmF5LmlzQXJyYXkocmVxdWVzdFVzYWdlRW50cmllcylcbiAgICAgICAgICAgICAgICA/IHJlcXVlc3RVc2FnZUVudHJpZXMubWFwKChlbnRyeSkgPT4gZW50cnkgaW5zdGFuY2VvZiBSZXF1ZXN0VXNhZ2UgPyBlbnRyeSA6IG5ldyBSZXF1ZXN0VXNhZ2UoZW50cnkpKVxuICAgICAgICAgICAgICAgIDogdW5kZWZpbmVkO1xuICAgICAgICAgICAgdGhpcy5yZXF1ZXN0VXNhZ2VFbnRyaWVzID1cbiAgICAgICAgICAgICAgICBub3JtYWxpemVkUmVxdWVzdFVzYWdlRW50cmllcyAmJlxuICAgICAgICAgICAgICAgICAgICBub3JtYWxpemVkUmVxdWVzdFVzYWdlRW50cmllcy5sZW5ndGggPiAwXG4gICAgICAgICAgICAgICAgICAgID8gbm9ybWFsaXplZFJlcXVlc3RVc2FnZUVudHJpZXNcbiAgICAgICAgICAgICAgICAgICAgOiB1bmRlZmluZWQ7XG4gICAgICAgIH1cbiAgICB9XG4gICAgYWRkKG5ld1VzYWdlKSB7XG4gICAgICAgIHRoaXMucmVxdWVzdHMgKz0gbmV3VXNhZ2UucmVxdWVzdHMgPz8gMDtcbiAgICAgICAgdGhpcy5pbnB1dFRva2VucyArPSBuZXdVc2FnZS5pbnB1dFRva2VucyA/PyAwO1xuICAgICAgICB0aGlzLm91dHB1dFRva2VucyArPSBuZXdVc2FnZS5vdXRwdXRUb2tlbnMgPz8gMDtcbiAgICAgICAgdGhpcy50b3RhbFRva2VucyArPSBuZXdVc2FnZS50b3RhbFRva2VucyA/PyAwO1xuICAgICAgICBpZiAobmV3VXNhZ2UuaW5wdXRUb2tlbnNEZXRhaWxzKSB7XG4gICAgICAgICAgICAvLyBUaGUgdHlwZSBkb2VzIG5vdCBhbGxvdyB1bmRlZmluZWQsIGJ1dCBpdCBjb3VsZCBoYXBwZW4gcnVudGltZVxuICAgICAgICAgICAgdGhpcy5pbnB1dFRva2Vuc0RldGFpbHMucHVzaCguLi5uZXdVc2FnZS5pbnB1dFRva2Vuc0RldGFpbHMpO1xuICAgICAgICB9XG4gICAgICAgIGlmIChuZXdVc2FnZS5vdXRwdXRUb2tlbnNEZXRhaWxzKSB7XG4gICAgICAgICAgICAvLyBUaGUgdHlwZSBkb2VzIG5vdCBhbGxvdyB1bmRlZmluZWQsIGJ1dCBpdCBjb3VsZCBoYXBwZW4gcnVudGltZVxuICAgICAgICAgICAgdGhpcy5vdXRwdXRUb2tlbnNEZXRhaWxzLnB1c2goLi4ubmV3VXNhZ2Uub3V0cHV0VG9rZW5zRGV0YWlscyk7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKEFycmF5LmlzQXJyYXkobmV3VXNhZ2UucmVxdWVzdFVzYWdlRW50cmllcykgJiZcbiAgICAgICAgICAgIG5ld1VzYWdlLnJlcXVlc3RVc2FnZUVudHJpZXMubGVuZ3RoID4gMCkge1xuICAgICAgICAgICAgdGhpcy5yZXF1ZXN0VXNhZ2VFbnRyaWVzID8/PSBbXTtcbiAgICAgICAgICAgIHRoaXMucmVxdWVzdFVzYWdlRW50cmllcy5wdXNoKC4uLm5ld1VzYWdlLnJlcXVlc3RVc2FnZUVudHJpZXMubWFwKChlbnRyeSkgPT4gZW50cnkgaW5zdGFuY2VvZiBSZXF1ZXN0VXNhZ2UgPyBlbnRyeSA6IG5ldyBSZXF1ZXN0VXNhZ2UoZW50cnkpKSk7XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSBpZiAobmV3VXNhZ2UucmVxdWVzdHMgPT09IDEgJiYgbmV3VXNhZ2UudG90YWxUb2tlbnMgPiAwKSB7XG4gICAgICAgICAgICB0aGlzLnJlcXVlc3RVc2FnZUVudHJpZXMgPz89IFtdO1xuICAgICAgICAgICAgdGhpcy5yZXF1ZXN0VXNhZ2VFbnRyaWVzLnB1c2gobmV3IFJlcXVlc3RVc2FnZSh7XG4gICAgICAgICAgICAgICAgaW5wdXRUb2tlbnM6IG5ld1VzYWdlLmlucHV0VG9rZW5zLFxuICAgICAgICAgICAgICAgIG91dHB1dFRva2VuczogbmV3VXNhZ2Uub3V0cHV0VG9rZW5zLFxuICAgICAgICAgICAgICAgIHRvdGFsVG9rZW5zOiBuZXdVc2FnZS50b3RhbFRva2VucyxcbiAgICAgICAgICAgICAgICBpbnB1dFRva2Vuc0RldGFpbHM6IG5ld1VzYWdlLmlucHV0VG9rZW5zRGV0YWlscz8uWzBdLFxuICAgICAgICAgICAgICAgIG91dHB1dFRva2Vuc0RldGFpbHM6IG5ld1VzYWdlLm91dHB1dFRva2Vuc0RldGFpbHM/LlswXSxcbiAgICAgICAgICAgIH0pKTtcbiAgICAgICAgfVxuICAgIH1cbn1cbmV4cG9ydCB7IFJlcXVlc3RVc2FnZURhdGEsIFVzYWdlRGF0YSB9O1xuLy8jIHNvdXJjZU1hcHBpbmdVUkw9dXNhZ2UubWpzLm1hcCIsImltcG9ydCBsb2dnZXIgZnJvbSBcIi4vbG9nZ2VyLm1qc1wiO1xuaW1wb3J0IHsgVXNhZ2UgfSBmcm9tIFwiLi91c2FnZS5tanNcIjtcbi8qKlxuICogQSBjb250ZXh0IG9iamVjdCB0aGF0IGlzIHBhc3NlZCB0byB0aGUgYFJ1bm5lci5ydW4oKWAgbWV0aG9kLlxuICovXG5leHBvcnQgY2xhc3MgUnVuQ29udGV4dCB7XG4gICAgLyoqXG4gICAgICogVGhlIGNvbnRleHQgb2JqZWN0IHlvdSBwYXNzZWQgdG8gdGhlIGBSdW5uZXIucnVuKClgIG1ldGhvZC5cbiAgICAgKi9cbiAgICBjb250ZXh0O1xuICAgIC8qKlxuICAgICAqIFRoZSB1c2FnZSBvZiB0aGUgYWdlbnQgcnVuIHNvIGZhci4gRm9yIHN0cmVhbWVkIHJlc3BvbnNlcywgdGhlIHVzYWdlIHdpbGwgYmUgc3RhbGUgdW50aWwgdGhlXG4gICAgICogbGFzdCBjaHVuayBvZiB0aGUgc3RyZWFtIGlzIHByb2Nlc3NlZC5cbiAgICAgKi9cbiAgICB1c2FnZTtcbiAgICAvKipcbiAgICAgKiBBIG1hcCBvZiB0b29sIG5hbWVzIHRvIHdoZXRoZXIgdGhleSBoYXZlIGJlZW4gYXBwcm92ZWQuXG4gICAgICovXG4gICAgI2FwcHJvdmFscztcbiAgICBjb25zdHJ1Y3Rvcihjb250ZXh0ID0ge30pIHtcbiAgICAgICAgdGhpcy5jb250ZXh0ID0gY29udGV4dDtcbiAgICAgICAgdGhpcy51c2FnZSA9IG5ldyBVc2FnZSgpO1xuICAgICAgICB0aGlzLiNhcHByb3ZhbHMgPSBuZXcgTWFwKCk7XG4gICAgfVxuICAgIC8qKlxuICAgICAqIFJlYnVpbGQgdGhlIGFwcHJvdmFscyBtYXAgZnJvbSBhIHNlcmlhbGl6ZWQgc3RhdGUuXG4gICAgICogQGludGVybmFsXG4gICAgICpcbiAgICAgKiBAcGFyYW0gYXBwcm92YWxzIC0gVGhlIGFwcHJvdmFscyBtYXAgdG8gcmVidWlsZC5cbiAgICAgKi9cbiAgICBfcmVidWlsZEFwcHJvdmFscyhhcHByb3ZhbHMpIHtcbiAgICAgICAgdGhpcy4jYXBwcm92YWxzID0gbmV3IE1hcChPYmplY3QuZW50cmllcyhhcHByb3ZhbHMpKTtcbiAgICB9XG4gICAgLyoqXG4gICAgICogQ2hlY2sgaWYgYSB0b29sIGNhbGwgaGFzIGJlZW4gYXBwcm92ZWQuXG4gICAgICpcbiAgICAgKiBAcGFyYW0gYXBwcm92YWwgLSBEZXRhaWxzIGFib3V0IHRoZSB0b29sIGNhbGwgYmVpbmcgZXZhbHVhdGVkLlxuICAgICAqIEByZXR1cm5zIGB0cnVlYCBpZiB0aGUgdG9vbCBjYWxsIGhhcyBiZWVuIGFwcHJvdmVkLCBgZmFsc2VgIGlmIGJsb2NrZWQgYW5kIGB1bmRlZmluZWRgIGlmIG5vdCB5ZXQgYXBwcm92ZWQgb3IgcmVqZWN0ZWQuXG4gICAgICovXG4gICAgaXNUb29sQXBwcm92ZWQoYXBwcm92YWwpIHtcbiAgICAgICAgY29uc3QgeyB0b29sTmFtZSwgY2FsbElkIH0gPSBhcHByb3ZhbDtcbiAgICAgICAgY29uc3QgYXBwcm92YWxFbnRyeSA9IHRoaXMuI2FwcHJvdmFscy5nZXQodG9vbE5hbWUpO1xuICAgICAgICBpZiAoYXBwcm92YWxFbnRyeT8uYXBwcm92ZWQgPT09IHRydWUgJiYgYXBwcm92YWxFbnRyeS5yZWplY3RlZCA9PT0gdHJ1ZSkge1xuICAgICAgICAgICAgbG9nZ2VyLndhcm4oJ1Rvb2wgaXMgcGVybWFuZW50bHkgYXBwcm92ZWQgYW5kIHJlamVjdGVkIGF0IHRoZSBzYW1lIHRpbWUuIEFwcHJvdmFsIHRha2VzIHByZWNlZGVuY2UnKTtcbiAgICAgICAgICAgIHJldHVybiB0cnVlO1xuICAgICAgICB9XG4gICAgICAgIGlmIChhcHByb3ZhbEVudHJ5Py5hcHByb3ZlZCA9PT0gdHJ1ZSkge1xuICAgICAgICAgICAgcmV0dXJuIHRydWU7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKGFwcHJvdmFsRW50cnk/LnJlamVjdGVkID09PSB0cnVlKSB7XG4gICAgICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgICAgIH1cbiAgICAgICAgY29uc3QgaW5kaXZpZHVhbENhbGxBcHByb3ZhbCA9IEFycmF5LmlzQXJyYXkoYXBwcm92YWxFbnRyeT8uYXBwcm92ZWQpXG4gICAgICAgICAgICA/IGFwcHJvdmFsRW50cnkuYXBwcm92ZWQuaW5jbHVkZXMoY2FsbElkKVxuICAgICAgICAgICAgOiBmYWxzZTtcbiAgICAgICAgY29uc3QgaW5kaXZpZHVhbENhbGxSZWplY3Rpb24gPSBBcnJheS5pc0FycmF5KGFwcHJvdmFsRW50cnk/LnJlamVjdGVkKVxuICAgICAgICAgICAgPyBhcHByb3ZhbEVudHJ5LnJlamVjdGVkLmluY2x1ZGVzKGNhbGxJZClcbiAgICAgICAgICAgIDogZmFsc2U7XG4gICAgICAgIGlmIChpbmRpdmlkdWFsQ2FsbEFwcHJvdmFsICYmIGluZGl2aWR1YWxDYWxsUmVqZWN0aW9uKSB7XG4gICAgICAgICAgICBsb2dnZXIud2FybihgVG9vbCBjYWxsICR7Y2FsbElkfSBpcyBib3RoIGFwcHJvdmVkIGFuZCByZWplY3RlZCBhdCB0aGUgc2FtZSB0aW1lLiBBcHByb3ZhbCB0YWtlcyBwcmVjZWRlbmNlYCk7XG4gICAgICAgICAgICByZXR1cm4gdHJ1ZTtcbiAgICAgICAgfVxuICAgICAgICBpZiAoaW5kaXZpZHVhbENhbGxBcHByb3ZhbCkge1xuICAgICAgICAgICAgcmV0dXJuIHRydWU7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKGluZGl2aWR1YWxDYWxsUmVqZWN0aW9uKSB7XG4gICAgICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIHVuZGVmaW5lZDtcbiAgICB9XG4gICAgLyoqXG4gICAgICogQXBwcm92ZSBhIHRvb2wgY2FsbC5cbiAgICAgKlxuICAgICAqIEBwYXJhbSBhcHByb3ZhbEl0ZW0gLSBUaGUgdG9vbCBhcHByb3ZhbCBpdGVtIHRvIGFwcHJvdmUuXG4gICAgICogQHBhcmFtIG9wdGlvbnMgLSBBZGRpdGlvbmFsIGFwcHJvdmFsIGJlaGF2aW9yIG9wdGlvbnMuXG4gICAgICovXG4gICAgYXBwcm92ZVRvb2woYXBwcm92YWxJdGVtLCB7IGFsd2F5c0FwcHJvdmUgPSBmYWxzZSB9ID0ge30pIHtcbiAgICAgICAgY29uc3QgdG9vbE5hbWUgPSBhcHByb3ZhbEl0ZW0udG9vbE5hbWUgPz8gYXBwcm92YWxJdGVtLnJhd0l0ZW0ubmFtZTtcbiAgICAgICAgaWYgKGFsd2F5c0FwcHJvdmUpIHtcbiAgICAgICAgICAgIHRoaXMuI2FwcHJvdmFscy5zZXQodG9vbE5hbWUsIHtcbiAgICAgICAgICAgICAgICBhcHByb3ZlZDogdHJ1ZSxcbiAgICAgICAgICAgICAgICByZWplY3RlZDogW10sXG4gICAgICAgICAgICB9KTtcbiAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgfVxuICAgICAgICBjb25zdCBhcHByb3ZhbEVudHJ5ID0gdGhpcy4jYXBwcm92YWxzLmdldCh0b29sTmFtZSkgPz8ge1xuICAgICAgICAgICAgYXBwcm92ZWQ6IFtdLFxuICAgICAgICAgICAgcmVqZWN0ZWQ6IFtdLFxuICAgICAgICB9O1xuICAgICAgICBpZiAoQXJyYXkuaXNBcnJheShhcHByb3ZhbEVudHJ5LmFwcHJvdmVkKSkge1xuICAgICAgICAgICAgLy8gZnVuY3Rpb24gdG9vbCBoYXMgY2FsbF9pZCwgaG9zdGVkIHRvb2wgY2FsbCBoYXMgaWRcbiAgICAgICAgICAgIGNvbnN0IGNhbGxJZCA9ICdjYWxsSWQnIGluIGFwcHJvdmFsSXRlbS5yYXdJdGVtXG4gICAgICAgICAgICAgICAgPyBhcHByb3ZhbEl0ZW0ucmF3SXRlbS5jYWxsSWQgLy8gZnVuY3Rpb24gdG9vbHNcbiAgICAgICAgICAgICAgICA6IGFwcHJvdmFsSXRlbS5yYXdJdGVtLmlkOyAvLyBob3N0ZWQgdG9vbHNcbiAgICAgICAgICAgIGFwcHJvdmFsRW50cnkuYXBwcm92ZWQucHVzaChjYWxsSWQpO1xuICAgICAgICB9XG4gICAgICAgIHRoaXMuI2FwcHJvdmFscy5zZXQodG9vbE5hbWUsIGFwcHJvdmFsRW50cnkpO1xuICAgIH1cbiAgICAvKipcbiAgICAgKiBSZWplY3QgYSB0b29sIGNhbGwuXG4gICAgICpcbiAgICAgKiBAcGFyYW0gYXBwcm92YWxJdGVtIC0gVGhlIHRvb2wgYXBwcm92YWwgaXRlbSB0byByZWplY3QuXG4gICAgICovXG4gICAgcmVqZWN0VG9vbChhcHByb3ZhbEl0ZW0sIHsgYWx3YXlzUmVqZWN0ID0gZmFsc2UgfSA9IHt9KSB7XG4gICAgICAgIGNvbnN0IHRvb2xOYW1lID0gYXBwcm92YWxJdGVtLnRvb2xOYW1lID8/IGFwcHJvdmFsSXRlbS5yYXdJdGVtLm5hbWU7XG4gICAgICAgIGlmIChhbHdheXNSZWplY3QpIHtcbiAgICAgICAgICAgIHRoaXMuI2FwcHJvdmFscy5zZXQodG9vbE5hbWUsIHtcbiAgICAgICAgICAgICAgICBhcHByb3ZlZDogZmFsc2UsXG4gICAgICAgICAgICAgICAgcmVqZWN0ZWQ6IHRydWUsXG4gICAgICAgICAgICB9KTtcbiAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgfVxuICAgICAgICBjb25zdCBhcHByb3ZhbEVudHJ5ID0gdGhpcy4jYXBwcm92YWxzLmdldCh0b29sTmFtZSkgPz8ge1xuICAgICAgICAgICAgYXBwcm92ZWQ6IFtdLFxuICAgICAgICAgICAgcmVqZWN0ZWQ6IFtdLFxuICAgICAgICB9O1xuICAgICAgICBpZiAoQXJyYXkuaXNBcnJheShhcHByb3ZhbEVudHJ5LnJlamVjdGVkKSkge1xuICAgICAgICAgICAgLy8gZnVuY3Rpb24gdG9vbCBoYXMgY2FsbF9pZCwgaG9zdGVkIHRvb2wgY2FsbCBoYXMgaWRcbiAgICAgICAgICAgIGNvbnN0IGNhbGxJZCA9ICdjYWxsSWQnIGluIGFwcHJvdmFsSXRlbS5yYXdJdGVtXG4gICAgICAgICAgICAgICAgPyBhcHByb3ZhbEl0ZW0ucmF3SXRlbS5jYWxsSWQgLy8gZnVuY3Rpb24gdG9vbHNcbiAgICAgICAgICAgICAgICA6IGFwcHJvdmFsSXRlbS5yYXdJdGVtLmlkOyAvLyBob3N0ZWQgdG9vbHNcbiAgICAgICAgICAgIGFwcHJvdmFsRW50cnkucmVqZWN0ZWQucHVzaChjYWxsSWQpO1xuICAgICAgICB9XG4gICAgICAgIHRoaXMuI2FwcHJvdmFscy5zZXQodG9vbE5hbWUsIGFwcHJvdmFsRW50cnkpO1xuICAgIH1cbiAgICB0b0pTT04oKSB7XG4gICAgICAgIHJldHVybiB7XG4gICAgICAgICAgICBjb250ZXh0OiB0aGlzLmNvbnRleHQsXG4gICAgICAgICAgICB1c2FnZTogdGhpcy51c2FnZSxcbiAgICAgICAgICAgIGFwcHJvdmFsczogT2JqZWN0LmZyb21FbnRyaWVzKHRoaXMuI2FwcHJvdmFscy5lbnRyaWVzKCkpLFxuICAgICAgICB9O1xuICAgIH1cbn1cbi8vIyBzb3VyY2VNYXBwaW5nVVJMPXJ1bkNvbnRleHQubWpzLm1hcCIsImV4cG9ydCBmdW5jdGlvbiBzZXJpYWxpemVUb29sKHRvb2wpIHtcbiAgICBpZiAodG9vbC50eXBlID09PSAnZnVuY3Rpb24nKSB7XG4gICAgICAgIHJldHVybiB7XG4gICAgICAgICAgICB0eXBlOiAnZnVuY3Rpb24nLFxuICAgICAgICAgICAgbmFtZTogdG9vbC5uYW1lLFxuICAgICAgICAgICAgZGVzY3JpcHRpb246IHRvb2wuZGVzY3JpcHRpb24sXG4gICAgICAgICAgICBwYXJhbWV0ZXJzOiB0b29sLnBhcmFtZXRlcnMsXG4gICAgICAgICAgICBzdHJpY3Q6IHRvb2wuc3RyaWN0LFxuICAgICAgICB9O1xuICAgIH1cbiAgICBpZiAodG9vbC50eXBlID09PSAnY29tcHV0ZXInKSB7XG4gICAgICAgIHJldHVybiB7XG4gICAgICAgICAgICB0eXBlOiAnY29tcHV0ZXInLFxuICAgICAgICAgICAgbmFtZTogdG9vbC5uYW1lLFxuICAgICAgICAgICAgZW52aXJvbm1lbnQ6IHRvb2wuY29tcHV0ZXIuZW52aXJvbm1lbnQsXG4gICAgICAgICAgICBkaW1lbnNpb25zOiB0b29sLmNvbXB1dGVyLmRpbWVuc2lvbnMsXG4gICAgICAgIH07XG4gICAgfVxuICAgIGlmICh0b29sLnR5cGUgPT09ICdzaGVsbCcpIHtcbiAgICAgICAgcmV0dXJuIHtcbiAgICAgICAgICAgIHR5cGU6ICdzaGVsbCcsXG4gICAgICAgICAgICBuYW1lOiB0b29sLm5hbWUsXG4gICAgICAgIH07XG4gICAgfVxuICAgIGlmICh0b29sLnR5cGUgPT09ICdhcHBseV9wYXRjaCcpIHtcbiAgICAgICAgcmV0dXJuIHtcbiAgICAgICAgICAgIHR5cGU6ICdhcHBseV9wYXRjaCcsXG4gICAgICAgICAgICBuYW1lOiB0b29sLm5hbWUsXG4gICAgICAgIH07XG4gICAgfVxuICAgIHJldHVybiB7XG4gICAgICAgIHR5cGU6ICdob3N0ZWRfdG9vbCcsXG4gICAgICAgIG5hbWU6IHRvb2wubmFtZSxcbiAgICAgICAgcHJvdmlkZXJEYXRhOiB0b29sLnByb3ZpZGVyRGF0YSxcbiAgICB9O1xufVxuZXhwb3J0IGZ1bmN0aW9uIHNlcmlhbGl6ZUhhbmRvZmYoaCkge1xuICAgIHJldHVybiB7XG4gICAgICAgIHRvb2xOYW1lOiBoLnRvb2xOYW1lLFxuICAgICAgICB0b29sRGVzY3JpcHRpb246IGgudG9vbERlc2NyaXB0aW9uLFxuICAgICAgICBpbnB1dEpzb25TY2hlbWE6IGguaW5wdXRKc29uU2NoZW1hLFxuICAgICAgICBzdHJpY3RKc29uU2NoZW1hOiBoLnN0cmljdEpzb25TY2hlbWEsXG4gICAgfTtcbn1cbi8vIyBzb3VyY2VNYXBwaW5nVVJMPXNlcmlhbGl6ZS5tanMubWFwIiwiaW1wb3J0IHsgdG9TbWFydFN0cmluZyB9IGZyb20gXCIuL3V0aWxzL3NtYXJ0U3RyaW5nLm1qc1wiO1xuZXhwb3J0IGNsYXNzIFJ1bkl0ZW1CYXNlIHtcbiAgICB0eXBlID0gJ2Jhc2VfaXRlbSc7XG4gICAgcmF3SXRlbTtcbiAgICB0b0pTT04oKSB7XG4gICAgICAgIHJldHVybiB7XG4gICAgICAgICAgICB0eXBlOiB0aGlzLnR5cGUsXG4gICAgICAgICAgICByYXdJdGVtOiB0aGlzLnJhd0l0ZW0sXG4gICAgICAgIH07XG4gICAgfVxufVxuZXhwb3J0IGNsYXNzIFJ1bk1lc3NhZ2VPdXRwdXRJdGVtIGV4dGVuZHMgUnVuSXRlbUJhc2Uge1xuICAgIHJhd0l0ZW07XG4gICAgYWdlbnQ7XG4gICAgdHlwZSA9ICdtZXNzYWdlX291dHB1dF9pdGVtJztcbiAgICBjb25zdHJ1Y3RvcihyYXdJdGVtLCBhZ2VudCkge1xuICAgICAgICBzdXBlcigpO1xuICAgICAgICB0aGlzLnJhd0l0ZW0gPSByYXdJdGVtO1xuICAgICAgICB0aGlzLmFnZW50ID0gYWdlbnQ7XG4gICAgfVxuICAgIHRvSlNPTigpIHtcbiAgICAgICAgcmV0dXJuIHtcbiAgICAgICAgICAgIC4uLnN1cGVyLnRvSlNPTigpLFxuICAgICAgICAgICAgYWdlbnQ6IHRoaXMuYWdlbnQudG9KU09OKCksXG4gICAgICAgIH07XG4gICAgfVxuICAgIGdldCBjb250ZW50KCkge1xuICAgICAgICBsZXQgY29udGVudCA9ICcnO1xuICAgICAgICBmb3IgKGNvbnN0IHBhcnQgb2YgdGhpcy5yYXdJdGVtLmNvbnRlbnQpIHtcbiAgICAgICAgICAgIGlmIChwYXJ0LnR5cGUgPT09ICdvdXRwdXRfdGV4dCcpIHtcbiAgICAgICAgICAgICAgICBjb250ZW50ICs9IHBhcnQudGV4dDtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gY29udGVudDtcbiAgICB9XG59XG5leHBvcnQgY2xhc3MgUnVuVG9vbENhbGxJdGVtIGV4dGVuZHMgUnVuSXRlbUJhc2Uge1xuICAgIHJhd0l0ZW07XG4gICAgYWdlbnQ7XG4gICAgdHlwZSA9ICd0b29sX2NhbGxfaXRlbSc7XG4gICAgY29uc3RydWN0b3IocmF3SXRlbSwgYWdlbnQpIHtcbiAgICAgICAgc3VwZXIoKTtcbiAgICAgICAgdGhpcy5yYXdJdGVtID0gcmF3SXRlbTtcbiAgICAgICAgdGhpcy5hZ2VudCA9IGFnZW50O1xuICAgIH1cbiAgICB0b0pTT04oKSB7XG4gICAgICAgIHJldHVybiB7XG4gICAgICAgICAgICAuLi5zdXBlci50b0pTT04oKSxcbiAgICAgICAgICAgIGFnZW50OiB0aGlzLmFnZW50LnRvSlNPTigpLFxuICAgICAgICB9O1xuICAgIH1cbn1cbmV4cG9ydCBjbGFzcyBSdW5Ub29sQ2FsbE91dHB1dEl0ZW0gZXh0ZW5kcyBSdW5JdGVtQmFzZSB7XG4gICAgcmF3SXRlbTtcbiAgICBhZ2VudDtcbiAgICBvdXRwdXQ7XG4gICAgdHlwZSA9ICd0b29sX2NhbGxfb3V0cHV0X2l0ZW0nO1xuICAgIGNvbnN0cnVjdG9yKHJhd0l0ZW0sIGFnZW50LCBvdXRwdXQpIHtcbiAgICAgICAgc3VwZXIoKTtcbiAgICAgICAgdGhpcy5yYXdJdGVtID0gcmF3SXRlbTtcbiAgICAgICAgdGhpcy5hZ2VudCA9IGFnZW50O1xuICAgICAgICB0aGlzLm91dHB1dCA9IG91dHB1dDtcbiAgICB9XG4gICAgdG9KU09OKCkge1xuICAgICAgICByZXR1cm4ge1xuICAgICAgICAgICAgLi4uc3VwZXIudG9KU09OKCksXG4gICAgICAgICAgICBhZ2VudDogdGhpcy5hZ2VudC50b0pTT04oKSxcbiAgICAgICAgICAgIG91dHB1dDogdG9TbWFydFN0cmluZyh0aGlzLm91dHB1dCksXG4gICAgICAgIH07XG4gICAgfVxufVxuZXhwb3J0IGNsYXNzIFJ1blJlYXNvbmluZ0l0ZW0gZXh0ZW5kcyBSdW5JdGVtQmFzZSB7XG4gICAgcmF3SXRlbTtcbiAgICBhZ2VudDtcbiAgICB0eXBlID0gJ3JlYXNvbmluZ19pdGVtJztcbiAgICBjb25zdHJ1Y3RvcihyYXdJdGVtLCBhZ2VudCkge1xuICAgICAgICBzdXBlcigpO1xuICAgICAgICB0aGlzLnJhd0l0ZW0gPSByYXdJdGVtO1xuICAgICAgICB0aGlzLmFnZW50ID0gYWdlbnQ7XG4gICAgfVxuICAgIHRvSlNPTigpIHtcbiAgICAgICAgcmV0dXJuIHtcbiAgICAgICAgICAgIC4uLnN1cGVyLnRvSlNPTigpLFxuICAgICAgICAgICAgYWdlbnQ6IHRoaXMuYWdlbnQudG9KU09OKCksXG4gICAgICAgIH07XG4gICAgfVxufVxuZXhwb3J0IGNsYXNzIFJ1bkhhbmRvZmZDYWxsSXRlbSBleHRlbmRzIFJ1bkl0ZW1CYXNlIHtcbiAgICByYXdJdGVtO1xuICAgIGFnZW50O1xuICAgIHR5cGUgPSAnaGFuZG9mZl9jYWxsX2l0ZW0nO1xuICAgIGNvbnN0cnVjdG9yKHJhd0l0ZW0sIGFnZW50KSB7XG4gICAgICAgIHN1cGVyKCk7XG4gICAgICAgIHRoaXMucmF3SXRlbSA9IHJhd0l0ZW07XG4gICAgICAgIHRoaXMuYWdlbnQgPSBhZ2VudDtcbiAgICB9XG4gICAgdG9KU09OKCkge1xuICAgICAgICByZXR1cm4ge1xuICAgICAgICAgICAgLi4uc3VwZXIudG9KU09OKCksXG4gICAgICAgICAgICBhZ2VudDogdGhpcy5hZ2VudC50b0pTT04oKSxcbiAgICAgICAgfTtcbiAgICB9XG59XG5leHBvcnQgY2xhc3MgUnVuSGFuZG9mZk91dHB1dEl0ZW0gZXh0ZW5kcyBSdW5JdGVtQmFzZSB7XG4gICAgcmF3SXRlbTtcbiAgICBzb3VyY2VBZ2VudDtcbiAgICB0YXJnZXRBZ2VudDtcbiAgICB0eXBlID0gJ2hhbmRvZmZfb3V0cHV0X2l0ZW0nO1xuICAgIGNvbnN0cnVjdG9yKHJhd0l0ZW0sIHNvdXJjZUFnZW50LCB0YXJnZXRBZ2VudCkge1xuICAgICAgICBzdXBlcigpO1xuICAgICAgICB0aGlzLnJhd0l0ZW0gPSByYXdJdGVtO1xuICAgICAgICB0aGlzLnNvdXJjZUFnZW50ID0gc291cmNlQWdlbnQ7XG4gICAgICAgIHRoaXMudGFyZ2V0QWdlbnQgPSB0YXJnZXRBZ2VudDtcbiAgICB9XG4gICAgdG9KU09OKCkge1xuICAgICAgICByZXR1cm4ge1xuICAgICAgICAgICAgLi4uc3VwZXIudG9KU09OKCksXG4gICAgICAgICAgICBzb3VyY2VBZ2VudDogdGhpcy5zb3VyY2VBZ2VudC50b0pTT04oKSxcbiAgICAgICAgICAgIHRhcmdldEFnZW50OiB0aGlzLnRhcmdldEFnZW50LnRvSlNPTigpLFxuICAgICAgICB9O1xuICAgIH1cbn1cbmV4cG9ydCBjbGFzcyBSdW5Ub29sQXBwcm92YWxJdGVtIGV4dGVuZHMgUnVuSXRlbUJhc2Uge1xuICAgIHJhd0l0ZW07XG4gICAgYWdlbnQ7XG4gICAgdG9vbE5hbWU7XG4gICAgdHlwZSA9ICd0b29sX2FwcHJvdmFsX2l0ZW0nO1xuICAgIGNvbnN0cnVjdG9yKHJhd0l0ZW0sIGFnZW50LCBcbiAgICAvKipcbiAgICAgKiBFeHBsaWNpdCB0b29sIG5hbWUgdG8gdXNlIGZvciBhcHByb3ZhbCB0cmFja2luZyB3aGVuIG5vdCBwcmVzZW50IG9uIHRoZSByYXcgaXRlbS5cbiAgICAgKi9cbiAgICB0b29sTmFtZSkge1xuICAgICAgICBzdXBlcigpO1xuICAgICAgICB0aGlzLnJhd0l0ZW0gPSByYXdJdGVtO1xuICAgICAgICB0aGlzLmFnZW50ID0gYWdlbnQ7XG4gICAgICAgIHRoaXMudG9vbE5hbWUgPSB0b29sTmFtZTtcbiAgICAgICAgdGhpcy50b29sTmFtZSA9IHRvb2xOYW1lID8/IHJhd0l0ZW0ubmFtZTtcbiAgICB9XG4gICAgLyoqXG4gICAgICogUmV0dXJucyB0aGUgdG9vbCBuYW1lIGlmIGF2YWlsYWJsZSBvbiB0aGUgcmF3IGl0ZW0gb3IgcHJvdmlkZWQgZXhwbGljaXRseS5cbiAgICAgKiBLZXB0IGZvciBiYWNrd2FyZHMgY29tcGF0aWJpbGl0eSB3aXRoIGNvZGUgdGhhdCBwcmV2aW91c2x5IHJlbGllZCBvbiBgcmF3SXRlbS5uYW1lYC5cbiAgICAgKi9cbiAgICBnZXQgbmFtZSgpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMudG9vbE5hbWUgPz8gdGhpcy5yYXdJdGVtLm5hbWU7XG4gICAgfVxuICAgIC8qKlxuICAgICAqIFJldHVybnMgdGhlIGFyZ3VtZW50cyBpZiB0aGUgcmF3IGl0ZW0gaGFzIGFuIGFyZ3VtZW50cyBwcm9wZXJ0eSBvdGhlcndpc2UgdGhpcyB3aWxsIGJlIHVuZGVmaW5lZC5cbiAgICAgKi9cbiAgICBnZXQgYXJndW1lbnRzKCkge1xuICAgICAgICByZXR1cm4gJ2FyZ3VtZW50cycgaW4gdGhpcy5yYXdJdGVtID8gdGhpcy5yYXdJdGVtLmFyZ3VtZW50cyA6IHVuZGVmaW5lZDtcbiAgICB9XG4gICAgdG9KU09OKCkge1xuICAgICAgICByZXR1cm4ge1xuICAgICAgICAgICAgLi4uc3VwZXIudG9KU09OKCksXG4gICAgICAgICAgICBhZ2VudDogdGhpcy5hZ2VudC50b0pTT04oKSxcbiAgICAgICAgICAgIHRvb2xOYW1lOiB0aGlzLnRvb2xOYW1lLFxuICAgICAgICB9O1xuICAgIH1cbn1cbi8qKlxuICogRXh0cmFjdCBhbGwgdGV4dCBvdXRwdXQgZnJvbSBhIGxpc3Qgb2YgcnVuIGl0ZW1zIGJ5IGNvbmNhdGVuYXRpbmcgdGhlIGNvbnRlbnQgb2YgYWxsXG4gKiBtZXNzYWdlIG91dHB1dCBpdGVtcy5cbiAqXG4gKiBAcGFyYW0gaXRlbXMgLSBUaGUgbGlzdCBvZiBydW4gaXRlbXMgdG8gZXh0cmFjdCB0ZXh0IGZyb20uXG4gKiBAcmV0dXJucyBBIHN0cmluZyBvZiBhbGwgdGhlIHRleHQgb3V0cHV0IGZyb20gdGhlIHJ1biBpdGVtcy5cbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIGV4dHJhY3RBbGxUZXh0T3V0cHV0KGl0ZW1zKSB7XG4gICAgcmV0dXJuIGl0ZW1zXG4gICAgICAgIC5maWx0ZXIoKGl0ZW0pID0+IGl0ZW0udHlwZSA9PT0gJ21lc3NhZ2Vfb3V0cHV0X2l0ZW0nKVxuICAgICAgICAubWFwKChpdGVtKSA9PiBpdGVtLmNvbnRlbnQpXG4gICAgICAgIC5qb2luKCcnKTtcbn1cbi8vIyBzb3VyY2VNYXBwaW5nVVJMPWl0ZW1zLm1qcy5tYXAiLCJpbXBvcnQgeyByZXNldEN1cnJlbnRTcGFuLCBzZXRDdXJyZW50U3Bhbiwgd2l0aE5ld1NwYW5Db250ZXh0LCB9IGZyb20gXCIuL2NvbnRleHQubWpzXCI7XG5pbXBvcnQgeyBnZXRHbG9iYWxUcmFjZVByb3ZpZGVyIH0gZnJvbSBcIi4vcHJvdmlkZXIubWpzXCI7XG5mdW5jdGlvbiBfd2l0aFNwYW5GYWN0b3J5KGNyZWF0ZVNwYW4pIHtcbiAgICByZXR1cm4gYXN5bmMgKGZuLCAuLi5hcmdzKSA9PiB7XG4gICAgICAgIC8vIENyZWF0aW5nIGEgbmV3IHNwYW4gY29udGV4dCB0byBtYWtlIHN1cmUgdGhhdCB0aGUgcHJldmlvdXMgc3BhbiBpcyBjb3JyZWN0bHkgcmVzZXRcbiAgICAgICAgcmV0dXJuIHdpdGhOZXdTcGFuQ29udGV4dChhc3luYyAoKSA9PiB7XG4gICAgICAgICAgICBjb25zdCBzcGFuID0gY3JlYXRlU3BhbiguLi5hcmdzKTtcbiAgICAgICAgICAgIHNldEN1cnJlbnRTcGFuKHNwYW4pO1xuICAgICAgICAgICAgdHJ5IHtcbiAgICAgICAgICAgICAgICBzcGFuLnN0YXJ0KCk7XG4gICAgICAgICAgICAgICAgcmV0dXJuIGF3YWl0IGZuKHNwYW4pO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgY2F0Y2ggKGVycm9yKSB7XG4gICAgICAgICAgICAgICAgc3Bhbi5zZXRFcnJvcih7XG4gICAgICAgICAgICAgICAgICAgIG1lc3NhZ2U6IGVycm9yLm1lc3NhZ2UsXG4gICAgICAgICAgICAgICAgICAgIGRhdGE6IGVycm9yLmRhdGEsXG4gICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICAgICAgdGhyb3cgZXJyb3I7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBmaW5hbGx5IHtcbiAgICAgICAgICAgICAgICBzcGFuLmVuZCgpO1xuICAgICAgICAgICAgICAgIHJlc2V0Q3VycmVudFNwYW4oKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfSk7XG4gICAgfTtcbn1cbi8qKlxuICogQ3JlYXRlIGEgbmV3IHJlc3BvbnNlIHNwYW4uIFRoZSBzcGFuIHdpbGwgbm90IGJlIHN0YXJ0ZWQgYXV0b21hdGljYWxseSwgeW91IHNob3VsZCBlaXRoZXJcbiAqIHVzZSBgd2l0aFJlc3BvbnNlU3BhbigpYCBvciBjYWxsIGBzcGFuLnN0YXJ0KClgIGFuZCBgc3Bhbi5lbmQoKWAgbWFudWFsbHkuXG4gKlxuICogVGhpcyBzcGFuIGNhcHR1cmVzIHRoZSBkZXRhaWxzIG9mIGEgbW9kZWwgcmVzcG9uc2UsIHByaW1hcmlseSB0aGUgcmVzcG9uc2UgaWRlbnRpZmllci5cbiAqIElmIHlvdSBuZWVkIHRvIGNhcHR1cmUgZGV0YWlsZWQgZ2VuZXJhdGlvbiBpbmZvcm1hdGlvbiBzdWNoIGFzIGlucHV0L291dHB1dCBtZXNzYWdlcyxcbiAqIG1vZGVsIGNvbmZpZ3VyYXRpb24sIG9yIHVzYWdlIGRhdGEsIHVzZSBgY3JlYXRlR2VuZXJhdGlvblNwYW4oKWAgaW5zdGVhZC5cbiAqXG4gKiBAcGFyYW0gb3B0aW9ucyAtIE9wdGlvbmFsIHNwYW4gY3JlYXRpb24gb3B0aW9ucywgaW5jbHVkaW5nIHNwYW4gZGF0YSBhbmQgaWRlbnRpZmllcnMuXG4gKiBAcGFyYW0gcGFyZW50IC0gVGhlIHBhcmVudCBzcGFuIG9yIHRyYWNlLiBJZiBub3QgcHJvdmlkZWQsIHRoZSBjdXJyZW50IHRyYWNlL3NwYW4gd2lsbCBiZSB1c2VkXG4gKiBhdXRvbWF0aWNhbGx5LlxuICpcbiAqIEByZXR1cm5zIFRoZSBuZXdseSBjcmVhdGVkIHJlc3BvbnNlIHNwYW4uXG4gKi9cbmV4cG9ydCBmdW5jdGlvbiBjcmVhdGVSZXNwb25zZVNwYW4ob3B0aW9ucywgcGFyZW50KSB7XG4gICAgb3B0aW9ucyA9IHt9O1xuICAgIHJldHVybiBnZXRHbG9iYWxUcmFjZVByb3ZpZGVyKCkuY3JlYXRlU3Bhbih7XG4gICAgICAgIC4uLm9wdGlvbnMsXG4gICAgICAgIGRhdGE6IHtcbiAgICAgICAgICAgIHR5cGU6ICdyZXNwb25zZScsXG4gICAgICAgICAgICAuLi5vcHRpb25zLmRhdGEsXG4gICAgICAgIH0sXG4gICAgfSwgcGFyZW50KTtcbn1cbi8qKlxuICogQ3JlYXRlIGEgbmV3IHJlc3BvbnNlIHNwYW4gYW5kIGF1dG9tYXRpY2FsbHkgc3RhcnQgYW5kIGVuZCBpdC5cbiAqXG4gKiBUaGlzIHNwYW4gY2FwdHVyZXMgdGhlIGRldGFpbHMgb2YgYSBtb2RlbCByZXNwb25zZSwgcHJpbWFyaWx5IHRoZSByZXNwb25zZSBpZGVudGlmaWVyLlxuICogSWYgeW91IG5lZWQgdG8gY2FwdHVyZSBkZXRhaWxlZCBnZW5lcmF0aW9uIGluZm9ybWF0aW9uIHN1Y2ggYXMgaW5wdXQvb3V0cHV0IG1lc3NhZ2VzLFxuICogbW9kZWwgY29uZmlndXJhdGlvbiwgb3IgdXNhZ2UgZGF0YSwgdXNlIGBnZW5lcmF0aW9uU3BhbigpYCBpbnN0ZWFkLlxuICovXG5leHBvcnQgY29uc3Qgd2l0aFJlc3BvbnNlU3BhbiA9IF93aXRoU3BhbkZhY3RvcnkoY3JlYXRlUmVzcG9uc2VTcGFuKTtcbi8qKlxuICogQ3JlYXRlIGEgbmV3IGFnZW50IHNwYW4uIFRoZSBzcGFuIHdpbGwgbm90IGJlIHN0YXJ0ZWQgYXV0b21hdGljYWxseSwgeW91IHNob3VsZCBlaXRoZXJcbiAqIHVzZSBgd2l0aEFnZW50U3BhbigpYCBvciBjYWxsIGBzcGFuLnN0YXJ0KClgIGFuZCBgc3Bhbi5lbmQoKWAgbWFudWFsbHkuXG4gKlxuICogQHBhcmFtIG9wdGlvbnMgLSBPcHRpb25hbCBzcGFuIGNyZWF0aW9uIG9wdGlvbnMsIGluY2x1ZGluZyBzcGFuIGRhdGEgYW5kIGlkZW50aWZpZXJzLlxuICogQHBhcmFtIHBhcmVudCAtIFRoZSBwYXJlbnQgc3BhbiBvciB0cmFjZS4gSWYgbm90IHByb3ZpZGVkLCB0aGUgY3VycmVudCB0cmFjZS9zcGFuIHdpbGwgYmUgdXNlZFxuICogYXV0b21hdGljYWxseS5cbiAqXG4gKiBAcmV0dXJucyBUaGUgbmV3bHkgY3JlYXRlZCBhZ2VudCBzcGFuLlxuICovXG5leHBvcnQgZnVuY3Rpb24gY3JlYXRlQWdlbnRTcGFuKG9wdGlvbnMsIHBhcmVudCkge1xuICAgIHJldHVybiBnZXRHbG9iYWxUcmFjZVByb3ZpZGVyKCkuY3JlYXRlU3Bhbih7XG4gICAgICAgIC4uLm9wdGlvbnMsXG4gICAgICAgIGRhdGE6IHtcbiAgICAgICAgICAgIHR5cGU6ICdhZ2VudCcsXG4gICAgICAgICAgICBuYW1lOiBvcHRpb25zPy5kYXRhPy5uYW1lID8/ICdBZ2VudCcsXG4gICAgICAgICAgICAuLi5vcHRpb25zPy5kYXRhLFxuICAgICAgICB9LFxuICAgIH0sIHBhcmVudCk7XG59XG4vKipcbiAqIENyZWF0ZSBhIG5ldyBhZ2VudCBzcGFuIGFuZCBhdXRvbWF0aWNhbGx5IHN0YXJ0IGFuZCBlbmQgaXQuXG4gKi9cbmV4cG9ydCBjb25zdCB3aXRoQWdlbnRTcGFuID0gX3dpdGhTcGFuRmFjdG9yeShjcmVhdGVBZ2VudFNwYW4pO1xuLyoqXG4gKiBDcmVhdGUgYSBuZXcgZnVuY3Rpb24gc3Bhbi4gVGhlIHNwYW4gd2lsbCBub3QgYmUgc3RhcnRlZCBhdXRvbWF0aWNhbGx5LCB5b3Ugc2hvdWxkIGVpdGhlclxuICogdXNlIGB3aXRoRnVuY3Rpb25TcGFuKClgIG9yIGNhbGwgYHNwYW4uc3RhcnQoKWAgYW5kIGBzcGFuLmVuZCgpYCBtYW51YWxseS5cbiAqXG4gKiBAcGFyYW0gb3B0aW9ucyAtIE9wdGlvbmFsIHNwYW4gY3JlYXRpb24gb3B0aW9ucywgaW5jbHVkaW5nIHNwYW4gZGF0YSBhbmQgaWRlbnRpZmllcnMuXG4gKiBAcGFyYW0gcGFyZW50IC0gVGhlIHBhcmVudCBzcGFuIG9yIHRyYWNlLiBJZiBub3QgcHJvdmlkZWQsIHRoZSBjdXJyZW50IHRyYWNlL3NwYW4gd2lsbCBiZSB1c2VkXG4gKiBhdXRvbWF0aWNhbGx5LlxuICpcbiAqIEByZXR1cm5zIFRoZSBuZXdseSBjcmVhdGVkIGZ1bmN0aW9uIHNwYW4uXG4gKi9cbmV4cG9ydCBmdW5jdGlvbiBjcmVhdGVGdW5jdGlvblNwYW4ob3B0aW9ucywgcGFyZW50KSB7XG4gICAgcmV0dXJuIGdldEdsb2JhbFRyYWNlUHJvdmlkZXIoKS5jcmVhdGVTcGFuKHtcbiAgICAgICAgLi4ub3B0aW9ucyxcbiAgICAgICAgZGF0YToge1xuICAgICAgICAgICAgdHlwZTogJ2Z1bmN0aW9uJyxcbiAgICAgICAgICAgIGlucHV0OiBvcHRpb25zPy5kYXRhPy5pbnB1dCA/PyAnJyxcbiAgICAgICAgICAgIG91dHB1dDogb3B0aW9ucz8uZGF0YT8ub3V0cHV0ID8/ICcnLFxuICAgICAgICAgICAgLi4ub3B0aW9ucz8uZGF0YSxcbiAgICAgICAgfSxcbiAgICB9LCBwYXJlbnQpO1xufVxuLyoqXG4gKiBDcmVhdGUgYSBuZXcgZnVuY3Rpb24gc3BhbiBhbmQgYXV0b21hdGljYWxseSBzdGFydCBhbmQgZW5kIGl0LlxuICovXG5leHBvcnQgY29uc3Qgd2l0aEZ1bmN0aW9uU3BhbiA9IF93aXRoU3BhbkZhY3RvcnkoY3JlYXRlRnVuY3Rpb25TcGFuKTtcbi8qKlxuICogQ3JlYXRlIGEgbmV3IGhhbmRvZmYgc3Bhbi4gVGhlIHNwYW4gd2lsbCBub3QgYmUgc3RhcnRlZCBhdXRvbWF0aWNhbGx5LCB5b3Ugc2hvdWxkIGVpdGhlclxuICogdXNlIGB3aXRoSGFuZG9mZlNwYW4oKWAgb3IgY2FsbCBgc3Bhbi5zdGFydCgpYCBhbmQgYHNwYW4uZW5kKClgIG1hbnVhbGx5LlxuICpcbiAqIEBwYXJhbSBvcHRpb25zIC0gT3B0aW9uYWwgc3BhbiBjcmVhdGlvbiBvcHRpb25zLCBpbmNsdWRpbmcgc3BhbiBkYXRhIGFuZCBpZGVudGlmaWVycy5cbiAqIEBwYXJhbSBwYXJlbnQgLSBUaGUgcGFyZW50IHNwYW4gb3IgdHJhY2UuIElmIG5vdCBwcm92aWRlZCwgdGhlIGN1cnJlbnQgdHJhY2Uvc3BhbiB3aWxsIGJlIHVzZWRcbiAqIGF1dG9tYXRpY2FsbHkuXG4gKlxuICogQHJldHVybnMgVGhlIG5ld2x5IGNyZWF0ZWQgaGFuZG9mZiBzcGFuLlxuICovXG5leHBvcnQgZnVuY3Rpb24gY3JlYXRlSGFuZG9mZlNwYW4ob3B0aW9ucywgcGFyZW50KSB7XG4gICAgcmV0dXJuIGdldEdsb2JhbFRyYWNlUHJvdmlkZXIoKS5jcmVhdGVTcGFuKHtcbiAgICAgICAgLi4ub3B0aW9ucyxcbiAgICAgICAgZGF0YTogeyB0eXBlOiAnaGFuZG9mZicsIC4uLm9wdGlvbnM/LmRhdGEgfSxcbiAgICB9LCBwYXJlbnQpO1xufVxuLyoqXG4gKiBDcmVhdGUgYSBuZXcgaGFuZG9mZiBzcGFuIGFuZCBhdXRvbWF0aWNhbGx5IHN0YXJ0IGFuZCBlbmQgaXQuXG4gKi9cbmV4cG9ydCBjb25zdCB3aXRoSGFuZG9mZlNwYW4gPSBfd2l0aFNwYW5GYWN0b3J5KGNyZWF0ZUhhbmRvZmZTcGFuKTtcbi8qKlxuICogQ3JlYXRlIGEgbmV3IGdlbmVyYXRpb24gc3Bhbi4gVGhlIHNwYW4gd2lsbCBub3QgYmUgc3RhcnRlZCBhdXRvbWF0aWNhbGx5LCB5b3Ugc2hvdWxkIGVpdGhlclxuICogdXNlIGB3aXRoR2VuZXJhdGlvblNwYW4oKWAgb3IgY2FsbCBgc3Bhbi5zdGFydCgpYCBhbmQgYHNwYW4uZW5kKClgIG1hbnVhbGx5LlxuICpcbiAqIFRoaXMgc3BhbiBjYXB0dXJlcyB0aGUgZGV0YWlscyBvZiBhIG1vZGVsIGdlbmVyYXRpb24sIGluY2x1ZGluZyBpbnB1dC9vdXRwdXQgbWVzc2FnZVxuICogc2VxdWVuY2VzLCBtb2RlbCBpbmZvcm1hdGlvbiwgYW5kIHVzYWdlIGRhdGEuIElmIHlvdSBvbmx5IG5lZWQgdG8gY2FwdHVyZSBhIG1vZGVsIHJlc3BvbnNlXG4gKiBpZGVudGlmaWVyLCBjb25zaWRlciB1c2luZyBgY3JlYXRlUmVzcG9uc2VTcGFuKClgIGluc3RlYWQuXG4gKi9cbmV4cG9ydCBmdW5jdGlvbiBjcmVhdGVHZW5lcmF0aW9uU3BhbihvcHRpb25zLCBwYXJlbnQpIHtcbiAgICByZXR1cm4gZ2V0R2xvYmFsVHJhY2VQcm92aWRlcigpLmNyZWF0ZVNwYW4oe1xuICAgICAgICAuLi5vcHRpb25zLFxuICAgICAgICBkYXRhOiB7XG4gICAgICAgICAgICB0eXBlOiAnZ2VuZXJhdGlvbicsXG4gICAgICAgICAgICAuLi5vcHRpb25zPy5kYXRhLFxuICAgICAgICB9LFxuICAgIH0sIHBhcmVudCk7XG59XG4vKiogQXV0b21hdGljYWxseSBjcmVhdGUgYSBnZW5lcmF0aW9uIHNwYW4sIHJ1biBmbiBhbmQgY2xvc2UgdGhlIHNwYW4gKi9cbmV4cG9ydCBjb25zdCB3aXRoR2VuZXJhdGlvblNwYW4gPSBfd2l0aFNwYW5GYWN0b3J5KGNyZWF0ZUdlbmVyYXRpb25TcGFuKTtcbi8qKlxuICogQ3JlYXRlIGEgbmV3IGN1c3RvbSBzcGFuLiBUaGUgc3BhbiB3aWxsIG5vdCBiZSBzdGFydGVkIGF1dG9tYXRpY2FsbHksIHlvdSBzaG91bGQgZWl0aGVyIHVzZVxuICogYHdpdGhDdXN0b21TcGFuKClgIG9yIGNhbGwgYHNwYW4uc3RhcnQoKWAgYW5kIGBzcGFuLmVuZCgpYCBtYW51YWxseS5cbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIGNyZWF0ZUN1c3RvbVNwYW4ob3B0aW9ucywgcGFyZW50KSB7XG4gICAgcmV0dXJuIGdldEdsb2JhbFRyYWNlUHJvdmlkZXIoKS5jcmVhdGVTcGFuKHtcbiAgICAgICAgLi4ub3B0aW9ucyxcbiAgICAgICAgZGF0YToge1xuICAgICAgICAgICAgdHlwZTogJ2N1c3RvbScsXG4gICAgICAgICAgICBkYXRhOiB7fSxcbiAgICAgICAgICAgIC4uLm9wdGlvbnM/LmRhdGEsXG4gICAgICAgIH0sXG4gICAgfSwgcGFyZW50KTtcbn1cbmV4cG9ydCBjb25zdCB3aXRoQ3VzdG9tU3BhbiA9IF93aXRoU3BhbkZhY3RvcnkoY3JlYXRlQ3VzdG9tU3Bhbik7XG4vKipcbiAqIENyZWF0ZSBhIG5ldyBndWFyZHJhaWwgc3Bhbi4gVGhlIHNwYW4gd2lsbCBub3QgYmUgc3RhcnRlZCBhdXRvbWF0aWNhbGx5LCB5b3Ugc2hvdWxkIGVpdGhlciB1c2VcbiAqIGB3aXRoR3VhcmRyYWlsU3BhbigpYCBvciBjYWxsIGBzcGFuLnN0YXJ0KClgIGFuZCBgc3Bhbi5lbmQoKWAgbWFudWFsbHkuXG4gKi9cbmV4cG9ydCBmdW5jdGlvbiBjcmVhdGVHdWFyZHJhaWxTcGFuKG9wdGlvbnMsIHBhcmVudCkge1xuICAgIHJldHVybiBnZXRHbG9iYWxUcmFjZVByb3ZpZGVyKCkuY3JlYXRlU3Bhbih7XG4gICAgICAgIC4uLm9wdGlvbnMsXG4gICAgICAgIGRhdGE6IHtcbiAgICAgICAgICAgIHR5cGU6ICdndWFyZHJhaWwnLFxuICAgICAgICAgICAgdHJpZ2dlcmVkOiBmYWxzZSxcbiAgICAgICAgICAgIC4uLm9wdGlvbnM/LmRhdGEsXG4gICAgICAgIH0sXG4gICAgfSwgcGFyZW50KTtcbn1cbmV4cG9ydCBjb25zdCB3aXRoR3VhcmRyYWlsU3BhbiA9IF93aXRoU3BhbkZhY3RvcnkoY3JlYXRlR3VhcmRyYWlsU3Bhbik7XG4vKipcbiAqIENyZWF0ZSBhIG5ldyB0cmFuc2NyaXB0aW9uIHNwYW4uIFRoZSBzcGFuIHdpbGwgbm90IGJlIHN0YXJ0ZWQgYXV0b21hdGljYWxseS5cbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIGNyZWF0ZVRyYW5zY3JpcHRpb25TcGFuKG9wdGlvbnMsIHBhcmVudCkge1xuICAgIHJldHVybiBnZXRHbG9iYWxUcmFjZVByb3ZpZGVyKCkuY3JlYXRlU3Bhbih7XG4gICAgICAgIC4uLm9wdGlvbnMsXG4gICAgICAgIGRhdGE6IHtcbiAgICAgICAgICAgIHR5cGU6ICd0cmFuc2NyaXB0aW9uJyxcbiAgICAgICAgICAgIC4uLm9wdGlvbnMuZGF0YSxcbiAgICAgICAgfSxcbiAgICB9LCBwYXJlbnQpO1xufVxuZXhwb3J0IGNvbnN0IHdpdGhUcmFuc2NyaXB0aW9uU3BhbiA9IF93aXRoU3BhbkZhY3RvcnkoY3JlYXRlVHJhbnNjcmlwdGlvblNwYW4pO1xuLyoqXG4gKiBDcmVhdGUgYSBuZXcgc3BlZWNoIHNwYW4uIFRoZSBzcGFuIHdpbGwgbm90IGJlIHN0YXJ0ZWQgYXV0b21hdGljYWxseS5cbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIGNyZWF0ZVNwZWVjaFNwYW4ob3B0aW9ucywgcGFyZW50KSB7XG4gICAgcmV0dXJuIGdldEdsb2JhbFRyYWNlUHJvdmlkZXIoKS5jcmVhdGVTcGFuKHtcbiAgICAgICAgLi4ub3B0aW9ucyxcbiAgICAgICAgZGF0YToge1xuICAgICAgICAgICAgdHlwZTogJ3NwZWVjaCcsXG4gICAgICAgICAgICAuLi5vcHRpb25zLmRhdGEsXG4gICAgICAgIH0sXG4gICAgfSwgcGFyZW50KTtcbn1cbmV4cG9ydCBjb25zdCB3aXRoU3BlZWNoU3BhbiA9IF93aXRoU3BhbkZhY3RvcnkoY3JlYXRlU3BlZWNoU3Bhbik7XG4vKipcbiAqIENyZWF0ZSBhIG5ldyBzcGVlY2ggZ3JvdXAgc3Bhbi4gVGhlIHNwYW4gd2lsbCBub3QgYmUgc3RhcnRlZCBhdXRvbWF0aWNhbGx5LlxuICovXG5leHBvcnQgZnVuY3Rpb24gY3JlYXRlU3BlZWNoR3JvdXBTcGFuKG9wdGlvbnMsIHBhcmVudCkge1xuICAgIHJldHVybiBnZXRHbG9iYWxUcmFjZVByb3ZpZGVyKCkuY3JlYXRlU3Bhbih7XG4gICAgICAgIC4uLm9wdGlvbnMsXG4gICAgICAgIGRhdGE6IHtcbiAgICAgICAgICAgIHR5cGU6ICdzcGVlY2hfZ3JvdXAnLFxuICAgICAgICAgICAgLi4ub3B0aW9ucz8uZGF0YSxcbiAgICAgICAgfSxcbiAgICB9LCBwYXJlbnQpO1xufVxuZXhwb3J0IGNvbnN0IHdpdGhTcGVlY2hHcm91cFNwYW4gPSBfd2l0aFNwYW5GYWN0b3J5KGNyZWF0ZVNwZWVjaEdyb3VwU3Bhbik7XG4vKipcbiAqIENyZWF0ZSBhIG5ldyBNQ1AgbGlzdCB0b29scyBzcGFuLiBUaGUgc3BhbiB3aWxsIG5vdCBiZSBzdGFydGVkIGF1dG9tYXRpY2FsbHkuXG4gKi9cbmV4cG9ydCBmdW5jdGlvbiBjcmVhdGVNQ1BMaXN0VG9vbHNTcGFuKG9wdGlvbnMsIHBhcmVudCkge1xuICAgIHJldHVybiBnZXRHbG9iYWxUcmFjZVByb3ZpZGVyKCkuY3JlYXRlU3Bhbih7XG4gICAgICAgIC4uLm9wdGlvbnMsXG4gICAgICAgIGRhdGE6IHtcbiAgICAgICAgICAgIHR5cGU6ICdtY3BfdG9vbHMnLFxuICAgICAgICAgICAgLi4ub3B0aW9ucz8uZGF0YSxcbiAgICAgICAgfSxcbiAgICB9LCBwYXJlbnQpO1xufVxuZXhwb3J0IGNvbnN0IHdpdGhNQ1BMaXN0VG9vbHNTcGFuID0gX3dpdGhTcGFuRmFjdG9yeShjcmVhdGVNQ1BMaXN0VG9vbHNTcGFuKTtcbi8vIyBzb3VyY2VNYXBwaW5nVVJMPWNyZWF0ZVNwYW5zLm1qcy5tYXAiLCIvKipcbiAqIEVuY29kZSBhIFVpbnQ4QXJyYXkgaW50byBhIGJhc2U2NCBzdHJpbmcgaW4gYm90aCBOb2RlIGFuZCBicm93c2VyIGVudmlyb25tZW50cy5cbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIGVuY29kZVVpbnQ4QXJyYXlUb0Jhc2U2NChkYXRhKSB7XG4gICAgaWYgKGRhdGEubGVuZ3RoID09PSAwKSB7XG4gICAgICAgIHJldHVybiAnJztcbiAgICB9XG4gICAgY29uc3QgZ2xvYmFsQnVmZmVyID0gdHlwZW9mIGdsb2JhbFRoaXMgIT09ICd1bmRlZmluZWQnICYmIGdsb2JhbFRoaXMuQnVmZmVyXG4gICAgICAgID8gZ2xvYmFsVGhpcy5CdWZmZXJcbiAgICAgICAgOiB1bmRlZmluZWQ7XG4gICAgaWYgKGdsb2JhbEJ1ZmZlcikge1xuICAgICAgICByZXR1cm4gZ2xvYmFsQnVmZmVyLmZyb20oZGF0YSkudG9TdHJpbmcoJ2Jhc2U2NCcpO1xuICAgIH1cbiAgICBsZXQgYmluYXJ5ID0gJyc7XG4gICAgZm9yIChsZXQgaSA9IDA7IGkgPCBkYXRhLmxlbmd0aDsgaSArPSAxKSB7XG4gICAgICAgIGJpbmFyeSArPSBTdHJpbmcuZnJvbUNoYXJDb2RlKGRhdGFbaV0pO1xuICAgIH1cbiAgICBpZiAodHlwZW9mIGdsb2JhbFRoaXMuYnRvYSA9PT0gJ2Z1bmN0aW9uJykge1xuICAgICAgICByZXR1cm4gZ2xvYmFsVGhpcy5idG9hKGJpbmFyeSk7XG4gICAgfVxuICAgIGNvbnN0IGNoYXJzID0gJ0FCQ0RFRkdISUpLTE1OT1BRUlNUVVZXWFlaYWJjZGVmZ2hpamtsbW5vcHFyc3R1dnd4eXowMTIzNDU2Nzg5Ky89JztcbiAgICBsZXQgcmVzdWx0ID0gJyc7XG4gICAgbGV0IGkgPSAwO1xuICAgIHdoaWxlIChpIDwgYmluYXJ5Lmxlbmd0aCkge1xuICAgICAgICBjb25zdCBjMSA9IGJpbmFyeS5jaGFyQ29kZUF0KGkrKyk7XG4gICAgICAgIGNvbnN0IGMyID0gYmluYXJ5LmNoYXJDb2RlQXQoaSsrKTtcbiAgICAgICAgY29uc3QgYzMgPSBiaW5hcnkuY2hhckNvZGVBdChpKyspO1xuICAgICAgICBjb25zdCBlbmMxID0gYzEgPj4gMjtcbiAgICAgICAgY29uc3QgZW5jMiA9ICgoYzEgJiAweDMpIDw8IDQpIHwgKGMyID4+IDQpO1xuICAgICAgICBjb25zdCBlbmMzID0gaXNOYU4oYzIpID8gNjQgOiAoKGMyICYgMHhmKSA8PCAyKSB8IChjMyA+PiA2KTtcbiAgICAgICAgY29uc3QgZW5jNCA9IGlzTmFOKGMzKSA/IDY0IDogYzMgJiAweDNmO1xuICAgICAgICByZXN1bHQgKz1cbiAgICAgICAgICAgIGNoYXJzLmNoYXJBdChlbmMxKSArXG4gICAgICAgICAgICAgICAgY2hhcnMuY2hhckF0KGVuYzIpICtcbiAgICAgICAgICAgICAgICBjaGFycy5jaGFyQXQoZW5jMykgK1xuICAgICAgICAgICAgICAgIGNoYXJzLmNoYXJBdChlbmM0KTtcbiAgICB9XG4gICAgcmV0dXJuIHJlc3VsdDtcbn1cbi8vIyBzb3VyY2VNYXBwaW5nVVJMPWJhc2U2NC5tanMubWFwIiwiLyoqXG4gKiBTdHJlYW1pbmcgZXZlbnQgZnJvbSB0aGUgTExNLiBUaGVzZSBhcmUgYHJhd2AgZXZlbnRzLCBpLmUuIHRoZXkgYXJlIGRpcmVjdGx5IHBhc3NlZCB0aHJvdWdoIGZyb21cbiAqIHRoZSBMTE0uXG4gKi9cbmV4cG9ydCBjbGFzcyBSdW5SYXdNb2RlbFN0cmVhbUV2ZW50IHtcbiAgICBkYXRhO1xuICAgIC8qKlxuICAgICAqIFRoZSB0eXBlIG9mIHRoZSBldmVudC5cbiAgICAgKi9cbiAgICB0eXBlID0gJ3Jhd19tb2RlbF9zdHJlYW1fZXZlbnQnO1xuICAgIC8qKlxuICAgICAqIEBwYXJhbSBkYXRhIFRoZSByYXcgcmVzcG9uc2VzIHN0cmVhbSBldmVudHMgZnJvbSB0aGUgTExNLlxuICAgICAqL1xuICAgIGNvbnN0cnVjdG9yKGRhdGEpIHtcbiAgICAgICAgdGhpcy5kYXRhID0gZGF0YTtcbiAgICB9XG59XG4vKipcbiAqIFN0cmVhbWluZyBldmVudHMgdGhhdCB3cmFwIGEgYFJ1bkl0ZW1gLiBBcyB0aGUgYWdlbnQgcHJvY2Vzc2VzIHRoZSBMTE0gcmVzcG9uc2UsIGl0IHdpbGwgZ2VuZXJhdGVcbiAqIHRoZXNlIGV2ZW50cyBmcm9tIG5ldyBtZXNzYWdlcywgdG9vbCBjYWxscywgdG9vbCBvdXRwdXRzLCBoYW5kb2ZmcywgZXRjLlxuICovXG5leHBvcnQgY2xhc3MgUnVuSXRlbVN0cmVhbUV2ZW50IHtcbiAgICBuYW1lO1xuICAgIGl0ZW07XG4gICAgdHlwZSA9ICdydW5faXRlbV9zdHJlYW1fZXZlbnQnO1xuICAgIC8qKlxuICAgICAqIEBwYXJhbSBuYW1lIFRoZSBuYW1lIG9mIHRoZSBldmVudC5cbiAgICAgKiBAcGFyYW0gaXRlbSBUaGUgaXRlbSB0aGF0IHdhcyBjcmVhdGVkLlxuICAgICAqL1xuICAgIGNvbnN0cnVjdG9yKG5hbWUsIGl0ZW0pIHtcbiAgICAgICAgdGhpcy5uYW1lID0gbmFtZTtcbiAgICAgICAgdGhpcy5pdGVtID0gaXRlbTtcbiAgICB9XG59XG4vKipcbiAqIEV2ZW50IHRoYXQgbm90aWZpZXMgdGhhdCB0aGVyZSBpcyBhIG5ldyBhZ2VudCBydW5uaW5nLlxuICovXG5leHBvcnQgY2xhc3MgUnVuQWdlbnRVcGRhdGVkU3RyZWFtRXZlbnQge1xuICAgIGFnZW50O1xuICAgIHR5cGUgPSAnYWdlbnRfdXBkYXRlZF9zdHJlYW1fZXZlbnQnO1xuICAgIC8qKlxuICAgICAqIEBwYXJhbSBhZ2VudCBUaGUgbmV3IGFnZW50XG4gICAgICovXG4gICAgY29uc3RydWN0b3IoYWdlbnQpIHtcbiAgICAgICAgdGhpcy5hZ2VudCA9IGFnZW50O1xuICAgIH1cbn1cbi8vIyBzb3VyY2VNYXBwaW5nVVJMPWV2ZW50cy5tanMubWFwIiwiaW1wb3J0IHsgY29uc3VtZUFnZW50VG9vbFJ1blJlc3VsdCwgfSBmcm9tIFwiLi9hZ2VudC5tanNcIjtcbmltcG9ydCB7IE1vZGVsQmVoYXZpb3JFcnJvciwgVG9vbENhbGxFcnJvciwgVXNlckVycm9yIH0gZnJvbSBcIi4vZXJyb3JzLm1qc1wiO1xuaW1wb3J0IHsgZ2V0VHJhbnNmZXJNZXNzYWdlIH0gZnJvbSBcIi4vaGFuZG9mZi5tanNcIjtcbmltcG9ydCB7IFJ1bkhhbmRvZmZDYWxsSXRlbSwgUnVuSGFuZG9mZk91dHB1dEl0ZW0sIFJ1bk1lc3NhZ2VPdXRwdXRJdGVtLCBSdW5SZWFzb25pbmdJdGVtLCBSdW5Ub29sQXBwcm92YWxJdGVtLCBSdW5Ub29sQ2FsbEl0ZW0sIFJ1blRvb2xDYWxsT3V0cHV0SXRlbSwgfSBmcm9tIFwiLi9pdGVtcy5tanNcIjtcbmltcG9ydCBsb2dnZXIgZnJvbSBcIi4vbG9nZ2VyLm1qc1wiO1xuaW1wb3J0IHsgZ2V0TGFzdFRleHRGcm9tT3V0cHV0TWVzc2FnZSB9IGZyb20gXCIuL3V0aWxzL21lc3NhZ2VzLm1qc1wiO1xuaW1wb3J0IHsgd2l0aEZ1bmN0aW9uU3Bhbiwgd2l0aEhhbmRvZmZTcGFuIH0gZnJvbSBcIi4vdHJhY2luZy9jcmVhdGVTcGFucy5tanNcIjtcbmltcG9ydCB7IGdldFNjaGVtYUFuZFBhcnNlckZyb21JbnB1dFR5cGUgfSBmcm9tIFwiLi91dGlscy90b29scy5tanNcIjtcbmltcG9ydCB7IGVuY29kZVVpbnQ4QXJyYXlUb0Jhc2U2NCB9IGZyb20gXCIuL3V0aWxzL2Jhc2U2NC5tanNcIjtcbmltcG9ydCB7IGlzQXJyYXlCdWZmZXJWaWV3LCBpc05vZGVCdWZmZXIsIGlzU2VyaWFsaXplZEJ1ZmZlclNuYXBzaG90LCB0b1NtYXJ0U3RyaW5nLCB9IGZyb20gXCIuL3V0aWxzL3NtYXJ0U3RyaW5nLm1qc1wiO1xuaW1wb3J0IHsgc2FmZUV4ZWN1dGUgfSBmcm9tIFwiLi91dGlscy9zYWZlRXhlY3V0ZS5tanNcIjtcbmltcG9ydCB7IGFkZEVycm9yVG9DdXJyZW50U3BhbiB9IGZyb20gXCIuL3RyYWNpbmcvY29udGV4dC5tanNcIjtcbmltcG9ydCB7IFJ1bkl0ZW1TdHJlYW1FdmVudCB9IGZyb20gXCIuL2V2ZW50cy5tanNcIjtcbmltcG9ydCB7IHogfSBmcm9tICd6b2QnO1xuaW1wb3J0IHsgaXNab2RPYmplY3QgfSBmcm9tIFwiLi91dGlscy9pbmRleC5tanNcIjtcbmZ1bmN0aW9uIGlzQXBwcm92YWxJdGVtTGlrZSh2YWx1ZSkge1xuICAgIGlmICghdmFsdWUgfHwgdHlwZW9mIHZhbHVlICE9PSAnb2JqZWN0Jykge1xuICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgfVxuICAgIGlmICghKCdyYXdJdGVtJyBpbiB2YWx1ZSkpIHtcbiAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgIH1cbiAgICBjb25zdCByYXdJdGVtID0gdmFsdWUucmF3SXRlbTtcbiAgICBpZiAoIXJhd0l0ZW0gfHwgdHlwZW9mIHJhd0l0ZW0gIT09ICdvYmplY3QnKSB7XG4gICAgICAgIHJldHVybiBmYWxzZTtcbiAgICB9XG4gICAgY29uc3QgaXRlbVR5cGUgPSByYXdJdGVtLnR5cGU7XG4gICAgcmV0dXJuIGl0ZW1UeXBlID09PSAnZnVuY3Rpb25fY2FsbCcgfHwgaXRlbVR5cGUgPT09ICdob3N0ZWRfdG9vbF9jYWxsJztcbn1cbmZ1bmN0aW9uIGdldEFwcHJvdmFsSWRlbnRpdHkoYXBwcm92YWwpIHtcbiAgICBjb25zdCByYXdJdGVtID0gYXBwcm92YWwucmF3SXRlbTtcbiAgICBpZiAoIXJhd0l0ZW0pIHtcbiAgICAgICAgcmV0dXJuIHVuZGVmaW5lZDtcbiAgICB9XG4gICAgaWYgKHJhd0l0ZW0udHlwZSA9PT0gJ2Z1bmN0aW9uX2NhbGwnICYmIHJhd0l0ZW0uY2FsbElkKSB7XG4gICAgICAgIHJldHVybiBgZnVuY3Rpb25fY2FsbDoke3Jhd0l0ZW0uY2FsbElkfWA7XG4gICAgfVxuICAgIGlmICgnY2FsbElkJyBpbiByYXdJdGVtICYmIHJhd0l0ZW0uY2FsbElkKSB7XG4gICAgICAgIHJldHVybiBgJHtyYXdJdGVtLnR5cGV9OiR7cmF3SXRlbS5jYWxsSWR9YDtcbiAgICB9XG4gICAgY29uc3QgaWQgPSAnaWQnIGluIHJhd0l0ZW0gPyByYXdJdGVtLmlkIDogdW5kZWZpbmVkO1xuICAgIGlmIChpZCkge1xuICAgICAgICByZXR1cm4gYCR7cmF3SXRlbS50eXBlfToke2lkfWA7XG4gICAgfVxuICAgIGNvbnN0IHByb3ZpZGVyRGF0YSA9IHR5cGVvZiByYXdJdGVtLnByb3ZpZGVyRGF0YSA9PT0gJ29iamVjdCcgJiYgcmF3SXRlbS5wcm92aWRlckRhdGFcbiAgICAgICAgPyByYXdJdGVtLnByb3ZpZGVyRGF0YVxuICAgICAgICA6IHVuZGVmaW5lZDtcbiAgICBpZiAocHJvdmlkZXJEYXRhPy5pZCkge1xuICAgICAgICByZXR1cm4gYCR7cmF3SXRlbS50eXBlfTpwcm92aWRlcjoke3Byb3ZpZGVyRGF0YS5pZH1gO1xuICAgIH1cbiAgICBjb25zdCBhZ2VudE5hbWUgPSAnYWdlbnQnIGluIGFwcHJvdmFsICYmIGFwcHJvdmFsLmFnZW50ID8gYXBwcm92YWwuYWdlbnQubmFtZSA6ICcnO1xuICAgIHRyeSB7XG4gICAgICAgIHJldHVybiBgJHthZ2VudE5hbWV9OiR7cmF3SXRlbS50eXBlfToke0pTT04uc3RyaW5naWZ5KHJhd0l0ZW0pfWA7XG4gICAgfVxuICAgIGNhdGNoIHtcbiAgICAgICAgcmV0dXJuIGAke2FnZW50TmFtZX06JHtyYXdJdGVtLnR5cGV9YDtcbiAgICB9XG59XG5mdW5jdGlvbiBmb3JtYXRGaW5hbE91dHB1dFR5cGVFcnJvcihlcnJvcikge1xuICAgIC8vIFN1cmZhY2Ugc3RydWN0dXJlZCBvdXRwdXQgdmFsaWRhdGlvbiBoaW50cyB3aXRob3V0IGVjaG9pbmcgcG90ZW50aWFsbHkgbGFyZ2Ugb3Igc2Vuc2l0aXZlIHBheWxvYWRzLlxuICAgIHRyeSB7XG4gICAgICAgIGlmIChlcnJvciBpbnN0YW5jZW9mIHouWm9kRXJyb3IpIHtcbiAgICAgICAgICAgIGNvbnN0IGlzc3VlID0gZXJyb3IuaXNzdWVzWzBdO1xuICAgICAgICAgICAgaWYgKGlzc3VlKSB7XG4gICAgICAgICAgICAgICAgY29uc3QgaXNzdWVQYXRoUGFydHMgPSBBcnJheS5pc0FycmF5KGlzc3VlLnBhdGgpID8gaXNzdWUucGF0aCA6IFtdO1xuICAgICAgICAgICAgICAgIGNvbnN0IGlzc3VlUGF0aCA9IGlzc3VlUGF0aFBhcnRzLmxlbmd0aCA+IDBcbiAgICAgICAgICAgICAgICAgICAgPyBpc3N1ZVBhdGhQYXJ0cy5tYXAoKHBhcnQpID0+IFN0cmluZyhwYXJ0KSkuam9pbignLicpXG4gICAgICAgICAgICAgICAgICAgIDogJyhyb290KSc7XG4gICAgICAgICAgICAgICAgY29uc3QgbWVzc2FnZSA9IHRydW5jYXRlRm9yRGV2ZWxvcGVyKGlzc3VlLm1lc3NhZ2UgPz8gJycpO1xuICAgICAgICAgICAgICAgIHJldHVybiBgSW52YWxpZCBvdXRwdXQgdHlwZTogZmluYWwgYXNzaXN0YW50IG91dHB1dCBmYWlsZWQgc2NoZW1hIHZhbGlkYXRpb24gYXQgXCIke2lzc3VlUGF0aH1cIiAoJHttZXNzYWdlfSkuYDtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHJldHVybiAnSW52YWxpZCBvdXRwdXQgdHlwZTogZmluYWwgYXNzaXN0YW50IG91dHB1dCBmYWlsZWQgc2NoZW1hIHZhbGlkYXRpb24uJztcbiAgICAgICAgfVxuICAgICAgICBpZiAoZXJyb3IgaW5zdGFuY2VvZiBFcnJvciAmJiBlcnJvci5tZXNzYWdlKSB7XG4gICAgICAgICAgICByZXR1cm4gYEludmFsaWQgb3V0cHV0IHR5cGU6ICR7dHJ1bmNhdGVGb3JEZXZlbG9wZXIoZXJyb3IubWVzc2FnZSl9YDtcbiAgICAgICAgfVxuICAgIH1cbiAgICBjYXRjaCB7XG4gICAgICAgIC8vIFN3YWxsb3cgZm9ybWF0dGluZyBlcnJvcnMgc28gd2UgY2FuIHJldHVybiBhIGdlbmVyaWMgbWVzc2FnZSBiZWxvdy5cbiAgICB9XG4gICAgcmV0dXJuICdJbnZhbGlkIG91dHB1dCB0eXBlOiBmaW5hbCBhc3Npc3RhbnQgb3V0cHV0IGRpZCBub3QgbWF0Y2ggdGhlIGV4cGVjdGVkIHNjaGVtYS4nO1xufVxuZnVuY3Rpb24gdHJ1bmNhdGVGb3JEZXZlbG9wZXIobWVzc2FnZSwgbWF4TGVuZ3RoID0gMTYwKSB7XG4gICAgY29uc3QgdHJpbW1lZCA9IG1lc3NhZ2UudHJpbSgpO1xuICAgIGlmICghdHJpbW1lZCkge1xuICAgICAgICByZXR1cm4gJ1NjaGVtYSB2YWxpZGF0aW9uIGZhaWxlZC4nO1xuICAgIH1cbiAgICBpZiAodHJpbW1lZC5sZW5ndGggPD0gbWF4TGVuZ3RoKSB7XG4gICAgICAgIHJldHVybiB0cmltbWVkO1xuICAgIH1cbiAgICByZXR1cm4gYCR7dHJpbW1lZC5zbGljZSgwLCBtYXhMZW5ndGggLSAzKX0uLi5gO1xufVxuLyoqXG4gKiBAaW50ZXJuYWxcbiAqIFdhbGtzIGEgcmF3IG1vZGVsIHJlc3BvbnNlIGFuZCBjbGFzc2lmaWVzIGVhY2ggaXRlbSBzbyB0aGUgcnVubmVyIGNhbiBzY2hlZHVsZSBmb2xsb3ctdXAgd29yay5cbiAqIFJldHVybnMgYm90aCB0aGUgc2VyaWFsaXphYmxlIFJ1bkl0ZW1zIChmb3IgaGlzdG9yeS9zdHJlYW1pbmcpIGFuZCB0aGUgYWN0aW9uYWJsZSB0b29sIG1ldGFkYXRhLlxuICovXG5leHBvcnQgZnVuY3Rpb24gcHJvY2Vzc01vZGVsUmVzcG9uc2UobW9kZWxSZXNwb25zZSwgYWdlbnQsIHRvb2xzLCBoYW5kb2Zmcykge1xuICAgIGNvbnN0IGl0ZW1zID0gW107XG4gICAgY29uc3QgcnVuSGFuZG9mZnMgPSBbXTtcbiAgICBjb25zdCBydW5GdW5jdGlvbnMgPSBbXTtcbiAgICBjb25zdCBydW5Db21wdXRlckFjdGlvbnMgPSBbXTtcbiAgICBjb25zdCBydW5TaGVsbEFjdGlvbnMgPSBbXTtcbiAgICBjb25zdCBydW5BcHBseVBhdGNoQWN0aW9ucyA9IFtdO1xuICAgIGNvbnN0IHJ1bk1DUEFwcHJvdmFsUmVxdWVzdHMgPSBbXTtcbiAgICBjb25zdCB0b29sc1VzZWQgPSBbXTtcbiAgICBjb25zdCBoYW5kb2ZmTWFwID0gbmV3IE1hcChoYW5kb2Zmcy5tYXAoKGgpID0+IFtoLnRvb2xOYW1lLCBoXSkpO1xuICAgIC8vIFJlc29sdmUgdG9vbHMgdXBmcm9udCBzbyB3ZSBjYW4gbG9vayB1cCB0aGUgY29uY3JldGUgaGFuZGxlciBpbiBPKDEpIHdoaWxlIGl0ZXJhdGluZyBvdXRwdXRzLlxuICAgIGNvbnN0IGZ1bmN0aW9uTWFwID0gbmV3IE1hcCh0b29scy5maWx0ZXIoKHQpID0+IHQudHlwZSA9PT0gJ2Z1bmN0aW9uJykubWFwKCh0KSA9PiBbdC5uYW1lLCB0XSkpO1xuICAgIGNvbnN0IGNvbXB1dGVyVG9vbCA9IHRvb2xzLmZpbmQoKHQpID0+IHQudHlwZSA9PT0gJ2NvbXB1dGVyJyk7XG4gICAgY29uc3Qgc2hlbGxUb29sID0gdG9vbHMuZmluZCgodCkgPT4gdC50eXBlID09PSAnc2hlbGwnKTtcbiAgICBjb25zdCBhcHBseVBhdGNoVG9vbCA9IHRvb2xzLmZpbmQoKHQpID0+IHQudHlwZSA9PT0gJ2FwcGx5X3BhdGNoJyk7XG4gICAgY29uc3QgbWNwVG9vbE1hcCA9IG5ldyBNYXAodG9vbHNcbiAgICAgICAgLmZpbHRlcigodCkgPT4gdC50eXBlID09PSAnaG9zdGVkX3Rvb2wnICYmIHQucHJvdmlkZXJEYXRhPy50eXBlID09PSAnbWNwJylcbiAgICAgICAgLm1hcCgodCkgPT4gdClcbiAgICAgICAgLm1hcCgodCkgPT4gW3QucHJvdmlkZXJEYXRhLnNlcnZlcl9sYWJlbCwgdF0pKTtcbiAgICBmb3IgKGNvbnN0IG91dHB1dCBvZiBtb2RlbFJlc3BvbnNlLm91dHB1dCkge1xuICAgICAgICBpZiAob3V0cHV0LnR5cGUgPT09ICdtZXNzYWdlJykge1xuICAgICAgICAgICAgaWYgKG91dHB1dC5yb2xlID09PSAnYXNzaXN0YW50Jykge1xuICAgICAgICAgICAgICAgIGl0ZW1zLnB1c2gobmV3IFJ1bk1lc3NhZ2VPdXRwdXRJdGVtKG91dHB1dCwgYWdlbnQpKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICBlbHNlIGlmIChvdXRwdXQudHlwZSA9PT0gJ2hvc3RlZF90b29sX2NhbGwnKSB7XG4gICAgICAgICAgICBpdGVtcy5wdXNoKG5ldyBSdW5Ub29sQ2FsbEl0ZW0ob3V0cHV0LCBhZ2VudCkpO1xuICAgICAgICAgICAgY29uc3QgdG9vbE5hbWUgPSBvdXRwdXQubmFtZTtcbiAgICAgICAgICAgIHRvb2xzVXNlZC5wdXNoKHRvb2xOYW1lKTtcbiAgICAgICAgICAgIGlmIChvdXRwdXQucHJvdmlkZXJEYXRhPy50eXBlID09PSAnbWNwX2FwcHJvdmFsX3JlcXVlc3QnIHx8XG4gICAgICAgICAgICAgICAgb3V0cHV0Lm5hbWUgPT09ICdtY3BfYXBwcm92YWxfcmVxdWVzdCcpIHtcbiAgICAgICAgICAgICAgICAvLyBIb3N0ZWQgcmVtb3RlIE1DUCBzZXJ2ZXIncyBhcHByb3ZhbCBwcm9jZXNzXG4gICAgICAgICAgICAgICAgY29uc3QgcHJvdmlkZXJEYXRhID0gb3V0cHV0LnByb3ZpZGVyRGF0YTtcbiAgICAgICAgICAgICAgICBjb25zdCBtY3BTZXJ2ZXJMYWJlbCA9IHByb3ZpZGVyRGF0YS5zZXJ2ZXJfbGFiZWw7XG4gICAgICAgICAgICAgICAgY29uc3QgbWNwU2VydmVyVG9vbCA9IG1jcFRvb2xNYXAuZ2V0KG1jcFNlcnZlckxhYmVsKTtcbiAgICAgICAgICAgICAgICBpZiAodHlwZW9mIG1jcFNlcnZlclRvb2wgPT09ICd1bmRlZmluZWQnKSB7XG4gICAgICAgICAgICAgICAgICAgIGNvbnN0IG1lc3NhZ2UgPSBgTUNQIHNlcnZlciAoJHttY3BTZXJ2ZXJMYWJlbH0pIG5vdCBmb3VuZCBpbiBBZ2VudCAoJHthZ2VudC5uYW1lfSlgO1xuICAgICAgICAgICAgICAgICAgICBhZGRFcnJvclRvQ3VycmVudFNwYW4oe1xuICAgICAgICAgICAgICAgICAgICAgICAgbWVzc2FnZSxcbiAgICAgICAgICAgICAgICAgICAgICAgIGRhdGE6IHsgbWNwX3NlcnZlcl9sYWJlbDogbWNwU2VydmVyTGFiZWwgfSxcbiAgICAgICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICAgICAgICAgIHRocm93IG5ldyBNb2RlbEJlaGF2aW9yRXJyb3IobWVzc2FnZSk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIC8vIERvIHRoaXMgYXBwcm92YWwgbGF0ZXI6XG4gICAgICAgICAgICAgICAgLy8gV2Ugc3VwcG9ydCBib3RoIG9uQXBwcm92YWwgY2FsbGJhY2sgKGxpa2UgdGhlIFB5dGhvbiBTREsgZG9lcykgYW5kIEhJVEwgcGF0dGVybnMuXG4gICAgICAgICAgICAgICAgY29uc3QgYXBwcm92YWxJdGVtID0gbmV3IFJ1blRvb2xBcHByb3ZhbEl0ZW0oe1xuICAgICAgICAgICAgICAgICAgICB0eXBlOiAnaG9zdGVkX3Rvb2xfY2FsbCcsXG4gICAgICAgICAgICAgICAgICAgIC8vIFdlIG11c3QgdXNlIHRoaXMgbmFtZSB0byBhbGlnbiB3aXRoIHRoZSBuYW1lIHNlbnQgZnJvbSB0aGUgc2VydmVyc1xuICAgICAgICAgICAgICAgICAgICBuYW1lOiBwcm92aWRlckRhdGEubmFtZSxcbiAgICAgICAgICAgICAgICAgICAgaWQ6IHByb3ZpZGVyRGF0YS5pZCxcbiAgICAgICAgICAgICAgICAgICAgc3RhdHVzOiAnaW5fcHJvZ3Jlc3MnLFxuICAgICAgICAgICAgICAgICAgICBwcm92aWRlckRhdGEsXG4gICAgICAgICAgICAgICAgfSwgYWdlbnQpO1xuICAgICAgICAgICAgICAgIHJ1bk1DUEFwcHJvdmFsUmVxdWVzdHMucHVzaCh7XG4gICAgICAgICAgICAgICAgICAgIHJlcXVlc3RJdGVtOiBhcHByb3ZhbEl0ZW0sXG4gICAgICAgICAgICAgICAgICAgIG1jcFRvb2w6IG1jcFNlcnZlclRvb2wsXG4gICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICAgICAgaWYgKCFtY3BTZXJ2ZXJUb29sLnByb3ZpZGVyRGF0YS5vbl9hcHByb3ZhbCkge1xuICAgICAgICAgICAgICAgICAgICAvLyBXaGVuIG9uQXBwcm92YWwgZnVuY3Rpb24gZXhpc3RzLCBpdCBjb25maXJtcyB0aGUgYXBwcm92YWwgcmlnaHQgYWZ0ZXIgdGhpcy5cbiAgICAgICAgICAgICAgICAgICAgLy8gVGh1cywgdGhpcyBhcHByb3ZhbCBpdGVtIG11c3QgYmUgYXBwZW5kZWQgb25seSBmb3IgdGhlIG5leHQgdHVybiBpbnRlcnJ1cHRpb24gcGF0dGVybnMuXG4gICAgICAgICAgICAgICAgICAgIGl0ZW1zLnB1c2goYXBwcm92YWxJdGVtKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSBpZiAob3V0cHV0LnR5cGUgPT09ICdyZWFzb25pbmcnKSB7XG4gICAgICAgICAgICBpdGVtcy5wdXNoKG5ldyBSdW5SZWFzb25pbmdJdGVtKG91dHB1dCwgYWdlbnQpKTtcbiAgICAgICAgfVxuICAgICAgICBlbHNlIGlmIChvdXRwdXQudHlwZSA9PT0gJ2NvbXB1dGVyX2NhbGwnKSB7XG4gICAgICAgICAgICBpdGVtcy5wdXNoKG5ldyBSdW5Ub29sQ2FsbEl0ZW0ob3V0cHV0LCBhZ2VudCkpO1xuICAgICAgICAgICAgdG9vbHNVc2VkLnB1c2goJ2NvbXB1dGVyX3VzZScpO1xuICAgICAgICAgICAgaWYgKCFjb21wdXRlclRvb2wpIHtcbiAgICAgICAgICAgICAgICBhZGRFcnJvclRvQ3VycmVudFNwYW4oe1xuICAgICAgICAgICAgICAgICAgICBtZXNzYWdlOiAnTW9kZWwgcHJvZHVjZWQgY29tcHV0ZXIgYWN0aW9uIHdpdGhvdXQgYSBjb21wdXRlciB0b29sLicsXG4gICAgICAgICAgICAgICAgICAgIGRhdGE6IHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGFnZW50X25hbWU6IGFnZW50Lm5hbWUsXG4gICAgICAgICAgICAgICAgICAgIH0sXG4gICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICAgICAgdGhyb3cgbmV3IE1vZGVsQmVoYXZpb3JFcnJvcignTW9kZWwgcHJvZHVjZWQgY29tcHV0ZXIgYWN0aW9uIHdpdGhvdXQgYSBjb21wdXRlciB0b29sLicpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgcnVuQ29tcHV0ZXJBY3Rpb25zLnB1c2goe1xuICAgICAgICAgICAgICAgIHRvb2xDYWxsOiBvdXRwdXQsXG4gICAgICAgICAgICAgICAgY29tcHV0ZXI6IGNvbXB1dGVyVG9vbCxcbiAgICAgICAgICAgIH0pO1xuICAgICAgICB9XG4gICAgICAgIGVsc2UgaWYgKG91dHB1dC50eXBlID09PSAnc2hlbGxfY2FsbCcpIHtcbiAgICAgICAgICAgIGl0ZW1zLnB1c2gobmV3IFJ1blRvb2xDYWxsSXRlbShvdXRwdXQsIGFnZW50KSk7XG4gICAgICAgICAgICB0b29sc1VzZWQucHVzaCgnc2hlbGwnKTtcbiAgICAgICAgICAgIGlmICghc2hlbGxUb29sKSB7XG4gICAgICAgICAgICAgICAgYWRkRXJyb3JUb0N1cnJlbnRTcGFuKHtcbiAgICAgICAgICAgICAgICAgICAgbWVzc2FnZTogJ01vZGVsIHByb2R1Y2VkIHNoZWxsIGFjdGlvbiB3aXRob3V0IGEgc2hlbGwgdG9vbC4nLFxuICAgICAgICAgICAgICAgICAgICBkYXRhOiB7XG4gICAgICAgICAgICAgICAgICAgICAgICBhZ2VudF9uYW1lOiBhZ2VudC5uYW1lLFxuICAgICAgICAgICAgICAgICAgICB9LFxuICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgICAgIHRocm93IG5ldyBNb2RlbEJlaGF2aW9yRXJyb3IoJ01vZGVsIHByb2R1Y2VkIHNoZWxsIGFjdGlvbiB3aXRob3V0IGEgc2hlbGwgdG9vbC4nKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHJ1blNoZWxsQWN0aW9ucy5wdXNoKHtcbiAgICAgICAgICAgICAgICB0b29sQ2FsbDogb3V0cHV0LFxuICAgICAgICAgICAgICAgIHNoZWxsOiBzaGVsbFRvb2wsXG4gICAgICAgICAgICB9KTtcbiAgICAgICAgfVxuICAgICAgICBlbHNlIGlmIChvdXRwdXQudHlwZSA9PT0gJ2FwcGx5X3BhdGNoX2NhbGwnKSB7XG4gICAgICAgICAgICBpdGVtcy5wdXNoKG5ldyBSdW5Ub29sQ2FsbEl0ZW0ob3V0cHV0LCBhZ2VudCkpO1xuICAgICAgICAgICAgdG9vbHNVc2VkLnB1c2goJ2FwcGx5X3BhdGNoJyk7XG4gICAgICAgICAgICBpZiAoIWFwcGx5UGF0Y2hUb29sKSB7XG4gICAgICAgICAgICAgICAgYWRkRXJyb3JUb0N1cnJlbnRTcGFuKHtcbiAgICAgICAgICAgICAgICAgICAgbWVzc2FnZTogJ01vZGVsIHByb2R1Y2VkIGFwcGx5X3BhdGNoIGFjdGlvbiB3aXRob3V0IGFuIGFwcGx5X3BhdGNoIHRvb2wuJyxcbiAgICAgICAgICAgICAgICAgICAgZGF0YToge1xuICAgICAgICAgICAgICAgICAgICAgICAgYWdlbnRfbmFtZTogYWdlbnQubmFtZSxcbiAgICAgICAgICAgICAgICAgICAgfSxcbiAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgICAgICB0aHJvdyBuZXcgTW9kZWxCZWhhdmlvckVycm9yKCdNb2RlbCBwcm9kdWNlZCBhcHBseV9wYXRjaCBhY3Rpb24gd2l0aG91dCBhbiBhcHBseV9wYXRjaCB0b29sLicpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgcnVuQXBwbHlQYXRjaEFjdGlvbnMucHVzaCh7XG4gICAgICAgICAgICAgICAgdG9vbENhbGw6IG91dHB1dCxcbiAgICAgICAgICAgICAgICBhcHBseVBhdGNoOiBhcHBseVBhdGNoVG9vbCxcbiAgICAgICAgICAgIH0pO1xuICAgICAgICB9XG4gICAgICAgIGlmIChvdXRwdXQudHlwZSAhPT0gJ2Z1bmN0aW9uX2NhbGwnKSB7XG4gICAgICAgICAgICBjb250aW51ZTtcbiAgICAgICAgfVxuICAgICAgICB0b29sc1VzZWQucHVzaChvdXRwdXQubmFtZSk7XG4gICAgICAgIGNvbnN0IGhhbmRvZmYgPSBoYW5kb2ZmTWFwLmdldChvdXRwdXQubmFtZSk7XG4gICAgICAgIGlmIChoYW5kb2ZmKSB7XG4gICAgICAgICAgICBpdGVtcy5wdXNoKG5ldyBSdW5IYW5kb2ZmQ2FsbEl0ZW0ob3V0cHV0LCBhZ2VudCkpO1xuICAgICAgICAgICAgcnVuSGFuZG9mZnMucHVzaCh7XG4gICAgICAgICAgICAgICAgdG9vbENhbGw6IG91dHB1dCxcbiAgICAgICAgICAgICAgICBoYW5kb2ZmOiBoYW5kb2ZmLFxuICAgICAgICAgICAgfSk7XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICBjb25zdCBmdW5jdGlvblRvb2wgPSBmdW5jdGlvbk1hcC5nZXQob3V0cHV0Lm5hbWUpO1xuICAgICAgICAgICAgaWYgKCFmdW5jdGlvblRvb2wpIHtcbiAgICAgICAgICAgICAgICBhZGRFcnJvclRvQ3VycmVudFNwYW4oe1xuICAgICAgICAgICAgICAgICAgICBtZXNzYWdlOiBgVG9vbCAke291dHB1dC5uYW1lfSBub3QgZm91bmQgaW4gYWdlbnQgJHthZ2VudC5uYW1lfS5gLFxuICAgICAgICAgICAgICAgICAgICBkYXRhOiB7XG4gICAgICAgICAgICAgICAgICAgICAgICB0b29sX25hbWU6IG91dHB1dC5uYW1lLFxuICAgICAgICAgICAgICAgICAgICAgICAgYWdlbnRfbmFtZTogYWdlbnQubmFtZSxcbiAgICAgICAgICAgICAgICAgICAgfSxcbiAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgICAgICB0aHJvdyBuZXcgTW9kZWxCZWhhdmlvckVycm9yKGBUb29sICR7b3V0cHV0Lm5hbWV9IG5vdCBmb3VuZCBpbiBhZ2VudCAke2FnZW50Lm5hbWV9LmApO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgaXRlbXMucHVzaChuZXcgUnVuVG9vbENhbGxJdGVtKG91dHB1dCwgYWdlbnQpKTtcbiAgICAgICAgICAgIHJ1bkZ1bmN0aW9ucy5wdXNoKHtcbiAgICAgICAgICAgICAgICB0b29sQ2FsbDogb3V0cHV0LFxuICAgICAgICAgICAgICAgIHRvb2w6IGZ1bmN0aW9uVG9vbCxcbiAgICAgICAgICAgIH0pO1xuICAgICAgICB9XG4gICAgfVxuICAgIHJldHVybiB7XG4gICAgICAgIG5ld0l0ZW1zOiBpdGVtcyxcbiAgICAgICAgaGFuZG9mZnM6IHJ1bkhhbmRvZmZzLFxuICAgICAgICBmdW5jdGlvbnM6IHJ1bkZ1bmN0aW9ucyxcbiAgICAgICAgY29tcHV0ZXJBY3Rpb25zOiBydW5Db21wdXRlckFjdGlvbnMsXG4gICAgICAgIHNoZWxsQWN0aW9uczogcnVuU2hlbGxBY3Rpb25zLFxuICAgICAgICBhcHBseVBhdGNoQWN0aW9uczogcnVuQXBwbHlQYXRjaEFjdGlvbnMsXG4gICAgICAgIG1jcEFwcHJvdmFsUmVxdWVzdHM6IHJ1bk1DUEFwcHJvdmFsUmVxdWVzdHMsXG4gICAgICAgIHRvb2xzVXNlZDogdG9vbHNVc2VkLFxuICAgICAgICBoYXNUb29sc09yQXBwcm92YWxzVG9SdW4oKSB7XG4gICAgICAgICAgICByZXR1cm4gKHJ1bkhhbmRvZmZzLmxlbmd0aCA+IDAgfHxcbiAgICAgICAgICAgICAgICBydW5GdW5jdGlvbnMubGVuZ3RoID4gMCB8fFxuICAgICAgICAgICAgICAgIHJ1bk1DUEFwcHJvdmFsUmVxdWVzdHMubGVuZ3RoID4gMCB8fFxuICAgICAgICAgICAgICAgIHJ1bkNvbXB1dGVyQWN0aW9ucy5sZW5ndGggPiAwIHx8XG4gICAgICAgICAgICAgICAgcnVuU2hlbGxBY3Rpb25zLmxlbmd0aCA+IDAgfHxcbiAgICAgICAgICAgICAgICBydW5BcHBseVBhdGNoQWN0aW9ucy5sZW5ndGggPiAwKTtcbiAgICAgICAgfSxcbiAgICB9O1xufVxuZXhwb3J0IGNvbnN0IG5leHRTdGVwU2NoZW1hID0gei5kaXNjcmltaW5hdGVkVW5pb24oJ3R5cGUnLCBbXG4gICAgei5vYmplY3Qoe1xuICAgICAgICB0eXBlOiB6LmxpdGVyYWwoJ25leHRfc3RlcF9oYW5kb2ZmJyksXG4gICAgICAgIG5ld0FnZW50OiB6LmFueSgpLFxuICAgIH0pLFxuICAgIHoub2JqZWN0KHtcbiAgICAgICAgdHlwZTogei5saXRlcmFsKCduZXh0X3N0ZXBfZmluYWxfb3V0cHV0JyksXG4gICAgICAgIG91dHB1dDogei5zdHJpbmcoKSxcbiAgICB9KSxcbiAgICB6Lm9iamVjdCh7XG4gICAgICAgIHR5cGU6IHoubGl0ZXJhbCgnbmV4dF9zdGVwX3J1bl9hZ2FpbicpLFxuICAgIH0pLFxuICAgIHoub2JqZWN0KHtcbiAgICAgICAgdHlwZTogei5saXRlcmFsKCduZXh0X3N0ZXBfaW50ZXJydXB0aW9uJyksXG4gICAgICAgIGRhdGE6IHoucmVjb3JkKHouc3RyaW5nKCksIHouYW55KCkpLFxuICAgIH0pLFxuXSk7XG4vKipcbiAqIEludGVybmFsIGNvbnZlbmllbmNlIHdyYXBwZXIgdGhhdCBncm91cHMgdGhlIG91dGNvbWUgb2YgYSBzaW5nbGUgYWdlbnQgdHVybi4gSXQgbGV0cyB0aGUgY2FsbGVyXG4gKiB1cGRhdGUgdGhlIFJ1blN0YXRlIGluIG9uZSBzaG90IGFuZCBkZWNpZGUgd2hpY2ggc3RlcCB0byBleGVjdXRlIG5leHQuXG4gKi9cbmNsYXNzIFNpbmdsZVN0ZXBSZXN1bHQge1xuICAgIG9yaWdpbmFsSW5wdXQ7XG4gICAgbW9kZWxSZXNwb25zZTtcbiAgICBwcmVTdGVwSXRlbXM7XG4gICAgbmV3U3RlcEl0ZW1zO1xuICAgIG5leHRTdGVwO1xuICAgIGNvbnN0cnVjdG9yKFxuICAgIC8qKlxuICAgICAqIFRoZSBpbnB1dCBpdGVtcyAoaS5lLiwgdGhlIGl0ZW1zIGJlZm9yZSBydW4oKSB3YXMgY2FsbGVkKS4gTWF5IGJlIG11dGF0ZWQgYnkgaGFuZG9mZiBpbnB1dCBmaWx0ZXJzLlxuICAgICAqL1xuICAgIG9yaWdpbmFsSW5wdXQsIFxuICAgIC8qKlxuICAgICAqIFRoZSBtb2RlbCByZXNwb25zZSBmb3IgdGhlIGN1cnJlbnQgc3RlcFxuICAgICAqL1xuICAgIG1vZGVsUmVzcG9uc2UsIFxuICAgIC8qKlxuICAgICAqIFRoZSBpdGVtcyBiZWZvcmUgdGhlIGN1cnJlbnQgc3RlcCB3YXMgZXhlY3V0ZWRcbiAgICAgKi9cbiAgICBwcmVTdGVwSXRlbXMsIFxuICAgIC8qKlxuICAgICAqIFRoZSBpdGVtcyBhZnRlciB0aGUgY3VycmVudCBzdGVwIHdhcyBleGVjdXRlZFxuICAgICAqL1xuICAgIG5ld1N0ZXBJdGVtcywgXG4gICAgLyoqXG4gICAgICogVGhlIG5leHQgc3RlcCB0byBleGVjdXRlXG4gICAgICovXG4gICAgbmV4dFN0ZXApIHtcbiAgICAgICAgdGhpcy5vcmlnaW5hbElucHV0ID0gb3JpZ2luYWxJbnB1dDtcbiAgICAgICAgdGhpcy5tb2RlbFJlc3BvbnNlID0gbW9kZWxSZXNwb25zZTtcbiAgICAgICAgdGhpcy5wcmVTdGVwSXRlbXMgPSBwcmVTdGVwSXRlbXM7XG4gICAgICAgIHRoaXMubmV3U3RlcEl0ZW1zID0gbmV3U3RlcEl0ZW1zO1xuICAgICAgICB0aGlzLm5leHRTdGVwID0gbmV4dFN0ZXA7XG4gICAgfVxuICAgIC8qKlxuICAgICAqIFRoZSBpdGVtcyBnZW5lcmF0ZWQgZHVyaW5nIHRoZSBhZ2VudCBydW4gKGkuZS4gZXZlcnl0aGluZyBnZW5lcmF0ZWQgYWZ0ZXIgb3JpZ2luYWxJbnB1dClcbiAgICAgKi9cbiAgICBnZXQgZ2VuZXJhdGVkSXRlbXMoKSB7XG4gICAgICAgIHJldHVybiB0aGlzLnByZVN0ZXBJdGVtcy5jb25jYXQodGhpcy5uZXdTdGVwSXRlbXMpO1xuICAgIH1cbn1cbi8qKlxuICogQGludGVybmFsXG4gKiBSZXNldHMgdGhlIHRvb2wgY2hvaWNlIHdoZW4gdGhlIGFnZW50IGlzIGNvbmZpZ3VyZWQgdG8gcHJlZmVyIGEgZnJlc2ggdG9vbCBzZWxlY3Rpb24gYWZ0ZXJcbiAqIGFueSB0b29sIHVzYWdlLiBUaGlzIHByZXZlbnRzIHRoZSBwcm92aWRlciBmcm9tIHJldXNpbmcgc3RhbGUgdG9vbCBoaW50cyBhY3Jvc3MgdHVybnMuXG4gKi9cbmV4cG9ydCBmdW5jdGlvbiBtYXliZVJlc2V0VG9vbENob2ljZShhZ2VudCwgdG9vbFVzZVRyYWNrZXIsIG1vZGVsU2V0dGluZ3MpIHtcbiAgICBpZiAoYWdlbnQucmVzZXRUb29sQ2hvaWNlICYmIHRvb2xVc2VUcmFja2VyLmhhc1VzZWRUb29scyhhZ2VudCkpIHtcbiAgICAgICAgcmV0dXJuIHsgLi4ubW9kZWxTZXR0aW5ncywgdG9vbENob2ljZTogdW5kZWZpbmVkIH07XG4gICAgfVxuICAgIHJldHVybiBtb2RlbFNldHRpbmdzO1xufVxuLyoqXG4gKiBAaW50ZXJuYWxcbiAqIENvbnRpbnVlcyBhIHR1cm4gdGhhdCB3YXMgcHJldmlvdXNseSBpbnRlcnJ1cHRlZCB3YWl0aW5nIGZvciB0b29sIGFwcHJvdmFsLiBFeGVjdXRlcyB0aGUgbm93XG4gKiBhcHByb3ZlZCB0b29scyBhbmQgcmV0dXJucyB0aGUgcmVzdWx0aW5nIHN0ZXAgdHJhbnNpdGlvbi5cbiAqL1xuZXhwb3J0IGFzeW5jIGZ1bmN0aW9uIHJlc29sdmVJbnRlcnJ1cHRlZFR1cm4oYWdlbnQsIG9yaWdpbmFsSW5wdXQsIG9yaWdpbmFsUHJlU3RlcEl0ZW1zLCBuZXdSZXNwb25zZSwgcHJvY2Vzc2VkUmVzcG9uc2UsIHJ1bm5lciwgc3RhdGUpIHtcbiAgICAvLyBjYWxsX2lkcyBmb3IgZnVuY3Rpb24gdG9vbHNcbiAgICBjb25zdCBmdW5jdGlvbkNhbGxJZHMgPSBvcmlnaW5hbFByZVN0ZXBJdGVtc1xuICAgICAgICAuZmlsdGVyKChpdGVtKSA9PiBpdGVtIGluc3RhbmNlb2YgUnVuVG9vbEFwcHJvdmFsSXRlbSAmJlxuICAgICAgICAnY2FsbElkJyBpbiBpdGVtLnJhd0l0ZW0gJiZcbiAgICAgICAgaXRlbS5yYXdJdGVtLnR5cGUgPT09ICdmdW5jdGlvbl9jYWxsJylcbiAgICAgICAgLm1hcCgoaXRlbSkgPT4gaXRlbS5yYXdJdGVtLmNhbGxJZCk7XG4gICAgLy8gV2UgYWxyZWFkeSBwZXJzaXN0ZWQgdGhlIHR1cm4gb25jZSB3aGVuIHRoZSBhcHByb3ZhbCBpbnRlcnJ1cHQgd2FzIHJhaXNlZCwgc28gdGhlXG4gICAgLy8gY291bnRlciByZWZsZWN0cyB0aGUgYXBwcm92YWwgaXRlbXMgYXMgXCJmbHVzaGVkXCIuIFdoZW4gd2UgcmVzdW1lIHRoZSBzYW1lIHR1cm4gd2UgbmVlZFxuICAgIC8vIHRvIHJld2luZCBpdCBzbyB0aGUgZXZlbnR1YWwgdG9vbCBvdXRwdXQgZm9yIHRoaXMgY2FsbCBpcyBzdGlsbCB3cml0dGVuIHRvIHRoZSBzZXNzaW9uLlxuICAgIGNvbnN0IHBlbmRpbmdBcHByb3ZhbEl0ZW1zID0gc3RhdGVcbiAgICAgICAgLmdldEludGVycnVwdGlvbnMoKVxuICAgICAgICAuZmlsdGVyKGlzQXBwcm92YWxJdGVtTGlrZSk7XG4gICAgaWYgKHBlbmRpbmdBcHByb3ZhbEl0ZW1zLmxlbmd0aCA+IDApIHtcbiAgICAgICAgY29uc3QgcGVuZGluZ0FwcHJvdmFsSWRlbnRpdGllcyA9IG5ldyBTZXQoKTtcbiAgICAgICAgZm9yIChjb25zdCBhcHByb3ZhbCBvZiBwZW5kaW5nQXBwcm92YWxJdGVtcykge1xuICAgICAgICAgICAgY29uc3QgaWRlbnRpdHkgPSBnZXRBcHByb3ZhbElkZW50aXR5KGFwcHJvdmFsKTtcbiAgICAgICAgICAgIGlmIChpZGVudGl0eSkge1xuICAgICAgICAgICAgICAgIHBlbmRpbmdBcHByb3ZhbElkZW50aXRpZXMuYWRkKGlkZW50aXR5KTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICBpZiAocGVuZGluZ0FwcHJvdmFsSWRlbnRpdGllcy5zaXplID4gMCkge1xuICAgICAgICAgICAgbGV0IHJld2luZENvdW50ID0gMDtcbiAgICAgICAgICAgIGZvciAobGV0IGluZGV4ID0gb3JpZ2luYWxQcmVTdGVwSXRlbXMubGVuZ3RoIC0gMTsgaW5kZXggPj0gMDsgaW5kZXgtLSkge1xuICAgICAgICAgICAgICAgIGNvbnN0IGl0ZW0gPSBvcmlnaW5hbFByZVN0ZXBJdGVtc1tpbmRleF07XG4gICAgICAgICAgICAgICAgaWYgKCEoaXRlbSBpbnN0YW5jZW9mIFJ1blRvb2xBcHByb3ZhbEl0ZW0pKSB7XG4gICAgICAgICAgICAgICAgICAgIGNvbnRpbnVlO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBjb25zdCBpZGVudGl0eSA9IGdldEFwcHJvdmFsSWRlbnRpdHkoaXRlbSk7XG4gICAgICAgICAgICAgICAgaWYgKCFpZGVudGl0eSkge1xuICAgICAgICAgICAgICAgICAgICBjb250aW51ZTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgaWYgKCFwZW5kaW5nQXBwcm92YWxJZGVudGl0aWVzLmhhcyhpZGVudGl0eSkpIHtcbiAgICAgICAgICAgICAgICAgICAgY29udGludWU7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIHJld2luZENvdW50Kys7XG4gICAgICAgICAgICAgICAgcGVuZGluZ0FwcHJvdmFsSWRlbnRpdGllcy5kZWxldGUoaWRlbnRpdHkpO1xuICAgICAgICAgICAgICAgIGlmIChwZW5kaW5nQXBwcm92YWxJZGVudGl0aWVzLnNpemUgPT09IDApIHtcbiAgICAgICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICAgICAgLy8gUGVyc2lzdGluZyB0aGUgYXBwcm92YWwgcmVxdWVzdCBhbHJlYWR5IGFkdmFuY2VkIHRoZSBjb3VudGVyIG9uY2UsIHNvIHVuZG8gdGhlIGluY3JlbWVudFxuICAgICAgICAgICAgLy8gdG8gbWFrZSBzdXJlIHdlIHdyaXRlIHRoZSBmaW5hbCB0b29sIG91dHB1dCBiYWNrIHRvIHRoZSBzZXNzaW9uIHdoZW4gdGhlIHR1cm4gcmVzdW1lcy5cbiAgICAgICAgICAgIGlmIChyZXdpbmRDb3VudCA+IDApIHtcbiAgICAgICAgICAgICAgICBzdGF0ZS5fY3VycmVudFR1cm5QZXJzaXN0ZWRJdGVtQ291bnQgPSBNYXRoLm1heCgwLCBzdGF0ZS5fY3VycmVudFR1cm5QZXJzaXN0ZWRJdGVtQ291bnQgLSByZXdpbmRDb3VudCk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICB9XG4gICAgLy8gUnVuIGZ1bmN0aW9uIHRvb2xzIHRoYXQgcmVxdWlyZSBhcHByb3ZhbCBhZnRlciB0aGV5IGdldCB0aGVpciBhcHByb3ZhbCByZXN1bHRzXG4gICAgY29uc3QgZnVuY3Rpb25Ub29sUnVucyA9IHByb2Nlc3NlZFJlc3BvbnNlLmZ1bmN0aW9ucy5maWx0ZXIoKHJ1bikgPT4ge1xuICAgICAgICByZXR1cm4gZnVuY3Rpb25DYWxsSWRzLmluY2x1ZGVzKHJ1bi50b29sQ2FsbC5jYWxsSWQpO1xuICAgIH0pO1xuICAgIGNvbnN0IGZ1bmN0aW9uUmVzdWx0cyA9IGF3YWl0IGV4ZWN1dGVGdW5jdGlvblRvb2xDYWxscyhhZ2VudCwgZnVuY3Rpb25Ub29sUnVucywgcnVubmVyLCBzdGF0ZSk7XG4gICAgLy8gVGhlcmUgaXMgbm8gYnVpbHQtaW4gSElUTCBhcHByb3ZhbCBzdXJmYWNlIGZvciBjb21wdXRlciB0b29scyB0b2RheSwgc28gZXZlcnkgcGVuZGluZyBhY3Rpb25cbiAgICAvLyBpcyBleGVjdXRlZCBpbW1lZGlhdGVseSB3aGVuIHRoZSB0dXJuIHJlc3VtZXMuXG4gICAgY29uc3QgY29tcHV0ZXJSZXN1bHRzID0gcHJvY2Vzc2VkUmVzcG9uc2UuY29tcHV0ZXJBY3Rpb25zLmxlbmd0aCA+IDBcbiAgICAgICAgPyBhd2FpdCBleGVjdXRlQ29tcHV0ZXJBY3Rpb25zKGFnZW50LCBwcm9jZXNzZWRSZXNwb25zZS5jb21wdXRlckFjdGlvbnMsIHJ1bm5lciwgc3RhdGUuX2NvbnRleHQpXG4gICAgICAgIDogW107XG4gICAgLy8gV2hlbiByZXN1bWluZyB3ZSByZWNlaXZlIHRoZSBvcmlnaW5hbCBSdW5JdGVtIHJlZmVyZW5jZXM7IHN1cHByZXNzIGR1cGxpY2F0ZXMgc28gaGlzdG9yeSBhbmQgc3RyZWFtaW5nIGRvIG5vdCBkb3VibGUtZW1pdCB0aGUgc2FtZSBpdGVtcy5cbiAgICBjb25zdCBvcmlnaW5hbFByZVN0ZXBJdGVtU2V0ID0gbmV3IFNldChvcmlnaW5hbFByZVN0ZXBJdGVtcyk7XG4gICAgY29uc3QgbmV3SXRlbXMgPSBbXTtcbiAgICBjb25zdCBuZXdJdGVtc1NldCA9IG5ldyBTZXQoKTtcbiAgICBjb25zdCBhcHBlbmRJZk5ldyA9IChpdGVtKSA9PiB7XG4gICAgICAgIGlmIChvcmlnaW5hbFByZVN0ZXBJdGVtU2V0LmhhcyhpdGVtKSB8fCBuZXdJdGVtc1NldC5oYXMoaXRlbSkpIHtcbiAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgfVxuICAgICAgICBuZXdJdGVtcy5wdXNoKGl0ZW0pO1xuICAgICAgICBuZXdJdGVtc1NldC5hZGQoaXRlbSk7XG4gICAgfTtcbiAgICBmb3IgKGNvbnN0IHJlc3VsdCBvZiBmdW5jdGlvblJlc3VsdHMpIHtcbiAgICAgICAgYXBwZW5kSWZOZXcocmVzdWx0LnJ1bkl0ZW0pO1xuICAgIH1cbiAgICBmb3IgKGNvbnN0IHJlc3VsdCBvZiBjb21wdXRlclJlc3VsdHMpIHtcbiAgICAgICAgYXBwZW5kSWZOZXcocmVzdWx0KTtcbiAgICB9XG4gICAgLy8gUnVuIE1DUCB0b29scyB0aGF0IHJlcXVpcmUgYXBwcm92YWwgYWZ0ZXIgdGhleSBnZXQgdGhlaXIgYXBwcm92YWwgcmVzdWx0c1xuICAgIGNvbnN0IG1jcEFwcHJvdmFsUnVucyA9IHByb2Nlc3NlZFJlc3BvbnNlLm1jcEFwcHJvdmFsUmVxdWVzdHMuZmlsdGVyKChydW4pID0+IHtcbiAgICAgICAgcmV0dXJuIChydW4ucmVxdWVzdEl0ZW0udHlwZSA9PT0gJ3Rvb2xfYXBwcm92YWxfaXRlbScgJiZcbiAgICAgICAgICAgIHJ1bi5yZXF1ZXN0SXRlbS5yYXdJdGVtLnR5cGUgPT09ICdob3N0ZWRfdG9vbF9jYWxsJyAmJlxuICAgICAgICAgICAgcnVuLnJlcXVlc3RJdGVtLnJhd0l0ZW0ucHJvdmlkZXJEYXRhPy50eXBlID09PSAnbWNwX2FwcHJvdmFsX3JlcXVlc3QnKTtcbiAgICB9KTtcbiAgICAvLyBIb3N0ZWQgTUNQIGFwcHJvdmFscyBtYXkgc3RpbGwgYmUgd2FpdGluZyBvbiBhIGh1bWFuIGRlY2lzaW9uIHdoZW4gdGhlIHR1cm4gcmVzdW1lcy5cbiAgICBjb25zdCBwZW5kaW5nSG9zdGVkTUNQQXBwcm92YWxzID0gbmV3IFNldCgpO1xuICAgIGNvbnN0IHBlbmRpbmdIb3N0ZWRNQ1BBcHByb3ZhbElkcyA9IG5ldyBTZXQoKTtcbiAgICAvLyBLZWVwIHRyYWNrIG9mIGFwcHJvdmFscyB3ZSBzdGlsbCBuZWVkIHRvIHN1cmZhY2UgbmV4dCB0dXJuIHNvIEhJVEwgZmxvd3MgY2FuIHJlc3VtZSBjbGVhbmx5LlxuICAgIGZvciAoY29uc3QgcnVuIG9mIG1jcEFwcHJvdmFsUnVucykge1xuICAgICAgICAvLyB0aGUgYXBwcm92YWxfcmVxdWVzdF9pZCBcIm1jcHJfMTIzLi4uXCJcbiAgICAgICAgY29uc3QgcmF3SXRlbSA9IHJ1bi5yZXF1ZXN0SXRlbS5yYXdJdGVtO1xuICAgICAgICBpZiAocmF3SXRlbS50eXBlICE9PSAnaG9zdGVkX3Rvb2xfY2FsbCcpIHtcbiAgICAgICAgICAgIGNvbnRpbnVlO1xuICAgICAgICB9XG4gICAgICAgIGNvbnN0IGFwcHJvdmFsUmVxdWVzdElkID0gcmF3SXRlbS5pZDtcbiAgICAgICAgY29uc3QgYXBwcm92ZWQgPSBzdGF0ZS5fY29udGV4dC5pc1Rvb2xBcHByb3ZlZCh7XG4gICAgICAgICAgICAvLyBTaW5jZSB0aGlzIGl0ZW0gbmFtZSBtdXN0IGJlIHRoZSBzYW1lIHdpdGggdGhlIG9uZSBzZW50IGZyb20gUmVzcG9uc2VzIEFQSSBzZXJ2ZXJcbiAgICAgICAgICAgIHRvb2xOYW1lOiByYXdJdGVtLm5hbWUsXG4gICAgICAgICAgICBjYWxsSWQ6IGFwcHJvdmFsUmVxdWVzdElkLFxuICAgICAgICB9KTtcbiAgICAgICAgaWYgKHR5cGVvZiBhcHByb3ZlZCAhPT0gJ3VuZGVmaW5lZCcpIHtcbiAgICAgICAgICAgIGNvbnN0IHByb3ZpZGVyRGF0YSA9IHtcbiAgICAgICAgICAgICAgICBhcHByb3ZlOiBhcHByb3ZlZCxcbiAgICAgICAgICAgICAgICBhcHByb3ZhbF9yZXF1ZXN0X2lkOiBhcHByb3ZhbFJlcXVlc3RJZCxcbiAgICAgICAgICAgICAgICByZWFzb246IHVuZGVmaW5lZCxcbiAgICAgICAgICAgIH07XG4gICAgICAgICAgICAvLyBUZWxsIFJlc3BvbnNlcyBBUEkgc2VydmVyIHRoZSBhcHByb3ZhbCByZXN1bHQgaW4gdGhlIG5leHQgdHVyblxuICAgICAgICAgICAgY29uc3QgcmVzcG9uc2VJdGVtID0gbmV3IFJ1blRvb2xDYWxsSXRlbSh7XG4gICAgICAgICAgICAgICAgdHlwZTogJ2hvc3RlZF90b29sX2NhbGwnLFxuICAgICAgICAgICAgICAgIG5hbWU6ICdtY3BfYXBwcm92YWxfcmVzcG9uc2UnLFxuICAgICAgICAgICAgICAgIHByb3ZpZGVyRGF0YSxcbiAgICAgICAgICAgIH0sIGFnZW50KTtcbiAgICAgICAgICAgIGFwcGVuZElmTmV3KHJlc3BvbnNlSXRlbSk7XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICBwZW5kaW5nSG9zdGVkTUNQQXBwcm92YWxzLmFkZChydW4ucmVxdWVzdEl0ZW0pO1xuICAgICAgICAgICAgcGVuZGluZ0hvc3RlZE1DUEFwcHJvdmFsSWRzLmFkZChhcHByb3ZhbFJlcXVlc3RJZCk7XG4gICAgICAgICAgICBmdW5jdGlvblJlc3VsdHMucHVzaCh7XG4gICAgICAgICAgICAgICAgdHlwZTogJ2hvc3RlZF9tY3BfdG9vbF9hcHByb3ZhbCcsXG4gICAgICAgICAgICAgICAgdG9vbDogcnVuLm1jcFRvb2wsXG4gICAgICAgICAgICAgICAgcnVuSXRlbTogcnVuLnJlcXVlc3RJdGVtLFxuICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICBhcHBlbmRJZk5ldyhydW4ucmVxdWVzdEl0ZW0pO1xuICAgICAgICB9XG4gICAgfVxuICAgIC8vIFNlcnZlci1tYW5hZ2VkIGNvbnZlcnNhdGlvbnMgcmVseSBvbiBwcmVTdGVwSXRlbXMgdG8gcmUtc3VyZmFjZSBwZW5kaW5nIGFwcHJvdmFscy5cbiAgICAvLyBLZWVwIHVucmVzb2x2ZWQgaG9zdGVkIE1DUCBhcHByb3ZhbHMgaW4gcGxhY2Ugc28gSElUTCBmbG93cyBzdGlsbCBoYXZlIHNvbWV0aGluZyB0byBhcHByb3ZlIG5leHQgdHVybi5cbiAgICAvLyBEcm9wIHJlc29sdmVkIGFwcHJvdmFsIHBsYWNlaG9sZGVycyBzbyB0aGV5IGFyZSBub3QgcmVwbGF5ZWQgb24gdGhlIG5leHQgdHVybiwgYnV0IGtlZXBcbiAgICAvLyBwZW5kaW5nIGFwcHJvdmFscyBpbiBwbGFjZSB0byBzaWduYWwgdGhlIG91dHN0YW5kaW5nIHdvcmsgdG8gdGhlIFVJIGFuZCBzZXNzaW9uIHN0b3JlLlxuICAgIGNvbnN0IHByZVN0ZXBJdGVtcyA9IG9yaWdpbmFsUHJlU3RlcEl0ZW1zLmZpbHRlcigoaXRlbSkgPT4ge1xuICAgICAgICBpZiAoIShpdGVtIGluc3RhbmNlb2YgUnVuVG9vbEFwcHJvdmFsSXRlbSkpIHtcbiAgICAgICAgICAgIHJldHVybiB0cnVlO1xuICAgICAgICB9XG4gICAgICAgIGlmIChpdGVtLnJhd0l0ZW0udHlwZSA9PT0gJ2hvc3RlZF90b29sX2NhbGwnICYmXG4gICAgICAgICAgICBpdGVtLnJhd0l0ZW0ucHJvdmlkZXJEYXRhPy50eXBlID09PSAnbWNwX2FwcHJvdmFsX3JlcXVlc3QnKSB7XG4gICAgICAgICAgICBpZiAocGVuZGluZ0hvc3RlZE1DUEFwcHJvdmFscy5oYXMoaXRlbSkpIHtcbiAgICAgICAgICAgICAgICByZXR1cm4gdHJ1ZTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGNvbnN0IGFwcHJvdmFsUmVxdWVzdElkID0gaXRlbS5yYXdJdGVtLmlkO1xuICAgICAgICAgICAgaWYgKGFwcHJvdmFsUmVxdWVzdElkKSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuIHBlbmRpbmdIb3N0ZWRNQ1BBcHByb3ZhbElkcy5oYXMoYXBwcm92YWxSZXF1ZXN0SWQpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiBmYWxzZTtcbiAgICB9KTtcbiAgICBjb25zdCBjb21wbGV0ZWRTdGVwID0gYXdhaXQgbWF5YmVDb21wbGV0ZVR1cm5Gcm9tVG9vbFJlc3VsdHMoe1xuICAgICAgICBhZ2VudCxcbiAgICAgICAgcnVubmVyLFxuICAgICAgICBzdGF0ZSxcbiAgICAgICAgZnVuY3Rpb25SZXN1bHRzLFxuICAgICAgICBvcmlnaW5hbElucHV0LFxuICAgICAgICBuZXdSZXNwb25zZSxcbiAgICAgICAgcHJlU3RlcEl0ZW1zLFxuICAgICAgICBuZXdJdGVtcyxcbiAgICB9KTtcbiAgICBpZiAoY29tcGxldGVkU3RlcCkge1xuICAgICAgICByZXR1cm4gY29tcGxldGVkU3RlcDtcbiAgICB9XG4gICAgLy8gd2Ugb25seSByYW4gbmV3IHRvb2xzIGFuZCBzaWRlIGVmZmVjdHMuIFdlIG5lZWQgdG8gcnVuIHRoZSByZXN0IG9mIHRoZSBhZ2VudFxuICAgIHJldHVybiBuZXcgU2luZ2xlU3RlcFJlc3VsdChvcmlnaW5hbElucHV0LCBuZXdSZXNwb25zZSwgcHJlU3RlcEl0ZW1zLCBuZXdJdGVtcywgeyB0eXBlOiAnbmV4dF9zdGVwX3J1bl9hZ2FpbicgfSk7XG59XG4vKipcbiAqIEBpbnRlcm5hbFxuICogRXhlY3V0ZXMgZXZlcnkgZm9sbG93LXVwIGFjdGlvbiB0aGUgbW9kZWwgcmVxdWVzdGVkIChmdW5jdGlvbiB0b29scywgY29tcHV0ZXIgYWN0aW9ucywgTUNQIGZsb3dzKSxcbiAqIGFwcGVuZHMgdGhlaXIgb3V0cHV0cyB0byB0aGUgcnVuIGhpc3RvcnksIGFuZCBkZXRlcm1pbmVzIHRoZSBuZXh0IHN0ZXAgZm9yIHRoZSBhZ2VudCBsb29wLlxuICovXG5leHBvcnQgYXN5bmMgZnVuY3Rpb24gcmVzb2x2ZVR1cm5BZnRlck1vZGVsUmVzcG9uc2UoYWdlbnQsIG9yaWdpbmFsSW5wdXQsIG9yaWdpbmFsUHJlU3RlcEl0ZW1zLCBuZXdSZXNwb25zZSwgcHJvY2Vzc2VkUmVzcG9uc2UsIHJ1bm5lciwgc3RhdGUpIHtcbiAgICAvLyBSZXVzZSB0aGUgc2FtZSBhcnJheSByZWZlcmVuY2Ugc28gd2UgY2FuIGNvbXBhcmUgb2JqZWN0IGlkZW50aXR5IHdoZW4gZGVjaWRpbmcgd2hldGhlciB0b1xuICAgIC8vIGFwcGVuZCBuZXcgaXRlbXMsIGVuc3VyaW5nIHdlIG5ldmVyIGRvdWJsZS1zdHJlYW0gZXhpc3RpbmcgUnVuSXRlbXMuXG4gICAgY29uc3QgcHJlU3RlcEl0ZW1zID0gb3JpZ2luYWxQcmVTdGVwSXRlbXM7XG4gICAgY29uc3Qgc2Vlbkl0ZW1zID0gbmV3IFNldChvcmlnaW5hbFByZVN0ZXBJdGVtcyk7XG4gICAgY29uc3QgbmV3SXRlbXMgPSBbXTtcbiAgICBjb25zdCBhcHBlbmRJZk5ldyA9IChpdGVtKSA9PiB7XG4gICAgICAgIGlmIChzZWVuSXRlbXMuaGFzKGl0ZW0pKSB7XG4gICAgICAgICAgICByZXR1cm47XG4gICAgICAgIH1cbiAgICAgICAgbmV3SXRlbXMucHVzaChpdGVtKTtcbiAgICAgICAgc2Vlbkl0ZW1zLmFkZChpdGVtKTtcbiAgICB9O1xuICAgIGZvciAoY29uc3QgaXRlbSBvZiBwcm9jZXNzZWRSZXNwb25zZS5uZXdJdGVtcykge1xuICAgICAgICBhcHBlbmRJZk5ldyhpdGVtKTtcbiAgICB9XG4gICAgLy8gUnVuIGZ1bmN0aW9uIHRvb2xzIGFuZCBjb21wdXRlciBhY3Rpb25zIGluIHBhcmFsbGVsOyBuZWl0aGVyIGRlcGVuZHMgb24gdGhlIG90aGVyJ3Mgc2lkZSBlZmZlY3RzLlxuICAgIGNvbnN0IFtmdW5jdGlvblJlc3VsdHMsIGNvbXB1dGVyUmVzdWx0cywgc2hlbGxSZXN1bHRzLCBhcHBseVBhdGNoUmVzdWx0c10gPSBhd2FpdCBQcm9taXNlLmFsbChbXG4gICAgICAgIGV4ZWN1dGVGdW5jdGlvblRvb2xDYWxscyhhZ2VudCwgcHJvY2Vzc2VkUmVzcG9uc2UuZnVuY3Rpb25zLCBydW5uZXIsIHN0YXRlKSxcbiAgICAgICAgZXhlY3V0ZUNvbXB1dGVyQWN0aW9ucyhhZ2VudCwgcHJvY2Vzc2VkUmVzcG9uc2UuY29tcHV0ZXJBY3Rpb25zLCBydW5uZXIsIHN0YXRlLl9jb250ZXh0KSxcbiAgICAgICAgZXhlY3V0ZVNoZWxsQWN0aW9ucyhhZ2VudCwgcHJvY2Vzc2VkUmVzcG9uc2Uuc2hlbGxBY3Rpb25zLCBydW5uZXIsIHN0YXRlLl9jb250ZXh0KSxcbiAgICAgICAgZXhlY3V0ZUFwcGx5UGF0Y2hPcGVyYXRpb25zKGFnZW50LCBwcm9jZXNzZWRSZXNwb25zZS5hcHBseVBhdGNoQWN0aW9ucywgcnVubmVyLCBzdGF0ZS5fY29udGV4dCksXG4gICAgXSk7XG4gICAgZm9yIChjb25zdCByZXN1bHQgb2YgZnVuY3Rpb25SZXN1bHRzKSB7XG4gICAgICAgIGFwcGVuZElmTmV3KHJlc3VsdC5ydW5JdGVtKTtcbiAgICB9XG4gICAgZm9yIChjb25zdCBpdGVtIG9mIGNvbXB1dGVyUmVzdWx0cykge1xuICAgICAgICBhcHBlbmRJZk5ldyhpdGVtKTtcbiAgICB9XG4gICAgZm9yIChjb25zdCBpdGVtIG9mIHNoZWxsUmVzdWx0cykge1xuICAgICAgICBhcHBlbmRJZk5ldyhpdGVtKTtcbiAgICB9XG4gICAgZm9yIChjb25zdCBpdGVtIG9mIGFwcGx5UGF0Y2hSZXN1bHRzKSB7XG4gICAgICAgIGFwcGVuZElmTmV3KGl0ZW0pO1xuICAgIH1cbiAgICAvLyBydW4gaG9zdGVkIE1DUCBhcHByb3ZhbCByZXF1ZXN0c1xuICAgIGlmIChwcm9jZXNzZWRSZXNwb25zZS5tY3BBcHByb3ZhbFJlcXVlc3RzLmxlbmd0aCA+IDApIHtcbiAgICAgICAgZm9yIChjb25zdCBhcHByb3ZhbFJlcXVlc3Qgb2YgcHJvY2Vzc2VkUmVzcG9uc2UubWNwQXBwcm92YWxSZXF1ZXN0cykge1xuICAgICAgICAgICAgY29uc3QgdG9vbERhdGEgPSBhcHByb3ZhbFJlcXVlc3QubWNwVG9vbFxuICAgICAgICAgICAgICAgIC5wcm92aWRlckRhdGE7XG4gICAgICAgICAgICBjb25zdCByZXF1ZXN0RGF0YSA9IGFwcHJvdmFsUmVxdWVzdC5yZXF1ZXN0SXRlbS5yYXdJdGVtXG4gICAgICAgICAgICAgICAgLnByb3ZpZGVyRGF0YTtcbiAgICAgICAgICAgIGlmICh0b29sRGF0YS5vbl9hcHByb3ZhbCkge1xuICAgICAgICAgICAgICAgIC8vIHN5bmNocm9ub3VzbHkgaGFuZGxlIHRoZSBhcHByb3ZhbCBwcm9jZXNzIGhlcmVcbiAgICAgICAgICAgICAgICBjb25zdCBhcHByb3ZhbFJlc3VsdCA9IGF3YWl0IHRvb2xEYXRhLm9uX2FwcHJvdmFsKHN0YXRlLl9jb250ZXh0LCBhcHByb3ZhbFJlcXVlc3QucmVxdWVzdEl0ZW0pO1xuICAgICAgICAgICAgICAgIGNvbnN0IGFwcHJvdmFsUmVzcG9uc2VEYXRhID0ge1xuICAgICAgICAgICAgICAgICAgICBhcHByb3ZlOiBhcHByb3ZhbFJlc3VsdC5hcHByb3ZlLFxuICAgICAgICAgICAgICAgICAgICBhcHByb3ZhbF9yZXF1ZXN0X2lkOiByZXF1ZXN0RGF0YS5pZCxcbiAgICAgICAgICAgICAgICAgICAgcmVhc29uOiBhcHByb3ZhbFJlc3VsdC5yZWFzb24sXG4gICAgICAgICAgICAgICAgfTtcbiAgICAgICAgICAgICAgICBuZXdJdGVtcy5wdXNoKG5ldyBSdW5Ub29sQ2FsbEl0ZW0oe1xuICAgICAgICAgICAgICAgICAgICB0eXBlOiAnaG9zdGVkX3Rvb2xfY2FsbCcsXG4gICAgICAgICAgICAgICAgICAgIG5hbWU6ICdtY3BfYXBwcm92YWxfcmVzcG9uc2UnLFxuICAgICAgICAgICAgICAgICAgICBwcm92aWRlckRhdGE6IGFwcHJvdmFsUmVzcG9uc2VEYXRhLFxuICAgICAgICAgICAgICAgIH0sIGFnZW50KSk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgICAgICAvLyByZWNlaXZlIGEgdXNlcidzIGFwcHJvdmFsIG9uIHRoZSBuZXh0IHR1cm5cbiAgICAgICAgICAgICAgICBuZXdJdGVtcy5wdXNoKGFwcHJvdmFsUmVxdWVzdC5yZXF1ZXN0SXRlbSk7XG4gICAgICAgICAgICAgICAgY29uc3QgYXBwcm92YWxJdGVtID0ge1xuICAgICAgICAgICAgICAgICAgICB0eXBlOiAnaG9zdGVkX21jcF90b29sX2FwcHJvdmFsJyxcbiAgICAgICAgICAgICAgICAgICAgdG9vbDogYXBwcm92YWxSZXF1ZXN0Lm1jcFRvb2wsXG4gICAgICAgICAgICAgICAgICAgIHJ1bkl0ZW06IG5ldyBSdW5Ub29sQXBwcm92YWxJdGVtKHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHR5cGU6ICdob3N0ZWRfdG9vbF9jYWxsJyxcbiAgICAgICAgICAgICAgICAgICAgICAgIG5hbWU6IHJlcXVlc3REYXRhLm5hbWUsXG4gICAgICAgICAgICAgICAgICAgICAgICBpZDogcmVxdWVzdERhdGEuaWQsXG4gICAgICAgICAgICAgICAgICAgICAgICBhcmd1bWVudHM6IHJlcXVlc3REYXRhLmFyZ3VtZW50cyxcbiAgICAgICAgICAgICAgICAgICAgICAgIHN0YXR1czogJ2luX3Byb2dyZXNzJyxcbiAgICAgICAgICAgICAgICAgICAgICAgIHByb3ZpZGVyRGF0YTogcmVxdWVzdERhdGEsXG4gICAgICAgICAgICAgICAgICAgIH0sIGFnZW50KSxcbiAgICAgICAgICAgICAgICB9O1xuICAgICAgICAgICAgICAgIGZ1bmN0aW9uUmVzdWx0cy5wdXNoKGFwcHJvdmFsSXRlbSk7XG4gICAgICAgICAgICAgICAgLy8gbmV3SXRlbXMucHVzaChhcHByb3ZhbEl0ZW0ucnVuSXRlbSk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICB9XG4gICAgLy8gcHJvY2VzcyBoYW5kb2Zmc1xuICAgIGlmIChwcm9jZXNzZWRSZXNwb25zZS5oYW5kb2Zmcy5sZW5ndGggPiAwKSB7XG4gICAgICAgIHJldHVybiBhd2FpdCBleGVjdXRlSGFuZG9mZkNhbGxzKGFnZW50LCBvcmlnaW5hbElucHV0LCBwcmVTdGVwSXRlbXMsIG5ld0l0ZW1zLCBuZXdSZXNwb25zZSwgcHJvY2Vzc2VkUmVzcG9uc2UuaGFuZG9mZnMsIHJ1bm5lciwgc3RhdGUuX2NvbnRleHQpO1xuICAgIH1cbiAgICBjb25zdCBjb21wbGV0ZWRTdGVwID0gYXdhaXQgbWF5YmVDb21wbGV0ZVR1cm5Gcm9tVG9vbFJlc3VsdHMoe1xuICAgICAgICBhZ2VudCxcbiAgICAgICAgcnVubmVyLFxuICAgICAgICBzdGF0ZSxcbiAgICAgICAgZnVuY3Rpb25SZXN1bHRzLFxuICAgICAgICBvcmlnaW5hbElucHV0LFxuICAgICAgICBuZXdSZXNwb25zZSxcbiAgICAgICAgcHJlU3RlcEl0ZW1zLFxuICAgICAgICBuZXdJdGVtcyxcbiAgICB9KTtcbiAgICBpZiAoY29tcGxldGVkU3RlcCkge1xuICAgICAgICByZXR1cm4gY29tcGxldGVkU3RlcDtcbiAgICB9XG4gICAgLy8gSWYgdGhlIG1vZGVsIGlzc3VlZCBhbnkgdG9vbCBjYWxscyBvciBoYW5kb2ZmcyBpbiB0aGlzIHR1cm4sXG4gICAgLy8gd2UgbXVzdCBOT1QgdHJlYXQgYW55IGFzc2lzdGFudCBtZXNzYWdlIGluIHRoZSBzYW1lIHR1cm4gYXMgdGhlIGZpbmFsIG91dHB1dC5cbiAgICAvLyBXZSBzaG91bGQgcnVuIHRoZSBsb29wIGFnYWluIHNvIHRoZSBtb2RlbCBjYW4gc2VlIHRoZSB0b29sIHJlc3VsdHMgYW5kIHJlc3BvbmQuXG4gICAgY29uc3QgaGFkVG9vbENhbGxzT3JBY3Rpb25zID0gKHByb2Nlc3NlZFJlc3BvbnNlLmZ1bmN0aW9ucz8ubGVuZ3RoID8/IDApID4gMCB8fFxuICAgICAgICAocHJvY2Vzc2VkUmVzcG9uc2UuY29tcHV0ZXJBY3Rpb25zPy5sZW5ndGggPz8gMCkgPiAwIHx8XG4gICAgICAgIChwcm9jZXNzZWRSZXNwb25zZS5zaGVsbEFjdGlvbnM/Lmxlbmd0aCA/PyAwKSA+IDAgfHxcbiAgICAgICAgKHByb2Nlc3NlZFJlc3BvbnNlLmFwcGx5UGF0Y2hBY3Rpb25zPy5sZW5ndGggPz8gMCkgPiAwIHx8XG4gICAgICAgIChwcm9jZXNzZWRSZXNwb25zZS5tY3BBcHByb3ZhbFJlcXVlc3RzPy5sZW5ndGggPz8gMCkgPiAwIHx8XG4gICAgICAgIChwcm9jZXNzZWRSZXNwb25zZS5oYW5kb2Zmcz8ubGVuZ3RoID8/IDApID4gMDtcbiAgICBpZiAoaGFkVG9vbENhbGxzT3JBY3Rpb25zKSB7XG4gICAgICAgIHJldHVybiBuZXcgU2luZ2xlU3RlcFJlc3VsdChvcmlnaW5hbElucHV0LCBuZXdSZXNwb25zZSwgcHJlU3RlcEl0ZW1zLCBuZXdJdGVtcywgeyB0eXBlOiAnbmV4dF9zdGVwX3J1bl9hZ2FpbicgfSk7XG4gICAgfVxuICAgIC8vIE5vIHRvb2wgY2FsbHMvYWN0aW9ucyBpbiB0aGlzIHR1cm47IHNhZmUgdG8gY29uc2lkZXIgYSBwbGFpbiBhc3Npc3RhbnQgbWVzc2FnZSBhcyBmaW5hbC5cbiAgICBjb25zdCBtZXNzYWdlSXRlbXMgPSBuZXdJdGVtcy5maWx0ZXIoKGl0ZW0pID0+IGl0ZW0gaW5zdGFuY2VvZiBSdW5NZXNzYWdlT3V0cHV0SXRlbSk7XG4gICAgLy8gd2Ugd2lsbCB1c2UgdGhlIGxhc3QgY29udGVudCBvdXRwdXQgYXMgdGhlIGZpbmFsIG91dHB1dFxuICAgIGNvbnN0IHBvdGVudGlhbEZpbmFsT3V0cHV0ID0gbWVzc2FnZUl0ZW1zLmxlbmd0aCA+IDBcbiAgICAgICAgPyBnZXRMYXN0VGV4dEZyb21PdXRwdXRNZXNzYWdlKG1lc3NhZ2VJdGVtc1ttZXNzYWdlSXRlbXMubGVuZ3RoIC0gMV0ucmF3SXRlbSlcbiAgICAgICAgOiB1bmRlZmluZWQ7XG4gICAgLy8gaWYgdGhlcmUgaXMgbm8gb3V0cHV0IHdlIGp1c3QgcnVuIGFnYWluXG4gICAgaWYgKHR5cGVvZiBwb3RlbnRpYWxGaW5hbE91dHB1dCA9PT0gJ3VuZGVmaW5lZCcpIHtcbiAgICAgICAgcmV0dXJuIG5ldyBTaW5nbGVTdGVwUmVzdWx0KG9yaWdpbmFsSW5wdXQsIG5ld1Jlc3BvbnNlLCBwcmVTdGVwSXRlbXMsIG5ld0l0ZW1zLCB7IHR5cGU6ICduZXh0X3N0ZXBfcnVuX2FnYWluJyB9KTtcbiAgICB9XG4gICAgLy8gS2VlcCBsb29waW5nIGlmIGFueSB0b29sIG91dHB1dCBwbGFjZWhvbGRlcnMgc3RpbGwgcmVxdWlyZSBhbiBhcHByb3ZhbCBmb2xsb3ctdXAuXG4gICAgY29uc3QgaGFzUGVuZGluZ1Rvb2xzT3JBcHByb3ZhbHMgPSBmdW5jdGlvblJlc3VsdHMuc29tZSgocmVzdWx0KSA9PiByZXN1bHQucnVuSXRlbSBpbnN0YW5jZW9mIFJ1blRvb2xBcHByb3ZhbEl0ZW0pO1xuICAgIGlmICghaGFzUGVuZGluZ1Rvb2xzT3JBcHByb3ZhbHMpIHtcbiAgICAgICAgaWYgKGFnZW50Lm91dHB1dFR5cGUgPT09ICd0ZXh0Jykge1xuICAgICAgICAgICAgcmV0dXJuIG5ldyBTaW5nbGVTdGVwUmVzdWx0KG9yaWdpbmFsSW5wdXQsIG5ld1Jlc3BvbnNlLCBwcmVTdGVwSXRlbXMsIG5ld0l0ZW1zLCB7XG4gICAgICAgICAgICAgICAgdHlwZTogJ25leHRfc3RlcF9maW5hbF9vdXRwdXQnLFxuICAgICAgICAgICAgICAgIG91dHB1dDogcG90ZW50aWFsRmluYWxPdXRwdXQsXG4gICAgICAgICAgICB9KTtcbiAgICAgICAgfVxuICAgICAgICBpZiAoYWdlbnQub3V0cHV0VHlwZSAhPT0gJ3RleHQnICYmIHBvdGVudGlhbEZpbmFsT3V0cHV0KSB7XG4gICAgICAgICAgICAvLyBTdHJ1Y3R1cmVkIG91dHB1dCBzY2hlbWEgPT4gYWx3YXlzIGxlYWRzIHRvIGEgZmluYWwgb3V0cHV0IGlmIHdlIGhhdmUgdGV4dC5cbiAgICAgICAgICAgIGNvbnN0IHsgcGFyc2VyIH0gPSBnZXRTY2hlbWFBbmRQYXJzZXJGcm9tSW5wdXRUeXBlKGFnZW50Lm91dHB1dFR5cGUsICdmaW5hbF9vdXRwdXQnKTtcbiAgICAgICAgICAgIGNvbnN0IFtlcnJvcl0gPSBhd2FpdCBzYWZlRXhlY3V0ZSgoKSA9PiBwYXJzZXIocG90ZW50aWFsRmluYWxPdXRwdXQpKTtcbiAgICAgICAgICAgIGlmIChlcnJvcikge1xuICAgICAgICAgICAgICAgIGNvbnN0IG91dHB1dEVycm9yTWVzc2FnZSA9IGZvcm1hdEZpbmFsT3V0cHV0VHlwZUVycm9yKGVycm9yKTtcbiAgICAgICAgICAgICAgICBhZGRFcnJvclRvQ3VycmVudFNwYW4oe1xuICAgICAgICAgICAgICAgICAgICBtZXNzYWdlOiBvdXRwdXRFcnJvck1lc3NhZ2UsXG4gICAgICAgICAgICAgICAgICAgIGRhdGE6IHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGVycm9yOiBTdHJpbmcoZXJyb3IpLFxuICAgICAgICAgICAgICAgICAgICB9LFxuICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgICAgIHRocm93IG5ldyBNb2RlbEJlaGF2aW9yRXJyb3Iob3V0cHV0RXJyb3JNZXNzYWdlKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHJldHVybiBuZXcgU2luZ2xlU3RlcFJlc3VsdChvcmlnaW5hbElucHV0LCBuZXdSZXNwb25zZSwgcHJlU3RlcEl0ZW1zLCBuZXdJdGVtcywgeyB0eXBlOiAnbmV4dF9zdGVwX2ZpbmFsX291dHB1dCcsIG91dHB1dDogcG90ZW50aWFsRmluYWxPdXRwdXQgfSk7XG4gICAgICAgIH1cbiAgICB9XG4gICAgcmV0dXJuIG5ldyBTaW5nbGVTdGVwUmVzdWx0KG9yaWdpbmFsSW5wdXQsIG5ld1Jlc3BvbnNlLCBwcmVTdGVwSXRlbXMsIG5ld0l0ZW1zLCB7IHR5cGU6ICduZXh0X3N0ZXBfcnVuX2FnYWluJyB9KTtcbn1cbi8vIENvbnNvbGlkYXRlcyB0aGUgbG9naWMgdGhhdCBkZXRlcm1pbmVzIHdoZXRoZXIgdG9vbCByZXN1bHRzIHlpZWxkZWQgYSBmaW5hbCBhbnN3ZXIsXG4vLyB0cmlnZ2VyZWQgYW4gaW50ZXJydXB0aW9uLCBvciByZXF1aXJlIHRoZSBhZ2VudCBsb29wIHRvIGNvbnRpbnVlIHJ1bm5pbmcuXG5hc3luYyBmdW5jdGlvbiBtYXliZUNvbXBsZXRlVHVybkZyb21Ub29sUmVzdWx0cyh7IGFnZW50LCBydW5uZXIsIHN0YXRlLCBmdW5jdGlvblJlc3VsdHMsIG9yaWdpbmFsSW5wdXQsIG5ld1Jlc3BvbnNlLCBwcmVTdGVwSXRlbXMsIG5ld0l0ZW1zLCB9KSB7XG4gICAgY29uc3QgdG9vbE91dGNvbWUgPSBhd2FpdCBjaGVja0ZvckZpbmFsT3V0cHV0RnJvbVRvb2xzKGFnZW50LCBmdW5jdGlvblJlc3VsdHMsIHN0YXRlKTtcbiAgICBpZiAodG9vbE91dGNvbWUuaXNGaW5hbE91dHB1dCkge1xuICAgICAgICBydW5uZXIuZW1pdCgnYWdlbnRfZW5kJywgc3RhdGUuX2NvbnRleHQsIGFnZW50LCB0b29sT3V0Y29tZS5maW5hbE91dHB1dCk7XG4gICAgICAgIGFnZW50LmVtaXQoJ2FnZW50X2VuZCcsIHN0YXRlLl9jb250ZXh0LCB0b29sT3V0Y29tZS5maW5hbE91dHB1dCk7XG4gICAgICAgIHJldHVybiBuZXcgU2luZ2xlU3RlcFJlc3VsdChvcmlnaW5hbElucHV0LCBuZXdSZXNwb25zZSwgcHJlU3RlcEl0ZW1zLCBuZXdJdGVtcywge1xuICAgICAgICAgICAgdHlwZTogJ25leHRfc3RlcF9maW5hbF9vdXRwdXQnLFxuICAgICAgICAgICAgb3V0cHV0OiB0b29sT3V0Y29tZS5maW5hbE91dHB1dCxcbiAgICAgICAgfSk7XG4gICAgfVxuICAgIGlmICh0b29sT3V0Y29tZS5pc0ludGVycnVwdGVkKSB7XG4gICAgICAgIHJldHVybiBuZXcgU2luZ2xlU3RlcFJlc3VsdChvcmlnaW5hbElucHV0LCBuZXdSZXNwb25zZSwgcHJlU3RlcEl0ZW1zLCBuZXdJdGVtcywge1xuICAgICAgICAgICAgdHlwZTogJ25leHRfc3RlcF9pbnRlcnJ1cHRpb24nLFxuICAgICAgICAgICAgZGF0YToge1xuICAgICAgICAgICAgICAgIGludGVycnVwdGlvbnM6IHRvb2xPdXRjb21lLmludGVycnVwdGlvbnMsXG4gICAgICAgICAgICB9LFxuICAgICAgICB9KTtcbiAgICB9XG4gICAgcmV0dXJuIG51bGw7XG59XG4vKipcbiAqIEBpbnRlcm5hbFxuICogTm9ybWFsaXplcyB0b29sIG91dHB1dHMgb25jZSBzbyBkb3duc3RyZWFtIGNvZGUgd29ya3Mgd2l0aCBmdWxseSBzdHJ1Y3R1cmVkIHByb3RvY29sIGl0ZW1zLlxuICogRG9pbmcgdGhpcyBoZXJlIGtlZXBzIEFQSSBzdXJmYWNlIHN0YWJsZSBldmVuIHdoZW4gcHJvdmlkZXJzIGFkZCBuZXcgc2hhcGVzLlxuICovXG5leHBvcnQgZnVuY3Rpb24gZ2V0VG9vbENhbGxPdXRwdXRJdGVtKHRvb2xDYWxsLCBvdXRwdXQpIHtcbiAgICBjb25zdCBtYXliZVN0cnVjdHVyZWRPdXRwdXRzID0gbm9ybWFsaXplU3RydWN0dXJlZFRvb2xPdXRwdXRzKG91dHB1dCk7XG4gICAgaWYgKG1heWJlU3RydWN0dXJlZE91dHB1dHMpIHtcbiAgICAgICAgY29uc3Qgc3RydWN0dXJlZEl0ZW1zID0gbWF5YmVTdHJ1Y3R1cmVkT3V0cHV0cy5tYXAoY29udmVydFN0cnVjdHVyZWRUb29sT3V0cHV0VG9JbnB1dEl0ZW0pO1xuICAgICAgICByZXR1cm4ge1xuICAgICAgICAgICAgdHlwZTogJ2Z1bmN0aW9uX2NhbGxfcmVzdWx0JyxcbiAgICAgICAgICAgIG5hbWU6IHRvb2xDYWxsLm5hbWUsXG4gICAgICAgICAgICBjYWxsSWQ6IHRvb2xDYWxsLmNhbGxJZCxcbiAgICAgICAgICAgIHN0YXR1czogJ2NvbXBsZXRlZCcsXG4gICAgICAgICAgICBvdXRwdXQ6IHN0cnVjdHVyZWRJdGVtcyxcbiAgICAgICAgfTtcbiAgICB9XG4gICAgcmV0dXJuIHtcbiAgICAgICAgdHlwZTogJ2Z1bmN0aW9uX2NhbGxfcmVzdWx0JyxcbiAgICAgICAgbmFtZTogdG9vbENhbGwubmFtZSxcbiAgICAgICAgY2FsbElkOiB0b29sQ2FsbC5jYWxsSWQsXG4gICAgICAgIHN0YXR1czogJ2NvbXBsZXRlZCcsXG4gICAgICAgIG91dHB1dDoge1xuICAgICAgICAgICAgdHlwZTogJ3RleHQnLFxuICAgICAgICAgICAgdGV4dDogdG9TbWFydFN0cmluZyhvdXRwdXQpLFxuICAgICAgICB9LFxuICAgIH07XG59XG5mdW5jdGlvbiBub3JtYWxpemVGaWxlVmFsdWUodmFsdWUpIHtcbiAgICBjb25zdCBkaXJlY3RGaWxlID0gdmFsdWUuZmlsZTtcbiAgICBpZiAodHlwZW9mIGRpcmVjdEZpbGUgPT09ICdzdHJpbmcnICYmIGRpcmVjdEZpbGUubGVuZ3RoID4gMCkge1xuICAgICAgICByZXR1cm4gZGlyZWN0RmlsZTtcbiAgICB9XG4gICAgY29uc3Qgbm9ybWFsaXplZE9iamVjdCA9IG5vcm1hbGl6ZUZpbGVPYmplY3RDYW5kaWRhdGUoZGlyZWN0RmlsZSk7XG4gICAgaWYgKG5vcm1hbGl6ZWRPYmplY3QpIHtcbiAgICAgICAgcmV0dXJuIG5vcm1hbGl6ZWRPYmplY3Q7XG4gICAgfVxuICAgIGNvbnN0IGxlZ2FjeVZhbHVlID0gbm9ybWFsaXplTGVnYWN5RmlsZVZhbHVlKHZhbHVlKTtcbiAgICBpZiAobGVnYWN5VmFsdWUpIHtcbiAgICAgICAgcmV0dXJuIGxlZ2FjeVZhbHVlO1xuICAgIH1cbiAgICByZXR1cm4gbnVsbDtcbn1cbmZ1bmN0aW9uIG5vcm1hbGl6ZUZpbGVPYmplY3RDYW5kaWRhdGUodmFsdWUpIHtcbiAgICBpZiAoIWlzUmVjb3JkKHZhbHVlKSkge1xuICAgICAgICByZXR1cm4gbnVsbDtcbiAgICB9XG4gICAgaWYgKCdkYXRhJyBpbiB2YWx1ZSAmJiB2YWx1ZS5kYXRhICE9PSB1bmRlZmluZWQpIHtcbiAgICAgICAgY29uc3QgZGF0YVZhbHVlID0gdmFsdWUuZGF0YTtcbiAgICAgICAgY29uc3QgaGFzU3RyaW5nRGF0YSA9IHR5cGVvZiBkYXRhVmFsdWUgPT09ICdzdHJpbmcnICYmIGRhdGFWYWx1ZS5sZW5ndGggPiAwO1xuICAgICAgICBjb25zdCBoYXNCaW5hcnlEYXRhID0gZGF0YVZhbHVlIGluc3RhbmNlb2YgVWludDhBcnJheSAmJiBkYXRhVmFsdWUubGVuZ3RoID4gMDtcbiAgICAgICAgaWYgKCFoYXNTdHJpbmdEYXRhICYmICFoYXNCaW5hcnlEYXRhKSB7XG4gICAgICAgICAgICByZXR1cm4gbnVsbDtcbiAgICAgICAgfVxuICAgICAgICBpZiAoIWlzTm9uRW1wdHlTdHJpbmcodmFsdWUubWVkaWFUeXBlKSB8fFxuICAgICAgICAgICAgIWlzTm9uRW1wdHlTdHJpbmcodmFsdWUuZmlsZW5hbWUpKSB7XG4gICAgICAgICAgICByZXR1cm4gbnVsbDtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4ge1xuICAgICAgICAgICAgZGF0YTogdHlwZW9mIGRhdGFWYWx1ZSA9PT0gJ3N0cmluZycgPyBkYXRhVmFsdWUgOiBuZXcgVWludDhBcnJheShkYXRhVmFsdWUpLFxuICAgICAgICAgICAgbWVkaWFUeXBlOiB2YWx1ZS5tZWRpYVR5cGUsXG4gICAgICAgICAgICBmaWxlbmFtZTogdmFsdWUuZmlsZW5hbWUsXG4gICAgICAgIH07XG4gICAgfVxuICAgIGlmIChpc05vbkVtcHR5U3RyaW5nKHZhbHVlLnVybCkpIHtcbiAgICAgICAgY29uc3QgcmVzdWx0ID0geyB1cmw6IHZhbHVlLnVybCB9O1xuICAgICAgICBpZiAoaXNOb25FbXB0eVN0cmluZyh2YWx1ZS5maWxlbmFtZSkpIHtcbiAgICAgICAgICAgIHJlc3VsdC5maWxlbmFtZSA9IHZhbHVlLmZpbGVuYW1lO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiByZXN1bHQ7XG4gICAgfVxuICAgIGNvbnN0IHJlZmVyZW5jZWRJZCA9IChpc05vbkVtcHR5U3RyaW5nKHZhbHVlLmlkKSAmJiB2YWx1ZS5pZCkgfHxcbiAgICAgICAgKGlzTm9uRW1wdHlTdHJpbmcodmFsdWUuZmlsZUlkKSAmJiB2YWx1ZS5maWxlSWQpO1xuICAgIGlmIChyZWZlcmVuY2VkSWQpIHtcbiAgICAgICAgY29uc3QgcmVzdWx0ID0geyBpZDogcmVmZXJlbmNlZElkIH07XG4gICAgICAgIGlmIChpc05vbkVtcHR5U3RyaW5nKHZhbHVlLmZpbGVuYW1lKSkge1xuICAgICAgICAgICAgcmVzdWx0LmZpbGVuYW1lID0gdmFsdWUuZmlsZW5hbWU7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIHJlc3VsdDtcbiAgICB9XG4gICAgcmV0dXJuIG51bGw7XG59XG5mdW5jdGlvbiBub3JtYWxpemVMZWdhY3lGaWxlVmFsdWUodmFsdWUpIHtcbiAgICBjb25zdCBmaWxlbmFtZSA9IHR5cGVvZiB2YWx1ZS5maWxlbmFtZSA9PT0gJ3N0cmluZycgJiYgdmFsdWUuZmlsZW5hbWUubGVuZ3RoID4gMFxuICAgICAgICA/IHZhbHVlLmZpbGVuYW1lXG4gICAgICAgIDogdW5kZWZpbmVkO1xuICAgIGNvbnN0IG1lZGlhVHlwZSA9IHR5cGVvZiB2YWx1ZS5tZWRpYVR5cGUgPT09ICdzdHJpbmcnICYmIHZhbHVlLm1lZGlhVHlwZS5sZW5ndGggPiAwXG4gICAgICAgID8gdmFsdWUubWVkaWFUeXBlXG4gICAgICAgIDogdW5kZWZpbmVkO1xuICAgIGlmICh0eXBlb2YgdmFsdWUuZmlsZURhdGEgPT09ICdzdHJpbmcnICYmIHZhbHVlLmZpbGVEYXRhLmxlbmd0aCA+IDApIHtcbiAgICAgICAgaWYgKCFtZWRpYVR5cGUgfHwgIWZpbGVuYW1lKSB7XG4gICAgICAgICAgICByZXR1cm4gbnVsbDtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4geyBkYXRhOiB2YWx1ZS5maWxlRGF0YSwgbWVkaWFUeXBlLCBmaWxlbmFtZSB9O1xuICAgIH1cbiAgICBpZiAodmFsdWUuZmlsZURhdGEgaW5zdGFuY2VvZiBVaW50OEFycmF5ICYmIHZhbHVlLmZpbGVEYXRhLmxlbmd0aCA+IDApIHtcbiAgICAgICAgaWYgKCFtZWRpYVR5cGUgfHwgIWZpbGVuYW1lKSB7XG4gICAgICAgICAgICByZXR1cm4gbnVsbDtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4geyBkYXRhOiBuZXcgVWludDhBcnJheSh2YWx1ZS5maWxlRGF0YSksIG1lZGlhVHlwZSwgZmlsZW5hbWUgfTtcbiAgICB9XG4gICAgaWYgKHR5cGVvZiB2YWx1ZS5maWxlVXJsID09PSAnc3RyaW5nJyAmJiB2YWx1ZS5maWxlVXJsLmxlbmd0aCA+IDApIHtcbiAgICAgICAgY29uc3QgcmVzdWx0ID0geyB1cmw6IHZhbHVlLmZpbGVVcmwgfTtcbiAgICAgICAgaWYgKGZpbGVuYW1lKSB7XG4gICAgICAgICAgICByZXN1bHQuZmlsZW5hbWUgPSBmaWxlbmFtZTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gcmVzdWx0O1xuICAgIH1cbiAgICBpZiAodHlwZW9mIHZhbHVlLmZpbGVJZCA9PT0gJ3N0cmluZycgJiYgdmFsdWUuZmlsZUlkLmxlbmd0aCA+IDApIHtcbiAgICAgICAgY29uc3QgcmVzdWx0ID0geyBpZDogdmFsdWUuZmlsZUlkIH07XG4gICAgICAgIGlmIChmaWxlbmFtZSkge1xuICAgICAgICAgICAgcmVzdWx0LmZpbGVuYW1lID0gZmlsZW5hbWU7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIHJlc3VsdDtcbiAgICB9XG4gICAgcmV0dXJuIG51bGw7XG59XG5mdW5jdGlvbiBpc1JlY29yZCh2YWx1ZSkge1xuICAgIHJldHVybiB0eXBlb2YgdmFsdWUgPT09ICdvYmplY3QnICYmIHZhbHVlICE9PSBudWxsO1xufVxuZnVuY3Rpb24gaXNOb25FbXB0eVN0cmluZyh2YWx1ZSkge1xuICAgIHJldHVybiB0eXBlb2YgdmFsdWUgPT09ICdzdHJpbmcnICYmIHZhbHVlLmxlbmd0aCA+IDA7XG59XG5mdW5jdGlvbiB0b0lubGluZUltYWdlU3RyaW5nKGRhdGEsIG1lZGlhVHlwZSkge1xuICAgIGlmICh0eXBlb2YgZGF0YSA9PT0gJ3N0cmluZycpIHtcbiAgICAgICAgaWYgKG1lZGlhVHlwZSAmJiAhZGF0YS5zdGFydHNXaXRoKCdkYXRhOicpKSB7XG4gICAgICAgICAgICByZXR1cm4gYXNEYXRhVXJsKGRhdGEsIG1lZGlhVHlwZSk7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIGRhdGE7XG4gICAgfVxuICAgIGNvbnN0IGJhc2U2NCA9IGVuY29kZVVpbnQ4QXJyYXlUb0Jhc2U2NChkYXRhKTtcbiAgICByZXR1cm4gYXNEYXRhVXJsKGJhc2U2NCwgbWVkaWFUeXBlKTtcbn1cbmZ1bmN0aW9uIGFzRGF0YVVybChiYXNlNjQsIG1lZGlhVHlwZSkge1xuICAgIHJldHVybiBtZWRpYVR5cGUgPyBgZGF0YToke21lZGlhVHlwZX07YmFzZTY0LCR7YmFzZTY0fWAgOiBiYXNlNjQ7XG59XG4vKipcbiAqIEBpbnRlcm5hbFxuICogUnVucyBldmVyeSBmdW5jdGlvbiB0b29sIGNhbGwgcmVxdWVzdGVkIGJ5IHRoZSBtb2RlbCBhbmQgcmV0dXJucyB0aGVpciBvdXRwdXRzIGFsb25nc2lkZVxuICogdGhlIGBSdW5JdGVtYCBpbnN0YW5jZXMgdGhhdCBzaG91bGQgYmUgYXBwZW5kZWQgdG8gaGlzdG9yeS5cbiAqL1xuZXhwb3J0IGFzeW5jIGZ1bmN0aW9uIGV4ZWN1dGVGdW5jdGlvblRvb2xDYWxscyhhZ2VudCwgdG9vbFJ1bnMsIHJ1bm5lciwgc3RhdGUpIHtcbiAgICBhc3luYyBmdW5jdGlvbiBydW5TaW5nbGVUb29sKHRvb2xSdW4pIHtcbiAgICAgICAgbGV0IHBhcnNlZEFyZ3MgPSB0b29sUnVuLnRvb2xDYWxsLmFyZ3VtZW50cztcbiAgICAgICAgaWYgKHRvb2xSdW4udG9vbC5wYXJhbWV0ZXJzKSB7XG4gICAgICAgICAgICBpZiAoaXNab2RPYmplY3QodG9vbFJ1bi50b29sLnBhcmFtZXRlcnMpKSB7XG4gICAgICAgICAgICAgICAgcGFyc2VkQXJncyA9IHRvb2xSdW4udG9vbC5wYXJhbWV0ZXJzLnBhcnNlKHBhcnNlZEFyZ3MpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICAgICAgcGFyc2VkQXJncyA9IEpTT04ucGFyc2UocGFyc2VkQXJncyk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgLy8gU29tZSB0b29scyByZXF1aXJlIGEgaHVtYW4gb3IgcG9saWN5IGNoZWNrIGJlZm9yZSBleGVjdXRpb247IGRlZmVyIHVudGlsIGFwcHJvdmFsIGlzIHJlY29yZGVkLlxuICAgICAgICBjb25zdCBuZWVkc0FwcHJvdmFsID0gYXdhaXQgdG9vbFJ1bi50b29sLm5lZWRzQXBwcm92YWwoc3RhdGUuX2NvbnRleHQsIHBhcnNlZEFyZ3MsIHRvb2xSdW4udG9vbENhbGwuY2FsbElkKTtcbiAgICAgICAgaWYgKG5lZWRzQXBwcm92YWwpIHtcbiAgICAgICAgICAgIGNvbnN0IGFwcHJvdmFsID0gc3RhdGUuX2NvbnRleHQuaXNUb29sQXBwcm92ZWQoe1xuICAgICAgICAgICAgICAgIHRvb2xOYW1lOiB0b29sUnVuLnRvb2wubmFtZSxcbiAgICAgICAgICAgICAgICBjYWxsSWQ6IHRvb2xSdW4udG9vbENhbGwuY2FsbElkLFxuICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICBpZiAoYXBwcm92YWwgPT09IGZhbHNlKSB7XG4gICAgICAgICAgICAgICAgLy8gcmVqZWN0ZWRcbiAgICAgICAgICAgICAgICByZXR1cm4gd2l0aEZ1bmN0aW9uU3Bhbihhc3luYyAoc3BhbikgPT4ge1xuICAgICAgICAgICAgICAgICAgICBjb25zdCByZXNwb25zZSA9ICdUb29sIGV4ZWN1dGlvbiB3YXMgbm90IGFwcHJvdmVkLic7XG4gICAgICAgICAgICAgICAgICAgIHNwYW4uc2V0RXJyb3Ioe1xuICAgICAgICAgICAgICAgICAgICAgICAgbWVzc2FnZTogcmVzcG9uc2UsXG4gICAgICAgICAgICAgICAgICAgICAgICBkYXRhOiB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgdG9vbF9uYW1lOiB0b29sUnVuLnRvb2wubmFtZSxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBlcnJvcjogYFRvb2wgZXhlY3V0aW9uIGZvciAke3Rvb2xSdW4udG9vbENhbGwuY2FsbElkfSB3YXMgbWFudWFsbHkgcmVqZWN0ZWQgYnkgdXNlci5gLFxuICAgICAgICAgICAgICAgICAgICAgICAgfSxcbiAgICAgICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICAgICAgICAgIHNwYW4uc3BhbkRhdGEub3V0cHV0ID0gcmVzcG9uc2U7XG4gICAgICAgICAgICAgICAgICAgIHJldHVybiB7XG4gICAgICAgICAgICAgICAgICAgICAgICB0eXBlOiAnZnVuY3Rpb25fb3V0cHV0JyxcbiAgICAgICAgICAgICAgICAgICAgICAgIHRvb2w6IHRvb2xSdW4udG9vbCxcbiAgICAgICAgICAgICAgICAgICAgICAgIG91dHB1dDogcmVzcG9uc2UsXG4gICAgICAgICAgICAgICAgICAgICAgICBydW5JdGVtOiBuZXcgUnVuVG9vbENhbGxPdXRwdXRJdGVtKGdldFRvb2xDYWxsT3V0cHV0SXRlbSh0b29sUnVuLnRvb2xDYWxsLCByZXNwb25zZSksIGFnZW50LCByZXNwb25zZSksXG4gICAgICAgICAgICAgICAgICAgIH07XG4gICAgICAgICAgICAgICAgfSwge1xuICAgICAgICAgICAgICAgICAgICBkYXRhOiB7XG4gICAgICAgICAgICAgICAgICAgICAgICBuYW1lOiB0b29sUnVuLnRvb2wubmFtZSxcbiAgICAgICAgICAgICAgICAgICAgfSxcbiAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGlmIChhcHByb3ZhbCAhPT0gdHJ1ZSkge1xuICAgICAgICAgICAgICAgIC8vIHRoaXMgYXBwcm92YWwgcHJvY2VzcyBuZWVkcyB0byBiZSBkb25lIGluIHRoZSBuZXh0IHR1cm5cbiAgICAgICAgICAgICAgICByZXR1cm4ge1xuICAgICAgICAgICAgICAgICAgICB0eXBlOiAnZnVuY3Rpb25fYXBwcm92YWwnLFxuICAgICAgICAgICAgICAgICAgICB0b29sOiB0b29sUnVuLnRvb2wsXG4gICAgICAgICAgICAgICAgICAgIHJ1bkl0ZW06IG5ldyBSdW5Ub29sQXBwcm92YWxJdGVtKHRvb2xSdW4udG9vbENhbGwsIGFnZW50KSxcbiAgICAgICAgICAgICAgICB9O1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIHJldHVybiB3aXRoRnVuY3Rpb25TcGFuKGFzeW5jIChzcGFuKSA9PiB7XG4gICAgICAgICAgICBpZiAocnVubmVyLmNvbmZpZy50cmFjZUluY2x1ZGVTZW5zaXRpdmVEYXRhKSB7XG4gICAgICAgICAgICAgICAgc3Bhbi5zcGFuRGF0YS5pbnB1dCA9IHRvb2xSdW4udG9vbENhbGwuYXJndW1lbnRzO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgdHJ5IHtcbiAgICAgICAgICAgICAgICBydW5uZXIuZW1pdCgnYWdlbnRfdG9vbF9zdGFydCcsIHN0YXRlLl9jb250ZXh0LCBhZ2VudCwgdG9vbFJ1bi50b29sLCB7XG4gICAgICAgICAgICAgICAgICAgIHRvb2xDYWxsOiB0b29sUnVuLnRvb2xDYWxsLFxuICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgICAgIGFnZW50LmVtaXQoJ2FnZW50X3Rvb2xfc3RhcnQnLCBzdGF0ZS5fY29udGV4dCwgdG9vbFJ1bi50b29sLCB7XG4gICAgICAgICAgICAgICAgICAgIHRvb2xDYWxsOiB0b29sUnVuLnRvb2xDYWxsLFxuICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgICAgIGNvbnN0IHRvb2xPdXRwdXQgPSBhd2FpdCB0b29sUnVuLnRvb2wuaW52b2tlKHN0YXRlLl9jb250ZXh0LCB0b29sUnVuLnRvb2xDYWxsLmFyZ3VtZW50cywgeyB0b29sQ2FsbDogdG9vbFJ1bi50b29sQ2FsbCB9KTtcbiAgICAgICAgICAgICAgICAvLyBVc2Ugc3RyaW5nIGRhdGEgZm9yIHRyYWNpbmcgYW5kIGV2ZW50IGVtaXR0ZXJcbiAgICAgICAgICAgICAgICBjb25zdCBzdHJpbmdSZXN1bHQgPSB0b1NtYXJ0U3RyaW5nKHRvb2xPdXRwdXQpO1xuICAgICAgICAgICAgICAgIHJ1bm5lci5lbWl0KCdhZ2VudF90b29sX2VuZCcsIHN0YXRlLl9jb250ZXh0LCBhZ2VudCwgdG9vbFJ1bi50b29sLCBzdHJpbmdSZXN1bHQsIHsgdG9vbENhbGw6IHRvb2xSdW4udG9vbENhbGwgfSk7XG4gICAgICAgICAgICAgICAgYWdlbnQuZW1pdCgnYWdlbnRfdG9vbF9lbmQnLCBzdGF0ZS5fY29udGV4dCwgdG9vbFJ1bi50b29sLCBzdHJpbmdSZXN1bHQsIHsgdG9vbENhbGw6IHRvb2xSdW4udG9vbENhbGwgfSk7XG4gICAgICAgICAgICAgICAgaWYgKHJ1bm5lci5jb25maWcudHJhY2VJbmNsdWRlU2Vuc2l0aXZlRGF0YSkge1xuICAgICAgICAgICAgICAgICAgICBzcGFuLnNwYW5EYXRhLm91dHB1dCA9IHN0cmluZ1Jlc3VsdDtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgY29uc3QgZnVuY3Rpb25SZXN1bHQgPSB7XG4gICAgICAgICAgICAgICAgICAgIHR5cGU6ICdmdW5jdGlvbl9vdXRwdXQnLFxuICAgICAgICAgICAgICAgICAgICB0b29sOiB0b29sUnVuLnRvb2wsXG4gICAgICAgICAgICAgICAgICAgIG91dHB1dDogdG9vbE91dHB1dCxcbiAgICAgICAgICAgICAgICAgICAgcnVuSXRlbTogbmV3IFJ1blRvb2xDYWxsT3V0cHV0SXRlbShnZXRUb29sQ2FsbE91dHB1dEl0ZW0odG9vbFJ1bi50b29sQ2FsbCwgdG9vbE91dHB1dCksIGFnZW50LCB0b29sT3V0cHV0KSxcbiAgICAgICAgICAgICAgICB9O1xuICAgICAgICAgICAgICAgIGNvbnN0IG5lc3RlZFJ1blJlc3VsdCA9IGNvbnN1bWVBZ2VudFRvb2xSdW5SZXN1bHQodG9vbFJ1bi50b29sQ2FsbCk7XG4gICAgICAgICAgICAgICAgaWYgKG5lc3RlZFJ1blJlc3VsdCkge1xuICAgICAgICAgICAgICAgICAgICBmdW5jdGlvblJlc3VsdC5hZ2VudFJ1blJlc3VsdCA9IG5lc3RlZFJ1blJlc3VsdDtcbiAgICAgICAgICAgICAgICAgICAgY29uc3QgbmVzdGVkSW50ZXJydXB0aW9ucyA9IG5lc3RlZFJ1blJlc3VsdC5pbnRlcnJ1cHRpb25zO1xuICAgICAgICAgICAgICAgICAgICBpZiAobmVzdGVkSW50ZXJydXB0aW9ucy5sZW5ndGggPiAwKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBmdW5jdGlvblJlc3VsdC5pbnRlcnJ1cHRpb25zID0gbmVzdGVkSW50ZXJydXB0aW9ucztcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICByZXR1cm4gZnVuY3Rpb25SZXN1bHQ7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBjYXRjaCAoZXJyb3IpIHtcbiAgICAgICAgICAgICAgICBzcGFuLnNldEVycm9yKHtcbiAgICAgICAgICAgICAgICAgICAgbWVzc2FnZTogJ0Vycm9yIHJ1bm5pbmcgdG9vbCcsXG4gICAgICAgICAgICAgICAgICAgIGRhdGE6IHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHRvb2xfbmFtZTogdG9vbFJ1bi50b29sLm5hbWUsXG4gICAgICAgICAgICAgICAgICAgICAgICBlcnJvcjogU3RyaW5nKGVycm9yKSxcbiAgICAgICAgICAgICAgICAgICAgfSxcbiAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgICAgICB0aHJvdyBlcnJvcjtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfSwge1xuICAgICAgICAgICAgZGF0YToge1xuICAgICAgICAgICAgICAgIG5hbWU6IHRvb2xSdW4udG9vbC5uYW1lLFxuICAgICAgICAgICAgfSxcbiAgICAgICAgfSk7XG4gICAgfVxuICAgIHRyeSB7XG4gICAgICAgIGNvbnN0IHJlc3VsdHMgPSBhd2FpdCBQcm9taXNlLmFsbCh0b29sUnVucy5tYXAocnVuU2luZ2xlVG9vbCkpO1xuICAgICAgICByZXR1cm4gcmVzdWx0cztcbiAgICB9XG4gICAgY2F0Y2ggKGUpIHtcbiAgICAgICAgdGhyb3cgbmV3IFRvb2xDYWxsRXJyb3IoYEZhaWxlZCB0byBydW4gZnVuY3Rpb24gdG9vbHM6ICR7ZX1gLCBlLCBzdGF0ZSk7XG4gICAgfVxufVxuLyoqXG4gKiBAaW50ZXJuYWxcbiAqL1xuLy8gSW50ZXJuYWwgaGVscGVyOiBkaXNwYXRjaCBhIGNvbXB1dGVyIGFjdGlvbiBhbmQgcmV0dXJuIGEgc2NyZWVuc2hvdCAoc3luYy9hc3luYylcbmFzeW5jIGZ1bmN0aW9uIF9ydW5Db21wdXRlckFjdGlvbkFuZFNjcmVlbnNob3QoY29tcHV0ZXIsIHRvb2xDYWxsKSB7XG4gICAgY29uc3QgYWN0aW9uID0gdG9vbENhbGwuYWN0aW9uO1xuICAgIGxldCBzY3JlZW5zaG90O1xuICAgIC8vIERpc3BhdGNoIGJhc2VkIG9uIGFjdGlvbiB0eXBlIHN0cmluZyAoYXNzdW1lIGFjdGlvbi50eXBlIGV4aXN0cylcbiAgICBzd2l0Y2ggKGFjdGlvbi50eXBlKSB7XG4gICAgICAgIGNhc2UgJ2NsaWNrJzpcbiAgICAgICAgICAgIGF3YWl0IGNvbXB1dGVyLmNsaWNrKGFjdGlvbi54LCBhY3Rpb24ueSwgYWN0aW9uLmJ1dHRvbik7XG4gICAgICAgICAgICBicmVhaztcbiAgICAgICAgY2FzZSAnZG91YmxlX2NsaWNrJzpcbiAgICAgICAgICAgIGF3YWl0IGNvbXB1dGVyLmRvdWJsZUNsaWNrKGFjdGlvbi54LCBhY3Rpb24ueSk7XG4gICAgICAgICAgICBicmVhaztcbiAgICAgICAgY2FzZSAnZHJhZyc6XG4gICAgICAgICAgICBhd2FpdCBjb21wdXRlci5kcmFnKGFjdGlvbi5wYXRoLm1hcCgocCkgPT4gW3AueCwgcC55XSkpO1xuICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgIGNhc2UgJ2tleXByZXNzJzpcbiAgICAgICAgICAgIGF3YWl0IGNvbXB1dGVyLmtleXByZXNzKGFjdGlvbi5rZXlzKTtcbiAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICBjYXNlICdtb3ZlJzpcbiAgICAgICAgICAgIGF3YWl0IGNvbXB1dGVyLm1vdmUoYWN0aW9uLngsIGFjdGlvbi55KTtcbiAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICBjYXNlICdzY3JlZW5zaG90JzpcbiAgICAgICAgICAgIHNjcmVlbnNob3QgPSBhd2FpdCBjb21wdXRlci5zY3JlZW5zaG90KCk7XG4gICAgICAgICAgICBicmVhaztcbiAgICAgICAgY2FzZSAnc2Nyb2xsJzpcbiAgICAgICAgICAgIGF3YWl0IGNvbXB1dGVyLnNjcm9sbChhY3Rpb24ueCwgYWN0aW9uLnksIGFjdGlvbi5zY3JvbGxfeCwgYWN0aW9uLnNjcm9sbF95KTtcbiAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICBjYXNlICd0eXBlJzpcbiAgICAgICAgICAgIGF3YWl0IGNvbXB1dGVyLnR5cGUoYWN0aW9uLnRleHQpO1xuICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgIGNhc2UgJ3dhaXQnOlxuICAgICAgICAgICAgYXdhaXQgY29tcHV0ZXIud2FpdCgpO1xuICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgIGRlZmF1bHQ6XG4gICAgICAgICAgICBhY3Rpb247IC8vIGVuc3VyZXMgdGhhdCB3ZSBoYW5kbGUgZXZlcnkgYWN0aW9uIHdlIGtub3cgb2ZcbiAgICAgICAgICAgIC8vIFVua25vd24gYWN0aW9uLCBqdXN0IHRha2Ugc2NyZWVuc2hvdFxuICAgICAgICAgICAgYnJlYWs7XG4gICAgfVxuICAgIGlmICh0eXBlb2Ygc2NyZWVuc2hvdCAhPT0gJ3VuZGVmaW5lZCcpIHtcbiAgICAgICAgcmV0dXJuIHNjcmVlbnNob3Q7XG4gICAgfVxuICAgIC8vIEFsd2F5cyByZXR1cm4gc2NyZWVuc2hvdCBhcyBiYXNlNjQgc3RyaW5nXG4gICAgaWYgKHR5cGVvZiBjb21wdXRlci5zY3JlZW5zaG90ID09PSAnZnVuY3Rpb24nKSB7XG4gICAgICAgIHNjcmVlbnNob3QgPSBhd2FpdCBjb21wdXRlci5zY3JlZW5zaG90KCk7XG4gICAgICAgIGlmICh0eXBlb2Ygc2NyZWVuc2hvdCAhPT0gJ3VuZGVmaW5lZCcpIHtcbiAgICAgICAgICAgIHJldHVybiBzY3JlZW5zaG90O1xuICAgICAgICB9XG4gICAgfVxuICAgIHRocm93IG5ldyBFcnJvcignQ29tcHV0ZXIgZG9lcyBub3QgaW1wbGVtZW50IHNjcmVlbnNob3QoKScpO1xufVxuZnVuY3Rpb24gdG9FcnJvck1lc3NhZ2UoZXJyb3IpIHtcbiAgICBpZiAoZXJyb3IgaW5zdGFuY2VvZiBFcnJvcikge1xuICAgICAgICByZXR1cm4gZXJyb3IubWVzc2FnZSB8fCBlcnJvci50b1N0cmluZygpO1xuICAgIH1cbiAgICB0cnkge1xuICAgICAgICByZXR1cm4gSlNPTi5zdHJpbmdpZnkoZXJyb3IpO1xuICAgIH1cbiAgICBjYXRjaCB7XG4gICAgICAgIHJldHVybiBTdHJpbmcoZXJyb3IpO1xuICAgIH1cbn1cbmV4cG9ydCBhc3luYyBmdW5jdGlvbiBleGVjdXRlU2hlbGxBY3Rpb25zKGFnZW50LCBhY3Rpb25zLCBydW5uZXIsIHJ1bkNvbnRleHQsIGN1c3RvbUxvZ2dlciA9IHVuZGVmaW5lZCkge1xuICAgIGNvbnN0IF9sb2dnZXIgPSBjdXN0b21Mb2dnZXIgPz8gbG9nZ2VyO1xuICAgIGNvbnN0IHJlc3VsdHMgPSBbXTtcbiAgICBmb3IgKGNvbnN0IGFjdGlvbiBvZiBhY3Rpb25zKSB7XG4gICAgICAgIGNvbnN0IHNoZWxsVG9vbCA9IGFjdGlvbi5zaGVsbDtcbiAgICAgICAgY29uc3QgdG9vbENhbGwgPSBhY3Rpb24udG9vbENhbGw7XG4gICAgICAgIGNvbnN0IGFwcHJvdmFsSXRlbSA9IG5ldyBSdW5Ub29sQXBwcm92YWxJdGVtKHRvb2xDYWxsLCBhZ2VudCwgc2hlbGxUb29sLm5hbWUpO1xuICAgICAgICBjb25zdCByZXF1aXJlc0FwcHJvdmFsID0gYXdhaXQgc2hlbGxUb29sLm5lZWRzQXBwcm92YWwocnVuQ29udGV4dCwgdG9vbENhbGwuYWN0aW9uLCB0b29sQ2FsbC5jYWxsSWQpO1xuICAgICAgICBpZiAocmVxdWlyZXNBcHByb3ZhbCkge1xuICAgICAgICAgICAgaWYgKHNoZWxsVG9vbC5vbkFwcHJvdmFsKSB7XG4gICAgICAgICAgICAgICAgY29uc3QgZGVjaXNpb24gPSBhd2FpdCBzaGVsbFRvb2wub25BcHByb3ZhbChydW5Db250ZXh0LCBhcHByb3ZhbEl0ZW0pO1xuICAgICAgICAgICAgICAgIGlmIChkZWNpc2lvbi5hcHByb3ZlID09PSB0cnVlKSB7XG4gICAgICAgICAgICAgICAgICAgIHJ1bkNvbnRleHQuYXBwcm92ZVRvb2woYXBwcm92YWxJdGVtKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgZWxzZSBpZiAoZGVjaXNpb24uYXBwcm92ZSA9PT0gZmFsc2UpIHtcbiAgICAgICAgICAgICAgICAgICAgcnVuQ29udGV4dC5yZWplY3RUb29sKGFwcHJvdmFsSXRlbSk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICAgICAgY29uc3QgYXBwcm92YWwgPSBydW5Db250ZXh0LmlzVG9vbEFwcHJvdmVkKHtcbiAgICAgICAgICAgICAgICB0b29sTmFtZTogc2hlbGxUb29sLm5hbWUsXG4gICAgICAgICAgICAgICAgY2FsbElkOiB0b29sQ2FsbC5jYWxsSWQsXG4gICAgICAgICAgICB9KTtcbiAgICAgICAgICAgIGlmIChhcHByb3ZhbCA9PT0gZmFsc2UpIHtcbiAgICAgICAgICAgICAgICBjb25zdCByZXNwb25zZSA9ICdUb29sIGV4ZWN1dGlvbiB3YXMgbm90IGFwcHJvdmVkLic7XG4gICAgICAgICAgICAgICAgY29uc3QgcmVqZWN0aW9uT3V0cHV0ID0ge1xuICAgICAgICAgICAgICAgICAgICBzdGRvdXQ6ICcnLFxuICAgICAgICAgICAgICAgICAgICBzdGRlcnI6IHJlc3BvbnNlLFxuICAgICAgICAgICAgICAgICAgICBvdXRjb21lOiB7IHR5cGU6ICdleGl0JywgZXhpdENvZGU6IG51bGwgfSxcbiAgICAgICAgICAgICAgICB9O1xuICAgICAgICAgICAgICAgIHJlc3VsdHMucHVzaChuZXcgUnVuVG9vbENhbGxPdXRwdXRJdGVtKHtcbiAgICAgICAgICAgICAgICAgICAgdHlwZTogJ3NoZWxsX2NhbGxfb3V0cHV0JyxcbiAgICAgICAgICAgICAgICAgICAgY2FsbElkOiB0b29sQ2FsbC5jYWxsSWQsXG4gICAgICAgICAgICAgICAgICAgIG91dHB1dDogW3JlamVjdGlvbk91dHB1dF0sXG4gICAgICAgICAgICAgICAgfSwgYWdlbnQsIHJlc3BvbnNlKSk7XG4gICAgICAgICAgICAgICAgY29udGludWU7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBpZiAoYXBwcm92YWwgIT09IHRydWUpIHtcbiAgICAgICAgICAgICAgICByZXN1bHRzLnB1c2goYXBwcm92YWxJdGVtKTtcbiAgICAgICAgICAgICAgICBjb250aW51ZTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICBydW5uZXIuZW1pdCgnYWdlbnRfdG9vbF9zdGFydCcsIHJ1bkNvbnRleHQsIGFnZW50LCBzaGVsbFRvb2wsIHtcbiAgICAgICAgICAgIHRvb2xDYWxsLFxuICAgICAgICB9KTtcbiAgICAgICAgaWYgKHR5cGVvZiBhZ2VudC5lbWl0ID09PSAnZnVuY3Rpb24nKSB7XG4gICAgICAgICAgICBhZ2VudC5lbWl0KCdhZ2VudF90b29sX3N0YXJ0JywgcnVuQ29udGV4dCwgc2hlbGxUb29sLCB7IHRvb2xDYWxsIH0pO1xuICAgICAgICB9XG4gICAgICAgIGxldCBzaGVsbE91dHB1dHM7XG4gICAgICAgIGNvbnN0IHByb3ZpZGVyTWV0YSA9IHt9O1xuICAgICAgICBsZXQgbWF4T3V0cHV0TGVuZ3RoO1xuICAgICAgICB0cnkge1xuICAgICAgICAgICAgY29uc3Qgc2hlbGxSZXN1bHQgPSBhd2FpdCBzaGVsbFRvb2wuc2hlbGwucnVuKHRvb2xDYWxsLmFjdGlvbik7XG4gICAgICAgICAgICBzaGVsbE91dHB1dHMgPSBzaGVsbFJlc3VsdC5vdXRwdXQgPz8gW107XG4gICAgICAgICAgICBpZiAoc2hlbGxSZXN1bHQucHJvdmlkZXJEYXRhKSB7XG4gICAgICAgICAgICAgICAgT2JqZWN0LmFzc2lnbihwcm92aWRlck1ldGEsIHNoZWxsUmVzdWx0LnByb3ZpZGVyRGF0YSk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBpZiAodHlwZW9mIHNoZWxsUmVzdWx0Lm1heE91dHB1dExlbmd0aCA9PT0gJ251bWJlcicpIHtcbiAgICAgICAgICAgICAgICBtYXhPdXRwdXRMZW5ndGggPSBzaGVsbFJlc3VsdC5tYXhPdXRwdXRMZW5ndGg7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgY2F0Y2ggKGVycikge1xuICAgICAgICAgICAgY29uc3QgZXJyb3JUZXh0ID0gdG9FcnJvck1lc3NhZ2UoZXJyKTtcbiAgICAgICAgICAgIHNoZWxsT3V0cHV0cyA9IFtcbiAgICAgICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgICAgIHN0ZG91dDogJycsXG4gICAgICAgICAgICAgICAgICAgIHN0ZGVycjogZXJyb3JUZXh0LFxuICAgICAgICAgICAgICAgICAgICBvdXRjb21lOiB7IHR5cGU6ICdleGl0JywgZXhpdENvZGU6IG51bGwgfSxcbiAgICAgICAgICAgICAgICB9LFxuICAgICAgICAgICAgXTtcbiAgICAgICAgICAgIF9sb2dnZXIuZXJyb3IoJ0ZhaWxlZCB0byBleGVjdXRlIHNoZWxsIGFjdGlvbjonLCBlcnIpO1xuICAgICAgICB9XG4gICAgICAgIHNoZWxsT3V0cHV0cyA9IHNoZWxsT3V0cHV0cyA/PyBbXTtcbiAgICAgICAgcnVubmVyLmVtaXQoJ2FnZW50X3Rvb2xfZW5kJywgcnVuQ29udGV4dCwgYWdlbnQsIHNoZWxsVG9vbCwgSlNPTi5zdHJpbmdpZnkoc2hlbGxPdXRwdXRzKSwge1xuICAgICAgICAgICAgdG9vbENhbGwsXG4gICAgICAgIH0pO1xuICAgICAgICBpZiAodHlwZW9mIGFnZW50LmVtaXQgPT09ICdmdW5jdGlvbicpIHtcbiAgICAgICAgICAgIGFnZW50LmVtaXQoJ2FnZW50X3Rvb2xfZW5kJywgcnVuQ29udGV4dCwgc2hlbGxUb29sLCBKU09OLnN0cmluZ2lmeShzaGVsbE91dHB1dHMpLCB7XG4gICAgICAgICAgICAgICAgdG9vbENhbGwsXG4gICAgICAgICAgICB9KTtcbiAgICAgICAgfVxuICAgICAgICBjb25zdCByYXdJdGVtID0ge1xuICAgICAgICAgICAgdHlwZTogJ3NoZWxsX2NhbGxfb3V0cHV0JyxcbiAgICAgICAgICAgIGNhbGxJZDogdG9vbENhbGwuY2FsbElkLFxuICAgICAgICAgICAgb3V0cHV0OiBzaGVsbE91dHB1dHMgPz8gW10sXG4gICAgICAgIH07XG4gICAgICAgIGlmICh0eXBlb2YgbWF4T3V0cHV0TGVuZ3RoID09PSAnbnVtYmVyJykge1xuICAgICAgICAgICAgcmF3SXRlbS5tYXhPdXRwdXRMZW5ndGggPSBtYXhPdXRwdXRMZW5ndGg7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKE9iamVjdC5rZXlzKHByb3ZpZGVyTWV0YSkubGVuZ3RoID4gMCkge1xuICAgICAgICAgICAgcmF3SXRlbS5wcm92aWRlckRhdGEgPSBwcm92aWRlck1ldGE7XG4gICAgICAgIH1cbiAgICAgICAgcmVzdWx0cy5wdXNoKG5ldyBSdW5Ub29sQ2FsbE91dHB1dEl0ZW0ocmF3SXRlbSwgYWdlbnQsIHJhd0l0ZW0ub3V0cHV0KSk7XG4gICAgfVxuICAgIHJldHVybiByZXN1bHRzO1xufVxuZXhwb3J0IGFzeW5jIGZ1bmN0aW9uIGV4ZWN1dGVBcHBseVBhdGNoT3BlcmF0aW9ucyhhZ2VudCwgYWN0aW9ucywgcnVubmVyLCBydW5Db250ZXh0LCBjdXN0b21Mb2dnZXIgPSB1bmRlZmluZWQpIHtcbiAgICBjb25zdCBfbG9nZ2VyID0gY3VzdG9tTG9nZ2VyID8/IGxvZ2dlcjtcbiAgICBjb25zdCByZXN1bHRzID0gW107XG4gICAgZm9yIChjb25zdCBhY3Rpb24gb2YgYWN0aW9ucykge1xuICAgICAgICBjb25zdCBhcHBseVBhdGNoVG9vbCA9IGFjdGlvbi5hcHBseVBhdGNoO1xuICAgICAgICBjb25zdCB0b29sQ2FsbCA9IGFjdGlvbi50b29sQ2FsbDtcbiAgICAgICAgY29uc3QgYXBwcm92YWxJdGVtID0gbmV3IFJ1blRvb2xBcHByb3ZhbEl0ZW0odG9vbENhbGwsIGFnZW50LCBhcHBseVBhdGNoVG9vbC5uYW1lKTtcbiAgICAgICAgY29uc3QgcmVxdWlyZXNBcHByb3ZhbCA9IGF3YWl0IGFwcGx5UGF0Y2hUb29sLm5lZWRzQXBwcm92YWwocnVuQ29udGV4dCwgdG9vbENhbGwub3BlcmF0aW9uLCB0b29sQ2FsbC5jYWxsSWQpO1xuICAgICAgICBpZiAocmVxdWlyZXNBcHByb3ZhbCkge1xuICAgICAgICAgICAgaWYgKGFwcGx5UGF0Y2hUb29sLm9uQXBwcm92YWwpIHtcbiAgICAgICAgICAgICAgICBjb25zdCBkZWNpc2lvbiA9IGF3YWl0IGFwcGx5UGF0Y2hUb29sLm9uQXBwcm92YWwocnVuQ29udGV4dCwgYXBwcm92YWxJdGVtKTtcbiAgICAgICAgICAgICAgICBpZiAoZGVjaXNpb24uYXBwcm92ZSA9PT0gdHJ1ZSkge1xuICAgICAgICAgICAgICAgICAgICBydW5Db250ZXh0LmFwcHJvdmVUb29sKGFwcHJvdmFsSXRlbSk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGVsc2UgaWYgKGRlY2lzaW9uLmFwcHJvdmUgPT09IGZhbHNlKSB7XG4gICAgICAgICAgICAgICAgICAgIHJ1bkNvbnRleHQucmVqZWN0VG9vbChhcHByb3ZhbEl0ZW0pO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGNvbnN0IGFwcHJvdmFsID0gcnVuQ29udGV4dC5pc1Rvb2xBcHByb3ZlZCh7XG4gICAgICAgICAgICAgICAgdG9vbE5hbWU6IGFwcGx5UGF0Y2hUb29sLm5hbWUsXG4gICAgICAgICAgICAgICAgY2FsbElkOiB0b29sQ2FsbC5jYWxsSWQsXG4gICAgICAgICAgICB9KTtcbiAgICAgICAgICAgIGlmIChhcHByb3ZhbCA9PT0gZmFsc2UpIHtcbiAgICAgICAgICAgICAgICBjb25zdCByZXNwb25zZSA9ICdUb29sIGV4ZWN1dGlvbiB3YXMgbm90IGFwcHJvdmVkLic7XG4gICAgICAgICAgICAgICAgcmVzdWx0cy5wdXNoKG5ldyBSdW5Ub29sQ2FsbE91dHB1dEl0ZW0oe1xuICAgICAgICAgICAgICAgICAgICB0eXBlOiAnYXBwbHlfcGF0Y2hfY2FsbF9vdXRwdXQnLFxuICAgICAgICAgICAgICAgICAgICBjYWxsSWQ6IHRvb2xDYWxsLmNhbGxJZCxcbiAgICAgICAgICAgICAgICAgICAgc3RhdHVzOiAnZmFpbGVkJyxcbiAgICAgICAgICAgICAgICAgICAgb3V0cHV0OiByZXNwb25zZSxcbiAgICAgICAgICAgICAgICB9LCBhZ2VudCwgcmVzcG9uc2UpKTtcbiAgICAgICAgICAgICAgICBjb250aW51ZTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGlmIChhcHByb3ZhbCAhPT0gdHJ1ZSkge1xuICAgICAgICAgICAgICAgIHJlc3VsdHMucHVzaChhcHByb3ZhbEl0ZW0pO1xuICAgICAgICAgICAgICAgIGNvbnRpbnVlO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIHJ1bm5lci5lbWl0KCdhZ2VudF90b29sX3N0YXJ0JywgcnVuQ29udGV4dCwgYWdlbnQsIGFwcGx5UGF0Y2hUb29sLCB7XG4gICAgICAgICAgICB0b29sQ2FsbCxcbiAgICAgICAgfSk7XG4gICAgICAgIGlmICh0eXBlb2YgYWdlbnQuZW1pdCA9PT0gJ2Z1bmN0aW9uJykge1xuICAgICAgICAgICAgYWdlbnQuZW1pdCgnYWdlbnRfdG9vbF9zdGFydCcsIHJ1bkNvbnRleHQsIGFwcGx5UGF0Y2hUb29sLCB7XG4gICAgICAgICAgICAgICAgdG9vbENhbGwsXG4gICAgICAgICAgICB9KTtcbiAgICAgICAgfVxuICAgICAgICBsZXQgc3RhdHVzID0gJ2NvbXBsZXRlZCc7XG4gICAgICAgIGxldCBvdXRwdXQgPSAnJztcbiAgICAgICAgdHJ5IHtcbiAgICAgICAgICAgIGxldCByZXN1bHQ7XG4gICAgICAgICAgICBzd2l0Y2ggKHRvb2xDYWxsLm9wZXJhdGlvbi50eXBlKSB7XG4gICAgICAgICAgICAgICAgY2FzZSAnY3JlYXRlX2ZpbGUnOlxuICAgICAgICAgICAgICAgICAgICByZXN1bHQgPSBhd2FpdCBhcHBseVBhdGNoVG9vbC5lZGl0b3IuY3JlYXRlRmlsZSh0b29sQ2FsbC5vcGVyYXRpb24pO1xuICAgICAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgICAgICBjYXNlICd1cGRhdGVfZmlsZSc6XG4gICAgICAgICAgICAgICAgICAgIHJlc3VsdCA9IGF3YWl0IGFwcGx5UGF0Y2hUb29sLmVkaXRvci51cGRhdGVGaWxlKHRvb2xDYWxsLm9wZXJhdGlvbik7XG4gICAgICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgICAgIGNhc2UgJ2RlbGV0ZV9maWxlJzpcbiAgICAgICAgICAgICAgICAgICAgcmVzdWx0ID0gYXdhaXQgYXBwbHlQYXRjaFRvb2wuZWRpdG9yLmRlbGV0ZUZpbGUodG9vbENhbGwub3BlcmF0aW9uKTtcbiAgICAgICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICAgICAgZGVmYXVsdDpcbiAgICAgICAgICAgICAgICAgICAgdGhyb3cgbmV3IEVycm9yKCdVbnN1cHBvcnRlZCBhcHBseV9wYXRjaCBvcGVyYXRpb24nKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGlmIChyZXN1bHQgJiYgdHlwZW9mIHJlc3VsdC5zdGF0dXMgPT09ICdzdHJpbmcnKSB7XG4gICAgICAgICAgICAgICAgc3RhdHVzID0gcmVzdWx0LnN0YXR1cztcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGlmIChyZXN1bHQgJiYgdHlwZW9mIHJlc3VsdC5vdXRwdXQgPT09ICdzdHJpbmcnKSB7XG4gICAgICAgICAgICAgICAgb3V0cHV0ID0gcmVzdWx0Lm91dHB1dDtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICBjYXRjaCAoZXJyKSB7XG4gICAgICAgICAgICBzdGF0dXMgPSAnZmFpbGVkJztcbiAgICAgICAgICAgIG91dHB1dCA9IHRvRXJyb3JNZXNzYWdlKGVycik7XG4gICAgICAgICAgICBfbG9nZ2VyLmVycm9yKCdGYWlsZWQgdG8gZXhlY3V0ZSBhcHBseV9wYXRjaCBvcGVyYXRpb246JywgZXJyKTtcbiAgICAgICAgfVxuICAgICAgICBydW5uZXIuZW1pdCgnYWdlbnRfdG9vbF9lbmQnLCBydW5Db250ZXh0LCBhZ2VudCwgYXBwbHlQYXRjaFRvb2wsIG91dHB1dCwge1xuICAgICAgICAgICAgdG9vbENhbGwsXG4gICAgICAgIH0pO1xuICAgICAgICBpZiAodHlwZW9mIGFnZW50LmVtaXQgPT09ICdmdW5jdGlvbicpIHtcbiAgICAgICAgICAgIGFnZW50LmVtaXQoJ2FnZW50X3Rvb2xfZW5kJywgcnVuQ29udGV4dCwgYXBwbHlQYXRjaFRvb2wsIG91dHB1dCwge1xuICAgICAgICAgICAgICAgIHRvb2xDYWxsLFxuICAgICAgICAgICAgfSk7XG4gICAgICAgIH1cbiAgICAgICAgY29uc3QgcmF3SXRlbSA9IHtcbiAgICAgICAgICAgIHR5cGU6ICdhcHBseV9wYXRjaF9jYWxsX291dHB1dCcsXG4gICAgICAgICAgICBjYWxsSWQ6IHRvb2xDYWxsLmNhbGxJZCxcbiAgICAgICAgICAgIHN0YXR1cyxcbiAgICAgICAgfTtcbiAgICAgICAgaWYgKG91dHB1dCkge1xuICAgICAgICAgICAgcmF3SXRlbS5vdXRwdXQgPSBvdXRwdXQ7XG4gICAgICAgIH1cbiAgICAgICAgcmVzdWx0cy5wdXNoKG5ldyBSdW5Ub29sQ2FsbE91dHB1dEl0ZW0ocmF3SXRlbSwgYWdlbnQsIG91dHB1dCkpO1xuICAgIH1cbiAgICByZXR1cm4gcmVzdWx0cztcbn1cbi8qKlxuICogQGludGVybmFsXG4gKiBFeGVjdXRlcyBhbnkgY29tcHV0ZXItdXNlIGFjdGlvbnMgZW1pdHRlZCBieSB0aGUgbW9kZWwgYW5kIHJldHVybnMgdGhlIHJlc3VsdGluZyBpdGVtcyBzbyB0aGVcbiAqIHJ1biBoaXN0b3J5IHJlZmxlY3RzIHRoZSBjb21wdXRlciBzZXNzaW9uLlxuICovXG5leHBvcnQgYXN5bmMgZnVuY3Rpb24gZXhlY3V0ZUNvbXB1dGVyQWN0aW9ucyhhZ2VudCwgYWN0aW9ucywgcnVubmVyLCBydW5Db250ZXh0LCBjdXN0b21Mb2dnZXIgPSB1bmRlZmluZWQpIHtcbiAgICBjb25zdCBfbG9nZ2VyID0gY3VzdG9tTG9nZ2VyID8/IGxvZ2dlcjtcbiAgICBjb25zdCByZXN1bHRzID0gW107XG4gICAgZm9yIChjb25zdCBhY3Rpb24gb2YgYWN0aW9ucykge1xuICAgICAgICBjb25zdCBjb21wdXRlciA9IGFjdGlvbi5jb21wdXRlci5jb21wdXRlcjtcbiAgICAgICAgY29uc3QgdG9vbENhbGwgPSBhY3Rpb24udG9vbENhbGw7XG4gICAgICAgIC8vIEhvb2tzOiBvbl90b29sX3N0YXJ0IChnbG9iYWwgKyBhZ2VudClcbiAgICAgICAgcnVubmVyLmVtaXQoJ2FnZW50X3Rvb2xfc3RhcnQnLCBydW5Db250ZXh0LCBhZ2VudCwgYWN0aW9uLmNvbXB1dGVyLCB7XG4gICAgICAgICAgICB0b29sQ2FsbCxcbiAgICAgICAgfSk7XG4gICAgICAgIGlmICh0eXBlb2YgYWdlbnQuZW1pdCA9PT0gJ2Z1bmN0aW9uJykge1xuICAgICAgICAgICAgYWdlbnQuZW1pdCgnYWdlbnRfdG9vbF9zdGFydCcsIHJ1bkNvbnRleHQsIGFjdGlvbi5jb21wdXRlciwgeyB0b29sQ2FsbCB9KTtcbiAgICAgICAgfVxuICAgICAgICAvLyBSdW4gdGhlIGFjdGlvbiBhbmQgZ2V0IHNjcmVlbnNob3RcbiAgICAgICAgbGV0IG91dHB1dDtcbiAgICAgICAgdHJ5IHtcbiAgICAgICAgICAgIG91dHB1dCA9IGF3YWl0IF9ydW5Db21wdXRlckFjdGlvbkFuZFNjcmVlbnNob3QoY29tcHV0ZXIsIHRvb2xDYWxsKTtcbiAgICAgICAgfVxuICAgICAgICBjYXRjaCAoZXJyKSB7XG4gICAgICAgICAgICBfbG9nZ2VyLmVycm9yKCdGYWlsZWQgdG8gZXhlY3V0ZSBjb21wdXRlciBhY3Rpb246JywgZXJyKTtcbiAgICAgICAgICAgIG91dHB1dCA9ICcnO1xuICAgICAgICB9XG4gICAgICAgIC8vIEhvb2tzOiBvbl90b29sX2VuZCAoZ2xvYmFsICsgYWdlbnQpXG4gICAgICAgIHJ1bm5lci5lbWl0KCdhZ2VudF90b29sX2VuZCcsIHJ1bkNvbnRleHQsIGFnZW50LCBhY3Rpb24uY29tcHV0ZXIsIG91dHB1dCwge1xuICAgICAgICAgICAgdG9vbENhbGwsXG4gICAgICAgIH0pO1xuICAgICAgICBpZiAodHlwZW9mIGFnZW50LmVtaXQgPT09ICdmdW5jdGlvbicpIHtcbiAgICAgICAgICAgIGFnZW50LmVtaXQoJ2FnZW50X3Rvb2xfZW5kJywgcnVuQ29udGV4dCwgYWN0aW9uLmNvbXB1dGVyLCBvdXRwdXQsIHtcbiAgICAgICAgICAgICAgICB0b29sQ2FsbCxcbiAgICAgICAgICAgIH0pO1xuICAgICAgICB9XG4gICAgICAgIC8vIFJldHVybiB0aGUgc2NyZWVuc2hvdCBhcyBhIGRhdGEgVVJMIHdoZW4gYXZhaWxhYmxlOyBmYWxsIGJhY2sgdG8gYW4gZW1wdHkgc3RyaW5nIG9uIGZhaWx1cmVzLlxuICAgICAgICBjb25zdCBpbWFnZVVybCA9IG91dHB1dCA/IGBkYXRhOmltYWdlL3BuZztiYXNlNjQsJHtvdXRwdXR9YCA6ICcnO1xuICAgICAgICBjb25zdCByYXdJdGVtID0ge1xuICAgICAgICAgICAgdHlwZTogJ2NvbXB1dGVyX2NhbGxfcmVzdWx0JyxcbiAgICAgICAgICAgIGNhbGxJZDogdG9vbENhbGwuY2FsbElkLFxuICAgICAgICAgICAgb3V0cHV0OiB7IHR5cGU6ICdjb21wdXRlcl9zY3JlZW5zaG90JywgZGF0YTogaW1hZ2VVcmwgfSxcbiAgICAgICAgfTtcbiAgICAgICAgcmVzdWx0cy5wdXNoKG5ldyBSdW5Ub29sQ2FsbE91dHB1dEl0ZW0ocmF3SXRlbSwgYWdlbnQsIGltYWdlVXJsKSk7XG4gICAgfVxuICAgIHJldHVybiByZXN1bHRzO1xufVxuLyoqXG4gKiBAaW50ZXJuYWxcbiAqIERyaXZlcyBoYW5kb2ZmIGNhbGxzIGJ5IGludm9raW5nIHRoZSBkb3duc3RyZWFtIGFnZW50IGFuZCBjYXB0dXJpbmcgYW55IGdlbmVyYXRlZCBpdGVtcyBzb1xuICogdGhlIGN1cnJlbnQgYWdlbnQgY2FuIGNvbnRpbnVlIHdpdGggdGhlIG5ldyBjb250ZXh0LlxuICovXG5leHBvcnQgYXN5bmMgZnVuY3Rpb24gZXhlY3V0ZUhhbmRvZmZDYWxscyhhZ2VudCwgb3JpZ2luYWxJbnB1dCwgcHJlU3RlcEl0ZW1zLCBuZXdTdGVwSXRlbXMsIG5ld1Jlc3BvbnNlLCBydW5IYW5kb2ZmcywgcnVubmVyLCBydW5Db250ZXh0KSB7XG4gICAgbmV3U3RlcEl0ZW1zID0gWy4uLm5ld1N0ZXBJdGVtc107XG4gICAgaWYgKHJ1bkhhbmRvZmZzLmxlbmd0aCA9PT0gMCkge1xuICAgICAgICBsb2dnZXIud2FybignSW5jb3JyZWN0bHkgY2FsbGVkIGV4ZWN1dGVIYW5kb2ZmQ2FsbHMgd2l0aCBubyBoYW5kb2Zmcy4gVGhpcyBzaG91bGQgbm90IGhhcHBlbi4gTW92aW5nIG9uLicpO1xuICAgICAgICByZXR1cm4gbmV3IFNpbmdsZVN0ZXBSZXN1bHQob3JpZ2luYWxJbnB1dCwgbmV3UmVzcG9uc2UsIHByZVN0ZXBJdGVtcywgbmV3U3RlcEl0ZW1zLCB7IHR5cGU6ICduZXh0X3N0ZXBfcnVuX2FnYWluJyB9KTtcbiAgICB9XG4gICAgaWYgKHJ1bkhhbmRvZmZzLmxlbmd0aCA+IDEpIHtcbiAgICAgICAgLy8gbXVsdGlwbGUgaGFuZG9mZnMuIElnbm9yaW5nIGFsbCBidXQgdGhlIGZpcnN0IG9uZSBieSBhZGRpbmcgcmVqZWN0IHJlc3BvbnNlcyBmb3IgdGhvc2VcbiAgICAgICAgY29uc3Qgb3V0cHV0TWVzc2FnZSA9ICdNdWx0aXBsZSBoYW5kb2ZmcyBkZXRlY3RlZCwgaWdub3JpbmcgdGhpcyBvbmUuJztcbiAgICAgICAgZm9yIChsZXQgaSA9IDE7IGkgPCBydW5IYW5kb2Zmcy5sZW5ndGg7IGkrKykge1xuICAgICAgICAgICAgbmV3U3RlcEl0ZW1zLnB1c2gobmV3IFJ1blRvb2xDYWxsT3V0cHV0SXRlbShnZXRUb29sQ2FsbE91dHB1dEl0ZW0ocnVuSGFuZG9mZnNbaV0udG9vbENhbGwsIG91dHB1dE1lc3NhZ2UpLCBhZ2VudCwgb3V0cHV0TWVzc2FnZSkpO1xuICAgICAgICB9XG4gICAgfVxuICAgIGNvbnN0IGFjdHVhbEhhbmRvZmYgPSBydW5IYW5kb2Zmc1swXTtcbiAgICByZXR1cm4gd2l0aEhhbmRvZmZTcGFuKGFzeW5jIChoYW5kb2ZmU3BhbikgPT4ge1xuICAgICAgICBjb25zdCBoYW5kb2ZmID0gYWN0dWFsSGFuZG9mZi5oYW5kb2ZmO1xuICAgICAgICBjb25zdCBuZXdBZ2VudCA9IGF3YWl0IGhhbmRvZmYub25JbnZva2VIYW5kb2ZmKHJ1bkNvbnRleHQsIGFjdHVhbEhhbmRvZmYudG9vbENhbGwuYXJndW1lbnRzKTtcbiAgICAgICAgaGFuZG9mZlNwYW4uc3BhbkRhdGEudG9fYWdlbnQgPSBuZXdBZ2VudC5uYW1lO1xuICAgICAgICBpZiAocnVuSGFuZG9mZnMubGVuZ3RoID4gMSkge1xuICAgICAgICAgICAgY29uc3QgcmVxdWVzdGVkQWdlbnRzID0gcnVuSGFuZG9mZnMubWFwKChoKSA9PiBoLmhhbmRvZmYuYWdlbnROYW1lKTtcbiAgICAgICAgICAgIGhhbmRvZmZTcGFuLnNldEVycm9yKHtcbiAgICAgICAgICAgICAgICBtZXNzYWdlOiAnTXVsdGlwbGUgaGFuZG9mZnMgcmVxdWVzdGVkJyxcbiAgICAgICAgICAgICAgICBkYXRhOiB7XG4gICAgICAgICAgICAgICAgICAgIHJlcXVlc3RlZF9hZ2VudHM6IHJlcXVlc3RlZEFnZW50cyxcbiAgICAgICAgICAgICAgICB9LFxuICAgICAgICAgICAgfSk7XG4gICAgICAgIH1cbiAgICAgICAgbmV3U3RlcEl0ZW1zLnB1c2gobmV3IFJ1bkhhbmRvZmZPdXRwdXRJdGVtKGdldFRvb2xDYWxsT3V0cHV0SXRlbShhY3R1YWxIYW5kb2ZmLnRvb2xDYWxsLCBnZXRUcmFuc2Zlck1lc3NhZ2UobmV3QWdlbnQpKSwgYWdlbnQsIG5ld0FnZW50KSk7XG4gICAgICAgIHJ1bm5lci5lbWl0KCdhZ2VudF9oYW5kb2ZmJywgcnVuQ29udGV4dCwgYWdlbnQsIG5ld0FnZW50KTtcbiAgICAgICAgYWdlbnQuZW1pdCgnYWdlbnRfaGFuZG9mZicsIHJ1bkNvbnRleHQsIG5ld0FnZW50KTtcbiAgICAgICAgY29uc3QgaW5wdXRGaWx0ZXIgPSBoYW5kb2ZmLmlucHV0RmlsdGVyID8/IHJ1bm5lci5jb25maWcuaGFuZG9mZklucHV0RmlsdGVyO1xuICAgICAgICBpZiAoaW5wdXRGaWx0ZXIpIHtcbiAgICAgICAgICAgIGxvZ2dlci5kZWJ1ZygnRmlsdGVyaW5nIGlucHV0cyBmb3IgaGFuZG9mZicpO1xuICAgICAgICAgICAgaWYgKHR5cGVvZiBpbnB1dEZpbHRlciAhPT0gJ2Z1bmN0aW9uJykge1xuICAgICAgICAgICAgICAgIGhhbmRvZmZTcGFuLnNldEVycm9yKHtcbiAgICAgICAgICAgICAgICAgICAgbWVzc2FnZTogJ0ludmFsaWQgaW5wdXQgZmlsdGVyJyxcbiAgICAgICAgICAgICAgICAgICAgZGF0YToge1xuICAgICAgICAgICAgICAgICAgICAgICAgZGV0YWlsczogJ25vdCBjYWxsYWJsZScsXG4gICAgICAgICAgICAgICAgICAgIH0sXG4gICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBjb25zdCBoYW5kb2ZmSW5wdXREYXRhID0ge1xuICAgICAgICAgICAgICAgIGlucHV0SGlzdG9yeTogQXJyYXkuaXNBcnJheShvcmlnaW5hbElucHV0KVxuICAgICAgICAgICAgICAgICAgICA/IFsuLi5vcmlnaW5hbElucHV0XVxuICAgICAgICAgICAgICAgICAgICA6IG9yaWdpbmFsSW5wdXQsXG4gICAgICAgICAgICAgICAgcHJlSGFuZG9mZkl0ZW1zOiBbLi4ucHJlU3RlcEl0ZW1zXSxcbiAgICAgICAgICAgICAgICBuZXdJdGVtczogWy4uLm5ld1N0ZXBJdGVtc10sXG4gICAgICAgICAgICAgICAgcnVuQ29udGV4dCxcbiAgICAgICAgICAgIH07XG4gICAgICAgICAgICBjb25zdCBmaWx0ZXJlZCA9IGlucHV0RmlsdGVyKGhhbmRvZmZJbnB1dERhdGEpO1xuICAgICAgICAgICAgb3JpZ2luYWxJbnB1dCA9IGZpbHRlcmVkLmlucHV0SGlzdG9yeTtcbiAgICAgICAgICAgIHByZVN0ZXBJdGVtcyA9IGZpbHRlcmVkLnByZUhhbmRvZmZJdGVtcztcbiAgICAgICAgICAgIG5ld1N0ZXBJdGVtcyA9IGZpbHRlcmVkLm5ld0l0ZW1zO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiBuZXcgU2luZ2xlU3RlcFJlc3VsdChvcmlnaW5hbElucHV0LCBuZXdSZXNwb25zZSwgcHJlU3RlcEl0ZW1zLCBuZXdTdGVwSXRlbXMsIHsgdHlwZTogJ25leHRfc3RlcF9oYW5kb2ZmJywgbmV3QWdlbnQgfSk7XG4gICAgfSwge1xuICAgICAgICBkYXRhOiB7XG4gICAgICAgICAgICBmcm9tX2FnZW50OiBhZ2VudC5uYW1lLFxuICAgICAgICB9LFxuICAgIH0pO1xufVxuY29uc3QgTk9UX0ZJTkFMX09VVFBVVCA9IHtcbiAgICBpc0ZpbmFsT3V0cHV0OiBmYWxzZSxcbiAgICBpc0ludGVycnVwdGVkOiB1bmRlZmluZWQsXG59O1xuLyoqXG4gKiBAaW50ZXJuYWxcbiAqIERldGVybWluZXMgd2hldGhlciB0b29sIGV4ZWN1dGlvbnMgcHJvZHVjZWQgYSBmaW5hbCBhZ2VudCBvdXRwdXQsIHRyaWdnZXJlZCBhbiBpbnRlcnJ1cHRpb24sXG4gKiBvciB3aGV0aGVyIHRoZSBhZ2VudCBsb29wIHNob3VsZCBjb250aW51ZSBjb2xsZWN0aW5nIG1vcmUgcmVzcG9uc2VzLlxuICovXG5leHBvcnQgYXN5bmMgZnVuY3Rpb24gY2hlY2tGb3JGaW5hbE91dHB1dEZyb21Ub29scyhhZ2VudCwgdG9vbFJlc3VsdHMsIHN0YXRlKSB7XG4gICAgaWYgKHRvb2xSZXN1bHRzLmxlbmd0aCA9PT0gMCkge1xuICAgICAgICByZXR1cm4gTk9UX0ZJTkFMX09VVFBVVDtcbiAgICB9XG4gICAgY29uc3QgaW50ZXJydXB0aW9ucyA9IFtdO1xuICAgIGZvciAoY29uc3QgcmVzdWx0IG9mIHRvb2xSZXN1bHRzKSB7XG4gICAgICAgIGlmIChyZXN1bHQucnVuSXRlbSBpbnN0YW5jZW9mIFJ1blRvb2xBcHByb3ZhbEl0ZW0pIHtcbiAgICAgICAgICAgIGludGVycnVwdGlvbnMucHVzaChyZXN1bHQucnVuSXRlbSk7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKHJlc3VsdC50eXBlID09PSAnZnVuY3Rpb25fb3V0cHV0Jykge1xuICAgICAgICAgICAgaWYgKEFycmF5LmlzQXJyYXkocmVzdWx0LmludGVycnVwdGlvbnMpKSB7XG4gICAgICAgICAgICAgICAgaW50ZXJydXB0aW9ucy5wdXNoKC4uLnJlc3VsdC5pbnRlcnJ1cHRpb25zKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGVsc2UgaWYgKHJlc3VsdC5hZ2VudFJ1blJlc3VsdCkge1xuICAgICAgICAgICAgICAgIGNvbnN0IG5lc3RlZEludGVycnVwdGlvbnMgPSByZXN1bHQuYWdlbnRSdW5SZXN1bHQuaW50ZXJydXB0aW9ucztcbiAgICAgICAgICAgICAgICBpZiAobmVzdGVkSW50ZXJydXB0aW9ucy5sZW5ndGggPiAwKSB7XG4gICAgICAgICAgICAgICAgICAgIGludGVycnVwdGlvbnMucHVzaCguLi5uZXN0ZWRJbnRlcnJ1cHRpb25zKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICB9XG4gICAgaWYgKGludGVycnVwdGlvbnMubGVuZ3RoID4gMCkge1xuICAgICAgICByZXR1cm4ge1xuICAgICAgICAgICAgaXNGaW5hbE91dHB1dDogZmFsc2UsXG4gICAgICAgICAgICBpc0ludGVycnVwdGVkOiB0cnVlLFxuICAgICAgICAgICAgaW50ZXJydXB0aW9ucyxcbiAgICAgICAgfTtcbiAgICB9XG4gICAgaWYgKGFnZW50LnRvb2xVc2VCZWhhdmlvciA9PT0gJ3J1bl9sbG1fYWdhaW4nKSB7XG4gICAgICAgIHJldHVybiBOT1RfRklOQUxfT1VUUFVUO1xuICAgIH1cbiAgICBjb25zdCBmaXJzdFRvb2xSZXN1bHQgPSB0b29sUmVzdWx0c1swXTtcbiAgICBpZiAoYWdlbnQudG9vbFVzZUJlaGF2aW9yID09PSAnc3RvcF9vbl9maXJzdF90b29sJykge1xuICAgICAgICBpZiAoZmlyc3RUb29sUmVzdWx0Py50eXBlID09PSAnZnVuY3Rpb25fb3V0cHV0Jykge1xuICAgICAgICAgICAgY29uc3Qgc3RyaW5nT3V0cHV0ID0gdG9TbWFydFN0cmluZyhmaXJzdFRvb2xSZXN1bHQub3V0cHV0KTtcbiAgICAgICAgICAgIHJldHVybiB7XG4gICAgICAgICAgICAgICAgaXNGaW5hbE91dHB1dDogdHJ1ZSxcbiAgICAgICAgICAgICAgICBpc0ludGVycnVwdGVkOiB1bmRlZmluZWQsXG4gICAgICAgICAgICAgICAgZmluYWxPdXRwdXQ6IHN0cmluZ091dHB1dCxcbiAgICAgICAgICAgIH07XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIE5PVF9GSU5BTF9PVVRQVVQ7XG4gICAgfVxuICAgIGNvbnN0IHRvb2xVc2VCZWhhdmlvciA9IGFnZW50LnRvb2xVc2VCZWhhdmlvcjtcbiAgICBpZiAodHlwZW9mIHRvb2xVc2VCZWhhdmlvciA9PT0gJ29iamVjdCcpIHtcbiAgICAgICAgY29uc3Qgc3RvcHBpbmdUb29sID0gdG9vbFJlc3VsdHMuZmluZCgocikgPT4gdG9vbFVzZUJlaGF2aW9yLnN0b3BBdFRvb2xOYW1lcy5pbmNsdWRlcyhyLnRvb2wubmFtZSkpO1xuICAgICAgICBpZiAoc3RvcHBpbmdUb29sPy50eXBlID09PSAnZnVuY3Rpb25fb3V0cHV0Jykge1xuICAgICAgICAgICAgY29uc3Qgc3RyaW5nT3V0cHV0ID0gdG9TbWFydFN0cmluZyhzdG9wcGluZ1Rvb2wub3V0cHV0KTtcbiAgICAgICAgICAgIHJldHVybiB7XG4gICAgICAgICAgICAgICAgaXNGaW5hbE91dHB1dDogdHJ1ZSxcbiAgICAgICAgICAgICAgICBpc0ludGVycnVwdGVkOiB1bmRlZmluZWQsXG4gICAgICAgICAgICAgICAgZmluYWxPdXRwdXQ6IHN0cmluZ091dHB1dCxcbiAgICAgICAgICAgIH07XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIE5PVF9GSU5BTF9PVVRQVVQ7XG4gICAgfVxuICAgIGlmICh0eXBlb2YgdG9vbFVzZUJlaGF2aW9yID09PSAnZnVuY3Rpb24nKSB7XG4gICAgICAgIHJldHVybiB0b29sVXNlQmVoYXZpb3Ioc3RhdGUuX2NvbnRleHQsIHRvb2xSZXN1bHRzKTtcbiAgICB9XG4gICAgdGhyb3cgbmV3IFVzZXJFcnJvcihgSW52YWxpZCB0b29sVXNlQmVoYXZpb3I6ICR7dG9vbFVzZUJlaGF2aW9yfWAsIHN0YXRlKTtcbn1cbmZ1bmN0aW9uIGdldFJ1bkl0ZW1TdHJlYW1FdmVudE5hbWUoaXRlbSkge1xuICAgIGlmIChpdGVtIGluc3RhbmNlb2YgUnVuTWVzc2FnZU91dHB1dEl0ZW0pIHtcbiAgICAgICAgcmV0dXJuICdtZXNzYWdlX291dHB1dF9jcmVhdGVkJztcbiAgICB9XG4gICAgaWYgKGl0ZW0gaW5zdGFuY2VvZiBSdW5IYW5kb2ZmQ2FsbEl0ZW0pIHtcbiAgICAgICAgcmV0dXJuICdoYW5kb2ZmX3JlcXVlc3RlZCc7XG4gICAgfVxuICAgIGlmIChpdGVtIGluc3RhbmNlb2YgUnVuSGFuZG9mZk91dHB1dEl0ZW0pIHtcbiAgICAgICAgcmV0dXJuICdoYW5kb2ZmX29jY3VycmVkJztcbiAgICB9XG4gICAgaWYgKGl0ZW0gaW5zdGFuY2VvZiBSdW5Ub29sQ2FsbEl0ZW0pIHtcbiAgICAgICAgcmV0dXJuICd0b29sX2NhbGxlZCc7XG4gICAgfVxuICAgIGlmIChpdGVtIGluc3RhbmNlb2YgUnVuVG9vbENhbGxPdXRwdXRJdGVtKSB7XG4gICAgICAgIHJldHVybiAndG9vbF9vdXRwdXQnO1xuICAgIH1cbiAgICBpZiAoaXRlbSBpbnN0YW5jZW9mIFJ1blJlYXNvbmluZ0l0ZW0pIHtcbiAgICAgICAgcmV0dXJuICdyZWFzb25pbmdfaXRlbV9jcmVhdGVkJztcbiAgICB9XG4gICAgaWYgKGl0ZW0gaW5zdGFuY2VvZiBSdW5Ub29sQXBwcm92YWxJdGVtKSB7XG4gICAgICAgIHJldHVybiAndG9vbF9hcHByb3ZhbF9yZXF1ZXN0ZWQnO1xuICAgIH1cbiAgICByZXR1cm4gdW5kZWZpbmVkO1xufVxuZnVuY3Rpb24gZW5xdWV1ZVJ1bkl0ZW1TdHJlYW1FdmVudChyZXN1bHQsIGl0ZW0pIHtcbiAgICBjb25zdCBpdGVtTmFtZSA9IGdldFJ1bkl0ZW1TdHJlYW1FdmVudE5hbWUoaXRlbSk7XG4gICAgaWYgKCFpdGVtTmFtZSkge1xuICAgICAgICBsb2dnZXIud2FybignVW5rbm93biBpdGVtIHR5cGU6ICcsIGl0ZW0pO1xuICAgICAgICByZXR1cm47XG4gICAgfVxuICAgIHJlc3VsdC5fYWRkSXRlbShuZXcgUnVuSXRlbVN0cmVhbUV2ZW50KGl0ZW1OYW1lLCBpdGVtKSk7XG59XG5leHBvcnQgZnVuY3Rpb24gc3RyZWFtU3RlcEl0ZW1zVG9SdW5SZXN1bHQocmVzdWx0LCBpdGVtcykge1xuICAgIC8vIFByZXNlcnZlIHRoZSBvcmRlciBpbiB3aGljaCBpdGVtcyB3ZXJlIGdlbmVyYXRlZCBieSBlbnF1ZXVlaW5nIGVhY2ggb25lXG4gICAgLy8gaW1tZWRpYXRlbHkgb24gdGhlIHN0cmVhbWVkIHJlc3VsdC5cbiAgICBmb3IgKGNvbnN0IGl0ZW0gb2YgaXRlbXMpIHtcbiAgICAgICAgZW5xdWV1ZVJ1bkl0ZW1TdHJlYW1FdmVudChyZXN1bHQsIGl0ZW0pO1xuICAgIH1cbn1cbmV4cG9ydCBmdW5jdGlvbiBhZGRTdGVwVG9SdW5SZXN1bHQocmVzdWx0LCBzdGVwLCBvcHRpb25zKSB7XG4gICAgLy8gc2tpcEl0ZW1zIGNvbnRhaW5zIHJ1biBpdGVtcyB0aGF0IHdlcmUgYWxyZWFkeSBzdHJlYW1lZCBzbyB3ZSBhdm9pZFxuICAgIC8vIGVucXVldWVpbmcgZHVwbGljYXRlIGV2ZW50cyBmb3IgdGhlIHNhbWUgaW5zdGFuY2UuXG4gICAgY29uc3Qgc2tpcHBlZEl0ZW1zID0gb3B0aW9ucz8uc2tpcEl0ZW1zO1xuICAgIGZvciAoY29uc3QgaXRlbSBvZiBzdGVwLm5ld1N0ZXBJdGVtcykge1xuICAgICAgICBpZiAoc2tpcHBlZEl0ZW1zPy5oYXMoaXRlbSkpIHtcbiAgICAgICAgICAgIGNvbnRpbnVlO1xuICAgICAgICB9XG4gICAgICAgIGVucXVldWVSdW5JdGVtU3RyZWFtRXZlbnQocmVzdWx0LCBpdGVtKTtcbiAgICB9XG59XG5leHBvcnQgY2xhc3MgQWdlbnRUb29sVXNlVHJhY2tlciB7XG4gICAgI2FnZW50VG9Ub29scyA9IG5ldyBNYXAoKTtcbiAgICBhZGRUb29sVXNlKGFnZW50LCB0b29sTmFtZXMpIHtcbiAgICAgICAgdGhpcy4jYWdlbnRUb1Rvb2xzLnNldChhZ2VudCwgdG9vbE5hbWVzKTtcbiAgICB9XG4gICAgaGFzVXNlZFRvb2xzKGFnZW50KSB7XG4gICAgICAgIHJldHVybiB0aGlzLiNhZ2VudFRvVG9vbHMuaGFzKGFnZW50KTtcbiAgICB9XG4gICAgdG9KU09OKCkge1xuICAgICAgICByZXR1cm4gT2JqZWN0LmZyb21FbnRyaWVzKEFycmF5LmZyb20odGhpcy4jYWdlbnRUb1Rvb2xzLmVudHJpZXMoKSkubWFwKChbYWdlbnQsIHRvb2xOYW1lc10pID0+IHtcbiAgICAgICAgICAgIHJldHVybiBbYWdlbnQubmFtZSwgdG9vbE5hbWVzXTtcbiAgICAgICAgfSkpO1xuICAgIH1cbn1cbi8qKlxuICogQGludGVybmFsXG4gKiBDb252ZXJ0IGEgdXNlci1wcm92aWRlZCBpbnB1dCBpbnRvIGEgbGlzdCBvZiBpbnB1dCBpdGVtcy5cbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIHRvSW5wdXRJdGVtTGlzdChpbnB1dCkge1xuICAgIGlmICh0eXBlb2YgaW5wdXQgPT09ICdzdHJpbmcnKSB7XG4gICAgICAgIHJldHVybiBbXG4gICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgdHlwZTogJ21lc3NhZ2UnLFxuICAgICAgICAgICAgICAgIHJvbGU6ICd1c2VyJyxcbiAgICAgICAgICAgICAgICBjb250ZW50OiBpbnB1dCxcbiAgICAgICAgICAgIH0sXG4gICAgICAgIF07XG4gICAgfVxuICAgIHJldHVybiBbLi4uaW5wdXRdO1xufVxuLyoqXG4gKiBAaW50ZXJuYWxcbiAqIEV4dHJhY3QgbW9kZWwgb3V0cHV0IGl0ZW1zIGZyb20gcnVuIGl0ZW1zLCBleGNsdWRpbmcgdG9vbCBhcHByb3ZhbCBpdGVtcy5cbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIGV4dHJhY3RPdXRwdXRJdGVtc0Zyb21SdW5JdGVtcyhpdGVtcykge1xuICAgIHJldHVybiBpdGVtc1xuICAgICAgICAuZmlsdGVyKChpdGVtKSA9PiBpdGVtLnR5cGUgIT09ICd0b29sX2FwcHJvdmFsX2l0ZW0nKVxuICAgICAgICAubWFwKChpdGVtKSA9PiBpdGVtLnJhd0l0ZW0pO1xufVxuZnVuY3Rpb24gbm9ybWFsaXplSXRlbXNGb3JTZXNzaW9uUGVyc2lzdGVuY2UoaXRlbXMpIHtcbiAgICAvLyBQZXJzaXN0ZWQgc2Vzc2lvbnMgbXVzdCBhdm9pZCByYXcgYmluYXJ5IHNvIHdlIGNvbnZlcnQgZXZlcnkgaXRlbSBpbnRvIGEgSlNPTi1zYWZlIHNoYXBlIGJlZm9yZSB3cml0aW5nIHRvIHN0b3JhZ2UuXG4gICAgcmV0dXJuIGl0ZW1zLm1hcCgoaXRlbSkgPT4gc2FuaXRpemVWYWx1ZUZvclNlc3Npb24oc3RyaXBUcmFuc2llbnRDYWxsSWRzKGl0ZW0pKSk7XG59XG5mdW5jdGlvbiBzYW5pdGl6ZVZhbHVlRm9yU2Vzc2lvbih2YWx1ZSwgY29udGV4dCA9IHt9KSB7XG4gICAgaWYgKHZhbHVlID09PSBudWxsIHx8IHZhbHVlID09PSB1bmRlZmluZWQpIHtcbiAgICAgICAgcmV0dXJuIHZhbHVlO1xuICAgIH1cbiAgICAvLyBDb252ZXJ0IHN1cHBvcnRlZCBiaW5hcnkgcGF5bG9hZHMgaW50byBBcnJheUJ1ZmZlciB2aWV3cyBiZWZvcmUgc2VyaWFsaXphdGlvbi5cbiAgICBjb25zdCBiaW5hcnkgPSB0b1VpbnQ4QXJyYXlJZkJpbmFyeSh2YWx1ZSk7XG4gICAgaWYgKGJpbmFyeSkge1xuICAgICAgICByZXR1cm4gdG9EYXRhVXJsRnJvbUJ5dGVzKGJpbmFyeSwgY29udGV4dC5tZWRpYVR5cGUpO1xuICAgIH1cbiAgICBpZiAoQXJyYXkuaXNBcnJheSh2YWx1ZSkpIHtcbiAgICAgICAgcmV0dXJuIHZhbHVlLm1hcCgoZW50cnkpID0+IHNhbml0aXplVmFsdWVGb3JTZXNzaW9uKGVudHJ5LCBjb250ZXh0KSk7XG4gICAgfVxuICAgIGlmICghaXNQbGFpbk9iamVjdCh2YWx1ZSkpIHtcbiAgICAgICAgcmV0dXJuIHZhbHVlO1xuICAgIH1cbiAgICBjb25zdCByZWNvcmQgPSB2YWx1ZTtcbiAgICBjb25zdCByZXN1bHQgPSB7fTtcbiAgICBjb25zdCBtZWRpYVR5cGUgPSB0eXBlb2YgcmVjb3JkLm1lZGlhVHlwZSA9PT0gJ3N0cmluZycgJiYgcmVjb3JkLm1lZGlhVHlwZS5sZW5ndGggPiAwXG4gICAgICAgID8gcmVjb3JkLm1lZGlhVHlwZVxuICAgICAgICA6IGNvbnRleHQubWVkaWFUeXBlO1xuICAgIGZvciAoY29uc3QgW2tleSwgZW50cnldIG9mIE9iamVjdC5lbnRyaWVzKHJlY29yZCkpIHtcbiAgICAgICAgLy8gUHJvcGFnYXRlIGV4cGxpY2l0IG1lZGlhIHR5cGUgb25seSB3aGVuIHdhbGtpbmcgaW50byBiaW5hcnkgcGF5bG9hZCBjb250YWluZXJzLlxuICAgICAgICBjb25zdCBuZXh0Q29udGV4dCA9IGtleSA9PT0gJ2RhdGEnIHx8IGtleSA9PT0gJ2ZpbGVEYXRhJyA/IHsgbWVkaWFUeXBlIH0gOiBjb250ZXh0O1xuICAgICAgICByZXN1bHRba2V5XSA9IHNhbml0aXplVmFsdWVGb3JTZXNzaW9uKGVudHJ5LCBuZXh0Q29udGV4dCk7XG4gICAgfVxuICAgIHJldHVybiByZXN1bHQ7XG59XG5mdW5jdGlvbiB0b1VpbnQ4QXJyYXlJZkJpbmFyeSh2YWx1ZSkge1xuICAgIC8vIE5vcm1hbGl6ZSB0aGUgZGl2ZXJzZSBiaW5hcnkgY29udGFpbmVycyB3ZSBtYXkgcmVjZWl2ZSBpbnRvIGEgc2hhcmVkIFVpbnQ4QXJyYXkgdmlldy5cbiAgICBpZiAodmFsdWUgaW5zdGFuY2VvZiBBcnJheUJ1ZmZlcikge1xuICAgICAgICByZXR1cm4gbmV3IFVpbnQ4QXJyYXkodmFsdWUpO1xuICAgIH1cbiAgICBpZiAoaXNBcnJheUJ1ZmZlclZpZXcodmFsdWUpKSB7XG4gICAgICAgIGNvbnN0IHZpZXcgPSB2YWx1ZTtcbiAgICAgICAgcmV0dXJuIG5ldyBVaW50OEFycmF5KHZpZXcuYnVmZmVyLCB2aWV3LmJ5dGVPZmZzZXQsIHZpZXcuYnl0ZUxlbmd0aCk7XG4gICAgfVxuICAgIGlmIChpc05vZGVCdWZmZXIodmFsdWUpKSB7XG4gICAgICAgIGNvbnN0IHZpZXcgPSB2YWx1ZTtcbiAgICAgICAgcmV0dXJuIG5ldyBVaW50OEFycmF5KHZpZXcuYnVmZmVyLCB2aWV3LmJ5dGVPZmZzZXQsIHZpZXcuYnl0ZUxlbmd0aCk7XG4gICAgfVxuICAgIGlmIChpc1NlcmlhbGl6ZWRCdWZmZXJTbmFwc2hvdCh2YWx1ZSkpIHtcbiAgICAgICAgY29uc3Qgc25hcHNob3QgPSB2YWx1ZTtcbiAgICAgICAgcmV0dXJuIFVpbnQ4QXJyYXkuZnJvbShzbmFwc2hvdC5kYXRhKTtcbiAgICB9XG4gICAgcmV0dXJuIHVuZGVmaW5lZDtcbn1cbmZ1bmN0aW9uIHRvRGF0YVVybEZyb21CeXRlcyhieXRlcywgbWVkaWFUeXBlKSB7XG4gICAgLy8gQ29udmVydCBiaW5hcnkgcGF5bG9hZHMgaW50byBhIGR1cmFibGUgZGF0YSBVUkwgc28gc2Vzc2lvbiBmaWxlcyByZW1haW4gc2VsZi1jb250YWluZWQuXG4gICAgY29uc3QgYmFzZTY0ID0gZW5jb2RlVWludDhBcnJheVRvQmFzZTY0KGJ5dGVzKTtcbiAgICAvLyBOb3RlIHRoYXQgT3BlbkFJIFJlc3BvbnNlcyBBUEkgbmV2ZXIgYWNjZXB0cyBhcHBsaWNhdGlvbi9vY3RldC1zdHJlYW0gYXMgYSBtZWRpYSB0eXBlLFxuICAgIC8vIHNvIHdlIGZhbGwgYmFjayB0byB0ZXh0L3BsYWluOyB0aGF0IHNhaWQsIHRvb2xzIGFyZSBzdXBwb3NlZCB0byByZXR1cm4gYSB2YWxpZCBtZWRpYSB0eXBlIHdoZW4gdGhpcyB1dGlsaXR5IGlzIHVzZWQuXG4gICAgY29uc3QgdHlwZSA9IG1lZGlhVHlwZSAmJiAhbWVkaWFUeXBlLnN0YXJ0c1dpdGgoJ2RhdGE6JykgPyBtZWRpYVR5cGUgOiAndGV4dC9wbGFpbic7XG4gICAgcmV0dXJuIGBkYXRhOiR7dHlwZX07YmFzZTY0LCR7YmFzZTY0fWA7XG59XG5mdW5jdGlvbiBpc1BsYWluT2JqZWN0KHZhbHVlKSB7XG4gICAgaWYgKHR5cGVvZiB2YWx1ZSAhPT0gJ29iamVjdCcgfHwgdmFsdWUgPT09IG51bGwpIHtcbiAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgIH1cbiAgICBjb25zdCBwcm90byA9IE9iamVjdC5nZXRQcm90b3R5cGVPZih2YWx1ZSk7XG4gICAgcmV0dXJuIHByb3RvID09PSBPYmplY3QucHJvdG90eXBlIHx8IHByb3RvID09PSBudWxsO1xufVxuZnVuY3Rpb24gc3RyaXBUcmFuc2llbnRDYWxsSWRzKHZhbHVlKSB7XG4gICAgaWYgKHZhbHVlID09PSBudWxsIHx8IHZhbHVlID09PSB1bmRlZmluZWQpIHtcbiAgICAgICAgcmV0dXJuIHZhbHVlO1xuICAgIH1cbiAgICBpZiAoQXJyYXkuaXNBcnJheSh2YWx1ZSkpIHtcbiAgICAgICAgcmV0dXJuIHZhbHVlLm1hcCgoZW50cnkpID0+IHN0cmlwVHJhbnNpZW50Q2FsbElkcyhlbnRyeSkpO1xuICAgIH1cbiAgICBpZiAoIWlzUGxhaW5PYmplY3QodmFsdWUpKSB7XG4gICAgICAgIHJldHVybiB2YWx1ZTtcbiAgICB9XG4gICAgY29uc3QgcmVjb3JkID0gdmFsdWU7XG4gICAgY29uc3QgcmVzdWx0ID0ge307XG4gICAgY29uc3QgaXNQcm90b2NvbEl0ZW0gPSB0eXBlb2YgcmVjb3JkLnR5cGUgPT09ICdzdHJpbmcnICYmIHJlY29yZC50eXBlLmxlbmd0aCA+IDA7XG4gICAgY29uc3Qgc2hvdWxkU3RyaXBJZCA9IGlzUHJvdG9jb2xJdGVtICYmIHNob3VsZFN0cmlwSWRGb3JUeXBlKHJlY29yZC50eXBlKTtcbiAgICBmb3IgKGNvbnN0IFtrZXksIGVudHJ5XSBvZiBPYmplY3QuZW50cmllcyhyZWNvcmQpKSB7XG4gICAgICAgIGlmIChzaG91bGRTdHJpcElkICYmIGtleSA9PT0gJ2lkJykge1xuICAgICAgICAgICAgY29udGludWU7XG4gICAgICAgIH1cbiAgICAgICAgcmVzdWx0W2tleV0gPSBzdHJpcFRyYW5zaWVudENhbGxJZHMoZW50cnkpO1xuICAgIH1cbiAgICByZXR1cm4gcmVzdWx0O1xufVxuZnVuY3Rpb24gc2hvdWxkU3RyaXBJZEZvclR5cGUodHlwZSkge1xuICAgIHN3aXRjaCAodHlwZSkge1xuICAgICAgICBjYXNlICdmdW5jdGlvbl9jYWxsJzpcbiAgICAgICAgY2FzZSAnZnVuY3Rpb25fY2FsbF9yZXN1bHQnOlxuICAgICAgICAgICAgcmV0dXJuIHRydWU7XG4gICAgICAgIGRlZmF1bHQ6XG4gICAgICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgfVxufVxuLyoqXG4gKiBAaW50ZXJuYWxcbiAqIFBlcnNpc3QgZnVsbCB0dXJuIChpbnB1dCArIG91dHB1dHMpIGZvciBub24tc3RyZWFtaW5nIHJ1bnMuXG4gKi9cbi8vIFBlcnNpc3RzIHRoZSBjb21iaW5hdGlvbiBvZiB1c2VyIGlucHV0cyAocG9zc2libHkgZmlsdGVyZWQpIGFuZCBtb2RlbCBvdXRwdXRzIGZvciBhIGNvbXBsZXRlZCB0dXJuLlxuZXhwb3J0IGFzeW5jIGZ1bmN0aW9uIHNhdmVUb1Nlc3Npb24oc2Vzc2lvbiwgc2Vzc2lvbklucHV0SXRlbXMsIHJlc3VsdCkge1xuICAgIGlmICghc2Vzc2lvbikge1xuICAgICAgICByZXR1cm47XG4gICAgfVxuICAgIGNvbnN0IGlucHV0SXRlbXMgPSBzZXNzaW9uSW5wdXRJdGVtcyA/PyBbXTtcbiAgICBjb25zdCBzdGF0ZSA9IHJlc3VsdC5zdGF0ZTtcbiAgICBjb25zdCBhbHJlYWR5UGVyc2lzdGVkID0gc3RhdGUuX2N1cnJlbnRUdXJuUGVyc2lzdGVkSXRlbUNvdW50ID8/IDA7XG4gICAgLy8gUGVyc2lzdCBvbmx5IHRoZSBwb3J0aW9uIG9mIF9nZW5lcmF0ZWRJdGVtcyB0aGF0IGhhcyBub3QgeWV0IGJlZW4gc3RvcmVkIGZvciB0aGlzIHR1cm4uXG4gICAgY29uc3QgbmV3UnVuSXRlbXMgPSByZXN1bHQubmV3SXRlbXMuc2xpY2UoYWxyZWFkeVBlcnNpc3RlZCk7XG4gICAgaWYgKHByb2Nlc3MuZW52Lk9QRU5BSV9BR0VOVFNfX0RFQlVHX1NBVkVfU0VTU0lPTikge1xuICAgICAgICBjb25zb2xlLmRlYnVnKCdzYXZlVG9TZXNzaW9uOm5ld1J1bkl0ZW1zJywgbmV3UnVuSXRlbXMubWFwKChpdGVtKSA9PiBpdGVtLnR5cGUpKTtcbiAgICB9XG4gICAgY29uc3Qgb3V0cHV0SXRlbXMgPSBleHRyYWN0T3V0cHV0SXRlbXNGcm9tUnVuSXRlbXMobmV3UnVuSXRlbXMpO1xuICAgIGNvbnN0IGl0ZW1zVG9TYXZlID0gWy4uLmlucHV0SXRlbXMsIC4uLm91dHB1dEl0ZW1zXTtcbiAgICBpZiAoaXRlbXNUb1NhdmUubGVuZ3RoID09PSAwKSB7XG4gICAgICAgIHN0YXRlLl9jdXJyZW50VHVyblBlcnNpc3RlZEl0ZW1Db3VudCA9XG4gICAgICAgICAgICBhbHJlYWR5UGVyc2lzdGVkICsgbmV3UnVuSXRlbXMubGVuZ3RoO1xuICAgICAgICByZXR1cm47XG4gICAgfVxuICAgIGNvbnN0IHNhbml0aXplZEl0ZW1zID0gbm9ybWFsaXplSXRlbXNGb3JTZXNzaW9uUGVyc2lzdGVuY2UoaXRlbXNUb1NhdmUpO1xuICAgIGF3YWl0IHNlc3Npb24uYWRkSXRlbXMoc2FuaXRpemVkSXRlbXMpO1xuICAgIHN0YXRlLl9jdXJyZW50VHVyblBlcnNpc3RlZEl0ZW1Db3VudCA9IGFscmVhZHlQZXJzaXN0ZWQgKyBuZXdSdW5JdGVtcy5sZW5ndGg7XG59XG4vKipcbiAqIEBpbnRlcm5hbFxuICogUGVyc2lzdCBvbmx5IHRoZSB1c2VyIGlucHV0IGZvciBzdHJlYW1pbmcgcnVucyBhdCBzdGFydC5cbiAqL1xuLy8gRm9yIHN0cmVhbWluZyBydW5zIHdlIHBlcnNpc3QgdXNlciBpbnB1dCBhcyBzb29uIGFzIGl0IGlzIHNlbnQgc28gcmVjb25uZWN0aW9ucyBjYW4gcmVzdW1lLlxuZXhwb3J0IGFzeW5jIGZ1bmN0aW9uIHNhdmVTdHJlYW1JbnB1dFRvU2Vzc2lvbihzZXNzaW9uLCBzZXNzaW9uSW5wdXRJdGVtcykge1xuICAgIGlmICghc2Vzc2lvbikge1xuICAgICAgICByZXR1cm47XG4gICAgfVxuICAgIGlmICghc2Vzc2lvbklucHV0SXRlbXMgfHwgc2Vzc2lvbklucHV0SXRlbXMubGVuZ3RoID09PSAwKSB7XG4gICAgICAgIHJldHVybjtcbiAgICB9XG4gICAgY29uc3Qgc2FuaXRpemVkSW5wdXQgPSBub3JtYWxpemVJdGVtc0ZvclNlc3Npb25QZXJzaXN0ZW5jZShzZXNzaW9uSW5wdXRJdGVtcyk7XG4gICAgYXdhaXQgc2Vzc2lvbi5hZGRJdGVtcyhzYW5pdGl6ZWRJbnB1dCk7XG59XG4vKipcbiAqIEBpbnRlcm5hbFxuICogUGVyc2lzdCBvbmx5IHRoZSBtb2RlbCBvdXRwdXRzIGZvciBzdHJlYW1pbmcgcnVucyBhdCB0aGUgZW5kIG9mIGEgdHVybi5cbiAqL1xuLy8gQ29tcGxlbWVudHMgc2F2ZVN0cmVhbUlucHV0VG9TZXNzaW9uIGJ5IHJlY29yZGluZyB0aGUgc3RyZWFtaW5nIG91dHB1dHMgYXQgdGhlIGVuZCBvZiB0aGUgdHVybi5cbmV4cG9ydCBhc3luYyBmdW5jdGlvbiBzYXZlU3RyZWFtUmVzdWx0VG9TZXNzaW9uKHNlc3Npb24sIHJlc3VsdCkge1xuICAgIGlmICghc2Vzc2lvbikge1xuICAgICAgICByZXR1cm47XG4gICAgfVxuICAgIGNvbnN0IHN0YXRlID0gcmVzdWx0LnN0YXRlO1xuICAgIGNvbnN0IGFscmVhZHlQZXJzaXN0ZWQgPSBzdGF0ZS5fY3VycmVudFR1cm5QZXJzaXN0ZWRJdGVtQ291bnQgPz8gMDtcbiAgICBjb25zdCBuZXdSdW5JdGVtcyA9IHJlc3VsdC5uZXdJdGVtcy5zbGljZShhbHJlYWR5UGVyc2lzdGVkKTtcbiAgICBjb25zdCBpdGVtc1RvU2F2ZSA9IGV4dHJhY3RPdXRwdXRJdGVtc0Zyb21SdW5JdGVtcyhuZXdSdW5JdGVtcyk7XG4gICAgaWYgKGl0ZW1zVG9TYXZlLmxlbmd0aCA9PT0gMCkge1xuICAgICAgICBzdGF0ZS5fY3VycmVudFR1cm5QZXJzaXN0ZWRJdGVtQ291bnQgPVxuICAgICAgICAgICAgYWxyZWFkeVBlcnNpc3RlZCArIG5ld1J1bkl0ZW1zLmxlbmd0aDtcbiAgICAgICAgcmV0dXJuO1xuICAgIH1cbiAgICBjb25zdCBzYW5pdGl6ZWRJdGVtcyA9IG5vcm1hbGl6ZUl0ZW1zRm9yU2Vzc2lvblBlcnNpc3RlbmNlKGl0ZW1zVG9TYXZlKTtcbiAgICBhd2FpdCBzZXNzaW9uLmFkZEl0ZW1zKHNhbml0aXplZEl0ZW1zKTtcbiAgICBzdGF0ZS5fY3VycmVudFR1cm5QZXJzaXN0ZWRJdGVtQ291bnQgPSBhbHJlYWR5UGVyc2lzdGVkICsgbmV3UnVuSXRlbXMubGVuZ3RoO1xufVxuZXhwb3J0IGFzeW5jIGZ1bmN0aW9uIHByZXBhcmVJbnB1dEl0ZW1zV2l0aFNlc3Npb24oaW5wdXQsIHNlc3Npb24sIHNlc3Npb25JbnB1dENhbGxiYWNrLCBvcHRpb25zKSB7XG4gICAgaWYgKCFzZXNzaW9uKSB7XG4gICAgICAgIHJldHVybiB7XG4gICAgICAgICAgICBwcmVwYXJlZElucHV0OiBpbnB1dCxcbiAgICAgICAgICAgIHNlc3Npb25JdGVtczogdW5kZWZpbmVkLFxuICAgICAgICB9O1xuICAgIH1cbiAgICBjb25zdCBpbmNsdWRlSGlzdG9yeUluUHJlcGFyZWRJbnB1dCA9IG9wdGlvbnM/LmluY2x1ZGVIaXN0b3J5SW5QcmVwYXJlZElucHV0ID8/IHRydWU7XG4gICAgY29uc3QgcHJlc2VydmVEcm9wcGVkTmV3SXRlbXMgPSBvcHRpb25zPy5wcmVzZXJ2ZURyb3BwZWROZXdJdGVtcyA/PyBmYWxzZTtcbiAgICBjb25zdCBoaXN0b3J5ID0gYXdhaXQgc2Vzc2lvbi5nZXRJdGVtcygpO1xuICAgIGNvbnN0IG5ld0lucHV0SXRlbXMgPSBBcnJheS5pc0FycmF5KGlucHV0KVxuICAgICAgICA/IFsuLi5pbnB1dF1cbiAgICAgICAgOiB0b0lucHV0SXRlbUxpc3QoaW5wdXQpO1xuICAgIGlmICghc2Vzc2lvbklucHV0Q2FsbGJhY2spIHtcbiAgICAgICAgcmV0dXJuIHtcbiAgICAgICAgICAgIHByZXBhcmVkSW5wdXQ6IGluY2x1ZGVIaXN0b3J5SW5QcmVwYXJlZElucHV0XG4gICAgICAgICAgICAgICAgPyBbLi4uaGlzdG9yeSwgLi4ubmV3SW5wdXRJdGVtc11cbiAgICAgICAgICAgICAgICA6IG5ld0lucHV0SXRlbXMsXG4gICAgICAgICAgICBzZXNzaW9uSXRlbXM6IG5ld0lucHV0SXRlbXMsXG4gICAgICAgIH07XG4gICAgfVxuICAgIC8vIENhcHR1cmUgc25hcHNob3RzIGJlZm9yZSBpbnZva2luZyB0aGUgY2FsbGJhY2sgc28gd2UgY2FuIHJlYXNvbiBhYm91dCB0aGUgb3JpZ2luYWwgc3RhdGUgZXZlblxuICAgIC8vIGlmIHRoZSBjYWxsYmFjayBtdXRhdGVzIHRoZSBoaXN0b3J5IGFycmF5IGluLXBsYWNlLlxuICAgIGNvbnN0IGhpc3RvcnlTbmFwc2hvdCA9IGhpc3Rvcnkuc2xpY2UoKTtcbiAgICBjb25zdCBuZXdJbnB1dFNuYXBzaG90ID0gbmV3SW5wdXRJdGVtcy5zbGljZSgpO1xuICAgIC8vIERlbGVnYXRlIGhpc3RvcnkgcmVjb25jaWxpYXRpb24gdG8gdGhlIHVzZXItc3VwcGxpZWQgY2FsbGJhY2suIEl0IG11c3QgcmV0dXJuIGEgY29uY3JldGUgbGlzdFxuICAgIC8vIHRvIGtlZXAgZG93bnN0cmVhbSBtb2RlbCByZXF1ZXN0cyB3ZWxsLXR5cGVkLlxuICAgIGNvbnN0IGNvbWJpbmVkID0gYXdhaXQgc2Vzc2lvbklucHV0Q2FsbGJhY2soaGlzdG9yeSwgbmV3SW5wdXRJdGVtcyk7XG4gICAgaWYgKCFBcnJheS5pc0FycmF5KGNvbWJpbmVkKSkge1xuICAgICAgICB0aHJvdyBuZXcgVXNlckVycm9yKCdTZXNzaW9uIGlucHV0IGNhbGxiYWNrIG11c3QgcmV0dXJuIGFuIGFycmF5IG9mIEFnZW50SW5wdXRJdGVtIG9iamVjdHMuJyk7XG4gICAgfVxuICAgIGNvbnN0IGhpc3RvcnlDb3VudHMgPSBidWlsZEl0ZW1GcmVxdWVuY3lNYXAoaGlzdG9yeVNuYXBzaG90KTtcbiAgICBjb25zdCBuZXdJbnB1dENvdW50cyA9IGJ1aWxkSXRlbUZyZXF1ZW5jeU1hcChuZXdJbnB1dFNuYXBzaG90KTtcbiAgICBjb25zdCBoaXN0b3J5UmVmcyA9IGJ1aWxkSXRlbVJlZmVyZW5jZU1hcChoaXN0b3J5U25hcHNob3QpO1xuICAgIGNvbnN0IG5ld0lucHV0UmVmcyA9IGJ1aWxkSXRlbVJlZmVyZW5jZU1hcChuZXdJbnB1dFNuYXBzaG90KTtcbiAgICBjb25zdCBhcHBlbmRlZCA9IFtdO1xuICAgIGZvciAoY29uc3QgaXRlbSBvZiBjb21iaW5lZCkge1xuICAgICAgICBjb25zdCBrZXkgPSBzZXNzaW9uSXRlbUtleShpdGVtKTtcbiAgICAgICAgaWYgKGNvbnN1bWVSZWZlcmVuY2UobmV3SW5wdXRSZWZzLCBrZXksIGl0ZW0pKSB7XG4gICAgICAgICAgICBkZWNyZW1lbnRDb3VudChuZXdJbnB1dENvdW50cywga2V5KTtcbiAgICAgICAgICAgIGFwcGVuZGVkLnB1c2goaXRlbSk7XG4gICAgICAgICAgICBjb250aW51ZTtcbiAgICAgICAgfVxuICAgICAgICAvLyBQcmlvcml0aXplIGV4YWN0IGhpc3RvcnkgbWF0Y2hlcyBiZWZvcmUgcGF5bG9hZC1iYXNlZCBjb3VudHMgc28gY2FsbGJhY2tzIHRoYXQgc3VyZmFjZVxuICAgICAgICAvLyBoaXN0b3J5IGFoZWFkIG9mIGlkZW50aWNhbCBuZXcgaW5wdXRzIGtlZXAgcHJldmlvdXNseSBwZXJzaXN0ZWQgaXRlbXMgb3V0IG9mIHRoZSBuZXcgcXVldWUuXG4gICAgICAgIGlmIChjb25zdW1lUmVmZXJlbmNlKGhpc3RvcnlSZWZzLCBrZXksIGl0ZW0pKSB7XG4gICAgICAgICAgICBkZWNyZW1lbnRDb3VudChoaXN0b3J5Q291bnRzLCBrZXkpO1xuICAgICAgICAgICAgY29udGludWU7XG4gICAgICAgIH1cbiAgICAgICAgY29uc3QgaGlzdG9yeVJlbWFpbmluZyA9IGhpc3RvcnlDb3VudHMuZ2V0KGtleSkgPz8gMDtcbiAgICAgICAgaWYgKGhpc3RvcnlSZW1haW5pbmcgPiAwKSB7XG4gICAgICAgICAgICBoaXN0b3J5Q291bnRzLnNldChrZXksIGhpc3RvcnlSZW1haW5pbmcgLSAxKTtcbiAgICAgICAgICAgIGNvbnRpbnVlO1xuICAgICAgICB9XG4gICAgICAgIGNvbnN0IG5ld1JlbWFpbmluZyA9IG5ld0lucHV0Q291bnRzLmdldChrZXkpID8/IDA7XG4gICAgICAgIGlmIChuZXdSZW1haW5pbmcgPiAwKSB7XG4gICAgICAgICAgICBuZXdJbnB1dENvdW50cy5zZXQoa2V5LCBuZXdSZW1haW5pbmcgLSAxKTtcbiAgICAgICAgICAgIGFwcGVuZGVkLnB1c2goaXRlbSk7XG4gICAgICAgICAgICBjb250aW51ZTtcbiAgICAgICAgfVxuICAgICAgICBhcHBlbmRlZC5wdXNoKGl0ZW0pO1xuICAgIH1cbiAgICAvLyBQcmVzZXJ2ZSByZWRhY3RlZCBpbnB1dHMgZm9yIG1vZGVsIGRlbGl2ZXJ5IHdoZW4gcmVxdWVzdGVkIChlLmcuIHNlcnZlci1tYW5hZ2VkIGhpc3RvcmllcykuXG4gICAgY29uc3QgcHJlcGFyZWRJdGVtcyA9IGluY2x1ZGVIaXN0b3J5SW5QcmVwYXJlZElucHV0XG4gICAgICAgID8gY29tYmluZWRcbiAgICAgICAgOiBhcHBlbmRlZC5sZW5ndGggPiAwXG4gICAgICAgICAgICA/IGFwcGVuZGVkXG4gICAgICAgICAgICA6IHByZXNlcnZlRHJvcHBlZE5ld0l0ZW1zXG4gICAgICAgICAgICAgICAgPyBuZXdJbnB1dFNuYXBzaG90XG4gICAgICAgICAgICAgICAgOiBbXTtcbiAgICByZXR1cm4ge1xuICAgICAgICBwcmVwYXJlZElucHV0OiBwcmVwYXJlZEl0ZW1zLFxuICAgICAgICAvLyBSZXNwZWN0IGNhbGxiYWNrcyB0aGF0IGludGVudGlvbmFsbHkgZHJvcCB0aGUgbGF0ZXN0IGlucHV0cyAoZS5nLiB0byByZWRhY3Qgc2Vuc2l0aXZlXG4gICAgICAgIC8vIHZhbHVlcykgYnkgcGVyc2lzdGluZyBvbmx5IHRoZSBpdGVtcyB0aGV5IGtlcHQgaW4gdGhlIGNvbWJpbmVkIGFycmF5LlxuICAgICAgICBzZXNzaW9uSXRlbXM6IGFwcGVuZGVkLFxuICAgIH07XG59XG4vKipcbiAqIEFjY2VwdHMgd2hhdGV2ZXIgdGhlIHRvb2wgcmV0dXJuZWQgYW5kIGF0dGVtcHRzIHRvIGNvZXJjZSBpdCBpbnRvIHRoZSBzdHJ1Y3R1cmVkIHByb3RvY29sXG4gKiBzaGFwZXMgd2UgZXhwb3NlIHRvIGRvd25zdHJlYW0gbW9kZWwgYWRhcHRlcnMgKGlucHV0X3RleHQvaW5wdXRfaW1hZ2UvaW5wdXRfZmlsZSkuIFRvb2xzIGFyZVxuICogYWxsb3dlZCB0byByZXR1cm4gZWl0aGVyIGEgc2luZ2xlIHN0cnVjdHVyZWQgb2JqZWN0IG9yIGFuIGFycmF5IG9mIHRoZW07IGFueXRoaW5nIGVsc2UgZmFsbHNcbiAqIGJhY2sgdG8gdGhlIGxlZ2FjeSBzdHJpbmcgcGlwZWxpbmUuXG4gKi9cbmZ1bmN0aW9uIG5vcm1hbGl6ZVN0cnVjdHVyZWRUb29sT3V0cHV0cyhvdXRwdXQpIHtcbiAgICBpZiAoQXJyYXkuaXNBcnJheShvdXRwdXQpKSB7XG4gICAgICAgIGNvbnN0IHN0cnVjdHVyZWQgPSBbXTtcbiAgICAgICAgZm9yIChjb25zdCBpdGVtIG9mIG91dHB1dCkge1xuICAgICAgICAgICAgY29uc3Qgbm9ybWFsaXplZCA9IG5vcm1hbGl6ZVN0cnVjdHVyZWRUb29sT3V0cHV0KGl0ZW0pO1xuICAgICAgICAgICAgaWYgKCFub3JtYWxpemVkKSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuIG51bGw7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBzdHJ1Y3R1cmVkLnB1c2gobm9ybWFsaXplZCk7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIHN0cnVjdHVyZWQ7XG4gICAgfVxuICAgIGNvbnN0IG5vcm1hbGl6ZWQgPSBub3JtYWxpemVTdHJ1Y3R1cmVkVG9vbE91dHB1dChvdXRwdXQpO1xuICAgIHJldHVybiBub3JtYWxpemVkID8gW25vcm1hbGl6ZWRdIDogbnVsbDtcbn1cbi8qKlxuICogQmVzdC1lZmZvcnQgbm9ybWFsaXphdGlvbiBvZiBhIHNpbmdsZSB0b29sIG91dHB1dCBpdGVtLiBJZiB0aGUgb2JqZWN0IGFscmVhZHkgbWF0Y2hlcyB0aGVcbiAqIHByb3RvY29sIHNoYXBlIHdlIHNpbXBseSBjYXN0IGl0OyBvdGhlcndpc2Ugd2UgY29weSB0aGUgcmVjb2duaXNlZCBmaWVsZHMgaW50byB0aGUgY2Fub25pY2FsXG4gKiBzdHJ1Y3R1cmUuIFJldHVybmluZyBudWxsIGxldHMgdGhlIGNhbGxlciBrbm93IHdlIHNob3VsZCByZXZlcnQgdG8gcGxhaW4tc3RyaW5nIGhhbmRsaW5nLlxuICovXG5mdW5jdGlvbiBub3JtYWxpemVTdHJ1Y3R1cmVkVG9vbE91dHB1dCh2YWx1ZSkge1xuICAgIGlmICghaXNSZWNvcmQodmFsdWUpKSB7XG4gICAgICAgIHJldHVybiBudWxsO1xuICAgIH1cbiAgICBjb25zdCB0eXBlID0gdmFsdWUudHlwZTtcbiAgICBpZiAodHlwZSA9PT0gJ3RleHQnICYmIHR5cGVvZiB2YWx1ZS50ZXh0ID09PSAnc3RyaW5nJykge1xuICAgICAgICBjb25zdCBvdXRwdXQgPSB7IHR5cGU6ICd0ZXh0JywgdGV4dDogdmFsdWUudGV4dCB9O1xuICAgICAgICBpZiAoaXNSZWNvcmQodmFsdWUucHJvdmlkZXJEYXRhKSkge1xuICAgICAgICAgICAgb3V0cHV0LnByb3ZpZGVyRGF0YSA9IHZhbHVlLnByb3ZpZGVyRGF0YTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gb3V0cHV0O1xuICAgIH1cbiAgICBpZiAodHlwZSA9PT0gJ2ltYWdlJykge1xuICAgICAgICBjb25zdCBvdXRwdXQgPSB7IHR5cGU6ICdpbWFnZScgfTtcbiAgICAgICAgbGV0IGltYWdlU3RyaW5nO1xuICAgICAgICBsZXQgaW1hZ2VGaWxlSWQ7XG4gICAgICAgIGNvbnN0IGZhbGxiYWNrSW1hZ2VNZWRpYVR5cGUgPSBpc05vbkVtcHR5U3RyaW5nKHZhbHVlLm1lZGlhVHlwZSlcbiAgICAgICAgICAgID8gdmFsdWUubWVkaWFUeXBlXG4gICAgICAgICAgICA6IHVuZGVmaW5lZDtcbiAgICAgICAgY29uc3QgaW1hZ2VGaWVsZCA9IHZhbHVlLmltYWdlO1xuICAgICAgICBpZiAodHlwZW9mIGltYWdlRmllbGQgPT09ICdzdHJpbmcnICYmIGltYWdlRmllbGQubGVuZ3RoID4gMCkge1xuICAgICAgICAgICAgaW1hZ2VTdHJpbmcgPSBpbWFnZUZpZWxkO1xuICAgICAgICB9XG4gICAgICAgIGVsc2UgaWYgKGlzUmVjb3JkKGltYWdlRmllbGQpKSB7XG4gICAgICAgICAgICBjb25zdCBpbWFnZU9iaiA9IGltYWdlRmllbGQ7XG4gICAgICAgICAgICBjb25zdCBpbmxpbmVNZWRpYVR5cGUgPSBpc05vbkVtcHR5U3RyaW5nKGltYWdlT2JqLm1lZGlhVHlwZSlcbiAgICAgICAgICAgICAgICA/IGltYWdlT2JqLm1lZGlhVHlwZVxuICAgICAgICAgICAgICAgIDogZmFsbGJhY2tJbWFnZU1lZGlhVHlwZTtcbiAgICAgICAgICAgIGlmIChpc05vbkVtcHR5U3RyaW5nKGltYWdlT2JqLnVybCkpIHtcbiAgICAgICAgICAgICAgICBpbWFnZVN0cmluZyA9IGltYWdlT2JqLnVybDtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGVsc2UgaWYgKGlzTm9uRW1wdHlTdHJpbmcoaW1hZ2VPYmouZGF0YSkpIHtcbiAgICAgICAgICAgICAgICBpbWFnZVN0cmluZyA9IHRvSW5saW5lSW1hZ2VTdHJpbmcoaW1hZ2VPYmouZGF0YSwgaW5saW5lTWVkaWFUeXBlKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGVsc2UgaWYgKGltYWdlT2JqLmRhdGEgaW5zdGFuY2VvZiBVaW50OEFycmF5ICYmXG4gICAgICAgICAgICAgICAgaW1hZ2VPYmouZGF0YS5sZW5ndGggPiAwKSB7XG4gICAgICAgICAgICAgICAgaW1hZ2VTdHJpbmcgPSB0b0lubGluZUltYWdlU3RyaW5nKGltYWdlT2JqLmRhdGEsIGlubGluZU1lZGlhVHlwZSk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBpZiAoIWltYWdlU3RyaW5nKSB7XG4gICAgICAgICAgICAgICAgY29uc3QgY2FuZGlkYXRlSWQgPSAoaXNOb25FbXB0eVN0cmluZyhpbWFnZU9iai5maWxlSWQpICYmIGltYWdlT2JqLmZpbGVJZCkgfHxcbiAgICAgICAgICAgICAgICAgICAgKGlzTm9uRW1wdHlTdHJpbmcoaW1hZ2VPYmouaWQpICYmIGltYWdlT2JqLmlkKSB8fFxuICAgICAgICAgICAgICAgICAgICB1bmRlZmluZWQ7XG4gICAgICAgICAgICAgICAgaWYgKGNhbmRpZGF0ZUlkKSB7XG4gICAgICAgICAgICAgICAgICAgIGltYWdlRmlsZUlkID0gY2FuZGlkYXRlSWQ7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIGlmICghaW1hZ2VTdHJpbmcgJiZcbiAgICAgICAgICAgIHR5cGVvZiB2YWx1ZS5pbWFnZVVybCA9PT0gJ3N0cmluZycgJiZcbiAgICAgICAgICAgIHZhbHVlLmltYWdlVXJsLmxlbmd0aCA+IDApIHtcbiAgICAgICAgICAgIGltYWdlU3RyaW5nID0gdmFsdWUuaW1hZ2VVcmw7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKCFpbWFnZUZpbGVJZCAmJlxuICAgICAgICAgICAgdHlwZW9mIHZhbHVlLmZpbGVJZCA9PT0gJ3N0cmluZycgJiZcbiAgICAgICAgICAgIHZhbHVlLmZpbGVJZC5sZW5ndGggPiAwKSB7XG4gICAgICAgICAgICBpbWFnZUZpbGVJZCA9IHZhbHVlLmZpbGVJZDtcbiAgICAgICAgfVxuICAgICAgICBpZiAoIWltYWdlU3RyaW5nICYmXG4gICAgICAgICAgICB0eXBlb2YgdmFsdWUuZGF0YSA9PT0gJ3N0cmluZycgJiZcbiAgICAgICAgICAgIHZhbHVlLmRhdGEubGVuZ3RoID4gMCkge1xuICAgICAgICAgICAgaW1hZ2VTdHJpbmcgPSBmYWxsYmFja0ltYWdlTWVkaWFUeXBlXG4gICAgICAgICAgICAgICAgPyB0b0lubGluZUltYWdlU3RyaW5nKHZhbHVlLmRhdGEsIGZhbGxiYWNrSW1hZ2VNZWRpYVR5cGUpXG4gICAgICAgICAgICAgICAgOiB2YWx1ZS5kYXRhO1xuICAgICAgICB9XG4gICAgICAgIGVsc2UgaWYgKCFpbWFnZVN0cmluZyAmJlxuICAgICAgICAgICAgdmFsdWUuZGF0YSBpbnN0YW5jZW9mIFVpbnQ4QXJyYXkgJiZcbiAgICAgICAgICAgIHZhbHVlLmRhdGEubGVuZ3RoID4gMCkge1xuICAgICAgICAgICAgaW1hZ2VTdHJpbmcgPSB0b0lubGluZUltYWdlU3RyaW5nKHZhbHVlLmRhdGEsIGZhbGxiYWNrSW1hZ2VNZWRpYVR5cGUpO1xuICAgICAgICB9XG4gICAgICAgIGlmICh0eXBlb2YgdmFsdWUuZGV0YWlsID09PSAnc3RyaW5nJyAmJiB2YWx1ZS5kZXRhaWwubGVuZ3RoID4gMCkge1xuICAgICAgICAgICAgb3V0cHV0LmRldGFpbCA9IHZhbHVlLmRldGFpbDtcbiAgICAgICAgfVxuICAgICAgICBpZiAoaW1hZ2VTdHJpbmcpIHtcbiAgICAgICAgICAgIG91dHB1dC5pbWFnZSA9IGltYWdlU3RyaW5nO1xuICAgICAgICB9XG4gICAgICAgIGVsc2UgaWYgKGltYWdlRmlsZUlkKSB7XG4gICAgICAgICAgICBvdXRwdXQuaW1hZ2UgPSB7IGZpbGVJZDogaW1hZ2VGaWxlSWQgfTtcbiAgICAgICAgfVxuICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgIHJldHVybiBudWxsO1xuICAgICAgICB9XG4gICAgICAgIGlmIChpc1JlY29yZCh2YWx1ZS5wcm92aWRlckRhdGEpKSB7XG4gICAgICAgICAgICBvdXRwdXQucHJvdmlkZXJEYXRhID0gdmFsdWUucHJvdmlkZXJEYXRhO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiBvdXRwdXQ7XG4gICAgfVxuICAgIGlmICh0eXBlID09PSAnZmlsZScpIHtcbiAgICAgICAgY29uc3QgZmlsZVZhbHVlID0gbm9ybWFsaXplRmlsZVZhbHVlKHZhbHVlKTtcbiAgICAgICAgaWYgKCFmaWxlVmFsdWUpIHtcbiAgICAgICAgICAgIHJldHVybiBudWxsO1xuICAgICAgICB9XG4gICAgICAgIGNvbnN0IG91dHB1dCA9IHsgdHlwZTogJ2ZpbGUnLCBmaWxlOiBmaWxlVmFsdWUgfTtcbiAgICAgICAgaWYgKGlzUmVjb3JkKHZhbHVlLnByb3ZpZGVyRGF0YSkpIHtcbiAgICAgICAgICAgIG91dHB1dC5wcm92aWRlckRhdGEgPSB2YWx1ZS5wcm92aWRlckRhdGE7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIG91dHB1dDtcbiAgICB9XG4gICAgcmV0dXJuIG51bGw7XG59XG4vKipcbiAqIFRyYW5zbGF0ZXMgdGhlIG5vcm1hbGl6ZWQgdG9vbCBvdXRwdXQgaW50byB0aGUgcHJvdG9jb2wgYGlucHV0XypgIGl0ZW1zLiBUaGlzIGlzIHRoZSBsYXN0IGhvcFxuICogYmVmb3JlIHdlIGhhbmQgdGhlIGRhdGEgdG8gbW9kZWwtc3BlY2lmaWMgYWRhcHRlcnMsIHNvIHdlIGdlbmVyYXRlIHRoZSBleGFjdCBzY2hlbWEgZXhwZWN0ZWQgYnlcbiAqIHRoZSBwcm90b2NvbCBkZWZpbml0aW9ucy5cbiAqL1xuZnVuY3Rpb24gY29udmVydFN0cnVjdHVyZWRUb29sT3V0cHV0VG9JbnB1dEl0ZW0ob3V0cHV0KSB7XG4gICAgaWYgKG91dHB1dC50eXBlID09PSAndGV4dCcpIHtcbiAgICAgICAgY29uc3QgcmVzdWx0ID0ge1xuICAgICAgICAgICAgdHlwZTogJ2lucHV0X3RleHQnLFxuICAgICAgICAgICAgdGV4dDogb3V0cHV0LnRleHQsXG4gICAgICAgIH07XG4gICAgICAgIGlmIChvdXRwdXQucHJvdmlkZXJEYXRhKSB7XG4gICAgICAgICAgICByZXN1bHQucHJvdmlkZXJEYXRhID0gb3V0cHV0LnByb3ZpZGVyRGF0YTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gcmVzdWx0O1xuICAgIH1cbiAgICBpZiAob3V0cHV0LnR5cGUgPT09ICdpbWFnZScpIHtcbiAgICAgICAgY29uc3QgcmVzdWx0ID0geyB0eXBlOiAnaW5wdXRfaW1hZ2UnIH07XG4gICAgICAgIGlmICh0eXBlb2Ygb3V0cHV0LmRldGFpbCA9PT0gJ3N0cmluZycgJiYgb3V0cHV0LmRldGFpbC5sZW5ndGggPiAwKSB7XG4gICAgICAgICAgICByZXN1bHQuZGV0YWlsID0gb3V0cHV0LmRldGFpbDtcbiAgICAgICAgfVxuICAgICAgICBpZiAodHlwZW9mIG91dHB1dC5pbWFnZSA9PT0gJ3N0cmluZycgJiYgb3V0cHV0LmltYWdlLmxlbmd0aCA+IDApIHtcbiAgICAgICAgICAgIHJlc3VsdC5pbWFnZSA9IG91dHB1dC5pbWFnZTtcbiAgICAgICAgfVxuICAgICAgICBlbHNlIGlmIChpc1JlY29yZChvdXRwdXQuaW1hZ2UpKSB7XG4gICAgICAgICAgICBjb25zdCBpbWFnZU9iaiA9IG91dHB1dC5pbWFnZTtcbiAgICAgICAgICAgIGNvbnN0IGlubGluZU1lZGlhVHlwZSA9IGlzTm9uRW1wdHlTdHJpbmcoaW1hZ2VPYmoubWVkaWFUeXBlKVxuICAgICAgICAgICAgICAgID8gaW1hZ2VPYmoubWVkaWFUeXBlXG4gICAgICAgICAgICAgICAgOiB1bmRlZmluZWQ7XG4gICAgICAgICAgICBpZiAoaXNOb25FbXB0eVN0cmluZyhpbWFnZU9iai51cmwpKSB7XG4gICAgICAgICAgICAgICAgcmVzdWx0LmltYWdlID0gaW1hZ2VPYmoudXJsO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgZWxzZSBpZiAoaXNOb25FbXB0eVN0cmluZyhpbWFnZU9iai5kYXRhKSkge1xuICAgICAgICAgICAgICAgIHJlc3VsdC5pbWFnZSA9XG4gICAgICAgICAgICAgICAgICAgIGlubGluZU1lZGlhVHlwZSAmJiAhaW1hZ2VPYmouZGF0YS5zdGFydHNXaXRoKCdkYXRhOicpXG4gICAgICAgICAgICAgICAgICAgICAgICA/IGFzRGF0YVVybChpbWFnZU9iai5kYXRhLCBpbmxpbmVNZWRpYVR5cGUpXG4gICAgICAgICAgICAgICAgICAgICAgICA6IGltYWdlT2JqLmRhdGE7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBlbHNlIGlmIChpbWFnZU9iai5kYXRhIGluc3RhbmNlb2YgVWludDhBcnJheSAmJlxuICAgICAgICAgICAgICAgIGltYWdlT2JqLmRhdGEubGVuZ3RoID4gMCkge1xuICAgICAgICAgICAgICAgIGNvbnN0IGJhc2U2NCA9IGVuY29kZVVpbnQ4QXJyYXlUb0Jhc2U2NChpbWFnZU9iai5kYXRhKTtcbiAgICAgICAgICAgICAgICByZXN1bHQuaW1hZ2UgPSBhc0RhdGFVcmwoYmFzZTY0LCBpbmxpbmVNZWRpYVR5cGUpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICAgICAgY29uc3QgcmVmZXJlbmNlZElkID0gKGlzTm9uRW1wdHlTdHJpbmcoaW1hZ2VPYmouZmlsZUlkKSAmJiBpbWFnZU9iai5maWxlSWQpIHx8XG4gICAgICAgICAgICAgICAgICAgIChpc05vbkVtcHR5U3RyaW5nKGltYWdlT2JqLmlkKSAmJiBpbWFnZU9iai5pZCkgfHxcbiAgICAgICAgICAgICAgICAgICAgdW5kZWZpbmVkO1xuICAgICAgICAgICAgICAgIGlmIChyZWZlcmVuY2VkSWQpIHtcbiAgICAgICAgICAgICAgICAgICAgcmVzdWx0LmltYWdlID0geyBpZDogcmVmZXJlbmNlZElkIH07XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIGlmIChvdXRwdXQucHJvdmlkZXJEYXRhKSB7XG4gICAgICAgICAgICByZXN1bHQucHJvdmlkZXJEYXRhID0gb3V0cHV0LnByb3ZpZGVyRGF0YTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gcmVzdWx0O1xuICAgIH1cbiAgICBpZiAob3V0cHV0LnR5cGUgPT09ICdmaWxlJykge1xuICAgICAgICBjb25zdCByZXN1bHQgPSB7IHR5cGU6ICdpbnB1dF9maWxlJyB9O1xuICAgICAgICBjb25zdCBmaWxlVmFsdWUgPSBvdXRwdXQuZmlsZTtcbiAgICAgICAgaWYgKHR5cGVvZiBmaWxlVmFsdWUgPT09ICdzdHJpbmcnKSB7XG4gICAgICAgICAgICByZXN1bHQuZmlsZSA9IGZpbGVWYWx1ZTtcbiAgICAgICAgfVxuICAgICAgICBlbHNlIGlmIChmaWxlVmFsdWUgJiYgdHlwZW9mIGZpbGVWYWx1ZSA9PT0gJ29iamVjdCcpIHtcbiAgICAgICAgICAgIGNvbnN0IHJlY29yZCA9IGZpbGVWYWx1ZTtcbiAgICAgICAgICAgIGlmICgnZGF0YScgaW4gcmVjb3JkICYmIHJlY29yZC5kYXRhKSB7XG4gICAgICAgICAgICAgICAgY29uc3QgbWVkaWFUeXBlID0gcmVjb3JkLm1lZGlhVHlwZSA/PyAndGV4dC9wbGFpbic7XG4gICAgICAgICAgICAgICAgaWYgKHR5cGVvZiByZWNvcmQuZGF0YSA9PT0gJ3N0cmluZycpIHtcbiAgICAgICAgICAgICAgICAgICAgcmVzdWx0LmZpbGUgPSBhc0RhdGFVcmwocmVjb3JkLmRhdGEsIG1lZGlhVHlwZSk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICBjb25zdCBiYXNlNjQgPSBlbmNvZGVVaW50OEFycmF5VG9CYXNlNjQocmVjb3JkLmRhdGEpO1xuICAgICAgICAgICAgICAgICAgICByZXN1bHQuZmlsZSA9IGFzRGF0YVVybChiYXNlNjQsIG1lZGlhVHlwZSk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICAgICAgZWxzZSBpZiAodHlwZW9mIHJlY29yZC51cmwgPT09ICdzdHJpbmcnICYmIHJlY29yZC51cmwubGVuZ3RoID4gMCkge1xuICAgICAgICAgICAgICAgIHJlc3VsdC5maWxlID0geyB1cmw6IHJlY29yZC51cmwgfTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgICAgIGNvbnN0IHJlZmVyZW5jZWRJZCA9ICh0eXBlb2YgcmVjb3JkLmlkID09PSAnc3RyaW5nJyAmJlxuICAgICAgICAgICAgICAgICAgICByZWNvcmQuaWQubGVuZ3RoID4gMCAmJlxuICAgICAgICAgICAgICAgICAgICByZWNvcmQuaWQpIHx8XG4gICAgICAgICAgICAgICAgICAgICh0eXBlb2YgcmVjb3JkLmZpbGVJZCA9PT0gJ3N0cmluZycgJiYgcmVjb3JkLmZpbGVJZC5sZW5ndGggPiAwXG4gICAgICAgICAgICAgICAgICAgICAgICA/IHJlY29yZC5maWxlSWRcbiAgICAgICAgICAgICAgICAgICAgICAgIDogdW5kZWZpbmVkKTtcbiAgICAgICAgICAgICAgICBpZiAocmVmZXJlbmNlZElkKSB7XG4gICAgICAgICAgICAgICAgICAgIHJlc3VsdC5maWxlID0geyBpZDogcmVmZXJlbmNlZElkIH07XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICAgICAgaWYgKHR5cGVvZiByZWNvcmQuZmlsZW5hbWUgPT09ICdzdHJpbmcnICYmIHJlY29yZC5maWxlbmFtZS5sZW5ndGggPiAwKSB7XG4gICAgICAgICAgICAgICAgcmVzdWx0LmZpbGVuYW1lID0gcmVjb3JkLmZpbGVuYW1lO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIGlmIChvdXRwdXQucHJvdmlkZXJEYXRhKSB7XG4gICAgICAgICAgICByZXN1bHQucHJvdmlkZXJEYXRhID0gb3V0cHV0LnByb3ZpZGVyRGF0YTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gcmVzdWx0O1xuICAgIH1cbiAgICBjb25zdCBleGhhdXN0aXZlQ2hlY2sgPSBvdXRwdXQ7XG4gICAgcmV0dXJuIGV4aGF1c3RpdmVDaGVjaztcbn1cbmZ1bmN0aW9uIGJ1aWxkSXRlbUZyZXF1ZW5jeU1hcChpdGVtcykge1xuICAgIGNvbnN0IGNvdW50cyA9IG5ldyBNYXAoKTtcbiAgICBmb3IgKGNvbnN0IGl0ZW0gb2YgaXRlbXMpIHtcbiAgICAgICAgY29uc3Qga2V5ID0gc2Vzc2lvbkl0ZW1LZXkoaXRlbSk7XG4gICAgICAgIGNvdW50cy5zZXQoa2V5LCAoY291bnRzLmdldChrZXkpID8/IDApICsgMSk7XG4gICAgfVxuICAgIHJldHVybiBjb3VudHM7XG59XG5mdW5jdGlvbiBidWlsZEl0ZW1SZWZlcmVuY2VNYXAoaXRlbXMpIHtcbiAgICBjb25zdCByZWZzID0gbmV3IE1hcCgpO1xuICAgIGZvciAoY29uc3QgaXRlbSBvZiBpdGVtcykge1xuICAgICAgICBjb25zdCBrZXkgPSBzZXNzaW9uSXRlbUtleShpdGVtKTtcbiAgICAgICAgY29uc3QgbGlzdCA9IHJlZnMuZ2V0KGtleSk7XG4gICAgICAgIGlmIChsaXN0KSB7XG4gICAgICAgICAgICBsaXN0LnB1c2goaXRlbSk7XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICByZWZzLnNldChrZXksIFtpdGVtXSk7XG4gICAgICAgIH1cbiAgICB9XG4gICAgcmV0dXJuIHJlZnM7XG59XG5mdW5jdGlvbiBjb25zdW1lUmVmZXJlbmNlKHJlZnMsIGtleSwgdGFyZ2V0KSB7XG4gICAgY29uc3QgY2FuZGlkYXRlcyA9IHJlZnMuZ2V0KGtleSk7XG4gICAgaWYgKCFjYW5kaWRhdGVzIHx8IGNhbmRpZGF0ZXMubGVuZ3RoID09PSAwKSB7XG4gICAgICAgIHJldHVybiBmYWxzZTtcbiAgICB9XG4gICAgY29uc3QgaW5kZXggPSBjYW5kaWRhdGVzLmZpbmRJbmRleCgoY2FuZGlkYXRlKSA9PiBjYW5kaWRhdGUgPT09IHRhcmdldCk7XG4gICAgaWYgKGluZGV4ID09PSAtMSkge1xuICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgfVxuICAgIGNhbmRpZGF0ZXMuc3BsaWNlKGluZGV4LCAxKTtcbiAgICBpZiAoY2FuZGlkYXRlcy5sZW5ndGggPT09IDApIHtcbiAgICAgICAgcmVmcy5kZWxldGUoa2V5KTtcbiAgICB9XG4gICAgcmV0dXJuIHRydWU7XG59XG5mdW5jdGlvbiBkZWNyZW1lbnRDb3VudChtYXAsIGtleSkge1xuICAgIGNvbnN0IHJlbWFpbmluZyA9IChtYXAuZ2V0KGtleSkgPz8gMCkgLSAxO1xuICAgIGlmIChyZW1haW5pbmcgPD0gMCkge1xuICAgICAgICBtYXAuZGVsZXRlKGtleSk7XG4gICAgfVxuICAgIGVsc2Uge1xuICAgICAgICBtYXAuc2V0KGtleSwgcmVtYWluaW5nKTtcbiAgICB9XG59XG5mdW5jdGlvbiBzZXNzaW9uSXRlbUtleShpdGVtKSB7XG4gICAgcmV0dXJuIEpTT04uc3RyaW5naWZ5KGl0ZW0sIHNlc3Npb25TZXJpYWxpemF0aW9uUmVwbGFjZXIpO1xufVxuZnVuY3Rpb24gc2Vzc2lvblNlcmlhbGl6YXRpb25SZXBsYWNlcihfa2V5LCB2YWx1ZSkge1xuICAgIGlmICh2YWx1ZSBpbnN0YW5jZW9mIEFycmF5QnVmZmVyKSB7XG4gICAgICAgIHJldHVybiB7XG4gICAgICAgICAgICBfX3R5cGU6ICdBcnJheUJ1ZmZlcicsXG4gICAgICAgICAgICBkYXRhOiBlbmNvZGVVaW50OEFycmF5VG9CYXNlNjQobmV3IFVpbnQ4QXJyYXkodmFsdWUpKSxcbiAgICAgICAgfTtcbiAgICB9XG4gICAgaWYgKGlzQXJyYXlCdWZmZXJWaWV3KHZhbHVlKSkge1xuICAgICAgICBjb25zdCB2aWV3ID0gdmFsdWU7XG4gICAgICAgIHJldHVybiB7XG4gICAgICAgICAgICBfX3R5cGU6IHZpZXcuY29uc3RydWN0b3IubmFtZSxcbiAgICAgICAgICAgIGRhdGE6IGVuY29kZVVpbnQ4QXJyYXlUb0Jhc2U2NChuZXcgVWludDhBcnJheSh2aWV3LmJ1ZmZlciwgdmlldy5ieXRlT2Zmc2V0LCB2aWV3LmJ5dGVMZW5ndGgpKSxcbiAgICAgICAgfTtcbiAgICB9XG4gICAgaWYgKGlzTm9kZUJ1ZmZlcih2YWx1ZSkpIHtcbiAgICAgICAgY29uc3QgdmlldyA9IHZhbHVlO1xuICAgICAgICByZXR1cm4ge1xuICAgICAgICAgICAgX190eXBlOiAnQnVmZmVyJyxcbiAgICAgICAgICAgIGRhdGE6IGVuY29kZVVpbnQ4QXJyYXlUb0Jhc2U2NChuZXcgVWludDhBcnJheSh2aWV3LmJ1ZmZlciwgdmlldy5ieXRlT2Zmc2V0LCB2aWV3LmJ5dGVMZW5ndGgpKSxcbiAgICAgICAgfTtcbiAgICB9XG4gICAgaWYgKGlzU2VyaWFsaXplZEJ1ZmZlclNuYXBzaG90KHZhbHVlKSkge1xuICAgICAgICByZXR1cm4ge1xuICAgICAgICAgICAgX190eXBlOiAnQnVmZmVyJyxcbiAgICAgICAgICAgIGRhdGE6IGVuY29kZVVpbnQ4QXJyYXlUb0Jhc2U2NChVaW50OEFycmF5LmZyb20odmFsdWUuZGF0YSkpLFxuICAgICAgICB9O1xuICAgIH1cbiAgICByZXR1cm4gdmFsdWU7XG59XG4vLyMgc291cmNlTWFwcGluZ1VSTD1ydW5JbXBsZW1lbnRhdGlvbi5tanMubWFwIiwiaW1wb3J0IHsgeiB9IGZyb20gJ3pvZCc7XG5pbXBvcnQgeyBBZ2VudCB9IGZyb20gXCIuL2FnZW50Lm1qc1wiO1xuaW1wb3J0IHsgUnVuTWVzc2FnZU91dHB1dEl0ZW0sIFJ1blRvb2xBcHByb3ZhbEl0ZW0sIFJ1blRvb2xDYWxsSXRlbSwgUnVuVG9vbENhbGxPdXRwdXRJdGVtLCBSdW5SZWFzb25pbmdJdGVtLCBSdW5IYW5kb2ZmQ2FsbEl0ZW0sIFJ1bkhhbmRvZmZPdXRwdXRJdGVtLCB9IGZyb20gXCIuL2l0ZW1zLm1qc1wiO1xuaW1wb3J0IHsgUnVuQ29udGV4dCB9IGZyb20gXCIuL3J1bkNvbnRleHQubWpzXCI7XG5pbXBvcnQgeyBnZXRUdXJuSW5wdXQgfSBmcm9tIFwiLi9ydW4ubWpzXCI7XG5pbXBvcnQgeyBBZ2VudFRvb2xVc2VUcmFja2VyLCBuZXh0U3RlcFNjaGVtYSwgfSBmcm9tIFwiLi9ydW5JbXBsZW1lbnRhdGlvbi5tanNcIjtcbmltcG9ydCB7IFN5c3RlbUVycm9yLCBVc2VyRXJyb3IgfSBmcm9tIFwiLi9lcnJvcnMubWpzXCI7XG5pbXBvcnQgeyBnZXRHbG9iYWxUcmFjZVByb3ZpZGVyIH0gZnJvbSBcIi4vdHJhY2luZy9wcm92aWRlci5tanNcIjtcbmltcG9ydCB7IFVzYWdlIH0gZnJvbSBcIi4vdXNhZ2UubWpzXCI7XG5pbXBvcnQgeyBnZXRDdXJyZW50VHJhY2UgfSBmcm9tIFwiLi90cmFjaW5nL2luZGV4Lm1qc1wiO1xuaW1wb3J0IGxvZ2dlciBmcm9tIFwiLi9sb2dnZXIubWpzXCI7XG5pbXBvcnQgeyBoYW5kb2ZmIH0gZnJvbSBcIi4vaGFuZG9mZi5tanNcIjtcbmltcG9ydCAqIGFzIHByb3RvY29sIGZyb20gXCIuL3R5cGVzL3Byb3RvY29sLm1qc1wiO1xuaW1wb3J0IHsgc2FmZUV4ZWN1dGUgfSBmcm9tIFwiLi91dGlscy9zYWZlRXhlY3V0ZS5tanNcIjtcbi8qKlxuICogVGhlIHNjaGVtYSB2ZXJzaW9uIG9mIHRoZSBzZXJpYWxpemVkIHJ1biBzdGF0ZS4gVGhpcyBpcyB1c2VkIHRvIGVuc3VyZSB0aGF0IHRoZSBzZXJpYWxpemVkXG4gKiBydW4gc3RhdGUgaXMgY29tcGF0aWJsZSB3aXRoIHRoZSBjdXJyZW50IHZlcnNpb24gb2YgdGhlIFNESy5cbiAqIElmIGFueXRoaW5nIGluIHRoaXMgc2NoZW1hIGNoYW5nZXMsIHRoZSB2ZXJzaW9uIHdpbGwgaGF2ZSB0byBiZSBpbmNyZW1lbnRlZC5cbiAqL1xuZXhwb3J0IGNvbnN0IENVUlJFTlRfU0NIRU1BX1ZFUlNJT04gPSAnMS4wJztcbmNvbnN0ICRzY2hlbWFWZXJzaW9uID0gei5saXRlcmFsKENVUlJFTlRfU0NIRU1BX1ZFUlNJT04pO1xuY29uc3Qgc2VyaWFsaXplZEFnZW50U2NoZW1hID0gei5vYmplY3Qoe1xuICAgIG5hbWU6IHouc3RyaW5nKCksXG59KTtcbmNvbnN0IHNlcmlhbGl6ZWRTcGFuQmFzZSA9IHoub2JqZWN0KHtcbiAgICBvYmplY3Q6IHoubGl0ZXJhbCgndHJhY2Uuc3BhbicpLFxuICAgIGlkOiB6LnN0cmluZygpLFxuICAgIHRyYWNlX2lkOiB6LnN0cmluZygpLFxuICAgIHBhcmVudF9pZDogei5zdHJpbmcoKS5udWxsYWJsZSgpLFxuICAgIHN0YXJ0ZWRfYXQ6IHouc3RyaW5nKCkubnVsbGFibGUoKSxcbiAgICBlbmRlZF9hdDogei5zdHJpbmcoKS5udWxsYWJsZSgpLFxuICAgIGVycm9yOiB6XG4gICAgICAgIC5vYmplY3Qoe1xuICAgICAgICBtZXNzYWdlOiB6LnN0cmluZygpLFxuICAgICAgICBkYXRhOiB6LnJlY29yZCh6LnN0cmluZygpLCB6LmFueSgpKS5vcHRpb25hbCgpLFxuICAgIH0pXG4gICAgICAgIC5udWxsYWJsZSgpLFxuICAgIHNwYW5fZGF0YTogei5yZWNvcmQoei5zdHJpbmcoKSwgei5hbnkoKSksXG59KTtcbmNvbnN0IFNlcmlhbGl6ZWRTcGFuID0gc2VyaWFsaXplZFNwYW5CYXNlLmV4dGVuZCh7XG4gICAgcHJldmlvdXNfc3Bhbjogei5sYXp5KCgpID0+IFNlcmlhbGl6ZWRTcGFuKS5vcHRpb25hbCgpLFxufSk7XG5jb25zdCByZXF1ZXN0VXNhZ2VTY2hlbWEgPSB6Lm9iamVjdCh7XG4gICAgaW5wdXRUb2tlbnM6IHoubnVtYmVyKCksXG4gICAgb3V0cHV0VG9rZW5zOiB6Lm51bWJlcigpLFxuICAgIHRvdGFsVG9rZW5zOiB6Lm51bWJlcigpLFxuICAgIGlucHV0VG9rZW5zRGV0YWlsczogei5yZWNvcmQoei5zdHJpbmcoKSwgei5udW1iZXIoKSkub3B0aW9uYWwoKSxcbiAgICBvdXRwdXRUb2tlbnNEZXRhaWxzOiB6LnJlY29yZCh6LnN0cmluZygpLCB6Lm51bWJlcigpKS5vcHRpb25hbCgpLFxufSk7XG5jb25zdCB1c2FnZVNjaGVtYSA9IHoub2JqZWN0KHtcbiAgICByZXF1ZXN0czogei5udW1iZXIoKSxcbiAgICBpbnB1dFRva2Vuczogei5udW1iZXIoKSxcbiAgICBvdXRwdXRUb2tlbnM6IHoubnVtYmVyKCksXG4gICAgdG90YWxUb2tlbnM6IHoubnVtYmVyKCksXG4gICAgaW5wdXRUb2tlbnNEZXRhaWxzOiB6LmFycmF5KHoucmVjb3JkKHouc3RyaW5nKCksIHoubnVtYmVyKCkpKS5vcHRpb25hbCgpLFxuICAgIG91dHB1dFRva2Vuc0RldGFpbHM6IHouYXJyYXkoei5yZWNvcmQoei5zdHJpbmcoKSwgei5udW1iZXIoKSkpLm9wdGlvbmFsKCksXG4gICAgcmVxdWVzdFVzYWdlRW50cmllczogei5hcnJheShyZXF1ZXN0VXNhZ2VTY2hlbWEpLm9wdGlvbmFsKCksXG59KTtcbmNvbnN0IG1vZGVsUmVzcG9uc2VTY2hlbWEgPSB6Lm9iamVjdCh7XG4gICAgdXNhZ2U6IHVzYWdlU2NoZW1hLFxuICAgIG91dHB1dDogei5hcnJheShwcm90b2NvbC5PdXRwdXRNb2RlbEl0ZW0pLFxuICAgIHJlc3BvbnNlSWQ6IHouc3RyaW5nKCkub3B0aW9uYWwoKSxcbiAgICBwcm92aWRlckRhdGE6IHoucmVjb3JkKHouc3RyaW5nKCksIHouYW55KCkpLm9wdGlvbmFsKCksXG59KTtcbmNvbnN0IGl0ZW1TY2hlbWEgPSB6LmRpc2NyaW1pbmF0ZWRVbmlvbigndHlwZScsIFtcbiAgICB6Lm9iamVjdCh7XG4gICAgICAgIHR5cGU6IHoubGl0ZXJhbCgnbWVzc2FnZV9vdXRwdXRfaXRlbScpLFxuICAgICAgICByYXdJdGVtOiBwcm90b2NvbC5Bc3Npc3RhbnRNZXNzYWdlSXRlbSxcbiAgICAgICAgYWdlbnQ6IHNlcmlhbGl6ZWRBZ2VudFNjaGVtYSxcbiAgICB9KSxcbiAgICB6Lm9iamVjdCh7XG4gICAgICAgIHR5cGU6IHoubGl0ZXJhbCgndG9vbF9jYWxsX2l0ZW0nKSxcbiAgICAgICAgcmF3SXRlbTogcHJvdG9jb2wuVG9vbENhbGxJdGVtLm9yKHByb3RvY29sLkhvc3RlZFRvb2xDYWxsSXRlbSksXG4gICAgICAgIGFnZW50OiBzZXJpYWxpemVkQWdlbnRTY2hlbWEsXG4gICAgfSksXG4gICAgei5vYmplY3Qoe1xuICAgICAgICB0eXBlOiB6LmxpdGVyYWwoJ3Rvb2xfY2FsbF9vdXRwdXRfaXRlbScpLFxuICAgICAgICByYXdJdGVtOiBwcm90b2NvbC5GdW5jdGlvbkNhbGxSZXN1bHRJdGVtLFxuICAgICAgICBhZ2VudDogc2VyaWFsaXplZEFnZW50U2NoZW1hLFxuICAgICAgICBvdXRwdXQ6IHouc3RyaW5nKCksXG4gICAgfSksXG4gICAgei5vYmplY3Qoe1xuICAgICAgICB0eXBlOiB6LmxpdGVyYWwoJ3JlYXNvbmluZ19pdGVtJyksXG4gICAgICAgIHJhd0l0ZW06IHByb3RvY29sLlJlYXNvbmluZ0l0ZW0sXG4gICAgICAgIGFnZW50OiBzZXJpYWxpemVkQWdlbnRTY2hlbWEsXG4gICAgfSksXG4gICAgei5vYmplY3Qoe1xuICAgICAgICB0eXBlOiB6LmxpdGVyYWwoJ2hhbmRvZmZfY2FsbF9pdGVtJyksXG4gICAgICAgIHJhd0l0ZW06IHByb3RvY29sLkZ1bmN0aW9uQ2FsbEl0ZW0sXG4gICAgICAgIGFnZW50OiBzZXJpYWxpemVkQWdlbnRTY2hlbWEsXG4gICAgfSksXG4gICAgei5vYmplY3Qoe1xuICAgICAgICB0eXBlOiB6LmxpdGVyYWwoJ2hhbmRvZmZfb3V0cHV0X2l0ZW0nKSxcbiAgICAgICAgcmF3SXRlbTogcHJvdG9jb2wuRnVuY3Rpb25DYWxsUmVzdWx0SXRlbSxcbiAgICAgICAgc291cmNlQWdlbnQ6IHNlcmlhbGl6ZWRBZ2VudFNjaGVtYSxcbiAgICAgICAgdGFyZ2V0QWdlbnQ6IHNlcmlhbGl6ZWRBZ2VudFNjaGVtYSxcbiAgICB9KSxcbiAgICB6Lm9iamVjdCh7XG4gICAgICAgIHR5cGU6IHoubGl0ZXJhbCgndG9vbF9hcHByb3ZhbF9pdGVtJyksXG4gICAgICAgIHJhd0l0ZW06IHByb3RvY29sLkZ1bmN0aW9uQ2FsbEl0ZW0ub3IocHJvdG9jb2wuSG9zdGVkVG9vbENhbGxJdGVtKVxuICAgICAgICAgICAgLm9yKHByb3RvY29sLlNoZWxsQ2FsbEl0ZW0pXG4gICAgICAgICAgICAub3IocHJvdG9jb2wuQXBwbHlQYXRjaENhbGxJdGVtKSxcbiAgICAgICAgYWdlbnQ6IHNlcmlhbGl6ZWRBZ2VudFNjaGVtYSxcbiAgICAgICAgdG9vbE5hbWU6IHouc3RyaW5nKCkub3B0aW9uYWwoKSxcbiAgICB9KSxcbl0pO1xuY29uc3Qgc2VyaWFsaXplZFRyYWNlU2NoZW1hID0gei5vYmplY3Qoe1xuICAgIG9iamVjdDogei5saXRlcmFsKCd0cmFjZScpLFxuICAgIGlkOiB6LnN0cmluZygpLFxuICAgIHdvcmtmbG93X25hbWU6IHouc3RyaW5nKCksXG4gICAgZ3JvdXBfaWQ6IHouc3RyaW5nKCkubnVsbGFibGUoKSxcbiAgICBtZXRhZGF0YTogei5yZWNvcmQoei5zdHJpbmcoKSwgei5hbnkoKSksXG59KTtcbmNvbnN0IHNlcmlhbGl6ZWRQcm9jZXNzZWRSZXNwb25zZVNjaGVtYSA9IHoub2JqZWN0KHtcbiAgICBuZXdJdGVtczogei5hcnJheShpdGVtU2NoZW1hKSxcbiAgICB0b29sc1VzZWQ6IHouYXJyYXkoei5zdHJpbmcoKSksXG4gICAgaGFuZG9mZnM6IHouYXJyYXkoei5vYmplY3Qoe1xuICAgICAgICB0b29sQ2FsbDogei5hbnkoKSxcbiAgICAgICAgaGFuZG9mZjogei5hbnkoKSxcbiAgICB9KSksXG4gICAgZnVuY3Rpb25zOiB6LmFycmF5KHoub2JqZWN0KHtcbiAgICAgICAgdG9vbENhbGw6IHouYW55KCksXG4gICAgICAgIHRvb2w6IHouYW55KCksXG4gICAgfSkpLFxuICAgIGNvbXB1dGVyQWN0aW9uczogei5hcnJheSh6Lm9iamVjdCh7XG4gICAgICAgIHRvb2xDYWxsOiB6LmFueSgpLFxuICAgICAgICBjb21wdXRlcjogei5hbnkoKSxcbiAgICB9KSksXG4gICAgc2hlbGxBY3Rpb25zOiB6XG4gICAgICAgIC5hcnJheSh6Lm9iamVjdCh7XG4gICAgICAgIHRvb2xDYWxsOiB6LmFueSgpLFxuICAgICAgICBzaGVsbDogei5hbnkoKSxcbiAgICB9KSlcbiAgICAgICAgLm9wdGlvbmFsKCksXG4gICAgYXBwbHlQYXRjaEFjdGlvbnM6IHpcbiAgICAgICAgLmFycmF5KHoub2JqZWN0KHtcbiAgICAgICAgdG9vbENhbGw6IHouYW55KCksXG4gICAgICAgIGFwcGx5UGF0Y2g6IHouYW55KCksXG4gICAgfSkpXG4gICAgICAgIC5vcHRpb25hbCgpLFxuICAgIG1jcEFwcHJvdmFsUmVxdWVzdHM6IHpcbiAgICAgICAgLmFycmF5KHoub2JqZWN0KHtcbiAgICAgICAgcmVxdWVzdEl0ZW06IHoub2JqZWN0KHtcbiAgICAgICAgICAgIC8vIHByb3RvY29sLkhvc3RlZFRvb2xDYWxsSXRlbVxuICAgICAgICAgICAgcmF3SXRlbTogei5vYmplY3Qoe1xuICAgICAgICAgICAgICAgIHR5cGU6IHoubGl0ZXJhbCgnaG9zdGVkX3Rvb2xfY2FsbCcpLFxuICAgICAgICAgICAgICAgIG5hbWU6IHouc3RyaW5nKCksXG4gICAgICAgICAgICAgICAgYXJndW1lbnRzOiB6LnN0cmluZygpLm9wdGlvbmFsKCksXG4gICAgICAgICAgICAgICAgc3RhdHVzOiB6LnN0cmluZygpLm9wdGlvbmFsKCksXG4gICAgICAgICAgICAgICAgb3V0cHV0OiB6LnN0cmluZygpLm9wdGlvbmFsKCksXG4gICAgICAgICAgICAgICAgLy8gdGhpcyBhbHdheXMgZXhpc3RzIGJ1dCBtYXJrZWQgYXMgb3B0aW9uYWwgZm9yIGVhcmx5IHZlcnNpb24gY29tcGF0aWJpbGl0eTsgd2hlbiByZWxlYXNpbmcgMS4wLCB3ZSBjYW4gcmVtb3ZlIHRoZSBudWxsYWJsZSBhbmQgb3B0aW9uYWxcbiAgICAgICAgICAgICAgICBwcm92aWRlckRhdGE6IHoucmVjb3JkKHouc3RyaW5nKCksIHouYW55KCkpLm51bGxhYmxlKCkub3B0aW9uYWwoKSxcbiAgICAgICAgICAgIH0pLFxuICAgICAgICB9KSxcbiAgICAgICAgLy8gSG9zdGVkTUNQVG9vbFxuICAgICAgICBtY3BUb29sOiB6Lm9iamVjdCh7XG4gICAgICAgICAgICB0eXBlOiB6LmxpdGVyYWwoJ2hvc3RlZF90b29sJyksXG4gICAgICAgICAgICBuYW1lOiB6LmxpdGVyYWwoJ2hvc3RlZF9tY3AnKSxcbiAgICAgICAgICAgIHByb3ZpZGVyRGF0YTogei5yZWNvcmQoei5zdHJpbmcoKSwgei5hbnkoKSksXG4gICAgICAgIH0pLFxuICAgIH0pKVxuICAgICAgICAub3B0aW9uYWwoKSxcbn0pO1xuY29uc3QgZ3VhcmRyYWlsRnVuY3Rpb25PdXRwdXRTY2hlbWEgPSB6Lm9iamVjdCh7XG4gICAgdHJpcHdpcmVUcmlnZ2VyZWQ6IHouYm9vbGVhbigpLFxuICAgIG91dHB1dEluZm86IHouYW55KCksXG59KTtcbmNvbnN0IGlucHV0R3VhcmRyYWlsUmVzdWx0U2NoZW1hID0gei5vYmplY3Qoe1xuICAgIGd1YXJkcmFpbDogei5vYmplY3Qoe1xuICAgICAgICB0eXBlOiB6LmxpdGVyYWwoJ2lucHV0JyksXG4gICAgICAgIG5hbWU6IHouc3RyaW5nKCksXG4gICAgfSksXG4gICAgb3V0cHV0OiBndWFyZHJhaWxGdW5jdGlvbk91dHB1dFNjaGVtYSxcbn0pO1xuY29uc3Qgb3V0cHV0R3VhcmRyYWlsUmVzdWx0U2NoZW1hID0gei5vYmplY3Qoe1xuICAgIGd1YXJkcmFpbDogei5vYmplY3Qoe1xuICAgICAgICB0eXBlOiB6LmxpdGVyYWwoJ291dHB1dCcpLFxuICAgICAgICBuYW1lOiB6LnN0cmluZygpLFxuICAgIH0pLFxuICAgIGFnZW50T3V0cHV0OiB6LmFueSgpLFxuICAgIGFnZW50OiBzZXJpYWxpemVkQWdlbnRTY2hlbWEsXG4gICAgb3V0cHV0OiBndWFyZHJhaWxGdW5jdGlvbk91dHB1dFNjaGVtYSxcbn0pO1xuZXhwb3J0IGNvbnN0IFNlcmlhbGl6ZWRSdW5TdGF0ZSA9IHoub2JqZWN0KHtcbiAgICAkc2NoZW1hVmVyc2lvbixcbiAgICBjdXJyZW50VHVybjogei5udW1iZXIoKSxcbiAgICBjdXJyZW50QWdlbnQ6IHNlcmlhbGl6ZWRBZ2VudFNjaGVtYSxcbiAgICBvcmlnaW5hbElucHV0OiB6LnN0cmluZygpLm9yKHouYXJyYXkocHJvdG9jb2wuTW9kZWxJdGVtKSksXG4gICAgbW9kZWxSZXNwb25zZXM6IHouYXJyYXkobW9kZWxSZXNwb25zZVNjaGVtYSksXG4gICAgY29udGV4dDogei5vYmplY3Qoe1xuICAgICAgICB1c2FnZTogdXNhZ2VTY2hlbWEsXG4gICAgICAgIGFwcHJvdmFsczogei5yZWNvcmQoei5zdHJpbmcoKSwgei5vYmplY3Qoe1xuICAgICAgICAgICAgYXBwcm92ZWQ6IHouYXJyYXkoei5zdHJpbmcoKSkub3Ioei5ib29sZWFuKCkpLFxuICAgICAgICAgICAgcmVqZWN0ZWQ6IHouYXJyYXkoei5zdHJpbmcoKSkub3Ioei5ib29sZWFuKCkpLFxuICAgICAgICB9KSksXG4gICAgICAgIGNvbnRleHQ6IHoucmVjb3JkKHouc3RyaW5nKCksIHouYW55KCkpLFxuICAgIH0pLFxuICAgIHRvb2xVc2VUcmFja2VyOiB6LnJlY29yZCh6LnN0cmluZygpLCB6LmFycmF5KHouc3RyaW5nKCkpKSxcbiAgICBtYXhUdXJuczogei5udW1iZXIoKSxcbiAgICBjdXJyZW50QWdlbnRTcGFuOiBTZXJpYWxpemVkU3Bhbi5udWxsYWJsZSgpLm9wdGlvbmFsKCksXG4gICAgbm9BY3RpdmVBZ2VudFJ1bjogei5ib29sZWFuKCksXG4gICAgaW5wdXRHdWFyZHJhaWxSZXN1bHRzOiB6LmFycmF5KGlucHV0R3VhcmRyYWlsUmVzdWx0U2NoZW1hKSxcbiAgICBvdXRwdXRHdWFyZHJhaWxSZXN1bHRzOiB6LmFycmF5KG91dHB1dEd1YXJkcmFpbFJlc3VsdFNjaGVtYSksXG4gICAgY3VycmVudFN0ZXA6IG5leHRTdGVwU2NoZW1hLm9wdGlvbmFsKCksXG4gICAgbGFzdE1vZGVsUmVzcG9uc2U6IG1vZGVsUmVzcG9uc2VTY2hlbWEub3B0aW9uYWwoKSxcbiAgICBnZW5lcmF0ZWRJdGVtczogei5hcnJheShpdGVtU2NoZW1hKSxcbiAgICBsYXN0UHJvY2Vzc2VkUmVzcG9uc2U6IHNlcmlhbGl6ZWRQcm9jZXNzZWRSZXNwb25zZVNjaGVtYS5vcHRpb25hbCgpLFxuICAgIGN1cnJlbnRUdXJuUGVyc2lzdGVkSXRlbUNvdW50OiB6Lm51bWJlcigpLmludCgpLm1pbigwKS5vcHRpb25hbCgpLFxuICAgIHRyYWNlOiBzZXJpYWxpemVkVHJhY2VTY2hlbWEubnVsbGFibGUoKSxcbn0pO1xuLyoqXG4gKiBTZXJpYWxpemFibGUgc25hcHNob3Qgb2YgYW4gYWdlbnQncyBydW4sIGluY2x1ZGluZyBjb250ZXh0LCB1c2FnZSBhbmQgdHJhY2UuXG4gKiBXaGlsZSB0aGlzIGNsYXNzIGhhcyBwdWJsaWNseSB3cml0YWJsZSBwcm9wZXJ0aWVzIChwcmVmaXhlZCB3aXRoIGBfYCksIHRoZXkgYXJlIG5vdCBtZWFudCB0byBiZVxuICogdXNlZCBkaXJlY3RseS4gVG8gcmVhZCB0aGVzZSBwcm9wZXJ0aWVzLCB1c2UgdGhlIGBSdW5SZXN1bHRgIGluc3RlYWQuXG4gKlxuICogTWFuaXB1bGF0aW9uIG9mIHRoZSBzdGF0ZSBkaXJlY3RseSBjYW4gbGVhZCB0byB1bmV4cGVjdGVkIGJlaGF2aW9yIGFuZCBzaG91bGQgYmUgYXZvaWRlZC5cbiAqIEluc3RlYWQsIHVzZSB0aGUgYGFwcHJvdmVgIGFuZCBgcmVqZWN0YCBtZXRob2RzIHRvIGludGVyYWN0IHdpdGggdGhlIHN0YXRlLlxuICovXG5leHBvcnQgY2xhc3MgUnVuU3RhdGUge1xuICAgIC8qKlxuICAgICAqIEN1cnJlbnQgdHVybiBudW1iZXIgaW4gdGhlIGNvbnZlcnNhdGlvbi5cbiAgICAgKi9cbiAgICBfY3VycmVudFR1cm4gPSAwO1xuICAgIC8qKlxuICAgICAqIFRoZSBhZ2VudCBjdXJyZW50bHkgaGFuZGxpbmcgdGhlIGNvbnZlcnNhdGlvbi5cbiAgICAgKi9cbiAgICBfY3VycmVudEFnZW50O1xuICAgIC8qKlxuICAgICAqIE9yaWdpbmFsIHVzZXIgaW5wdXQgcHJpb3IgdG8gYW55IHByb2Nlc3NpbmcuXG4gICAgICovXG4gICAgX29yaWdpbmFsSW5wdXQ7XG4gICAgLyoqXG4gICAgICogUmVzcG9uc2VzIGZyb20gdGhlIG1vZGVsIHNvIGZhci5cbiAgICAgKi9cbiAgICBfbW9kZWxSZXNwb25zZXM7XG4gICAgLyoqXG4gICAgICogQWN0aXZlIHRyYWNpbmcgc3BhbiBmb3IgdGhlIGN1cnJlbnQgYWdlbnQgaWYgdHJhY2luZyBpcyBlbmFibGVkLlxuICAgICAqL1xuICAgIF9jdXJyZW50QWdlbnRTcGFuO1xuICAgIC8qKlxuICAgICAqIFJ1biBjb250ZXh0IHRyYWNraW5nIGFwcHJvdmFscywgdXNhZ2UsIGFuZCBvdGhlciBtZXRhZGF0YS5cbiAgICAgKi9cbiAgICBfY29udGV4dDtcbiAgICAvKipcbiAgICAgKiBUaGUgdXNhZ2UgYWdncmVnYXRlZCBmb3IgdGhpcyBydW4uIFRoaXMgaW5jbHVkZXMgcGVyLXJlcXVlc3QgYnJlYWtkb3ducyB3aGVuIGF2YWlsYWJsZS5cbiAgICAgKi9cbiAgICBnZXQgdXNhZ2UoKSB7XG4gICAgICAgIHJldHVybiB0aGlzLl9jb250ZXh0LnVzYWdlO1xuICAgIH1cbiAgICAvKipcbiAgICAgKiBUcmFja3Mgd2hhdCB0b29scyBlYWNoIGFnZW50IGhhcyB1c2VkLlxuICAgICAqL1xuICAgIF90b29sVXNlVHJhY2tlcjtcbiAgICAvKipcbiAgICAgKiBJdGVtcyBnZW5lcmF0ZWQgYnkgdGhlIGFnZW50IGR1cmluZyB0aGUgcnVuLlxuICAgICAqL1xuICAgIF9nZW5lcmF0ZWRJdGVtcztcbiAgICAvKipcbiAgICAgKiBOdW1iZXIgb2YgYF9nZW5lcmF0ZWRJdGVtc2AgYWxyZWFkeSBmbHVzaGVkIHRvIHNlc3Npb24gc3RvcmFnZSBmb3IgdGhlIGN1cnJlbnQgdHVybi5cbiAgICAgKlxuICAgICAqIFBlcnNpc3RpbmcgdGhlIGVudGlyZSB0dXJuIG9uIGV2ZXJ5IHNhdmUgd291bGQgZHVwbGljYXRlIHJlc3BvbnNlcyBhbmQgdG9vbCBvdXRwdXRzLlxuICAgICAqIEluc3RlYWQsIGBzYXZlVG9TZXNzaW9uYCBhcHBlbmRzIG9ubHkgdGhlIGRlbHRhIHNpbmNlIHRoZSBwcmV2aW91cyB3cml0ZS4gVGhpcyBjb3VudGVyXG4gICAgICogdHJhY2tzIGhvdyBtYW55IGdlbmVyYXRlZCBydW4gaXRlbXMgZnJvbSAqdGhpcyB0dXJuKiB3ZXJlIGFscmVhZHkgd3JpdHRlbiBzbyB0aGUgbmV4dFxuICAgICAqIHNhdmUgY2FuIHNsaWNlIG9mZiBvbmx5IHRoZSBuZXcgZW50cmllcy4gV2hlbiBhIHR1cm4gaXMgaW50ZXJydXB0ZWQgKGUuZy4sIGF3YWl0aW5nIHRvb2xcbiAgICAgKiBhcHByb3ZhbCkgYW5kIGxhdGVyIHJlc3VtZWQsIHdlIHJld2luZCB0aGUgY291bnRlciBiZWZvcmUgY29udGludWluZyBzbyB0aGUgcGVuZGluZyB0b29sXG4gICAgICogb3V0cHV0IHN0aWxsIGdldHMgc3RvcmVkLlxuICAgICAqL1xuICAgIF9jdXJyZW50VHVyblBlcnNpc3RlZEl0ZW1Db3VudDtcbiAgICAvKipcbiAgICAgKiBNYXhpbXVtIGFsbG93ZWQgdHVybnMgYmVmb3JlIGZvcmNpbmcgdGVybWluYXRpb24uXG4gICAgICovXG4gICAgX21heFR1cm5zO1xuICAgIC8qKlxuICAgICAqIFdoZXRoZXIgdGhlIHJ1biBoYXMgYW4gYWN0aXZlIGFnZW50IHN0ZXAgaW4gcHJvZ3Jlc3MuXG4gICAgICovXG4gICAgX25vQWN0aXZlQWdlbnRSdW4gPSB0cnVlO1xuICAgIC8qKlxuICAgICAqIExhc3QgbW9kZWwgcmVzcG9uc2UgZm9yIHRoZSBwcmV2aW91cyB0dXJuLlxuICAgICAqL1xuICAgIF9sYXN0VHVyblJlc3BvbnNlO1xuICAgIC8qKlxuICAgICAqIFJlc3VsdHMgZnJvbSBpbnB1dCBndWFyZHJhaWxzIGFwcGxpZWQgdG8gdGhlIHJ1bi5cbiAgICAgKi9cbiAgICBfaW5wdXRHdWFyZHJhaWxSZXN1bHRzO1xuICAgIC8qKlxuICAgICAqIFJlc3VsdHMgZnJvbSBvdXRwdXQgZ3VhcmRyYWlscyBhcHBsaWVkIHRvIHRoZSBydW4uXG4gICAgICovXG4gICAgX291dHB1dEd1YXJkcmFpbFJlc3VsdHM7XG4gICAgLyoqXG4gICAgICogTmV4dCBzdGVwIGNvbXB1dGVkIGZvciB0aGUgYWdlbnQgdG8gdGFrZS5cbiAgICAgKi9cbiAgICBfY3VycmVudFN0ZXAgPSB1bmRlZmluZWQ7XG4gICAgLyoqXG4gICAgICogUGFyc2VkIG1vZGVsIHJlc3BvbnNlIGFmdGVyIGFwcGx5aW5nIGd1YXJkcmFpbHMgYW5kIHRvb2xzLlxuICAgICAqL1xuICAgIF9sYXN0UHJvY2Vzc2VkUmVzcG9uc2UgPSB1bmRlZmluZWQ7XG4gICAgLyoqXG4gICAgICogVHJhY2UgYXNzb2NpYXRlZCB3aXRoIHRoaXMgcnVuIGlmIHRyYWNpbmcgaXMgZW5hYmxlZC5cbiAgICAgKi9cbiAgICBfdHJhY2UgPSBudWxsO1xuICAgIGNvbnN0cnVjdG9yKGNvbnRleHQsIG9yaWdpbmFsSW5wdXQsIHN0YXJ0aW5nQWdlbnQsIG1heFR1cm5zKSB7XG4gICAgICAgIHRoaXMuX2NvbnRleHQgPSBjb250ZXh0O1xuICAgICAgICB0aGlzLl9vcmlnaW5hbElucHV0ID0gc3RydWN0dXJlZENsb25lKG9yaWdpbmFsSW5wdXQpO1xuICAgICAgICB0aGlzLl9tb2RlbFJlc3BvbnNlcyA9IFtdO1xuICAgICAgICB0aGlzLl9jdXJyZW50QWdlbnRTcGFuID0gdW5kZWZpbmVkO1xuICAgICAgICB0aGlzLl9jdXJyZW50QWdlbnQgPSBzdGFydGluZ0FnZW50O1xuICAgICAgICB0aGlzLl90b29sVXNlVHJhY2tlciA9IG5ldyBBZ2VudFRvb2xVc2VUcmFja2VyKCk7XG4gICAgICAgIHRoaXMuX2dlbmVyYXRlZEl0ZW1zID0gW107XG4gICAgICAgIHRoaXMuX2N1cnJlbnRUdXJuUGVyc2lzdGVkSXRlbUNvdW50ID0gMDtcbiAgICAgICAgdGhpcy5fbWF4VHVybnMgPSBtYXhUdXJucztcbiAgICAgICAgdGhpcy5faW5wdXRHdWFyZHJhaWxSZXN1bHRzID0gW107XG4gICAgICAgIHRoaXMuX291dHB1dEd1YXJkcmFpbFJlc3VsdHMgPSBbXTtcbiAgICAgICAgdGhpcy5fdHJhY2UgPSBnZXRDdXJyZW50VHJhY2UoKTtcbiAgICB9XG4gICAgLyoqXG4gICAgICogVGhlIGhpc3Rvcnkgb2YgdGhlIGFnZW50IHJ1bi4gVGhpcyBpbmNsdWRlcyB0aGUgaW5wdXQgaXRlbXMgYW5kIHRoZSBuZXcgaXRlbXMgZ2VuZXJhdGVkIGR1cmluZyB0aGUgcnVuLlxuICAgICAqXG4gICAgICogVGhpcyBjYW4gYmUgdXNlZCBhcyBpbnB1dHMgZm9yIHRoZSBuZXh0IGFnZW50IHJ1bi5cbiAgICAgKi9cbiAgICBnZXQgaGlzdG9yeSgpIHtcbiAgICAgICAgcmV0dXJuIGdldFR1cm5JbnB1dCh0aGlzLl9vcmlnaW5hbElucHV0LCB0aGlzLl9nZW5lcmF0ZWRJdGVtcyk7XG4gICAgfVxuICAgIC8qKlxuICAgICAqIFJldHVybnMgYWxsIGludGVycnVwdGlvbnMgaWYgdGhlIGN1cnJlbnQgc3RlcCBpcyBhbiBpbnRlcnJ1cHRpb24gb3RoZXJ3aXNlIHJldHVybnMgYW4gZW1wdHkgYXJyYXkuXG4gICAgICovXG4gICAgZ2V0SW50ZXJydXB0aW9ucygpIHtcbiAgICAgICAgaWYgKHRoaXMuX2N1cnJlbnRTdGVwPy50eXBlICE9PSAnbmV4dF9zdGVwX2ludGVycnVwdGlvbicpIHtcbiAgICAgICAgICAgIHJldHVybiBbXTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gdGhpcy5fY3VycmVudFN0ZXAuZGF0YS5pbnRlcnJ1cHRpb25zO1xuICAgIH1cbiAgICAvKipcbiAgICAgKiBBcHByb3ZlcyBhIHRvb2wgY2FsbCByZXF1ZXN0ZWQgYnkgdGhlIGFnZW50IHRocm91Z2ggYW4gaW50ZXJydXB0aW9uIGFuZCBhcHByb3ZhbCBpdGVtIHJlcXVlc3QuXG4gICAgICpcbiAgICAgKiBUbyBhcHByb3ZlIHRoZSByZXF1ZXN0IHVzZSB0aGlzIG1ldGhvZCBhbmQgdGhlbiBydW4gdGhlIGFnZW50IGFnYWluIHdpdGggdGhlIHNhbWUgc3RhdGUgb2JqZWN0XG4gICAgICogdG8gY29udGludWUgdGhlIGV4ZWN1dGlvbi5cbiAgICAgKlxuICAgICAqIEJ5IGRlZmF1bHQgaXQgd2lsbCBvbmx5IGFwcHJvdmUgdGhlIGN1cnJlbnQgdG9vbCBjYWxsLiBUbyBhbGxvdyB0aGUgdG9vbCB0byBiZSB1c2VkIG11bHRpcGxlXG4gICAgICogdGltZXMgdGhyb3VnaG91dCB0aGUgcnVuLCBzZXQgdGhlIGBhbHdheXNBcHByb3ZlYCBvcHRpb24gdG8gYHRydWVgLlxuICAgICAqXG4gICAgICogQHBhcmFtIGFwcHJvdmFsSXRlbSAtIFRoZSB0b29sIGNhbGwgYXBwcm92YWwgaXRlbSB0byBhcHByb3ZlLlxuICAgICAqIEBwYXJhbSBvcHRpb25zIC0gT3B0aW9ucyBmb3IgdGhlIGFwcHJvdmFsLlxuICAgICAqL1xuICAgIGFwcHJvdmUoYXBwcm92YWxJdGVtLCBvcHRpb25zID0geyBhbHdheXNBcHByb3ZlOiBmYWxzZSB9KSB7XG4gICAgICAgIHRoaXMuX2NvbnRleHQuYXBwcm92ZVRvb2woYXBwcm92YWxJdGVtLCBvcHRpb25zKTtcbiAgICB9XG4gICAgLyoqXG4gICAgICogUmVqZWN0cyBhIHRvb2wgY2FsbCByZXF1ZXN0ZWQgYnkgdGhlIGFnZW50IHRocm91Z2ggYW4gaW50ZXJydXB0aW9uIGFuZCBhcHByb3ZhbCBpdGVtIHJlcXVlc3QuXG4gICAgICpcbiAgICAgKiBUbyByZWplY3QgdGhlIHJlcXVlc3QgdXNlIHRoaXMgbWV0aG9kIGFuZCB0aGVuIHJ1biB0aGUgYWdlbnQgYWdhaW4gd2l0aCB0aGUgc2FtZSBzdGF0ZSBvYmplY3RcbiAgICAgKiB0byBjb250aW51ZSB0aGUgZXhlY3V0aW9uLlxuICAgICAqXG4gICAgICogQnkgZGVmYXVsdCBpdCB3aWxsIG9ubHkgcmVqZWN0IHRoZSBjdXJyZW50IHRvb2wgY2FsbC4gVG8gYWxsb3cgdGhlIHRvb2wgdG8gYmUgdXNlZCBtdWx0aXBsZVxuICAgICAqIHRpbWVzIHRocm91Z2hvdXQgdGhlIHJ1biwgc2V0IHRoZSBgYWx3YXlzUmVqZWN0YCBvcHRpb24gdG8gYHRydWVgLlxuICAgICAqXG4gICAgICogQHBhcmFtIGFwcHJvdmFsSXRlbSAtIFRoZSB0b29sIGNhbGwgYXBwcm92YWwgaXRlbSB0byByZWplY3QuXG4gICAgICogQHBhcmFtIG9wdGlvbnMgLSBPcHRpb25zIGZvciB0aGUgcmVqZWN0aW9uLlxuICAgICAqL1xuICAgIHJlamVjdChhcHByb3ZhbEl0ZW0sIG9wdGlvbnMgPSB7IGFsd2F5c1JlamVjdDogZmFsc2UgfSkge1xuICAgICAgICB0aGlzLl9jb250ZXh0LnJlamVjdFRvb2woYXBwcm92YWxJdGVtLCBvcHRpb25zKTtcbiAgICB9XG4gICAgLyoqXG4gICAgICogU2VyaWFsaXplcyB0aGUgcnVuIHN0YXRlIHRvIGEgSlNPTiBvYmplY3QuXG4gICAgICpcbiAgICAgKiBUaGlzIG1ldGhvZCBpcyB1c2VkIHRvIHNlcmlhbGl6ZSB0aGUgcnVuIHN0YXRlIHRvIGEgSlNPTiBvYmplY3QgdGhhdCBjYW4gYmUgdXNlZCB0b1xuICAgICAqIHJlc3VtZSB0aGUgcnVuIGxhdGVyLlxuICAgICAqXG4gICAgICogQHJldHVybnMgVGhlIHNlcmlhbGl6ZWQgcnVuIHN0YXRlLlxuICAgICAqL1xuICAgIHRvSlNPTigpIHtcbiAgICAgICAgY29uc3Qgb3V0cHV0ID0ge1xuICAgICAgICAgICAgJHNjaGVtYVZlcnNpb246IENVUlJFTlRfU0NIRU1BX1ZFUlNJT04sXG4gICAgICAgICAgICBjdXJyZW50VHVybjogdGhpcy5fY3VycmVudFR1cm4sXG4gICAgICAgICAgICBjdXJyZW50QWdlbnQ6IHtcbiAgICAgICAgICAgICAgICBuYW1lOiB0aGlzLl9jdXJyZW50QWdlbnQubmFtZSxcbiAgICAgICAgICAgIH0sXG4gICAgICAgICAgICBvcmlnaW5hbElucHV0OiB0aGlzLl9vcmlnaW5hbElucHV0LFxuICAgICAgICAgICAgbW9kZWxSZXNwb25zZXM6IHRoaXMuX21vZGVsUmVzcG9uc2VzLm1hcCgocmVzcG9uc2UpID0+IHtcbiAgICAgICAgICAgICAgICByZXR1cm4ge1xuICAgICAgICAgICAgICAgICAgICB1c2FnZToge1xuICAgICAgICAgICAgICAgICAgICAgICAgcmVxdWVzdHM6IHJlc3BvbnNlLnVzYWdlLnJlcXVlc3RzLFxuICAgICAgICAgICAgICAgICAgICAgICAgaW5wdXRUb2tlbnM6IHJlc3BvbnNlLnVzYWdlLmlucHV0VG9rZW5zLFxuICAgICAgICAgICAgICAgICAgICAgICAgb3V0cHV0VG9rZW5zOiByZXNwb25zZS51c2FnZS5vdXRwdXRUb2tlbnMsXG4gICAgICAgICAgICAgICAgICAgICAgICB0b3RhbFRva2VuczogcmVzcG9uc2UudXNhZ2UudG90YWxUb2tlbnMsXG4gICAgICAgICAgICAgICAgICAgICAgICBpbnB1dFRva2Vuc0RldGFpbHM6IHJlc3BvbnNlLnVzYWdlLmlucHV0VG9rZW5zRGV0YWlscyxcbiAgICAgICAgICAgICAgICAgICAgICAgIG91dHB1dFRva2Vuc0RldGFpbHM6IHJlc3BvbnNlLnVzYWdlLm91dHB1dFRva2Vuc0RldGFpbHMsXG4gICAgICAgICAgICAgICAgICAgICAgICAuLi4ocmVzcG9uc2UudXNhZ2UucmVxdWVzdFVzYWdlRW50cmllcyAmJlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJlc3BvbnNlLnVzYWdlLnJlcXVlc3RVc2FnZUVudHJpZXMubGVuZ3RoID4gMFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgID8ge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXF1ZXN0VXNhZ2VFbnRyaWVzOiByZXNwb25zZS51c2FnZS5yZXF1ZXN0VXNhZ2VFbnRyaWVzLm1hcCgoZW50cnkpID0+ICh7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBpbnB1dFRva2VuczogZW50cnkuaW5wdXRUb2tlbnMsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBvdXRwdXRUb2tlbnM6IGVudHJ5Lm91dHB1dFRva2VucyxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRvdGFsVG9rZW5zOiBlbnRyeS50b3RhbFRva2VucyxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlucHV0VG9rZW5zRGV0YWlsczogZW50cnkuaW5wdXRUb2tlbnNEZXRhaWxzLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgb3V0cHV0VG9rZW5zRGV0YWlsczogZW50cnkub3V0cHV0VG9rZW5zRGV0YWlscyxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfSkpLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICA6IHt9KSxcbiAgICAgICAgICAgICAgICAgICAgfSxcbiAgICAgICAgICAgICAgICAgICAgb3V0cHV0OiByZXNwb25zZS5vdXRwdXQsXG4gICAgICAgICAgICAgICAgICAgIHJlc3BvbnNlSWQ6IHJlc3BvbnNlLnJlc3BvbnNlSWQsXG4gICAgICAgICAgICAgICAgICAgIHByb3ZpZGVyRGF0YTogcmVzcG9uc2UucHJvdmlkZXJEYXRhLFxuICAgICAgICAgICAgICAgIH07XG4gICAgICAgICAgICB9KSxcbiAgICAgICAgICAgIGNvbnRleHQ6IHRoaXMuX2NvbnRleHQudG9KU09OKCksXG4gICAgICAgICAgICB0b29sVXNlVHJhY2tlcjogdGhpcy5fdG9vbFVzZVRyYWNrZXIudG9KU09OKCksXG4gICAgICAgICAgICBtYXhUdXJuczogdGhpcy5fbWF4VHVybnMsXG4gICAgICAgICAgICBjdXJyZW50QWdlbnRTcGFuOiB0aGlzLl9jdXJyZW50QWdlbnRTcGFuPy50b0pTT04oKSxcbiAgICAgICAgICAgIG5vQWN0aXZlQWdlbnRSdW46IHRoaXMuX25vQWN0aXZlQWdlbnRSdW4sXG4gICAgICAgICAgICBpbnB1dEd1YXJkcmFpbFJlc3VsdHM6IHRoaXMuX2lucHV0R3VhcmRyYWlsUmVzdWx0cyxcbiAgICAgICAgICAgIG91dHB1dEd1YXJkcmFpbFJlc3VsdHM6IHRoaXMuX291dHB1dEd1YXJkcmFpbFJlc3VsdHMubWFwKChyKSA9PiAoe1xuICAgICAgICAgICAgICAgIC4uLnIsXG4gICAgICAgICAgICAgICAgYWdlbnQ6IHIuYWdlbnQudG9KU09OKCksXG4gICAgICAgICAgICB9KSksXG4gICAgICAgICAgICBjdXJyZW50U3RlcDogdGhpcy5fY3VycmVudFN0ZXAsXG4gICAgICAgICAgICBsYXN0TW9kZWxSZXNwb25zZTogdGhpcy5fbGFzdFR1cm5SZXNwb25zZSxcbiAgICAgICAgICAgIGdlbmVyYXRlZEl0ZW1zOiB0aGlzLl9nZW5lcmF0ZWRJdGVtcy5tYXAoKGl0ZW0pID0+IGl0ZW0udG9KU09OKCkpLFxuICAgICAgICAgICAgY3VycmVudFR1cm5QZXJzaXN0ZWRJdGVtQ291bnQ6IHRoaXMuX2N1cnJlbnRUdXJuUGVyc2lzdGVkSXRlbUNvdW50LFxuICAgICAgICAgICAgbGFzdFByb2Nlc3NlZFJlc3BvbnNlOiB0aGlzLl9sYXN0UHJvY2Vzc2VkUmVzcG9uc2UsXG4gICAgICAgICAgICB0cmFjZTogdGhpcy5fdHJhY2UgPyB0aGlzLl90cmFjZS50b0pTT04oKSA6IG51bGwsXG4gICAgICAgIH07XG4gICAgICAgIC8vIHBhcnNpbmcgdGhlIHNjaGVtYSB0byBlbnN1cmUgdGhlIG91dHB1dCBpcyB2YWxpZCBmb3IgcmVwYXJzaW5nXG4gICAgICAgIGNvbnN0IHBhcnNlZCA9IFNlcmlhbGl6ZWRSdW5TdGF0ZS5zYWZlUGFyc2Uob3V0cHV0KTtcbiAgICAgICAgaWYgKCFwYXJzZWQuc3VjY2Vzcykge1xuICAgICAgICAgICAgdGhyb3cgbmV3IFN5c3RlbUVycm9yKGBGYWlsZWQgdG8gc2VyaWFsaXplIHJ1biBzdGF0ZS4gJHtwYXJzZWQuZXJyb3IubWVzc2FnZX1gKTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gcGFyc2VkLmRhdGE7XG4gICAgfVxuICAgIC8qKlxuICAgICAqIFNlcmlhbGl6ZXMgdGhlIHJ1biBzdGF0ZSB0byBhIHN0cmluZy5cbiAgICAgKlxuICAgICAqIFRoaXMgbWV0aG9kIGlzIHVzZWQgdG8gc2VyaWFsaXplIHRoZSBydW4gc3RhdGUgdG8gYSBzdHJpbmcgdGhhdCBjYW4gYmUgdXNlZCB0b1xuICAgICAqIHJlc3VtZSB0aGUgcnVuIGxhdGVyLlxuICAgICAqXG4gICAgICogQHJldHVybnMgVGhlIHNlcmlhbGl6ZWQgcnVuIHN0YXRlLlxuICAgICAqL1xuICAgIHRvU3RyaW5nKCkge1xuICAgICAgICByZXR1cm4gSlNPTi5zdHJpbmdpZnkodGhpcy50b0pTT04oKSk7XG4gICAgfVxuICAgIC8qKlxuICAgICAqIERlc2VyaWFsaXplcyBhIHJ1biBzdGF0ZSBmcm9tIGEgc3RyaW5nLlxuICAgICAqXG4gICAgICogVGhpcyBtZXRob2QgaXMgdXNlZCB0byBkZXNlcmlhbGl6ZSBhIHJ1biBzdGF0ZSBmcm9tIGEgc3RyaW5nIHRoYXQgd2FzIHNlcmlhbGl6ZWQgdXNpbmcgdGhlXG4gICAgICogYHRvU3RyaW5nYCBtZXRob2QuXG4gICAgICovXG4gICAgc3RhdGljIGFzeW5jIGZyb21TdHJpbmcoaW5pdGlhbEFnZW50LCBzdHIpIHtcbiAgICAgICAgY29uc3QgW3BhcnNpbmdFcnJvciwganNvblJlc3VsdF0gPSBhd2FpdCBzYWZlRXhlY3V0ZSgoKSA9PiBKU09OLnBhcnNlKHN0cikpO1xuICAgICAgICBpZiAocGFyc2luZ0Vycm9yKSB7XG4gICAgICAgICAgICB0aHJvdyBuZXcgVXNlckVycm9yKGBGYWlsZWQgdG8gcGFyc2UgcnVuIHN0YXRlLiAke3BhcnNpbmdFcnJvciBpbnN0YW5jZW9mIEVycm9yID8gcGFyc2luZ0Vycm9yLm1lc3NhZ2UgOiBTdHJpbmcocGFyc2luZ0Vycm9yKX1gKTtcbiAgICAgICAgfVxuICAgICAgICBjb25zdCBjdXJyZW50U2NoZW1hVmVyc2lvbiA9IGpzb25SZXN1bHQuJHNjaGVtYVZlcnNpb247XG4gICAgICAgIGlmICghY3VycmVudFNjaGVtYVZlcnNpb24pIHtcbiAgICAgICAgICAgIHRocm93IG5ldyBVc2VyRXJyb3IoJ1J1biBzdGF0ZSBpcyBtaXNzaW5nIHNjaGVtYSB2ZXJzaW9uJyk7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKGN1cnJlbnRTY2hlbWFWZXJzaW9uICE9PSBDVVJSRU5UX1NDSEVNQV9WRVJTSU9OKSB7XG4gICAgICAgICAgICB0aHJvdyBuZXcgVXNlckVycm9yKGBSdW4gc3RhdGUgc2NoZW1hIHZlcnNpb24gJHtjdXJyZW50U2NoZW1hVmVyc2lvbn0gaXMgbm90IHN1cHBvcnRlZC4gUGxlYXNlIHVzZSB2ZXJzaW9uICR7Q1VSUkVOVF9TQ0hFTUFfVkVSU0lPTn1gKTtcbiAgICAgICAgfVxuICAgICAgICBjb25zdCBzdGF0ZUpzb24gPSBTZXJpYWxpemVkUnVuU3RhdGUucGFyc2UoSlNPTi5wYXJzZShzdHIpKTtcbiAgICAgICAgY29uc3QgYWdlbnRNYXAgPSBidWlsZEFnZW50TWFwKGluaXRpYWxBZ2VudCk7XG4gICAgICAgIC8vXG4gICAgICAgIC8vIFJlYnVpbGQgdGhlIGNvbnRleHRcbiAgICAgICAgLy9cbiAgICAgICAgY29uc3QgY29udGV4dCA9IG5ldyBSdW5Db250ZXh0KHN0YXRlSnNvbi5jb250ZXh0LmNvbnRleHQpO1xuICAgICAgICBjb250ZXh0Ll9yZWJ1aWxkQXBwcm92YWxzKHN0YXRlSnNvbi5jb250ZXh0LmFwcHJvdmFscyk7XG4gICAgICAgIC8vXG4gICAgICAgIC8vIEZpbmQgdGhlIGN1cnJlbnQgYWdlbnQgZnJvbSB0aGUgaW5pdGlhbCBhZ2VudFxuICAgICAgICAvL1xuICAgICAgICBjb25zdCBjdXJyZW50QWdlbnQgPSBhZ2VudE1hcC5nZXQoc3RhdGVKc29uLmN1cnJlbnRBZ2VudC5uYW1lKTtcbiAgICAgICAgaWYgKCFjdXJyZW50QWdlbnQpIHtcbiAgICAgICAgICAgIHRocm93IG5ldyBVc2VyRXJyb3IoYEFnZW50ICR7c3RhdGVKc29uLmN1cnJlbnRBZ2VudC5uYW1lfSBub3QgZm91bmRgKTtcbiAgICAgICAgfVxuICAgICAgICBjb25zdCBzdGF0ZSA9IG5ldyBSdW5TdGF0ZShjb250ZXh0LCAnJywgY3VycmVudEFnZW50LCBzdGF0ZUpzb24ubWF4VHVybnMpO1xuICAgICAgICBzdGF0ZS5fY3VycmVudFR1cm4gPSBzdGF0ZUpzb24uY3VycmVudFR1cm47XG4gICAgICAgIC8vIHJlYnVpbGQgdG9vbCB1c2UgdHJhY2tlclxuICAgICAgICBzdGF0ZS5fdG9vbFVzZVRyYWNrZXIgPSBuZXcgQWdlbnRUb29sVXNlVHJhY2tlcigpO1xuICAgICAgICBmb3IgKGNvbnN0IFthZ2VudE5hbWUsIHRvb2xOYW1lc10gb2YgT2JqZWN0LmVudHJpZXMoc3RhdGVKc29uLnRvb2xVc2VUcmFja2VyKSkge1xuICAgICAgICAgICAgc3RhdGUuX3Rvb2xVc2VUcmFja2VyLmFkZFRvb2xVc2UoYWdlbnRNYXAuZ2V0KGFnZW50TmFtZSksIHRvb2xOYW1lcyk7XG4gICAgICAgIH1cbiAgICAgICAgLy8gcmVidWlsZCBjdXJyZW50IGFnZW50IHNwYW5cbiAgICAgICAgaWYgKHN0YXRlSnNvbi5jdXJyZW50QWdlbnRTcGFuKSB7XG4gICAgICAgICAgICBpZiAoIXN0YXRlSnNvbi50cmFjZSkge1xuICAgICAgICAgICAgICAgIGxvZ2dlci53YXJuKCdUcmFjZSBpcyBub3Qgc2V0LCBza2lwcGluZyB0cmFjaW5nIHNldHVwJyk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBjb25zdCB0cmFjZSA9IGdldEdsb2JhbFRyYWNlUHJvdmlkZXIoKS5jcmVhdGVUcmFjZSh7XG4gICAgICAgICAgICAgICAgdHJhY2VJZDogc3RhdGVKc29uLnRyYWNlPy5pZCxcbiAgICAgICAgICAgICAgICBuYW1lOiBzdGF0ZUpzb24udHJhY2U/LndvcmtmbG93X25hbWUsXG4gICAgICAgICAgICAgICAgZ3JvdXBJZDogc3RhdGVKc29uLnRyYWNlPy5ncm91cF9pZCA/PyB1bmRlZmluZWQsXG4gICAgICAgICAgICAgICAgbWV0YWRhdGE6IHN0YXRlSnNvbi50cmFjZT8ubWV0YWRhdGEsXG4gICAgICAgICAgICB9KTtcbiAgICAgICAgICAgIHN0YXRlLl9jdXJyZW50QWdlbnRTcGFuID0gZGVzZXJpYWxpemVTcGFuKHRyYWNlLCBzdGF0ZUpzb24uY3VycmVudEFnZW50U3Bhbik7XG4gICAgICAgICAgICBzdGF0ZS5fdHJhY2UgPSB0cmFjZTtcbiAgICAgICAgfVxuICAgICAgICBzdGF0ZS5fbm9BY3RpdmVBZ2VudFJ1biA9IHN0YXRlSnNvbi5ub0FjdGl2ZUFnZW50UnVuO1xuICAgICAgICBzdGF0ZS5faW5wdXRHdWFyZHJhaWxSZXN1bHRzID1cbiAgICAgICAgICAgIHN0YXRlSnNvbi5pbnB1dEd1YXJkcmFpbFJlc3VsdHM7XG4gICAgICAgIHN0YXRlLl9vdXRwdXRHdWFyZHJhaWxSZXN1bHRzID0gc3RhdGVKc29uLm91dHB1dEd1YXJkcmFpbFJlc3VsdHMubWFwKChyKSA9PiAoe1xuICAgICAgICAgICAgLi4ucixcbiAgICAgICAgICAgIGFnZW50OiBhZ2VudE1hcC5nZXQoci5hZ2VudC5uYW1lKSxcbiAgICAgICAgfSkpO1xuICAgICAgICBzdGF0ZS5fY3VycmVudFN0ZXAgPSBzdGF0ZUpzb24uY3VycmVudFN0ZXA7XG4gICAgICAgIHN0YXRlLl9vcmlnaW5hbElucHV0ID0gc3RhdGVKc29uLm9yaWdpbmFsSW5wdXQ7XG4gICAgICAgIHN0YXRlLl9tb2RlbFJlc3BvbnNlcyA9IHN0YXRlSnNvbi5tb2RlbFJlc3BvbnNlcy5tYXAoZGVzZXJpYWxpemVNb2RlbFJlc3BvbnNlKTtcbiAgICAgICAgc3RhdGUuX2xhc3RUdXJuUmVzcG9uc2UgPSBzdGF0ZUpzb24ubGFzdE1vZGVsUmVzcG9uc2VcbiAgICAgICAgICAgID8gZGVzZXJpYWxpemVNb2RlbFJlc3BvbnNlKHN0YXRlSnNvbi5sYXN0TW9kZWxSZXNwb25zZSlcbiAgICAgICAgICAgIDogdW5kZWZpbmVkO1xuICAgICAgICBzdGF0ZS5fZ2VuZXJhdGVkSXRlbXMgPSBzdGF0ZUpzb24uZ2VuZXJhdGVkSXRlbXMubWFwKChpdGVtKSA9PiBkZXNlcmlhbGl6ZUl0ZW0oaXRlbSwgYWdlbnRNYXApKTtcbiAgICAgICAgc3RhdGUuX2N1cnJlbnRUdXJuUGVyc2lzdGVkSXRlbUNvdW50ID1cbiAgICAgICAgICAgIHN0YXRlSnNvbi5jdXJyZW50VHVyblBlcnNpc3RlZEl0ZW1Db3VudCA/PyAwO1xuICAgICAgICBzdGF0ZS5fbGFzdFByb2Nlc3NlZFJlc3BvbnNlID0gc3RhdGVKc29uLmxhc3RQcm9jZXNzZWRSZXNwb25zZVxuICAgICAgICAgICAgPyBhd2FpdCBkZXNlcmlhbGl6ZVByb2Nlc3NlZFJlc3BvbnNlKGFnZW50TWFwLCBzdGF0ZS5fY3VycmVudEFnZW50LCBzdGF0ZS5fY29udGV4dCwgc3RhdGVKc29uLmxhc3RQcm9jZXNzZWRSZXNwb25zZSlcbiAgICAgICAgICAgIDogdW5kZWZpbmVkO1xuICAgICAgICBpZiAoc3RhdGVKc29uLmN1cnJlbnRTdGVwPy50eXBlID09PSAnbmV4dF9zdGVwX2hhbmRvZmYnKSB7XG4gICAgICAgICAgICBzdGF0ZS5fY3VycmVudFN0ZXAgPSB7XG4gICAgICAgICAgICAgICAgdHlwZTogJ25leHRfc3RlcF9oYW5kb2ZmJyxcbiAgICAgICAgICAgICAgICBuZXdBZ2VudDogYWdlbnRNYXAuZ2V0KHN0YXRlSnNvbi5jdXJyZW50U3RlcC5uZXdBZ2VudC5uYW1lKSxcbiAgICAgICAgICAgIH07XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIHN0YXRlO1xuICAgIH1cbn1cbi8qKlxuICogQGludGVybmFsXG4gKi9cbmV4cG9ydCBmdW5jdGlvbiBidWlsZEFnZW50TWFwKGluaXRpYWxBZ2VudCkge1xuICAgIGNvbnN0IG1hcCA9IG5ldyBNYXAoKTtcbiAgICBjb25zdCBxdWV1ZSA9IFtpbml0aWFsQWdlbnRdO1xuICAgIHdoaWxlIChxdWV1ZS5sZW5ndGggPiAwKSB7XG4gICAgICAgIGNvbnN0IGN1cnJlbnRBZ2VudCA9IHF1ZXVlLnNoaWZ0KCk7XG4gICAgICAgIGlmIChtYXAuaGFzKGN1cnJlbnRBZ2VudC5uYW1lKSkge1xuICAgICAgICAgICAgY29udGludWU7XG4gICAgICAgIH1cbiAgICAgICAgbWFwLnNldChjdXJyZW50QWdlbnQubmFtZSwgY3VycmVudEFnZW50KTtcbiAgICAgICAgZm9yIChjb25zdCBoYW5kb2ZmIG9mIGN1cnJlbnRBZ2VudC5oYW5kb2Zmcykge1xuICAgICAgICAgICAgaWYgKGhhbmRvZmYgaW5zdGFuY2VvZiBBZ2VudCkge1xuICAgICAgICAgICAgICAgIGlmICghbWFwLmhhcyhoYW5kb2ZmLm5hbWUpKSB7XG4gICAgICAgICAgICAgICAgICAgIHF1ZXVlLnB1c2goaGFuZG9mZik7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICAgICAgZWxzZSBpZiAoaGFuZG9mZi5hZ2VudCkge1xuICAgICAgICAgICAgICAgIGlmICghbWFwLmhhcyhoYW5kb2ZmLmFnZW50Lm5hbWUpKSB7XG4gICAgICAgICAgICAgICAgICAgIHF1ZXVlLnB1c2goaGFuZG9mZi5hZ2VudCk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgfVxuICAgIHJldHVybiBtYXA7XG59XG4vKipcbiAqIEBpbnRlcm5hbFxuICovXG5leHBvcnQgZnVuY3Rpb24gZGVzZXJpYWxpemVTcGFuKHRyYWNlLCBzZXJpYWxpemVkU3Bhbikge1xuICAgIGNvbnN0IHNwYW5EYXRhID0gc2VyaWFsaXplZFNwYW4uc3Bhbl9kYXRhO1xuICAgIGNvbnN0IHByZXZpb3VzU3BhbiA9IHNlcmlhbGl6ZWRTcGFuLnByZXZpb3VzX3NwYW5cbiAgICAgICAgPyBkZXNlcmlhbGl6ZVNwYW4odHJhY2UsIHNlcmlhbGl6ZWRTcGFuLnByZXZpb3VzX3NwYW4pXG4gICAgICAgIDogdW5kZWZpbmVkO1xuICAgIGNvbnN0IHNwYW4gPSBnZXRHbG9iYWxUcmFjZVByb3ZpZGVyKCkuY3JlYXRlU3Bhbih7XG4gICAgICAgIHNwYW5JZDogc2VyaWFsaXplZFNwYW4uaWQsXG4gICAgICAgIHRyYWNlSWQ6IHNlcmlhbGl6ZWRTcGFuLnRyYWNlX2lkLFxuICAgICAgICBwYXJlbnRJZDogc2VyaWFsaXplZFNwYW4ucGFyZW50X2lkID8/IHVuZGVmaW5lZCxcbiAgICAgICAgc3RhcnRlZEF0OiBzZXJpYWxpemVkU3Bhbi5zdGFydGVkX2F0ID8/IHVuZGVmaW5lZCxcbiAgICAgICAgZW5kZWRBdDogc2VyaWFsaXplZFNwYW4uZW5kZWRfYXQgPz8gdW5kZWZpbmVkLFxuICAgICAgICBkYXRhOiBzcGFuRGF0YSxcbiAgICB9LCB0cmFjZSk7XG4gICAgc3Bhbi5wcmV2aW91c1NwYW4gPSBwcmV2aW91c1NwYW47XG4gICAgcmV0dXJuIHNwYW47XG59XG4vKipcbiAqIEBpbnRlcm5hbFxuICovXG5leHBvcnQgZnVuY3Rpb24gZGVzZXJpYWxpemVNb2RlbFJlc3BvbnNlKHNlcmlhbGl6ZWRNb2RlbFJlc3BvbnNlKSB7XG4gICAgY29uc3QgdXNhZ2UgPSBuZXcgVXNhZ2Uoc2VyaWFsaXplZE1vZGVsUmVzcG9uc2UudXNhZ2UpO1xuICAgIHJldHVybiB7XG4gICAgICAgIHVzYWdlLFxuICAgICAgICBvdXRwdXQ6IHNlcmlhbGl6ZWRNb2RlbFJlc3BvbnNlLm91dHB1dC5tYXAoKGl0ZW0pID0+IHByb3RvY29sLk91dHB1dE1vZGVsSXRlbS5wYXJzZShpdGVtKSksXG4gICAgICAgIHJlc3BvbnNlSWQ6IHNlcmlhbGl6ZWRNb2RlbFJlc3BvbnNlLnJlc3BvbnNlSWQsXG4gICAgICAgIHByb3ZpZGVyRGF0YTogc2VyaWFsaXplZE1vZGVsUmVzcG9uc2UucHJvdmlkZXJEYXRhLFxuICAgIH07XG59XG4vKipcbiAqIEBpbnRlcm5hbFxuICovXG5leHBvcnQgZnVuY3Rpb24gZGVzZXJpYWxpemVJdGVtKHNlcmlhbGl6ZWRJdGVtLCBhZ2VudE1hcCkge1xuICAgIHN3aXRjaCAoc2VyaWFsaXplZEl0ZW0udHlwZSkge1xuICAgICAgICBjYXNlICdtZXNzYWdlX291dHB1dF9pdGVtJzpcbiAgICAgICAgICAgIHJldHVybiBuZXcgUnVuTWVzc2FnZU91dHB1dEl0ZW0oc2VyaWFsaXplZEl0ZW0ucmF3SXRlbSwgYWdlbnRNYXAuZ2V0KHNlcmlhbGl6ZWRJdGVtLmFnZW50Lm5hbWUpKTtcbiAgICAgICAgY2FzZSAndG9vbF9jYWxsX2l0ZW0nOlxuICAgICAgICAgICAgcmV0dXJuIG5ldyBSdW5Ub29sQ2FsbEl0ZW0oc2VyaWFsaXplZEl0ZW0ucmF3SXRlbSwgYWdlbnRNYXAuZ2V0KHNlcmlhbGl6ZWRJdGVtLmFnZW50Lm5hbWUpKTtcbiAgICAgICAgY2FzZSAndG9vbF9jYWxsX291dHB1dF9pdGVtJzpcbiAgICAgICAgICAgIHJldHVybiBuZXcgUnVuVG9vbENhbGxPdXRwdXRJdGVtKHNlcmlhbGl6ZWRJdGVtLnJhd0l0ZW0sIGFnZW50TWFwLmdldChzZXJpYWxpemVkSXRlbS5hZ2VudC5uYW1lKSwgc2VyaWFsaXplZEl0ZW0ub3V0cHV0KTtcbiAgICAgICAgY2FzZSAncmVhc29uaW5nX2l0ZW0nOlxuICAgICAgICAgICAgcmV0dXJuIG5ldyBSdW5SZWFzb25pbmdJdGVtKHNlcmlhbGl6ZWRJdGVtLnJhd0l0ZW0sIGFnZW50TWFwLmdldChzZXJpYWxpemVkSXRlbS5hZ2VudC5uYW1lKSk7XG4gICAgICAgIGNhc2UgJ2hhbmRvZmZfY2FsbF9pdGVtJzpcbiAgICAgICAgICAgIHJldHVybiBuZXcgUnVuSGFuZG9mZkNhbGxJdGVtKHNlcmlhbGl6ZWRJdGVtLnJhd0l0ZW0sIGFnZW50TWFwLmdldChzZXJpYWxpemVkSXRlbS5hZ2VudC5uYW1lKSk7XG4gICAgICAgIGNhc2UgJ2hhbmRvZmZfb3V0cHV0X2l0ZW0nOlxuICAgICAgICAgICAgcmV0dXJuIG5ldyBSdW5IYW5kb2ZmT3V0cHV0SXRlbShzZXJpYWxpemVkSXRlbS5yYXdJdGVtLCBhZ2VudE1hcC5nZXQoc2VyaWFsaXplZEl0ZW0uc291cmNlQWdlbnQubmFtZSksIGFnZW50TWFwLmdldChzZXJpYWxpemVkSXRlbS50YXJnZXRBZ2VudC5uYW1lKSk7XG4gICAgICAgIGNhc2UgJ3Rvb2xfYXBwcm92YWxfaXRlbSc6XG4gICAgICAgICAgICByZXR1cm4gbmV3IFJ1blRvb2xBcHByb3ZhbEl0ZW0oc2VyaWFsaXplZEl0ZW0ucmF3SXRlbSwgYWdlbnRNYXAuZ2V0KHNlcmlhbGl6ZWRJdGVtLmFnZW50Lm5hbWUpLCBzZXJpYWxpemVkSXRlbS50b29sTmFtZSk7XG4gICAgfVxufVxuLyoqXG4gKiBAaW50ZXJuYWxcbiAqL1xuYXN5bmMgZnVuY3Rpb24gZGVzZXJpYWxpemVQcm9jZXNzZWRSZXNwb25zZShhZ2VudE1hcCwgY3VycmVudEFnZW50LCBjb250ZXh0LCBzZXJpYWxpemVkUHJvY2Vzc2VkUmVzcG9uc2UpIHtcbiAgICBjb25zdCBhbGxUb29scyA9IGF3YWl0IGN1cnJlbnRBZ2VudC5nZXRBbGxUb29scyhjb250ZXh0KTtcbiAgICBjb25zdCB0b29scyA9IG5ldyBNYXAoYWxsVG9vbHNcbiAgICAgICAgLmZpbHRlcigodG9vbCkgPT4gdG9vbC50eXBlID09PSAnZnVuY3Rpb24nKVxuICAgICAgICAubWFwKCh0b29sKSA9PiBbdG9vbC5uYW1lLCB0b29sXSkpO1xuICAgIGNvbnN0IGNvbXB1dGVyVG9vbHMgPSBuZXcgTWFwKGFsbFRvb2xzXG4gICAgICAgIC5maWx0ZXIoKHRvb2wpID0+IHRvb2wudHlwZSA9PT0gJ2NvbXB1dGVyJylcbiAgICAgICAgLm1hcCgodG9vbCkgPT4gW3Rvb2wubmFtZSwgdG9vbF0pKTtcbiAgICBjb25zdCBzaGVsbFRvb2xzID0gbmV3IE1hcChhbGxUb29sc1xuICAgICAgICAuZmlsdGVyKCh0b29sKSA9PiB0b29sLnR5cGUgPT09ICdzaGVsbCcpXG4gICAgICAgIC5tYXAoKHRvb2wpID0+IFt0b29sLm5hbWUsIHRvb2xdKSk7XG4gICAgY29uc3QgYXBwbHlQYXRjaFRvb2xzID0gbmV3IE1hcChhbGxUb29sc1xuICAgICAgICAuZmlsdGVyKCh0b29sKSA9PiB0b29sLnR5cGUgPT09ICdhcHBseV9wYXRjaCcpXG4gICAgICAgIC5tYXAoKHRvb2wpID0+IFt0b29sLm5hbWUsIHRvb2xdKSk7XG4gICAgY29uc3QgaGFuZG9mZnMgPSBuZXcgTWFwKGN1cnJlbnRBZ2VudC5oYW5kb2Zmcy5tYXAoKGVudHJ5KSA9PiB7XG4gICAgICAgIGlmIChlbnRyeSBpbnN0YW5jZW9mIEFnZW50KSB7XG4gICAgICAgICAgICByZXR1cm4gW2VudHJ5Lm5hbWUsIGhhbmRvZmYoZW50cnkpXTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gW2VudHJ5LnRvb2xOYW1lLCBlbnRyeV07XG4gICAgfSkpO1xuICAgIGNvbnN0IHJlc3VsdCA9IHtcbiAgICAgICAgbmV3SXRlbXM6IHNlcmlhbGl6ZWRQcm9jZXNzZWRSZXNwb25zZS5uZXdJdGVtcy5tYXAoKGl0ZW0pID0+IGRlc2VyaWFsaXplSXRlbShpdGVtLCBhZ2VudE1hcCkpLFxuICAgICAgICB0b29sc1VzZWQ6IHNlcmlhbGl6ZWRQcm9jZXNzZWRSZXNwb25zZS50b29sc1VzZWQsXG4gICAgICAgIGhhbmRvZmZzOiBzZXJpYWxpemVkUHJvY2Vzc2VkUmVzcG9uc2UuaGFuZG9mZnMubWFwKChoYW5kb2ZmKSA9PiB7XG4gICAgICAgICAgICBpZiAoIWhhbmRvZmZzLmhhcyhoYW5kb2ZmLmhhbmRvZmYudG9vbE5hbWUpKSB7XG4gICAgICAgICAgICAgICAgdGhyb3cgbmV3IFVzZXJFcnJvcihgSGFuZG9mZiAke2hhbmRvZmYuaGFuZG9mZi50b29sTmFtZX0gbm90IGZvdW5kYCk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICByZXR1cm4ge1xuICAgICAgICAgICAgICAgIHRvb2xDYWxsOiBoYW5kb2ZmLnRvb2xDYWxsLFxuICAgICAgICAgICAgICAgIGhhbmRvZmY6IGhhbmRvZmZzLmdldChoYW5kb2ZmLmhhbmRvZmYudG9vbE5hbWUpLFxuICAgICAgICAgICAgfTtcbiAgICAgICAgfSksXG4gICAgICAgIGZ1bmN0aW9uczogYXdhaXQgUHJvbWlzZS5hbGwoc2VyaWFsaXplZFByb2Nlc3NlZFJlc3BvbnNlLmZ1bmN0aW9ucy5tYXAoYXN5bmMgKGZ1bmN0aW9uQ2FsbCkgPT4ge1xuICAgICAgICAgICAgaWYgKCF0b29scy5oYXMoZnVuY3Rpb25DYWxsLnRvb2wubmFtZSkpIHtcbiAgICAgICAgICAgICAgICB0aHJvdyBuZXcgVXNlckVycm9yKGBUb29sICR7ZnVuY3Rpb25DYWxsLnRvb2wubmFtZX0gbm90IGZvdW5kYCk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICByZXR1cm4ge1xuICAgICAgICAgICAgICAgIHRvb2xDYWxsOiBmdW5jdGlvbkNhbGwudG9vbENhbGwsXG4gICAgICAgICAgICAgICAgdG9vbDogdG9vbHMuZ2V0KGZ1bmN0aW9uQ2FsbC50b29sLm5hbWUpLFxuICAgICAgICAgICAgfTtcbiAgICAgICAgfSkpLFxuICAgICAgICBjb21wdXRlckFjdGlvbnM6IHNlcmlhbGl6ZWRQcm9jZXNzZWRSZXNwb25zZS5jb21wdXRlckFjdGlvbnMubWFwKChjb21wdXRlckFjdGlvbikgPT4ge1xuICAgICAgICAgICAgY29uc3QgdG9vbE5hbWUgPSBjb21wdXRlckFjdGlvbi5jb21wdXRlci5uYW1lO1xuICAgICAgICAgICAgaWYgKCFjb21wdXRlclRvb2xzLmhhcyh0b29sTmFtZSkpIHtcbiAgICAgICAgICAgICAgICB0aHJvdyBuZXcgVXNlckVycm9yKGBDb21wdXRlciB0b29sICR7dG9vbE5hbWV9IG5vdCBmb3VuZGApO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgcmV0dXJuIHtcbiAgICAgICAgICAgICAgICB0b29sQ2FsbDogY29tcHV0ZXJBY3Rpb24udG9vbENhbGwsXG4gICAgICAgICAgICAgICAgY29tcHV0ZXI6IGNvbXB1dGVyVG9vbHMuZ2V0KHRvb2xOYW1lKSxcbiAgICAgICAgICAgIH07XG4gICAgICAgIH0pLFxuICAgICAgICBzaGVsbEFjdGlvbnM6IChzZXJpYWxpemVkUHJvY2Vzc2VkUmVzcG9uc2Uuc2hlbGxBY3Rpb25zID8/IFtdKS5tYXAoKHNoZWxsQWN0aW9uKSA9PiB7XG4gICAgICAgICAgICBjb25zdCB0b29sTmFtZSA9IHNoZWxsQWN0aW9uLnNoZWxsLm5hbWU7XG4gICAgICAgICAgICBpZiAoIXNoZWxsVG9vbHMuaGFzKHRvb2xOYW1lKSkge1xuICAgICAgICAgICAgICAgIHRocm93IG5ldyBVc2VyRXJyb3IoYFNoZWxsIHRvb2wgJHt0b29sTmFtZX0gbm90IGZvdW5kYCk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICByZXR1cm4ge1xuICAgICAgICAgICAgICAgIHRvb2xDYWxsOiBzaGVsbEFjdGlvbi50b29sQ2FsbCxcbiAgICAgICAgICAgICAgICBzaGVsbDogc2hlbGxUb29scy5nZXQodG9vbE5hbWUpLFxuICAgICAgICAgICAgfTtcbiAgICAgICAgfSksXG4gICAgICAgIGFwcGx5UGF0Y2hBY3Rpb25zOiAoc2VyaWFsaXplZFByb2Nlc3NlZFJlc3BvbnNlLmFwcGx5UGF0Y2hBY3Rpb25zID8/IFtdKS5tYXAoKGFwcGx5UGF0Y2hBY3Rpb24pID0+IHtcbiAgICAgICAgICAgIGNvbnN0IHRvb2xOYW1lID0gYXBwbHlQYXRjaEFjdGlvbi5hcHBseVBhdGNoLm5hbWU7XG4gICAgICAgICAgICBpZiAoIWFwcGx5UGF0Y2hUb29scy5oYXModG9vbE5hbWUpKSB7XG4gICAgICAgICAgICAgICAgdGhyb3cgbmV3IFVzZXJFcnJvcihgQXBwbHkgcGF0Y2ggdG9vbCAke3Rvb2xOYW1lfSBub3QgZm91bmRgKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHJldHVybiB7XG4gICAgICAgICAgICAgICAgdG9vbENhbGw6IGFwcGx5UGF0Y2hBY3Rpb24udG9vbENhbGwsXG4gICAgICAgICAgICAgICAgYXBwbHlQYXRjaDogYXBwbHlQYXRjaFRvb2xzLmdldCh0b29sTmFtZSksXG4gICAgICAgICAgICB9O1xuICAgICAgICB9KSxcbiAgICAgICAgbWNwQXBwcm92YWxSZXF1ZXN0czogKHNlcmlhbGl6ZWRQcm9jZXNzZWRSZXNwb25zZS5tY3BBcHByb3ZhbFJlcXVlc3RzID8/IFtdKS5tYXAoKGFwcHJvdmFsUmVxdWVzdCkgPT4gKHtcbiAgICAgICAgICAgIHJlcXVlc3RJdGVtOiBuZXcgUnVuVG9vbEFwcHJvdmFsSXRlbShhcHByb3ZhbFJlcXVlc3QucmVxdWVzdEl0ZW1cbiAgICAgICAgICAgICAgICAucmF3SXRlbSwgY3VycmVudEFnZW50KSxcbiAgICAgICAgICAgIG1jcFRvb2w6IGFwcHJvdmFsUmVxdWVzdC5tY3BUb29sLFxuICAgICAgICB9KSksXG4gICAgfTtcbiAgICByZXR1cm4ge1xuICAgICAgICAuLi5yZXN1bHQsXG4gICAgICAgIGhhc1Rvb2xzT3JBcHByb3ZhbHNUb1J1bigpIHtcbiAgICAgICAgICAgIHJldHVybiAocmVzdWx0LmhhbmRvZmZzLmxlbmd0aCA+IDAgfHxcbiAgICAgICAgICAgICAgICByZXN1bHQuZnVuY3Rpb25zLmxlbmd0aCA+IDAgfHxcbiAgICAgICAgICAgICAgICByZXN1bHQubWNwQXBwcm92YWxSZXF1ZXN0cy5sZW5ndGggPiAwIHx8XG4gICAgICAgICAgICAgICAgcmVzdWx0LmNvbXB1dGVyQWN0aW9ucy5sZW5ndGggPiAwIHx8XG4gICAgICAgICAgICAgICAgcmVzdWx0LnNoZWxsQWN0aW9ucy5sZW5ndGggPiAwIHx8XG4gICAgICAgICAgICAgICAgcmVzdWx0LmFwcGx5UGF0Y2hBY3Rpb25zLmxlbmd0aCA+IDApO1xuICAgICAgICB9LFxuICAgIH07XG59XG4vLyMgc291cmNlTWFwcGluZ1VSTD1ydW5TdGF0ZS5tanMubWFwIiwiaW1wb3J0IHsgQWdlbnQgfSBmcm9tIFwiLi9hZ2VudC5tanNcIjtcbmltcG9ydCB7IGRlZmluZUlucHV0R3VhcmRyYWlsLCBkZWZpbmVPdXRwdXRHdWFyZHJhaWwsIH0gZnJvbSBcIi4vZ3VhcmRyYWlsLm1qc1wiO1xuaW1wb3J0IHsgZ2V0RGVmYXVsdE1vZGVsUHJvdmlkZXIgfSBmcm9tIFwiLi9wcm92aWRlcnMubWpzXCI7XG5pbXBvcnQgeyBSdW5Db250ZXh0IH0gZnJvbSBcIi4vcnVuQ29udGV4dC5tanNcIjtcbmltcG9ydCB7IFJ1blJlc3VsdCwgU3RyZWFtZWRSdW5SZXN1bHQgfSBmcm9tIFwiLi9yZXN1bHQubWpzXCI7XG5pbXBvcnQgeyBSdW5Ib29rcyB9IGZyb20gXCIuL2xpZmVjeWNsZS5tanNcIjtcbmltcG9ydCBsb2dnZXIgZnJvbSBcIi4vbG9nZ2VyLm1qc1wiO1xuaW1wb3J0IHsgc2VyaWFsaXplVG9vbCwgc2VyaWFsaXplSGFuZG9mZiB9IGZyb20gXCIuL3V0aWxzL3NlcmlhbGl6ZS5tanNcIjtcbmltcG9ydCB7IEd1YXJkcmFpbEV4ZWN1dGlvbkVycm9yLCBJbnB1dEd1YXJkcmFpbFRyaXB3aXJlVHJpZ2dlcmVkLCBNYXhUdXJuc0V4Y2VlZGVkRXJyb3IsIE1vZGVsQmVoYXZpb3JFcnJvciwgT3V0cHV0R3VhcmRyYWlsVHJpcHdpcmVUcmlnZ2VyZWQsIFVzZXJFcnJvciwgfSBmcm9tIFwiLi9lcnJvcnMubWpzXCI7XG5pbXBvcnQgeyBhZGRTdGVwVG9SdW5SZXN1bHQsIHJlc29sdmVJbnRlcnJ1cHRlZFR1cm4sIHJlc29sdmVUdXJuQWZ0ZXJNb2RlbFJlc3BvbnNlLCBtYXliZVJlc2V0VG9vbENob2ljZSwgcHJvY2Vzc01vZGVsUmVzcG9uc2UsIHN0cmVhbVN0ZXBJdGVtc1RvUnVuUmVzdWx0LCBzYXZlU3RyZWFtSW5wdXRUb1Nlc3Npb24sIHNhdmVTdHJlYW1SZXN1bHRUb1Nlc3Npb24sIHNhdmVUb1Nlc3Npb24sIHByZXBhcmVJbnB1dEl0ZW1zV2l0aFNlc3Npb24sIH0gZnJvbSBcIi4vcnVuSW1wbGVtZW50YXRpb24ubWpzXCI7XG5pbXBvcnQgeyBnZXRPckNyZWF0ZVRyYWNlLCBhZGRFcnJvclRvQ3VycmVudFNwYW4sIHJlc2V0Q3VycmVudFNwYW4sIHNldEN1cnJlbnRTcGFuLCB3aXRoTmV3U3BhbkNvbnRleHQsIHdpdGhUcmFjZSwgfSBmcm9tIFwiLi90cmFjaW5nL2NvbnRleHQubWpzXCI7XG5pbXBvcnQgeyBjcmVhdGVBZ2VudFNwYW4sIHdpdGhHdWFyZHJhaWxTcGFuIH0gZnJvbSBcIi4vdHJhY2luZy9pbmRleC5tanNcIjtcbmltcG9ydCB7IFVzYWdlIH0gZnJvbSBcIi4vdXNhZ2UubWpzXCI7XG5pbXBvcnQgeyBSdW5BZ2VudFVwZGF0ZWRTdHJlYW1FdmVudCwgUnVuUmF3TW9kZWxTdHJlYW1FdmVudCB9IGZyb20gXCIuL2V2ZW50cy5tanNcIjtcbmltcG9ydCB7IFJ1blN0YXRlIH0gZnJvbSBcIi4vcnVuU3RhdGUubWpzXCI7XG5pbXBvcnQgeyBTdHJlYW1FdmVudFJlc3BvbnNlQ29tcGxldGVkIH0gZnJvbSBcIi4vdHlwZXMvcHJvdG9jb2wubWpzXCI7XG5pbXBvcnQgeyBjb252ZXJ0QWdlbnRPdXRwdXRUeXBlVG9TZXJpYWxpemFibGUgfSBmcm9tIFwiLi91dGlscy90b29scy5tanNcIjtcbmltcG9ydCB7IGdwdDVSZWFzb25pbmdTZXR0aW5nc1JlcXVpcmVkLCBpc0dwdDVEZWZhdWx0IH0gZnJvbSBcIi4vZGVmYXVsdE1vZGVsLm1qc1wiO1xuaW1wb3J0IHsgZW5jb2RlVWludDhBcnJheVRvQmFzZTY0IH0gZnJvbSBcIi4vdXRpbHMvYmFzZTY0Lm1qc1wiO1xuaW1wb3J0IHsgaXNBcnJheUJ1ZmZlclZpZXcsIGlzTm9kZUJ1ZmZlciwgaXNTZXJpYWxpemVkQnVmZmVyU25hcHNob3QsIH0gZnJvbSBcIi4vdXRpbHMvc21hcnRTdHJpbmcubWpzXCI7XG5leHBvcnQgYXN5bmMgZnVuY3Rpb24gcnVuKGFnZW50LCBpbnB1dCwgb3B0aW9ucykge1xuICAgIGNvbnN0IHJ1bm5lciA9IGdldERlZmF1bHRSdW5uZXIoKTtcbiAgICBpZiAob3B0aW9ucz8uc3RyZWFtKSB7XG4gICAgICAgIHJldHVybiBhd2FpdCBydW5uZXIucnVuKGFnZW50LCBpbnB1dCwgb3B0aW9ucyk7XG4gICAgfVxuICAgIGVsc2Uge1xuICAgICAgICByZXR1cm4gYXdhaXQgcnVubmVyLnJ1bihhZ2VudCwgaW5wdXQsIG9wdGlvbnMpO1xuICAgIH1cbn1cbi8qKlxuICogT3JjaGVzdHJhdGVzIGFnZW50IGV4ZWN1dGlvbiwgaW5jbHVkaW5nIGd1YXJkcmFpbHMsIHRvb2wgY2FsbHMsIHNlc3Npb24gcGVyc2lzdGVuY2UsIGFuZFxuICogdHJhY2luZy4gUmV1c2UgYSBgUnVubmVyYCBpbnN0YW5jZSB3aGVuIHlvdSB3YW50IGNvbnNpc3RlbnQgY29uZmlndXJhdGlvbiBhY3Jvc3MgbXVsdGlwbGUgcnVucy5cbiAqL1xuZXhwb3J0IGNsYXNzIFJ1bm5lciBleHRlbmRzIFJ1bkhvb2tzIHtcbiAgICBjb25maWc7XG4gICAgLyoqXG4gICAgICogQ3JlYXRlcyBhIHJ1bm5lciB3aXRoIG9wdGlvbmFsIGRlZmF1bHRzIHRoYXQgYXBwbHkgdG8gZXZlcnkgc3Vic2VxdWVudCBydW4gaW52b2NhdGlvbi5cbiAgICAgKlxuICAgICAqIEBwYXJhbSBjb25maWcgLSBPdmVycmlkZXMgZm9yIG1vZGVscywgZ3VhcmRyYWlscywgdHJhY2luZywgb3Igc2Vzc2lvbiBiZWhhdmlvci5cbiAgICAgKi9cbiAgICBjb25zdHJ1Y3Rvcihjb25maWcgPSB7fSkge1xuICAgICAgICBzdXBlcigpO1xuICAgICAgICB0aGlzLmNvbmZpZyA9IHtcbiAgICAgICAgICAgIG1vZGVsUHJvdmlkZXI6IGNvbmZpZy5tb2RlbFByb3ZpZGVyID8/IGdldERlZmF1bHRNb2RlbFByb3ZpZGVyKCksXG4gICAgICAgICAgICBtb2RlbDogY29uZmlnLm1vZGVsLFxuICAgICAgICAgICAgbW9kZWxTZXR0aW5nczogY29uZmlnLm1vZGVsU2V0dGluZ3MsXG4gICAgICAgICAgICBoYW5kb2ZmSW5wdXRGaWx0ZXI6IGNvbmZpZy5oYW5kb2ZmSW5wdXRGaWx0ZXIsXG4gICAgICAgICAgICBpbnB1dEd1YXJkcmFpbHM6IGNvbmZpZy5pbnB1dEd1YXJkcmFpbHMsXG4gICAgICAgICAgICBvdXRwdXRHdWFyZHJhaWxzOiBjb25maWcub3V0cHV0R3VhcmRyYWlscyxcbiAgICAgICAgICAgIHRyYWNpbmdEaXNhYmxlZDogY29uZmlnLnRyYWNpbmdEaXNhYmxlZCA/PyBmYWxzZSxcbiAgICAgICAgICAgIHRyYWNlSW5jbHVkZVNlbnNpdGl2ZURhdGE6IGNvbmZpZy50cmFjZUluY2x1ZGVTZW5zaXRpdmVEYXRhID8/IHRydWUsXG4gICAgICAgICAgICB3b3JrZmxvd05hbWU6IGNvbmZpZy53b3JrZmxvd05hbWUgPz8gJ0FnZW50IHdvcmtmbG93JyxcbiAgICAgICAgICAgIHRyYWNlSWQ6IGNvbmZpZy50cmFjZUlkLFxuICAgICAgICAgICAgZ3JvdXBJZDogY29uZmlnLmdyb3VwSWQsXG4gICAgICAgICAgICB0cmFjZU1ldGFkYXRhOiBjb25maWcudHJhY2VNZXRhZGF0YSxcbiAgICAgICAgICAgIHNlc3Npb25JbnB1dENhbGxiYWNrOiBjb25maWcuc2Vzc2lvbklucHV0Q2FsbGJhY2ssXG4gICAgICAgICAgICBjYWxsTW9kZWxJbnB1dEZpbHRlcjogY29uZmlnLmNhbGxNb2RlbElucHV0RmlsdGVyLFxuICAgICAgICB9O1xuICAgICAgICB0aGlzLmlucHV0R3VhcmRyYWlsRGVmcyA9IChjb25maWcuaW5wdXRHdWFyZHJhaWxzID8/IFtdKS5tYXAoZGVmaW5lSW5wdXRHdWFyZHJhaWwpO1xuICAgICAgICB0aGlzLm91dHB1dEd1YXJkcmFpbERlZnMgPSAoY29uZmlnLm91dHB1dEd1YXJkcmFpbHMgPz8gW10pLm1hcChkZWZpbmVPdXRwdXRHdWFyZHJhaWwpO1xuICAgIH1cbiAgICBhc3luYyBydW4oYWdlbnQsIGlucHV0LCBvcHRpb25zID0ge1xuICAgICAgICBzdHJlYW06IGZhbHNlLFxuICAgICAgICBjb250ZXh0OiB1bmRlZmluZWQsXG4gICAgfSkge1xuICAgICAgICBjb25zdCByZXNvbHZlZE9wdGlvbnMgPSBvcHRpb25zID8/IHsgc3RyZWFtOiBmYWxzZSwgY29udGV4dDogdW5kZWZpbmVkIH07XG4gICAgICAgIC8vIFBlci1ydW4gb3B0aW9ucyB0YWtlIHByZWNlZGVuY2Ugb3ZlciBydW5uZXIgZGVmYXVsdHMgZm9yIHNlc3Npb24gbWVtb3J5IGJlaGF2aW9yLlxuICAgICAgICBjb25zdCBzZXNzaW9uSW5wdXRDYWxsYmFjayA9IHJlc29sdmVkT3B0aW9ucy5zZXNzaW9uSW5wdXRDYWxsYmFjayA/PyB0aGlzLmNvbmZpZy5zZXNzaW9uSW5wdXRDYWxsYmFjaztcbiAgICAgICAgLy8gTGlrZXdpc2UgYWxsb3cgY2FsbGVycyB0byBvdmVycmlkZSBjYWxsTW9kZWxJbnB1dEZpbHRlciBvbiBpbmRpdmlkdWFsIHJ1bnMuXG4gICAgICAgIGNvbnN0IGNhbGxNb2RlbElucHV0RmlsdGVyID0gcmVzb2x2ZWRPcHRpb25zLmNhbGxNb2RlbElucHV0RmlsdGVyID8/IHRoaXMuY29uZmlnLmNhbGxNb2RlbElucHV0RmlsdGVyO1xuICAgICAgICBjb25zdCBoYXNDYWxsTW9kZWxJbnB1dEZpbHRlciA9IEJvb2xlYW4oY2FsbE1vZGVsSW5wdXRGaWx0ZXIpO1xuICAgICAgICBjb25zdCBlZmZlY3RpdmVPcHRpb25zID0ge1xuICAgICAgICAgICAgLi4ucmVzb2x2ZWRPcHRpb25zLFxuICAgICAgICAgICAgc2Vzc2lvbklucHV0Q2FsbGJhY2ssXG4gICAgICAgICAgICBjYWxsTW9kZWxJbnB1dEZpbHRlcixcbiAgICAgICAgfTtcbiAgICAgICAgY29uc3Qgc2VydmVyTWFuYWdlc0NvbnZlcnNhdGlvbiA9IEJvb2xlYW4oZWZmZWN0aXZlT3B0aW9ucy5jb252ZXJzYXRpb25JZCkgfHxcbiAgICAgICAgICAgIEJvb2xlYW4oZWZmZWN0aXZlT3B0aW9ucy5wcmV2aW91c1Jlc3BvbnNlSWQpO1xuICAgICAgICAvLyBXaGVuIHRoZSBzZXJ2ZXIgdHJhY2tzIGNvbnZlcnNhdGlvbiBoaXN0b3J5IHdlIGRlZmVyIHRvIGl0IGZvciBwcmV2aW91cyB0dXJucyBzbyBsb2NhbCBzZXNzaW9uXG4gICAgICAgIC8vIHBlcnNpc3RlbmNlIGNhbiBmb2N1cyBzb2xlbHkgb24gdGhlIG5ldyBkZWx0YSBiZWluZyBnZW5lcmF0ZWQgaW4gdGhpcyBwcm9jZXNzLlxuICAgICAgICBjb25zdCBzZXNzaW9uID0gZWZmZWN0aXZlT3B0aW9ucy5zZXNzaW9uO1xuICAgICAgICBjb25zdCByZXN1bWluZ0Zyb21TdGF0ZSA9IGlucHV0IGluc3RhbmNlb2YgUnVuU3RhdGU7XG4gICAgICAgIGxldCBzZXNzaW9uSW5wdXRPcmlnaW5hbFNuYXBzaG90ID0gc2Vzc2lvbiAmJiByZXN1bWluZ0Zyb21TdGF0ZSA/IFtdIDogdW5kZWZpbmVkO1xuICAgICAgICBsZXQgc2Vzc2lvbklucHV0RmlsdGVyZWRTbmFwc2hvdCA9IHVuZGVmaW5lZDtcbiAgICAgICAgLy8gVHJhY2tzIHJlbWFpbmluZyBwZXJzaXN0ZW5jZSBzbG90cyBwZXIgQWdlbnRJbnB1dEl0ZW0ga2V5IHNvIHJlc3VtZWQgc2Vzc2lvbnMgb25seSB3cml0ZSBlYWNoIG9yaWdpbmFsIG9jY3VycmVuY2Ugb25jZS5cbiAgICAgICAgbGV0IHNlc3Npb25JbnB1dFBlbmRpbmdXcml0ZUNvdW50cyA9IHNlc3Npb24gJiYgcmVzdW1pbmdGcm9tU3RhdGUgPyBuZXcgTWFwKCkgOiB1bmRlZmluZWQ7XG4gICAgICAgIC8vIEtlZXBzIHRyYWNrIG9mIHdoaWNoIGlucHV0cyBzaG91bGQgYmUgd3JpdHRlbiBiYWNrIHRvIHNlc3Npb24gbWVtb3J5LiBgc291cmNlSXRlbXNgIHJlZmxlY3RzXG4gICAgICAgIC8vIHRoZSBvcmlnaW5hbCBvYmplY3RzIChzbyB3ZSBjYW4gcmVzcGVjdCByZXN1bWUgY291bnRzKSB3aGlsZSBgZmlsdGVyZWRJdGVtc2AsIHdoZW4gcHJlc2VudCxcbiAgICAgICAgLy8gY29udGFpbnMgdGhlIGZpbHRlcmVkL3JlZGFjdGVkIGNsb25lcyB0aGF0IG11c3QgYmUgcGVyc2lzdGVkIGZvciBoaXN0b3J5LlxuICAgICAgICAvLyBUaGUgaGVscGVyIHJlY29uY2lsZXMgdGhlIGZpbHRlcmVkIGNvcGllcyBwcm9kdWNlZCBieSBjYWxsTW9kZWxJbnB1dEZpbHRlciB3aXRoIHRoZWlyIG9yaWdpbmFsXG4gICAgICAgIC8vIGNvdW50ZXJwYXJ0cyBzbyByZXN1bWUtZnJvbS1zdGF0ZSBib29ra2VlcGluZyBzdGF5cyBjb25zaXN0ZW50IGFuZCBkdXBsaWNhdGUgcmVmZXJlbmNlcyBvbmx5XG4gICAgICAgIC8vIGNvbnN1bWUgYSBzaW5nbGUgcGVyc2lzdGVuY2Ugc2xvdC5cbiAgICAgICAgY29uc3QgcmVjb3JkU2Vzc2lvbkl0ZW1zRm9yUGVyc2lzdGVuY2UgPSAoc291cmNlSXRlbXMsIGZpbHRlcmVkSXRlbXMpID0+IHtcbiAgICAgICAgICAgIGNvbnN0IHBlbmRpbmdXcml0ZUNvdW50cyA9IHNlc3Npb25JbnB1dFBlbmRpbmdXcml0ZUNvdW50cztcbiAgICAgICAgICAgIGlmIChmaWx0ZXJlZEl0ZW1zICE9PSB1bmRlZmluZWQpIHtcbiAgICAgICAgICAgICAgICBpZiAoIXBlbmRpbmdXcml0ZUNvdW50cykge1xuICAgICAgICAgICAgICAgICAgICBzZXNzaW9uSW5wdXRGaWx0ZXJlZFNuYXBzaG90ID0gZmlsdGVyZWRJdGVtcy5tYXAoKGl0ZW0pID0+IHN0cnVjdHVyZWRDbG9uZShpdGVtKSk7XG4gICAgICAgICAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgY29uc3QgcGVyc2lzdGFibGVJdGVtcyA9IFtdO1xuICAgICAgICAgICAgICAgIGNvbnN0IHNvdXJjZU9jY3VycmVuY2VDb3VudHMgPSBuZXcgV2Vha01hcCgpO1xuICAgICAgICAgICAgICAgIC8vIFRyYWNrIGhvdyBtYW55IHRpbWVzIGVhY2ggb3JpZ2luYWwgb2JqZWN0IGFwcGVhcnMgc28gZHVwbGljYXRlIHJlZmVyZW5jZXMgb25seSBjb25zdW1lIG9uZSBwZXJzaXN0ZW5jZSBzbG90LlxuICAgICAgICAgICAgICAgIGZvciAoY29uc3Qgc291cmNlIG9mIHNvdXJjZUl0ZW1zKSB7XG4gICAgICAgICAgICAgICAgICAgIGlmICghc291cmNlIHx8IHR5cGVvZiBzb3VyY2UgIT09ICdvYmplY3QnKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBjb250aW51ZTtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICBjb25zdCBuZXh0Q291bnQgPSAoc291cmNlT2NjdXJyZW5jZUNvdW50cy5nZXQoc291cmNlKSA/PyAwKSArIDE7XG4gICAgICAgICAgICAgICAgICAgIHNvdXJjZU9jY3VycmVuY2VDb3VudHMuc2V0KHNvdXJjZSwgbmV4dENvdW50KTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgLy8gTGV0IGZpbHRlcmVkIGl0ZW1zIHdpdGhvdXQgYSBvbmUtdG8tb25lIHNvdXJjZSBtYXRjaCBjbGFpbSBhbnkgcmVtYWluaW5nIHBlcnNpc3RlbmNlIGNvdW50LlxuICAgICAgICAgICAgICAgIGNvbnN0IGNvbnN1bWVBbnlQZW5kaW5nV3JpdGVTbG90ID0gKCkgPT4ge1xuICAgICAgICAgICAgICAgICAgICBmb3IgKGNvbnN0IFtrZXksIHJlbWFpbmluZ10gb2YgcGVuZGluZ1dyaXRlQ291bnRzKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAocmVtYWluaW5nID4gMCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHBlbmRpbmdXcml0ZUNvdW50cy5zZXQoa2V5LCByZW1haW5pbmcgLSAxKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gdHJ1ZTtcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgICAgICAgICAgICAgfTtcbiAgICAgICAgICAgICAgICBmb3IgKGxldCBpID0gMDsgaSA8IGZpbHRlcmVkSXRlbXMubGVuZ3RoOyBpKyspIHtcbiAgICAgICAgICAgICAgICAgICAgY29uc3QgZmlsdGVyZWRJdGVtID0gZmlsdGVyZWRJdGVtc1tpXTtcbiAgICAgICAgICAgICAgICAgICAgaWYgKCFmaWx0ZXJlZEl0ZW0pIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGNvbnRpbnVlO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIGxldCBhbGxvY2F0ZWQgPSBmYWxzZTtcbiAgICAgICAgICAgICAgICAgICAgY29uc3Qgc291cmNlID0gc291cmNlSXRlbXNbaV07XG4gICAgICAgICAgICAgICAgICAgIGlmIChzb3VyY2UgJiYgdHlwZW9mIHNvdXJjZSA9PT0gJ29iamVjdCcpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGNvbnN0IHBlbmRpbmdPY2N1cnJlbmNlcyA9IChzb3VyY2VPY2N1cnJlbmNlQ291bnRzLmdldChzb3VyY2UpID8/IDApIC0gMTtcbiAgICAgICAgICAgICAgICAgICAgICAgIHNvdXJjZU9jY3VycmVuY2VDb3VudHMuc2V0KHNvdXJjZSwgcGVuZGluZ09jY3VycmVuY2VzKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIGlmIChwZW5kaW5nT2NjdXJyZW5jZXMgPiAwKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgY29udGludWU7XG4gICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICBjb25zdCBzb3VyY2VLZXkgPSBnZXRBZ2VudElucHV0SXRlbUtleShzb3VyY2UpO1xuICAgICAgICAgICAgICAgICAgICAgICAgY29uc3QgcmVtYWluaW5nID0gcGVuZGluZ1dyaXRlQ291bnRzLmdldChzb3VyY2VLZXkpID8/IDA7XG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAocmVtYWluaW5nID4gMCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHBlbmRpbmdXcml0ZUNvdW50cy5zZXQoc291cmNlS2V5LCByZW1haW5pbmcgLSAxKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBwZXJzaXN0YWJsZUl0ZW1zLnB1c2goc3RydWN0dXJlZENsb25lKGZpbHRlcmVkSXRlbSkpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGFsbG9jYXRlZCA9IHRydWU7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgY29udGludWU7XG4gICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgY29uc3QgZmlsdGVyZWRLZXkgPSBnZXRBZ2VudElucHV0SXRlbUtleShmaWx0ZXJlZEl0ZW0pO1xuICAgICAgICAgICAgICAgICAgICBjb25zdCBmaWx0ZXJlZFJlbWFpbmluZyA9IHBlbmRpbmdXcml0ZUNvdW50cy5nZXQoZmlsdGVyZWRLZXkpID8/IDA7XG4gICAgICAgICAgICAgICAgICAgIGlmIChmaWx0ZXJlZFJlbWFpbmluZyA+IDApIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHBlbmRpbmdXcml0ZUNvdW50cy5zZXQoZmlsdGVyZWRLZXksIGZpbHRlcmVkUmVtYWluaW5nIC0gMSk7XG4gICAgICAgICAgICAgICAgICAgICAgICBwZXJzaXN0YWJsZUl0ZW1zLnB1c2goc3RydWN0dXJlZENsb25lKGZpbHRlcmVkSXRlbSkpO1xuICAgICAgICAgICAgICAgICAgICAgICAgYWxsb2NhdGVkID0gdHJ1ZTtcbiAgICAgICAgICAgICAgICAgICAgICAgIGNvbnRpbnVlO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIGlmICghc291cmNlICYmIGNvbnN1bWVBbnlQZW5kaW5nV3JpdGVTbG90KCkpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHBlcnNpc3RhYmxlSXRlbXMucHVzaChzdHJ1Y3R1cmVkQ2xvbmUoZmlsdGVyZWRJdGVtKSk7XG4gICAgICAgICAgICAgICAgICAgICAgICBhbGxvY2F0ZWQgPSB0cnVlO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIGlmICghYWxsb2NhdGVkICYmXG4gICAgICAgICAgICAgICAgICAgICAgICAhc291cmNlICYmXG4gICAgICAgICAgICAgICAgICAgICAgICBzZXNzaW9uSW5wdXRGaWx0ZXJlZFNuYXBzaG90ID09PSB1bmRlZmluZWQpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIC8vIFByZXNlcnZlIGF0IGxlYXN0IG9uZSBjb3B5IHNvIGxhdGVyIHBlcnNpc3RlbmNlIHJlc29sdmVzIGV2ZW4gd2hlbiBubyBjb3VudGVycyByZW1haW4uXG4gICAgICAgICAgICAgICAgICAgICAgICBwZXJzaXN0YWJsZUl0ZW1zLnB1c2goc3RydWN0dXJlZENsb25lKGZpbHRlcmVkSXRlbSkpO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGlmIChwZXJzaXN0YWJsZUl0ZW1zLmxlbmd0aCA+IDAgfHxcbiAgICAgICAgICAgICAgICAgICAgc2Vzc2lvbklucHV0RmlsdGVyZWRTbmFwc2hvdCA9PT0gdW5kZWZpbmVkKSB7XG4gICAgICAgICAgICAgICAgICAgIHNlc3Npb25JbnB1dEZpbHRlcmVkU25hcHNob3QgPSBwZXJzaXN0YWJsZUl0ZW1zO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICByZXR1cm47XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBjb25zdCBmaWx0ZXJlZCA9IFtdO1xuICAgICAgICAgICAgaWYgKCFwZW5kaW5nV3JpdGVDb3VudHMpIHtcbiAgICAgICAgICAgICAgICBmb3IgKGNvbnN0IGl0ZW0gb2Ygc291cmNlSXRlbXMpIHtcbiAgICAgICAgICAgICAgICAgICAgaWYgKCFpdGVtKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBjb250aW51ZTtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICBmaWx0ZXJlZC5wdXNoKHN0cnVjdHVyZWRDbG9uZShpdGVtKSk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICAgICAgZm9yIChjb25zdCBpdGVtIG9mIHNvdXJjZUl0ZW1zKSB7XG4gICAgICAgICAgICAgICAgICAgIGlmICghaXRlbSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgY29udGludWU7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgY29uc3Qga2V5ID0gZ2V0QWdlbnRJbnB1dEl0ZW1LZXkoaXRlbSk7XG4gICAgICAgICAgICAgICAgICAgIGNvbnN0IHJlbWFpbmluZyA9IHBlbmRpbmdXcml0ZUNvdW50cy5nZXQoa2V5KSA/PyAwO1xuICAgICAgICAgICAgICAgICAgICBpZiAocmVtYWluaW5nIDw9IDApIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGNvbnRpbnVlO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIHBlbmRpbmdXcml0ZUNvdW50cy5zZXQoa2V5LCByZW1haW5pbmcgLSAxKTtcbiAgICAgICAgICAgICAgICAgICAgZmlsdGVyZWQucHVzaChzdHJ1Y3R1cmVkQ2xvbmUoaXRlbSkpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGlmIChmaWx0ZXJlZC5sZW5ndGggPiAwKSB7XG4gICAgICAgICAgICAgICAgc2Vzc2lvbklucHV0RmlsdGVyZWRTbmFwc2hvdCA9IGZpbHRlcmVkO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgZWxzZSBpZiAoc2Vzc2lvbklucHV0RmlsdGVyZWRTbmFwc2hvdCA9PT0gdW5kZWZpbmVkKSB7XG4gICAgICAgICAgICAgICAgc2Vzc2lvbklucHV0RmlsdGVyZWRTbmFwc2hvdCA9IFtdO1xuICAgICAgICAgICAgfVxuICAgICAgICB9O1xuICAgICAgICAvLyBEZXRlcm1pbmUgd2hpY2ggaXRlbXMgc2hvdWxkIGJlIGNvbW1pdHRlZCB0byBzZXNzaW9uIG1lbW9yeSBmb3IgdGhpcyB0dXJuLlxuICAgICAgICAvLyBGaWx0ZXJzIHRha2UgcHJlY2VkZW5jZSBiZWNhdXNlIHRoZXkgcmVmbGVjdCB0aGUgZXhhY3QgcGF5bG9hZCBkZWxpdmVyZWQgdG8gdGhlIG1vZGVsLlxuICAgICAgICBjb25zdCByZXNvbHZlU2Vzc2lvbkl0ZW1zRm9yUGVyc2lzdGVuY2UgPSAoKSA9PiB7XG4gICAgICAgICAgICBpZiAoc2Vzc2lvbklucHV0RmlsdGVyZWRTbmFwc2hvdCAhPT0gdW5kZWZpbmVkKSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuIHNlc3Npb25JbnB1dEZpbHRlcmVkU25hcHNob3Q7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBpZiAoaGFzQ2FsbE1vZGVsSW5wdXRGaWx0ZXIpIHtcbiAgICAgICAgICAgICAgICByZXR1cm4gdW5kZWZpbmVkO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgcmV0dXJuIHNlc3Npb25JbnB1dE9yaWdpbmFsU25hcHNob3Q7XG4gICAgICAgIH07XG4gICAgICAgIGxldCBwcmVwYXJlZElucHV0ID0gaW5wdXQ7XG4gICAgICAgIGlmICghKHByZXBhcmVkSW5wdXQgaW5zdGFuY2VvZiBSdW5TdGF0ZSkpIHtcbiAgICAgICAgICAgIGlmIChzZXNzaW9uICYmIEFycmF5LmlzQXJyYXkocHJlcGFyZWRJbnB1dCkgJiYgIXNlc3Npb25JbnB1dENhbGxiYWNrKSB7XG4gICAgICAgICAgICAgICAgdGhyb3cgbmV3IFVzZXJFcnJvcignUnVuQ29uZmlnLnNlc3Npb25JbnB1dENhbGxiYWNrIG11c3QgYmUgcHJvdmlkZWQgd2hlbiB1c2luZyBzZXNzaW9uIGhpc3Rvcnkgd2l0aCBsaXN0IGlucHV0cy4nKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGNvbnN0IHByZXBhcmVkID0gYXdhaXQgcHJlcGFyZUlucHV0SXRlbXNXaXRoU2Vzc2lvbihwcmVwYXJlZElucHV0LCBzZXNzaW9uLCBzZXNzaW9uSW5wdXRDYWxsYmFjaywge1xuICAgICAgICAgICAgICAgIC8vIFdoZW4gdGhlIHNlcnZlciB0cmFja3MgY29udmVyc2F0aW9uIHN0YXRlIHdlIG9ubHkgc2VuZCB0aGUgbmV3IHR1cm4gaW5wdXRzO1xuICAgICAgICAgICAgICAgIC8vIHByZXZpb3VzIG1lc3NhZ2VzIGFyZSByZWNvdmVyZWQgdmlhIGNvbnZlcnNhdGlvbklkL3ByZXZpb3VzUmVzcG9uc2VJZC5cbiAgICAgICAgICAgICAgICBpbmNsdWRlSGlzdG9yeUluUHJlcGFyZWRJbnB1dDogIXNlcnZlck1hbmFnZXNDb252ZXJzYXRpb24sXG4gICAgICAgICAgICAgICAgcHJlc2VydmVEcm9wcGVkTmV3SXRlbXM6IHNlcnZlck1hbmFnZXNDb252ZXJzYXRpb24sXG4gICAgICAgICAgICB9KTtcbiAgICAgICAgICAgIGlmIChzZXJ2ZXJNYW5hZ2VzQ29udmVyc2F0aW9uICYmIHNlc3Npb24pIHtcbiAgICAgICAgICAgICAgICAvLyBXaGVuIHRoZSBzZXJ2ZXIgbWFuYWdlcyBtZW1vcnkgd2Ugb25seSBwZXJzaXN0IHRoZSBuZXcgdHVybiBpbnB1dHMgbG9jYWxseSBzbyB0aGVcbiAgICAgICAgICAgICAgICAvLyBjb252ZXJzYXRpb24gc2VydmljZSBzdGF5cyB0aGUgc2luZ2xlIHNvdXJjZSBvZiB0cnV0aCBmb3IgcHJpb3IgZXhjaGFuZ2VzLlxuICAgICAgICAgICAgICAgIGNvbnN0IHNlc3Npb25JdGVtcyA9IHByZXBhcmVkLnNlc3Npb25JdGVtcztcbiAgICAgICAgICAgICAgICBpZiAoc2Vzc2lvbkl0ZW1zICYmIHNlc3Npb25JdGVtcy5sZW5ndGggPiAwKSB7XG4gICAgICAgICAgICAgICAgICAgIHByZXBhcmVkSW5wdXQgPSBzZXNzaW9uSXRlbXM7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICBwcmVwYXJlZElucHV0ID0gcHJlcGFyZWQucHJlcGFyZWRJbnB1dDtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgICAgICBwcmVwYXJlZElucHV0ID0gcHJlcGFyZWQucHJlcGFyZWRJbnB1dDtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGlmIChzZXNzaW9uKSB7XG4gICAgICAgICAgICAgICAgY29uc3QgaXRlbXMgPSBwcmVwYXJlZC5zZXNzaW9uSXRlbXMgPz8gW107XG4gICAgICAgICAgICAgICAgLy8gQ2xvbmUgdGhlIGl0ZW1zIHRoYXQgd2lsbCBiZSBwZXJzaXN0ZWQgc28gbGF0ZXIgbXV0YXRpb25zIChmaWx0ZXJzLCBob29rcykgY2Fubm90IGRlc3luYyBoaXN0b3J5LlxuICAgICAgICAgICAgICAgIHNlc3Npb25JbnB1dE9yaWdpbmFsU25hcHNob3QgPSBpdGVtcy5tYXAoKGl0ZW0pID0+IHN0cnVjdHVyZWRDbG9uZShpdGVtKSk7XG4gICAgICAgICAgICAgICAgLy8gUmVzZXQgcGVuZGluZyBjb3VudHMgc28gZWFjaCBwcmVwYXJlZCBpdGVtIHJlc2VydmVzIGV4YWN0bHkgb25lIHdyaXRlIHNsb3QgdW50aWwgZmlsdGVycyByZXNvbHZlIG1hdGNoZXMuXG4gICAgICAgICAgICAgICAgc2Vzc2lvbklucHV0UGVuZGluZ1dyaXRlQ291bnRzID0gbmV3IE1hcCgpO1xuICAgICAgICAgICAgICAgIGZvciAoY29uc3QgaXRlbSBvZiBpdGVtcykge1xuICAgICAgICAgICAgICAgICAgICBjb25zdCBrZXkgPSBnZXRBZ2VudElucHV0SXRlbUtleShpdGVtKTtcbiAgICAgICAgICAgICAgICAgICAgc2Vzc2lvbklucHV0UGVuZGluZ1dyaXRlQ291bnRzLnNldChrZXksIChzZXNzaW9uSW5wdXRQZW5kaW5nV3JpdGVDb3VudHMuZ2V0KGtleSkgPz8gMCkgKyAxKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgLy8gU3RyZWFtaW5nIHJ1bnMgcGVyc2lzdCB0aGUgaW5wdXQgYXN5bmNocm9ub3VzbHksIHNvIHRyYWNrIGEgb25lLXNob3QgaGVscGVyXG4gICAgICAgIC8vIHRoYXQgY2FuIGJlIGF3YWl0ZWQgZnJvbSBtdWx0aXBsZSBicmFuY2hlcyB3aXRob3V0IGRvdWJsZS13cml0aW5nLlxuICAgICAgICBsZXQgZW5zdXJlU3RyZWFtSW5wdXRQZXJzaXN0ZWQ7XG4gICAgICAgIC8vIFNlc3Npb25zIHJlbWFpbiB1c2FibGUgYWxvbmdzaWRlIHNlcnZlci1tYW5hZ2VkIGNvbnZlcnNhdGlvbnMgKGUuZy4sIE9wZW5BSUNvbnZlcnNhdGlvbnNTZXNzaW9uKVxuICAgICAgICAvLyBzbyBjYWxsZXJzIGNhbiByZXVzZSBjYWxsYmFja3MsIHJlc3VtZS1mcm9tLXN0YXRlIGxvZ2ljLCBhbmQgb3RoZXIgaGVscGVycyB3aXRob3V0IGR1cGxpY2F0aW5nXG4gICAgICAgIC8vIHJlbW90ZSBoaXN0b3J5LCBzbyBwZXJzaXN0ZW5jZSBpcyBnYXRlZCBvbiBzZXJ2ZXJNYW5hZ2VzQ29udmVyc2F0aW9uLlxuICAgICAgICBpZiAoc2Vzc2lvbiAmJiAhc2VydmVyTWFuYWdlc0NvbnZlcnNhdGlvbikge1xuICAgICAgICAgICAgbGV0IHBlcnNpc3RlZCA9IGZhbHNlO1xuICAgICAgICAgICAgZW5zdXJlU3RyZWFtSW5wdXRQZXJzaXN0ZWQgPSBhc3luYyAoKSA9PiB7XG4gICAgICAgICAgICAgICAgaWYgKHBlcnNpc3RlZCkge1xuICAgICAgICAgICAgICAgICAgICByZXR1cm47XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGNvbnN0IGl0ZW1zVG9QZXJzaXN0ID0gcmVzb2x2ZVNlc3Npb25JdGVtc0ZvclBlcnNpc3RlbmNlKCk7XG4gICAgICAgICAgICAgICAgaWYgKCFpdGVtc1RvUGVyc2lzdCB8fCBpdGVtc1RvUGVyc2lzdC5sZW5ndGggPT09IDApIHtcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBwZXJzaXN0ZWQgPSB0cnVlO1xuICAgICAgICAgICAgICAgIGF3YWl0IHNhdmVTdHJlYW1JbnB1dFRvU2Vzc2lvbihzZXNzaW9uLCBpdGVtc1RvUGVyc2lzdCk7XG4gICAgICAgICAgICB9O1xuICAgICAgICB9XG4gICAgICAgIGNvbnN0IGV4ZWN1dGVSdW4gPSBhc3luYyAoKSA9PiB7XG4gICAgICAgICAgICBpZiAoZWZmZWN0aXZlT3B0aW9ucy5zdHJlYW0pIHtcbiAgICAgICAgICAgICAgICBjb25zdCBzdHJlYW1SZXN1bHQgPSBhd2FpdCB0aGlzLiNydW5JbmRpdmlkdWFsU3RyZWFtKGFnZW50LCBwcmVwYXJlZElucHV0LCBlZmZlY3RpdmVPcHRpb25zLCBlbnN1cmVTdHJlYW1JbnB1dFBlcnNpc3RlZCwgcmVjb3JkU2Vzc2lvbkl0ZW1zRm9yUGVyc2lzdGVuY2UpO1xuICAgICAgICAgICAgICAgIHJldHVybiBzdHJlYW1SZXN1bHQ7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBjb25zdCBydW5SZXN1bHQgPSBhd2FpdCB0aGlzLiNydW5JbmRpdmlkdWFsTm9uU3RyZWFtKGFnZW50LCBwcmVwYXJlZElucHV0LCBlZmZlY3RpdmVPcHRpb25zLCByZWNvcmRTZXNzaW9uSXRlbXNGb3JQZXJzaXN0ZW5jZSk7XG4gICAgICAgICAgICAvLyBTZWUgbm90ZSBhYm92ZTogYWxsb3cgc2Vzc2lvbnMgdG8gcnVuIGZvciBjYWxsYmFja3Mvc3RhdGUgYnV0IHNraXAgd3JpdGVzIHdoZW4gdGhlIHNlcnZlclxuICAgICAgICAgICAgLy8gaXMgdGhlIHNvdXJjZSBvZiB0cnV0aCBmb3IgdHJhbnNjcmlwdCBoaXN0b3J5LlxuICAgICAgICAgICAgaWYgKHNlc3Npb24gJiYgIXNlcnZlck1hbmFnZXNDb252ZXJzYXRpb24pIHtcbiAgICAgICAgICAgICAgICBhd2FpdCBzYXZlVG9TZXNzaW9uKHNlc3Npb24sIHJlc29sdmVTZXNzaW9uSXRlbXNGb3JQZXJzaXN0ZW5jZSgpLCBydW5SZXN1bHQpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgcmV0dXJuIHJ1blJlc3VsdDtcbiAgICAgICAgfTtcbiAgICAgICAgaWYgKHByZXBhcmVkSW5wdXQgaW5zdGFuY2VvZiBSdW5TdGF0ZSAmJiBwcmVwYXJlZElucHV0Ll90cmFjZSkge1xuICAgICAgICAgICAgcmV0dXJuIHdpdGhUcmFjZShwcmVwYXJlZElucHV0Ll90cmFjZSwgYXN5bmMgKCkgPT4ge1xuICAgICAgICAgICAgICAgIGlmIChwcmVwYXJlZElucHV0Ll9jdXJyZW50QWdlbnRTcGFuKSB7XG4gICAgICAgICAgICAgICAgICAgIHNldEN1cnJlbnRTcGFuKHByZXBhcmVkSW5wdXQuX2N1cnJlbnRBZ2VudFNwYW4pO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICByZXR1cm4gZXhlY3V0ZVJ1bigpO1xuICAgICAgICAgICAgfSk7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIGdldE9yQ3JlYXRlVHJhY2UoYXN5bmMgKCkgPT4gZXhlY3V0ZVJ1bigpLCB7XG4gICAgICAgICAgICB0cmFjZUlkOiB0aGlzLmNvbmZpZy50cmFjZUlkLFxuICAgICAgICAgICAgbmFtZTogdGhpcy5jb25maWcud29ya2Zsb3dOYW1lLFxuICAgICAgICAgICAgZ3JvdXBJZDogdGhpcy5jb25maWcuZ3JvdXBJZCxcbiAgICAgICAgICAgIG1ldGFkYXRhOiB0aGlzLmNvbmZpZy50cmFjZU1ldGFkYXRhLFxuICAgICAgICB9KTtcbiAgICB9XG4gICAgLy8gLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS1cbiAgICAvLyAgSW50ZXJuYWxzXG4gICAgLy8gLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS1cbiAgICBpbnB1dEd1YXJkcmFpbERlZnM7XG4gICAgb3V0cHV0R3VhcmRyYWlsRGVmcztcbiAgICAjZ2V0SW5wdXRHdWFyZHJhaWxEZWZpbml0aW9ucyhzdGF0ZSkge1xuICAgICAgICByZXR1cm4gdGhpcy5pbnB1dEd1YXJkcmFpbERlZnMuY29uY2F0KHN0YXRlLl9jdXJyZW50QWdlbnQuaW5wdXRHdWFyZHJhaWxzLm1hcChkZWZpbmVJbnB1dEd1YXJkcmFpbCkpO1xuICAgIH1cbiAgICAjc3BsaXRJbnB1dEd1YXJkcmFpbHMoc3RhdGUpIHtcbiAgICAgICAgY29uc3QgZ3VhcmRyYWlscyA9IHRoaXMuI2dldElucHV0R3VhcmRyYWlsRGVmaW5pdGlvbnMoc3RhdGUpO1xuICAgICAgICBjb25zdCBibG9ja2luZyA9IFtdO1xuICAgICAgICBjb25zdCBwYXJhbGxlbCA9IFtdO1xuICAgICAgICBmb3IgKGNvbnN0IGd1YXJkcmFpbCBvZiBndWFyZHJhaWxzKSB7XG4gICAgICAgICAgICBpZiAoZ3VhcmRyYWlsLnJ1bkluUGFyYWxsZWwgPT09IGZhbHNlKSB7XG4gICAgICAgICAgICAgICAgYmxvY2tpbmcucHVzaChndWFyZHJhaWwpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICAgICAgcGFyYWxsZWwucHVzaChndWFyZHJhaWwpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIHJldHVybiB7IGJsb2NraW5nLCBwYXJhbGxlbCB9O1xuICAgIH1cbiAgICAvKipcbiAgICAgKiBAaW50ZXJuYWxcbiAgICAgKiBSZXNvbHZlcyB0aGUgZWZmZWN0aXZlIG1vZGVsIG9uY2Ugc28gYm90aCBydW4gbG9vcHMgb2JleSB0aGUgc2FtZSBwcmVjZWRlbmNlIHJ1bGVzLlxuICAgICAqL1xuICAgIGFzeW5jICNyZXNvbHZlTW9kZWxGb3JBZ2VudChhZ2VudCkge1xuICAgICAgICBjb25zdCBleHBsaWN0bHlNb2RlbFNldCA9IChhZ2VudC5tb2RlbCAhPT0gdW5kZWZpbmVkICYmXG4gICAgICAgICAgICBhZ2VudC5tb2RlbCAhPT0gQWdlbnQuREVGQVVMVF9NT0RFTF9QTEFDRUhPTERFUikgfHxcbiAgICAgICAgICAgICh0aGlzLmNvbmZpZy5tb2RlbCAhPT0gdW5kZWZpbmVkICYmXG4gICAgICAgICAgICAgICAgdGhpcy5jb25maWcubW9kZWwgIT09IEFnZW50LkRFRkFVTFRfTU9ERUxfUExBQ0VIT0xERVIpO1xuICAgICAgICBsZXQgcmVzb2x2ZWRNb2RlbCA9IHNlbGVjdE1vZGVsKGFnZW50Lm1vZGVsLCB0aGlzLmNvbmZpZy5tb2RlbCk7XG4gICAgICAgIGlmICh0eXBlb2YgcmVzb2x2ZWRNb2RlbCA9PT0gJ3N0cmluZycpIHtcbiAgICAgICAgICAgIHJlc29sdmVkTW9kZWwgPSBhd2FpdCB0aGlzLmNvbmZpZy5tb2RlbFByb3ZpZGVyLmdldE1vZGVsKHJlc29sdmVkTW9kZWwpO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiB7IG1vZGVsOiByZXNvbHZlZE1vZGVsLCBleHBsaWN0bHlNb2RlbFNldCB9O1xuICAgIH1cbiAgICAvKipcbiAgICAgKiBAaW50ZXJuYWxcbiAgICAgKi9cbiAgICBhc3luYyAjcnVuSW5kaXZpZHVhbE5vblN0cmVhbShzdGFydGluZ0FnZW50LCBpbnB1dCwgb3B0aW9ucywgXG4gICAgLy8gc2Vzc2lvbklucHV0VXBkYXRlIGxldHMgdGhlIGNhbGxlciBhZGp1c3QgcXVldWVkIHNlc3Npb24gaXRlbXMgYWZ0ZXIgZmlsdGVycyBydW4gc28gd2VcbiAgICAvLyBwZXJzaXN0IGV4YWN0bHkgd2hhdCB3ZSBzZW5kIHRvIHRoZSBtb2RlbCAoZS5nLiwgYWZ0ZXIgcmVkYWN0aW9ucyBvciB0cnVuY2F0aW9uKS5cbiAgICBzZXNzaW9uSW5wdXRVcGRhdGUpIHtcbiAgICAgICAgcmV0dXJuIHdpdGhOZXdTcGFuQ29udGV4dChhc3luYyAoKSA9PiB7XG4gICAgICAgICAgICAvLyBpZiB3ZSBoYXZlIGEgc2F2ZWQgc3RhdGUgd2UgdXNlIHRoYXQgb25lLCBvdGhlcndpc2Ugd2UgY3JlYXRlIGEgbmV3IG9uZVxuICAgICAgICAgICAgY29uc3QgaXNSZXN1bWVkU3RhdGUgPSBpbnB1dCBpbnN0YW5jZW9mIFJ1blN0YXRlO1xuICAgICAgICAgICAgY29uc3Qgc3RhdGUgPSBpc1Jlc3VtZWRTdGF0ZVxuICAgICAgICAgICAgICAgID8gaW5wdXRcbiAgICAgICAgICAgICAgICA6IG5ldyBSdW5TdGF0ZShvcHRpb25zLmNvbnRleHQgaW5zdGFuY2VvZiBSdW5Db250ZXh0XG4gICAgICAgICAgICAgICAgICAgID8gb3B0aW9ucy5jb250ZXh0XG4gICAgICAgICAgICAgICAgICAgIDogbmV3IFJ1bkNvbnRleHQob3B0aW9ucy5jb250ZXh0KSwgaW5wdXQsIHN0YXJ0aW5nQWdlbnQsIG9wdGlvbnMubWF4VHVybnMgPz8gREVGQVVMVF9NQVhfVFVSTlMpO1xuICAgICAgICAgICAgY29uc3Qgc2VydmVyQ29udmVyc2F0aW9uVHJhY2tlciA9IG9wdGlvbnMuY29udmVyc2F0aW9uSWQgfHwgb3B0aW9ucy5wcmV2aW91c1Jlc3BvbnNlSWRcbiAgICAgICAgICAgICAgICA/IG5ldyBTZXJ2ZXJDb252ZXJzYXRpb25UcmFja2VyKHtcbiAgICAgICAgICAgICAgICAgICAgY29udmVyc2F0aW9uSWQ6IG9wdGlvbnMuY29udmVyc2F0aW9uSWQsXG4gICAgICAgICAgICAgICAgICAgIHByZXZpb3VzUmVzcG9uc2VJZDogb3B0aW9ucy5wcmV2aW91c1Jlc3BvbnNlSWQsXG4gICAgICAgICAgICAgICAgfSlcbiAgICAgICAgICAgICAgICA6IHVuZGVmaW5lZDtcbiAgICAgICAgICAgIGlmIChzZXJ2ZXJDb252ZXJzYXRpb25UcmFja2VyICYmIGlzUmVzdW1lZFN0YXRlKSB7XG4gICAgICAgICAgICAgICAgc2VydmVyQ29udmVyc2F0aW9uVHJhY2tlci5wcmltZUZyb21TdGF0ZSh7XG4gICAgICAgICAgICAgICAgICAgIG9yaWdpbmFsSW5wdXQ6IHN0YXRlLl9vcmlnaW5hbElucHV0LFxuICAgICAgICAgICAgICAgICAgICBnZW5lcmF0ZWRJdGVtczogc3RhdGUuX2dlbmVyYXRlZEl0ZW1zLFxuICAgICAgICAgICAgICAgICAgICBtb2RlbFJlc3BvbnNlczogc3RhdGUuX21vZGVsUmVzcG9uc2VzLFxuICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgdHJ5IHtcbiAgICAgICAgICAgICAgICB3aGlsZSAodHJ1ZSkge1xuICAgICAgICAgICAgICAgICAgICAvLyBpZiB3ZSBkb24ndCBoYXZlIGEgY3VycmVudCBzdGVwLCB3ZSB0cmVhdCB0aGlzIGFzIGEgbmV3IHJ1blxuICAgICAgICAgICAgICAgICAgICBzdGF0ZS5fY3VycmVudFN0ZXAgPSBzdGF0ZS5fY3VycmVudFN0ZXAgPz8ge1xuICAgICAgICAgICAgICAgICAgICAgICAgdHlwZTogJ25leHRfc3RlcF9ydW5fYWdhaW4nLFxuICAgICAgICAgICAgICAgICAgICB9O1xuICAgICAgICAgICAgICAgICAgICBpZiAoc3RhdGUuX2N1cnJlbnRTdGVwLnR5cGUgPT09ICduZXh0X3N0ZXBfaW50ZXJydXB0aW9uJykge1xuICAgICAgICAgICAgICAgICAgICAgICAgbG9nZ2VyLmRlYnVnKCdDb250aW51aW5nIGZyb20gaW50ZXJydXB0aW9uJyk7XG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAoIXN0YXRlLl9sYXN0VHVyblJlc3BvbnNlIHx8ICFzdGF0ZS5fbGFzdFByb2Nlc3NlZFJlc3BvbnNlKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgdGhyb3cgbmV3IFVzZXJFcnJvcignTm8gbW9kZWwgcmVzcG9uc2UgZm91bmQgaW4gcHJldmlvdXMgc3RhdGUnLCBzdGF0ZSk7XG4gICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICBjb25zdCB0dXJuUmVzdWx0ID0gYXdhaXQgcmVzb2x2ZUludGVycnVwdGVkVHVybihzdGF0ZS5fY3VycmVudEFnZW50LCBzdGF0ZS5fb3JpZ2luYWxJbnB1dCwgc3RhdGUuX2dlbmVyYXRlZEl0ZW1zLCBzdGF0ZS5fbGFzdFR1cm5SZXNwb25zZSwgc3RhdGUuX2xhc3RQcm9jZXNzZWRSZXNwb25zZSwgdGhpcywgc3RhdGUpO1xuICAgICAgICAgICAgICAgICAgICAgICAgc3RhdGUuX3Rvb2xVc2VUcmFja2VyLmFkZFRvb2xVc2Uoc3RhdGUuX2N1cnJlbnRBZ2VudCwgc3RhdGUuX2xhc3RQcm9jZXNzZWRSZXNwb25zZS50b29sc1VzZWQpO1xuICAgICAgICAgICAgICAgICAgICAgICAgc3RhdGUuX29yaWdpbmFsSW5wdXQgPSB0dXJuUmVzdWx0Lm9yaWdpbmFsSW5wdXQ7XG4gICAgICAgICAgICAgICAgICAgICAgICBzdGF0ZS5fZ2VuZXJhdGVkSXRlbXMgPSB0dXJuUmVzdWx0LmdlbmVyYXRlZEl0ZW1zO1xuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKHR1cm5SZXN1bHQubmV4dFN0ZXAudHlwZSA9PT0gJ25leHRfc3RlcF9ydW5fYWdhaW4nKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgc3RhdGUuX2N1cnJlbnRUdXJuUGVyc2lzdGVkSXRlbUNvdW50ID0gMDtcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgIHN0YXRlLl9jdXJyZW50U3RlcCA9IHR1cm5SZXN1bHQubmV4dFN0ZXA7XG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAodHVyblJlc3VsdC5uZXh0U3RlcC50eXBlID09PSAnbmV4dF9zdGVwX2ludGVycnVwdGlvbicpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAvLyB3ZSBhcmUgc3RpbGwgaW4gYW4gaW50ZXJydXB0aW9uLCBzbyB3ZSBuZWVkIHRvIGF2b2lkIGFuIGluZmluaXRlIGxvb3BcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gbmV3IFJ1blJlc3VsdChzdGF0ZSk7XG4gICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICBjb250aW51ZTtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICBpZiAoc3RhdGUuX2N1cnJlbnRTdGVwLnR5cGUgPT09ICduZXh0X3N0ZXBfcnVuX2FnYWluJykge1xuICAgICAgICAgICAgICAgICAgICAgICAgY29uc3QgYXJ0aWZhY3RzID0gYXdhaXQgcHJlcGFyZUFnZW50QXJ0aWZhY3RzKHN0YXRlKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIHN0YXRlLl9jdXJyZW50VHVybisrO1xuICAgICAgICAgICAgICAgICAgICAgICAgc3RhdGUuX2N1cnJlbnRUdXJuUGVyc2lzdGVkSXRlbUNvdW50ID0gMDtcbiAgICAgICAgICAgICAgICAgICAgICAgIGlmIChzdGF0ZS5fY3VycmVudFR1cm4gPiBzdGF0ZS5fbWF4VHVybnMpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBzdGF0ZS5fY3VycmVudEFnZW50U3Bhbj8uc2V0RXJyb3Ioe1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBtZXNzYWdlOiAnTWF4IHR1cm5zIGV4Y2VlZGVkJyxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZGF0YTogeyBtYXhfdHVybnM6IHN0YXRlLl9tYXhUdXJucyB9LFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRocm93IG5ldyBNYXhUdXJuc0V4Y2VlZGVkRXJyb3IoYE1heCB0dXJucyAoJHtzdGF0ZS5fbWF4VHVybnN9KSBleGNlZWRlZGAsIHN0YXRlKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgIGxvZ2dlci5kZWJ1ZyhgUnVubmluZyBhZ2VudCAke3N0YXRlLl9jdXJyZW50QWdlbnQubmFtZX0gKHR1cm4gJHtzdGF0ZS5fY3VycmVudFR1cm59KWApO1xuICAgICAgICAgICAgICAgICAgICAgICAgbGV0IHBhcmFsbGVsR3VhcmRyYWlsUHJvbWlzZTtcbiAgICAgICAgICAgICAgICAgICAgICAgIGlmIChzdGF0ZS5fY3VycmVudFR1cm4gPT09IDEpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBjb25zdCBndWFyZHJhaWxzID0gdGhpcy4jc3BsaXRJbnB1dEd1YXJkcmFpbHMoc3RhdGUpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmIChndWFyZHJhaWxzLmJsb2NraW5nLmxlbmd0aCA+IDApIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgYXdhaXQgdGhpcy4jcnVuSW5wdXRHdWFyZHJhaWxzKHN0YXRlLCBndWFyZHJhaWxzLmJsb2NraW5nKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKGd1YXJkcmFpbHMucGFyYWxsZWwubGVuZ3RoID4gMCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBwYXJhbGxlbEd1YXJkcmFpbFByb21pc2UgPSB0aGlzLiNydW5JbnB1dEd1YXJkcmFpbHMoc3RhdGUsIGd1YXJkcmFpbHMucGFyYWxsZWwpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBwYXJhbGxlbEd1YXJkcmFpbFByb21pc2UuY2F0Y2goKCkgPT4geyB9KTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICBjb25zdCB0dXJuSW5wdXQgPSBzZXJ2ZXJDb252ZXJzYXRpb25UcmFja2VyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgPyBzZXJ2ZXJDb252ZXJzYXRpb25UcmFja2VyLnByZXBhcmVJbnB1dChzdGF0ZS5fb3JpZ2luYWxJbnB1dCwgc3RhdGUuX2dlbmVyYXRlZEl0ZW1zKVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIDogZ2V0VHVybklucHV0KHN0YXRlLl9vcmlnaW5hbElucHV0LCBzdGF0ZS5fZ2VuZXJhdGVkSXRlbXMpO1xuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKHN0YXRlLl9ub0FjdGl2ZUFnZW50UnVuKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgc3RhdGUuX2N1cnJlbnRBZ2VudC5lbWl0KCdhZ2VudF9zdGFydCcsIHN0YXRlLl9jb250ZXh0LCBzdGF0ZS5fY3VycmVudEFnZW50KTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB0aGlzLmVtaXQoJ2FnZW50X3N0YXJ0Jywgc3RhdGUuX2NvbnRleHQsIHN0YXRlLl9jdXJyZW50QWdlbnQpO1xuICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgY29uc3QgcHJlcGFyZWRDYWxsID0gYXdhaXQgdGhpcy4jcHJlcGFyZU1vZGVsQ2FsbChzdGF0ZSwgb3B0aW9ucywgYXJ0aWZhY3RzLCB0dXJuSW5wdXQsIHNlcnZlckNvbnZlcnNhdGlvblRyYWNrZXIsIHNlc3Npb25JbnB1dFVwZGF0ZSk7XG4gICAgICAgICAgICAgICAgICAgICAgICBzdGF0ZS5fbGFzdFR1cm5SZXNwb25zZSA9IGF3YWl0IHByZXBhcmVkQ2FsbC5tb2RlbC5nZXRSZXNwb25zZSh7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgc3lzdGVtSW5zdHJ1Y3Rpb25zOiBwcmVwYXJlZENhbGwubW9kZWxJbnB1dC5pbnN0cnVjdGlvbnMsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgcHJvbXB0OiBwcmVwYXJlZENhbGwucHJvbXB0LFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIC8vIEV4cGxpY2l0IGFnZW50L3J1biBjb25maWcgbW9kZWxzIHNob3VsZCB0YWtlIHByZWNlZGVuY2Ugb3ZlciBwcm9tcHQgZGVmYXVsdHMuXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgLi4uKHByZXBhcmVkQ2FsbC5leHBsaWN0bHlNb2RlbFNldFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA/IHsgb3ZlcnJpZGVQcm9tcHRNb2RlbDogdHJ1ZSB9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDoge30pLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlucHV0OiBwcmVwYXJlZENhbGwubW9kZWxJbnB1dC5pbnB1dCxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBwcmV2aW91c1Jlc3BvbnNlSWQ6IHByZXBhcmVkQ2FsbC5wcmV2aW91c1Jlc3BvbnNlSWQsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgY29udmVyc2F0aW9uSWQ6IHByZXBhcmVkQ2FsbC5jb252ZXJzYXRpb25JZCxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBtb2RlbFNldHRpbmdzOiBwcmVwYXJlZENhbGwubW9kZWxTZXR0aW5ncyxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB0b29sczogcHJlcGFyZWRDYWxsLnNlcmlhbGl6ZWRUb29scyxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB0b29sc0V4cGxpY2l0bHlQcm92aWRlZDogcHJlcGFyZWRDYWxsLnRvb2xzRXhwbGljaXRseVByb3ZpZGVkLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIG91dHB1dFR5cGU6IGNvbnZlcnRBZ2VudE91dHB1dFR5cGVUb1NlcmlhbGl6YWJsZShzdGF0ZS5fY3VycmVudEFnZW50Lm91dHB1dFR5cGUpLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGhhbmRvZmZzOiBwcmVwYXJlZENhbGwuc2VyaWFsaXplZEhhbmRvZmZzLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRyYWNpbmc6IGdldFRyYWNpbmcodGhpcy5jb25maWcudHJhY2luZ0Rpc2FibGVkLCB0aGlzLmNvbmZpZy50cmFjZUluY2x1ZGVTZW5zaXRpdmVEYXRhKSxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBzaWduYWw6IG9wdGlvbnMuc2lnbmFsLFxuICAgICAgICAgICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICAgICAgICAgICAgICBzdGF0ZS5fbW9kZWxSZXNwb25zZXMucHVzaChzdGF0ZS5fbGFzdFR1cm5SZXNwb25zZSk7XG4gICAgICAgICAgICAgICAgICAgICAgICBzdGF0ZS5fY29udGV4dC51c2FnZS5hZGQoc3RhdGUuX2xhc3RUdXJuUmVzcG9uc2UudXNhZ2UpO1xuICAgICAgICAgICAgICAgICAgICAgICAgc3RhdGUuX25vQWN0aXZlQWdlbnRSdW4gPSBmYWxzZTtcbiAgICAgICAgICAgICAgICAgICAgICAgIC8vIEFmdGVyIGVhY2ggdHVybiByZWNvcmQgdGhlIGl0ZW1zIGVjaG9lZCBieSB0aGUgc2VydmVyIHNvIGZ1dHVyZSByZXF1ZXN0cyBvbmx5XG4gICAgICAgICAgICAgICAgICAgICAgICAvLyBpbmNsdWRlIHRoZSBpbmNyZW1lbnRhbCBpbnB1dHMgdGhhdCBoYXZlIG5vdCB5ZXQgYmVlbiBhY2tub3dsZWRnZWQuXG4gICAgICAgICAgICAgICAgICAgICAgICBzZXJ2ZXJDb252ZXJzYXRpb25UcmFja2VyPy50cmFja1NlcnZlckl0ZW1zKHN0YXRlLl9sYXN0VHVyblJlc3BvbnNlKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIGNvbnN0IHByb2Nlc3NlZFJlc3BvbnNlID0gcHJvY2Vzc01vZGVsUmVzcG9uc2Uoc3RhdGUuX2xhc3RUdXJuUmVzcG9uc2UsIHN0YXRlLl9jdXJyZW50QWdlbnQsIHByZXBhcmVkQ2FsbC50b29scywgcHJlcGFyZWRDYWxsLmhhbmRvZmZzKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIHN0YXRlLl9sYXN0UHJvY2Vzc2VkUmVzcG9uc2UgPSBwcm9jZXNzZWRSZXNwb25zZTtcbiAgICAgICAgICAgICAgICAgICAgICAgIGNvbnN0IHR1cm5SZXN1bHQgPSBhd2FpdCByZXNvbHZlVHVybkFmdGVyTW9kZWxSZXNwb25zZShzdGF0ZS5fY3VycmVudEFnZW50LCBzdGF0ZS5fb3JpZ2luYWxJbnB1dCwgc3RhdGUuX2dlbmVyYXRlZEl0ZW1zLCBzdGF0ZS5fbGFzdFR1cm5SZXNwb25zZSwgc3RhdGUuX2xhc3RQcm9jZXNzZWRSZXNwb25zZSwgdGhpcywgc3RhdGUpO1xuICAgICAgICAgICAgICAgICAgICAgICAgc3RhdGUuX3Rvb2xVc2VUcmFja2VyLmFkZFRvb2xVc2Uoc3RhdGUuX2N1cnJlbnRBZ2VudCwgc3RhdGUuX2xhc3RQcm9jZXNzZWRSZXNwb25zZS50b29sc1VzZWQpO1xuICAgICAgICAgICAgICAgICAgICAgICAgc3RhdGUuX29yaWdpbmFsSW5wdXQgPSB0dXJuUmVzdWx0Lm9yaWdpbmFsSW5wdXQ7XG4gICAgICAgICAgICAgICAgICAgICAgICBzdGF0ZS5fZ2VuZXJhdGVkSXRlbXMgPSB0dXJuUmVzdWx0LmdlbmVyYXRlZEl0ZW1zO1xuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKHR1cm5SZXN1bHQubmV4dFN0ZXAudHlwZSA9PT0gJ25leHRfc3RlcF9ydW5fYWdhaW4nKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgc3RhdGUuX2N1cnJlbnRUdXJuUGVyc2lzdGVkSXRlbUNvdW50ID0gMDtcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgIHN0YXRlLl9jdXJyZW50U3RlcCA9IHR1cm5SZXN1bHQubmV4dFN0ZXA7XG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAocGFyYWxsZWxHdWFyZHJhaWxQcm9taXNlKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgYXdhaXQgcGFyYWxsZWxHdWFyZHJhaWxQcm9taXNlO1xuICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIGlmIChzdGF0ZS5fY3VycmVudFN0ZXAgJiZcbiAgICAgICAgICAgICAgICAgICAgICAgIHN0YXRlLl9jdXJyZW50U3RlcC50eXBlID09PSAnbmV4dF9zdGVwX2ZpbmFsX291dHB1dCcpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGF3YWl0IHRoaXMuI3J1bk91dHB1dEd1YXJkcmFpbHMoc3RhdGUsIHN0YXRlLl9jdXJyZW50U3RlcC5vdXRwdXQpO1xuICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5lbWl0KCdhZ2VudF9lbmQnLCBzdGF0ZS5fY29udGV4dCwgc3RhdGUuX2N1cnJlbnRBZ2VudCwgc3RhdGUuX2N1cnJlbnRTdGVwLm91dHB1dCk7XG4gICAgICAgICAgICAgICAgICAgICAgICBzdGF0ZS5fY3VycmVudEFnZW50LmVtaXQoJ2FnZW50X2VuZCcsIHN0YXRlLl9jb250ZXh0LCBzdGF0ZS5fY3VycmVudFN0ZXAub3V0cHV0KTtcbiAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiBuZXcgUnVuUmVzdWx0KHN0YXRlKTtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICBlbHNlIGlmIChzdGF0ZS5fY3VycmVudFN0ZXAgJiZcbiAgICAgICAgICAgICAgICAgICAgICAgIHN0YXRlLl9jdXJyZW50U3RlcC50eXBlID09PSAnbmV4dF9zdGVwX2hhbmRvZmYnKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBzdGF0ZS5fY3VycmVudEFnZW50ID0gc3RhdGUuX2N1cnJlbnRTdGVwLm5ld0FnZW50O1xuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKHN0YXRlLl9jdXJyZW50QWdlbnRTcGFuKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgc3RhdGUuX2N1cnJlbnRBZ2VudFNwYW4uZW5kKCk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgcmVzZXRDdXJyZW50U3BhbigpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHN0YXRlLl9jdXJyZW50QWdlbnRTcGFuID0gdW5kZWZpbmVkO1xuICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgc3RhdGUuX25vQWN0aXZlQWdlbnRSdW4gPSB0cnVlO1xuICAgICAgICAgICAgICAgICAgICAgICAgLy8gd2UndmUgcHJvY2Vzc2VkIHRoZSBoYW5kb2ZmLCBzbyB3ZSBuZWVkIHRvIHJ1biB0aGUgbG9vcCBhZ2FpblxuICAgICAgICAgICAgICAgICAgICAgICAgc3RhdGUuX2N1cnJlbnRTdGVwID0geyB0eXBlOiAnbmV4dF9zdGVwX3J1bl9hZ2FpbicgfTtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICBlbHNlIGlmIChzdGF0ZS5fY3VycmVudFN0ZXAgJiZcbiAgICAgICAgICAgICAgICAgICAgICAgIHN0YXRlLl9jdXJyZW50U3RlcC50eXBlID09PSAnbmV4dF9zdGVwX2ludGVycnVwdGlvbicpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIC8vIGludGVycnVwdGVkLiBEb24ndCBydW4gYW55IGd1YXJkcmFpbHNcbiAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiBuZXcgUnVuUmVzdWx0KHN0YXRlKTtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGxvZ2dlci5kZWJ1ZygnUnVubmluZyBuZXh0IGxvb3AnKTtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGNhdGNoIChlcnIpIHtcbiAgICAgICAgICAgICAgICBpZiAoc3RhdGUuX2N1cnJlbnRBZ2VudFNwYW4pIHtcbiAgICAgICAgICAgICAgICAgICAgc3RhdGUuX2N1cnJlbnRBZ2VudFNwYW4uc2V0RXJyb3Ioe1xuICAgICAgICAgICAgICAgICAgICAgICAgbWVzc2FnZTogJ0Vycm9yIGluIGFnZW50IHJ1bicsXG4gICAgICAgICAgICAgICAgICAgICAgICBkYXRhOiB7IGVycm9yOiBTdHJpbmcoZXJyKSB9LFxuICAgICAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgdGhyb3cgZXJyO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgZmluYWxseSB7XG4gICAgICAgICAgICAgICAgaWYgKHN0YXRlLl9jdXJyZW50QWdlbnRTcGFuKSB7XG4gICAgICAgICAgICAgICAgICAgIGlmIChzdGF0ZS5fY3VycmVudFN0ZXA/LnR5cGUgIT09ICduZXh0X3N0ZXBfaW50ZXJydXB0aW9uJykge1xuICAgICAgICAgICAgICAgICAgICAgICAgLy8gZG9uJ3QgZW5kIHRoZSBzcGFuIGlmIHRoZSBydW4gd2FzIGludGVycnVwdGVkXG4gICAgICAgICAgICAgICAgICAgICAgICBzdGF0ZS5fY3VycmVudEFnZW50U3Bhbi5lbmQoKTtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICByZXNldEN1cnJlbnRTcGFuKCk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICB9KTtcbiAgICB9XG4gICAgLyoqXG4gICAgICogQGludGVybmFsXG4gICAgICovXG4gICAgYXN5bmMgI3J1blN0cmVhbUxvb3AocmVzdWx0LCBvcHRpb25zLCBpc1Jlc3VtZWRTdGF0ZSwgZW5zdXJlU3RyZWFtSW5wdXRQZXJzaXN0ZWQsIHNlc3Npb25JbnB1dFVwZGF0ZSkge1xuICAgICAgICBjb25zdCBzZXJ2ZXJNYW5hZ2VzQ29udmVyc2F0aW9uID0gQm9vbGVhbihvcHRpb25zLmNvbnZlcnNhdGlvbklkKSB8fCBCb29sZWFuKG9wdGlvbnMucHJldmlvdXNSZXNwb25zZUlkKTtcbiAgICAgICAgY29uc3Qgc2VydmVyQ29udmVyc2F0aW9uVHJhY2tlciA9IHNlcnZlck1hbmFnZXNDb252ZXJzYXRpb25cbiAgICAgICAgICAgID8gbmV3IFNlcnZlckNvbnZlcnNhdGlvblRyYWNrZXIoe1xuICAgICAgICAgICAgICAgIGNvbnZlcnNhdGlvbklkOiBvcHRpb25zLmNvbnZlcnNhdGlvbklkLFxuICAgICAgICAgICAgICAgIHByZXZpb3VzUmVzcG9uc2VJZDogb3B0aW9ucy5wcmV2aW91c1Jlc3BvbnNlSWQsXG4gICAgICAgICAgICB9KVxuICAgICAgICAgICAgOiB1bmRlZmluZWQ7XG4gICAgICAgIGxldCBoYW5kZWRJbnB1dFRvTW9kZWwgPSBmYWxzZTtcbiAgICAgICAgbGV0IHN0cmVhbUlucHV0UGVyc2lzdGVkID0gZmFsc2U7XG4gICAgICAgIGNvbnN0IHBlcnNpc3RTdHJlYW1JbnB1dElmTmVlZGVkID0gYXN5bmMgKCkgPT4ge1xuICAgICAgICAgICAgaWYgKHN0cmVhbUlucHV0UGVyc2lzdGVkIHx8ICFlbnN1cmVTdHJlYW1JbnB1dFBlcnNpc3RlZCkge1xuICAgICAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIC8vIEJvdGggc3VjY2VzcyBhbmQgZXJyb3IgcGF0aHMgY2FsbCB0aGlzIGhlbHBlciwgc28gZ3VhcmQgYWdhaW5zdCBtdWx0aXBsZSB3cml0ZXMuXG4gICAgICAgICAgICBhd2FpdCBlbnN1cmVTdHJlYW1JbnB1dFBlcnNpc3RlZCgpO1xuICAgICAgICAgICAgc3RyZWFtSW5wdXRQZXJzaXN0ZWQgPSB0cnVlO1xuICAgICAgICB9O1xuICAgICAgICBpZiAoc2VydmVyQ29udmVyc2F0aW9uVHJhY2tlciAmJiBpc1Jlc3VtZWRTdGF0ZSkge1xuICAgICAgICAgICAgc2VydmVyQ29udmVyc2F0aW9uVHJhY2tlci5wcmltZUZyb21TdGF0ZSh7XG4gICAgICAgICAgICAgICAgb3JpZ2luYWxJbnB1dDogcmVzdWx0LnN0YXRlLl9vcmlnaW5hbElucHV0LFxuICAgICAgICAgICAgICAgIGdlbmVyYXRlZEl0ZW1zOiByZXN1bHQuc3RhdGUuX2dlbmVyYXRlZEl0ZW1zLFxuICAgICAgICAgICAgICAgIG1vZGVsUmVzcG9uc2VzOiByZXN1bHQuc3RhdGUuX21vZGVsUmVzcG9uc2VzLFxuICAgICAgICAgICAgfSk7XG4gICAgICAgIH1cbiAgICAgICAgdHJ5IHtcbiAgICAgICAgICAgIHdoaWxlICh0cnVlKSB7XG4gICAgICAgICAgICAgICAgY29uc3QgY3VycmVudEFnZW50ID0gcmVzdWx0LnN0YXRlLl9jdXJyZW50QWdlbnQ7XG4gICAgICAgICAgICAgICAgcmVzdWx0LnN0YXRlLl9jdXJyZW50U3RlcCA9IHJlc3VsdC5zdGF0ZS5fY3VycmVudFN0ZXAgPz8ge1xuICAgICAgICAgICAgICAgICAgICB0eXBlOiAnbmV4dF9zdGVwX3J1bl9hZ2FpbicsXG4gICAgICAgICAgICAgICAgfTtcbiAgICAgICAgICAgICAgICBpZiAocmVzdWx0LnN0YXRlLl9jdXJyZW50U3RlcC50eXBlID09PSAnbmV4dF9zdGVwX2ludGVycnVwdGlvbicpIHtcbiAgICAgICAgICAgICAgICAgICAgbG9nZ2VyLmRlYnVnKCdDb250aW51aW5nIGZyb20gaW50ZXJydXB0aW9uJyk7XG4gICAgICAgICAgICAgICAgICAgIGlmICghcmVzdWx0LnN0YXRlLl9sYXN0VHVyblJlc3BvbnNlIHx8XG4gICAgICAgICAgICAgICAgICAgICAgICAhcmVzdWx0LnN0YXRlLl9sYXN0UHJvY2Vzc2VkUmVzcG9uc2UpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHRocm93IG5ldyBVc2VyRXJyb3IoJ05vIG1vZGVsIHJlc3BvbnNlIGZvdW5kIGluIHByZXZpb3VzIHN0YXRlJywgcmVzdWx0LnN0YXRlKTtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICBjb25zdCB0dXJuUmVzdWx0ID0gYXdhaXQgcmVzb2x2ZUludGVycnVwdGVkVHVybihyZXN1bHQuc3RhdGUuX2N1cnJlbnRBZ2VudCwgcmVzdWx0LnN0YXRlLl9vcmlnaW5hbElucHV0LCByZXN1bHQuc3RhdGUuX2dlbmVyYXRlZEl0ZW1zLCByZXN1bHQuc3RhdGUuX2xhc3RUdXJuUmVzcG9uc2UsIHJlc3VsdC5zdGF0ZS5fbGFzdFByb2Nlc3NlZFJlc3BvbnNlLCB0aGlzLCByZXN1bHQuc3RhdGUpO1xuICAgICAgICAgICAgICAgICAgICBhZGRTdGVwVG9SdW5SZXN1bHQocmVzdWx0LCB0dXJuUmVzdWx0KTtcbiAgICAgICAgICAgICAgICAgICAgcmVzdWx0LnN0YXRlLl90b29sVXNlVHJhY2tlci5hZGRUb29sVXNlKHJlc3VsdC5zdGF0ZS5fY3VycmVudEFnZW50LCByZXN1bHQuc3RhdGUuX2xhc3RQcm9jZXNzZWRSZXNwb25zZS50b29sc1VzZWQpO1xuICAgICAgICAgICAgICAgICAgICByZXN1bHQuc3RhdGUuX29yaWdpbmFsSW5wdXQgPSB0dXJuUmVzdWx0Lm9yaWdpbmFsSW5wdXQ7XG4gICAgICAgICAgICAgICAgICAgIHJlc3VsdC5zdGF0ZS5fZ2VuZXJhdGVkSXRlbXMgPSB0dXJuUmVzdWx0LmdlbmVyYXRlZEl0ZW1zO1xuICAgICAgICAgICAgICAgICAgICBpZiAodHVyblJlc3VsdC5uZXh0U3RlcC50eXBlID09PSAnbmV4dF9zdGVwX3J1bl9hZ2FpbicpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHJlc3VsdC5zdGF0ZS5fY3VycmVudFR1cm5QZXJzaXN0ZWRJdGVtQ291bnQgPSAwO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIHJlc3VsdC5zdGF0ZS5fY3VycmVudFN0ZXAgPSB0dXJuUmVzdWx0Lm5leHRTdGVwO1xuICAgICAgICAgICAgICAgICAgICBpZiAodHVyblJlc3VsdC5uZXh0U3RlcC50eXBlID09PSAnbmV4dF9zdGVwX2ludGVycnVwdGlvbicpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIC8vIHdlIGFyZSBzdGlsbCBpbiBhbiBpbnRlcnJ1cHRpb24sIHNvIHdlIG5lZWQgdG8gYXZvaWQgYW4gaW5maW5pdGUgbG9vcFxuICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIGNvbnRpbnVlO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBpZiAocmVzdWx0LnN0YXRlLl9jdXJyZW50U3RlcC50eXBlID09PSAnbmV4dF9zdGVwX3J1bl9hZ2FpbicpIHtcbiAgICAgICAgICAgICAgICAgICAgY29uc3QgYXJ0aWZhY3RzID0gYXdhaXQgcHJlcGFyZUFnZW50QXJ0aWZhY3RzKHJlc3VsdC5zdGF0ZSk7XG4gICAgICAgICAgICAgICAgICAgIHJlc3VsdC5zdGF0ZS5fY3VycmVudFR1cm4rKztcbiAgICAgICAgICAgICAgICAgICAgcmVzdWx0LnN0YXRlLl9jdXJyZW50VHVyblBlcnNpc3RlZEl0ZW1Db3VudCA9IDA7XG4gICAgICAgICAgICAgICAgICAgIGlmIChyZXN1bHQuc3RhdGUuX2N1cnJlbnRUdXJuID4gcmVzdWx0LnN0YXRlLl9tYXhUdXJucykge1xuICAgICAgICAgICAgICAgICAgICAgICAgcmVzdWx0LnN0YXRlLl9jdXJyZW50QWdlbnRTcGFuPy5zZXRFcnJvcih7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgbWVzc2FnZTogJ01heCB0dXJucyBleGNlZWRlZCcsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgZGF0YTogeyBtYXhfdHVybnM6IHJlc3VsdC5zdGF0ZS5fbWF4VHVybnMgfSxcbiAgICAgICAgICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgICAgICAgICAgICAgdGhyb3cgbmV3IE1heFR1cm5zRXhjZWVkZWRFcnJvcihgTWF4IHR1cm5zICgke3Jlc3VsdC5zdGF0ZS5fbWF4VHVybnN9KSBleGNlZWRlZGAsIHJlc3VsdC5zdGF0ZSk7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgbG9nZ2VyLmRlYnVnKGBSdW5uaW5nIGFnZW50ICR7Y3VycmVudEFnZW50Lm5hbWV9ICh0dXJuICR7cmVzdWx0LnN0YXRlLl9jdXJyZW50VHVybn0pYCk7XG4gICAgICAgICAgICAgICAgICAgIGxldCBndWFyZHJhaWxFcnJvcjtcbiAgICAgICAgICAgICAgICAgICAgbGV0IHBhcmFsbGVsR3VhcmRyYWlsUHJvbWlzZTtcbiAgICAgICAgICAgICAgICAgICAgaWYgKHJlc3VsdC5zdGF0ZS5fY3VycmVudFR1cm4gPT09IDEpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGNvbnN0IGd1YXJkcmFpbHMgPSB0aGlzLiNzcGxpdElucHV0R3VhcmRyYWlscyhyZXN1bHQuc3RhdGUpO1xuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKGd1YXJkcmFpbHMuYmxvY2tpbmcubGVuZ3RoID4gMCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGF3YWl0IHRoaXMuI3J1bklucHV0R3VhcmRyYWlscyhyZXN1bHQuc3RhdGUsIGd1YXJkcmFpbHMuYmxvY2tpbmcpO1xuICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKGd1YXJkcmFpbHMucGFyYWxsZWwubGVuZ3RoID4gMCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNvbnN0IHByb21pc2UgPSB0aGlzLiNydW5JbnB1dEd1YXJkcmFpbHMocmVzdWx0LnN0YXRlLCBndWFyZHJhaWxzLnBhcmFsbGVsKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBwYXJhbGxlbEd1YXJkcmFpbFByb21pc2UgPSBwcm9taXNlLmNhdGNoKChlcnIpID0+IHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZ3VhcmRyYWlsRXJyb3IgPSBlcnI7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiBbXTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICBjb25zdCB0dXJuSW5wdXQgPSBzZXJ2ZXJDb252ZXJzYXRpb25UcmFja2VyXG4gICAgICAgICAgICAgICAgICAgICAgICA/IHNlcnZlckNvbnZlcnNhdGlvblRyYWNrZXIucHJlcGFyZUlucHV0KHJlc3VsdC5pbnB1dCwgcmVzdWx0Lm5ld0l0ZW1zKVxuICAgICAgICAgICAgICAgICAgICAgICAgOiBnZXRUdXJuSW5wdXQocmVzdWx0LmlucHV0LCByZXN1bHQubmV3SXRlbXMpO1xuICAgICAgICAgICAgICAgICAgICBpZiAocmVzdWx0LnN0YXRlLl9ub0FjdGl2ZUFnZW50UnVuKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBjdXJyZW50QWdlbnQuZW1pdCgnYWdlbnRfc3RhcnQnLCByZXN1bHQuc3RhdGUuX2NvbnRleHQsIGN1cnJlbnRBZ2VudCk7XG4gICAgICAgICAgICAgICAgICAgICAgICB0aGlzLmVtaXQoJ2FnZW50X3N0YXJ0JywgcmVzdWx0LnN0YXRlLl9jb250ZXh0LCBjdXJyZW50QWdlbnQpO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIGxldCBmaW5hbFJlc3BvbnNlID0gdW5kZWZpbmVkO1xuICAgICAgICAgICAgICAgICAgICBjb25zdCBwcmVwYXJlZENhbGwgPSBhd2FpdCB0aGlzLiNwcmVwYXJlTW9kZWxDYWxsKHJlc3VsdC5zdGF0ZSwgb3B0aW9ucywgYXJ0aWZhY3RzLCB0dXJuSW5wdXQsIHNlcnZlckNvbnZlcnNhdGlvblRyYWNrZXIsIHNlc3Npb25JbnB1dFVwZGF0ZSk7XG4gICAgICAgICAgICAgICAgICAgIGlmIChndWFyZHJhaWxFcnJvcikge1xuICAgICAgICAgICAgICAgICAgICAgICAgdGhyb3cgZ3VhcmRyYWlsRXJyb3I7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgaGFuZGVkSW5wdXRUb01vZGVsID0gdHJ1ZTtcbiAgICAgICAgICAgICAgICAgICAgYXdhaXQgcGVyc2lzdFN0cmVhbUlucHV0SWZOZWVkZWQoKTtcbiAgICAgICAgICAgICAgICAgICAgZm9yIGF3YWl0IChjb25zdCBldmVudCBvZiBwcmVwYXJlZENhbGwubW9kZWwuZ2V0U3RyZWFtZWRSZXNwb25zZSh7XG4gICAgICAgICAgICAgICAgICAgICAgICBzeXN0ZW1JbnN0cnVjdGlvbnM6IHByZXBhcmVkQ2FsbC5tb2RlbElucHV0Lmluc3RydWN0aW9ucyxcbiAgICAgICAgICAgICAgICAgICAgICAgIHByb21wdDogcHJlcGFyZWRDYWxsLnByb21wdCxcbiAgICAgICAgICAgICAgICAgICAgICAgIC8vIFN0cmVhbWluZyByZXF1ZXN0cyBzaG91bGQgYWxzbyBob25vciBleHBsaWNpdGx5IGNob3NlbiBtb2RlbHMuXG4gICAgICAgICAgICAgICAgICAgICAgICAuLi4ocHJlcGFyZWRDYWxsLmV4cGxpY3RseU1vZGVsU2V0XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgPyB7IG92ZXJyaWRlUHJvbXB0TW9kZWw6IHRydWUgfVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIDoge30pLFxuICAgICAgICAgICAgICAgICAgICAgICAgaW5wdXQ6IHByZXBhcmVkQ2FsbC5tb2RlbElucHV0LmlucHV0LFxuICAgICAgICAgICAgICAgICAgICAgICAgcHJldmlvdXNSZXNwb25zZUlkOiBwcmVwYXJlZENhbGwucHJldmlvdXNSZXNwb25zZUlkLFxuICAgICAgICAgICAgICAgICAgICAgICAgY29udmVyc2F0aW9uSWQ6IHByZXBhcmVkQ2FsbC5jb252ZXJzYXRpb25JZCxcbiAgICAgICAgICAgICAgICAgICAgICAgIG1vZGVsU2V0dGluZ3M6IHByZXBhcmVkQ2FsbC5tb2RlbFNldHRpbmdzLFxuICAgICAgICAgICAgICAgICAgICAgICAgdG9vbHM6IHByZXBhcmVkQ2FsbC5zZXJpYWxpemVkVG9vbHMsXG4gICAgICAgICAgICAgICAgICAgICAgICB0b29sc0V4cGxpY2l0bHlQcm92aWRlZDogcHJlcGFyZWRDYWxsLnRvb2xzRXhwbGljaXRseVByb3ZpZGVkLFxuICAgICAgICAgICAgICAgICAgICAgICAgaGFuZG9mZnM6IHByZXBhcmVkQ2FsbC5zZXJpYWxpemVkSGFuZG9mZnMsXG4gICAgICAgICAgICAgICAgICAgICAgICBvdXRwdXRUeXBlOiBjb252ZXJ0QWdlbnRPdXRwdXRUeXBlVG9TZXJpYWxpemFibGUoY3VycmVudEFnZW50Lm91dHB1dFR5cGUpLFxuICAgICAgICAgICAgICAgICAgICAgICAgdHJhY2luZzogZ2V0VHJhY2luZyh0aGlzLmNvbmZpZy50cmFjaW5nRGlzYWJsZWQsIHRoaXMuY29uZmlnLnRyYWNlSW5jbHVkZVNlbnNpdGl2ZURhdGEpLFxuICAgICAgICAgICAgICAgICAgICAgICAgc2lnbmFsOiBvcHRpb25zLnNpZ25hbCxcbiAgICAgICAgICAgICAgICAgICAgfSkpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGlmIChndWFyZHJhaWxFcnJvcikge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRocm93IGd1YXJkcmFpbEVycm9yO1xuICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKGV2ZW50LnR5cGUgPT09ICdyZXNwb25zZV9kb25lJykge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNvbnN0IHBhcnNlZCA9IFN0cmVhbUV2ZW50UmVzcG9uc2VDb21wbGV0ZWQucGFyc2UoZXZlbnQpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGZpbmFsUmVzcG9uc2UgPSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHVzYWdlOiBuZXcgVXNhZ2UocGFyc2VkLnJlc3BvbnNlLnVzYWdlKSxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgb3V0cHV0OiBwYXJzZWQucmVzcG9uc2Uub3V0cHV0LFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXNwb25zZUlkOiBwYXJzZWQucmVzcG9uc2UuaWQsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfTtcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgIGlmIChyZXN1bHQuY2FuY2VsbGVkKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgLy8gV2hlbiB0aGUgdXNlcidzIGNvZGUgZXhpdHMgYSBsb29wIHRvIGNvbnN1bWUgdGhlIHN0cmVhbSwgd2UgbmVlZCB0byBicmVha1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIC8vIHRoaXMgbG9vcCB0byBwcmV2ZW50IGludGVybmFsIGZhbHNlIGVycm9ycyBhbmQgdW5uZWNlc3NhcnkgcHJvY2Vzc2luZ1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgIHJlc3VsdC5fYWRkSXRlbShuZXcgUnVuUmF3TW9kZWxTdHJlYW1FdmVudChldmVudCkpO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIGlmIChwYXJhbGxlbEd1YXJkcmFpbFByb21pc2UpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGF3YWl0IHBhcmFsbGVsR3VhcmRyYWlsUHJvbWlzZTtcbiAgICAgICAgICAgICAgICAgICAgICAgIGlmIChndWFyZHJhaWxFcnJvcikge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRocm93IGd1YXJkcmFpbEVycm9yO1xuICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIHJlc3VsdC5zdGF0ZS5fbm9BY3RpdmVBZ2VudFJ1biA9IGZhbHNlO1xuICAgICAgICAgICAgICAgICAgICBpZiAoIWZpbmFsUmVzcG9uc2UpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHRocm93IG5ldyBNb2RlbEJlaGF2aW9yRXJyb3IoJ01vZGVsIGRpZCBub3QgcHJvZHVjZSBhIGZpbmFsIHJlc3BvbnNlIScsIHJlc3VsdC5zdGF0ZSk7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgcmVzdWx0LnN0YXRlLl9sYXN0VHVyblJlc3BvbnNlID0gZmluYWxSZXNwb25zZTtcbiAgICAgICAgICAgICAgICAgICAgLy8gS2VlcCB0aGUgdHJhY2tlciBpbiBzeW5jIHdpdGggdGhlIHN0cmVhbWVkIHJlc3BvbnNlIHNvIHJlY29ubmVjdGlvbnMgcmVtYWluIGFjY3VyYXRlLlxuICAgICAgICAgICAgICAgICAgICBzZXJ2ZXJDb252ZXJzYXRpb25UcmFja2VyPy50cmFja1NlcnZlckl0ZW1zKGZpbmFsUmVzcG9uc2UpO1xuICAgICAgICAgICAgICAgICAgICByZXN1bHQuc3RhdGUuX21vZGVsUmVzcG9uc2VzLnB1c2gocmVzdWx0LnN0YXRlLl9sYXN0VHVyblJlc3BvbnNlKTtcbiAgICAgICAgICAgICAgICAgICAgY29uc3QgcHJvY2Vzc2VkUmVzcG9uc2UgPSBwcm9jZXNzTW9kZWxSZXNwb25zZShyZXN1bHQuc3RhdGUuX2xhc3RUdXJuUmVzcG9uc2UsIGN1cnJlbnRBZ2VudCwgcHJlcGFyZWRDYWxsLnRvb2xzLCBwcmVwYXJlZENhbGwuaGFuZG9mZnMpO1xuICAgICAgICAgICAgICAgICAgICByZXN1bHQuc3RhdGUuX2xhc3RQcm9jZXNzZWRSZXNwb25zZSA9IHByb2Nlc3NlZFJlc3BvbnNlO1xuICAgICAgICAgICAgICAgICAgICAvLyBSZWNvcmQgdGhlIGl0ZW1zIGVtaXR0ZWQgZGlyZWN0bHkgZnJvbSB0aGUgbW9kZWwgcmVzcG9uc2Ugc28gd2UgZG8gbm90XG4gICAgICAgICAgICAgICAgICAgIC8vIHN0cmVhbSB0aGVtIGFnYWluIGFmdGVyIHRvb2xzIGFuZCBvdGhlciBzaWRlIGVmZmVjdHMgZmluaXNoLlxuICAgICAgICAgICAgICAgICAgICBjb25zdCBwcmVUb29sSXRlbXMgPSBuZXcgU2V0KHByb2Nlc3NlZFJlc3BvbnNlLm5ld0l0ZW1zKTtcbiAgICAgICAgICAgICAgICAgICAgaWYgKHByZVRvb2xJdGVtcy5zaXplID4gMCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgc3RyZWFtU3RlcEl0ZW1zVG9SdW5SZXN1bHQocmVzdWx0LCBwcm9jZXNzZWRSZXNwb25zZS5uZXdJdGVtcyk7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgY29uc3QgdHVyblJlc3VsdCA9IGF3YWl0IHJlc29sdmVUdXJuQWZ0ZXJNb2RlbFJlc3BvbnNlKGN1cnJlbnRBZ2VudCwgcmVzdWx0LnN0YXRlLl9vcmlnaW5hbElucHV0LCByZXN1bHQuc3RhdGUuX2dlbmVyYXRlZEl0ZW1zLCByZXN1bHQuc3RhdGUuX2xhc3RUdXJuUmVzcG9uc2UsIHJlc3VsdC5zdGF0ZS5fbGFzdFByb2Nlc3NlZFJlc3BvbnNlLCB0aGlzLCByZXN1bHQuc3RhdGUpO1xuICAgICAgICAgICAgICAgICAgICBhZGRTdGVwVG9SdW5SZXN1bHQocmVzdWx0LCB0dXJuUmVzdWx0LCB7XG4gICAgICAgICAgICAgICAgICAgICAgICBza2lwSXRlbXM6IHByZVRvb2xJdGVtcyxcbiAgICAgICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICAgICAgICAgIHJlc3VsdC5zdGF0ZS5fdG9vbFVzZVRyYWNrZXIuYWRkVG9vbFVzZShjdXJyZW50QWdlbnQsIHByb2Nlc3NlZFJlc3BvbnNlLnRvb2xzVXNlZCk7XG4gICAgICAgICAgICAgICAgICAgIHJlc3VsdC5zdGF0ZS5fb3JpZ2luYWxJbnB1dCA9IHR1cm5SZXN1bHQub3JpZ2luYWxJbnB1dDtcbiAgICAgICAgICAgICAgICAgICAgcmVzdWx0LnN0YXRlLl9nZW5lcmF0ZWRJdGVtcyA9IHR1cm5SZXN1bHQuZ2VuZXJhdGVkSXRlbXM7XG4gICAgICAgICAgICAgICAgICAgIGlmICh0dXJuUmVzdWx0Lm5leHRTdGVwLnR5cGUgPT09ICduZXh0X3N0ZXBfcnVuX2FnYWluJykge1xuICAgICAgICAgICAgICAgICAgICAgICAgcmVzdWx0LnN0YXRlLl9jdXJyZW50VHVyblBlcnNpc3RlZEl0ZW1Db3VudCA9IDA7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgcmVzdWx0LnN0YXRlLl9jdXJyZW50U3RlcCA9IHR1cm5SZXN1bHQubmV4dFN0ZXA7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGlmIChyZXN1bHQuc3RhdGUuX2N1cnJlbnRTdGVwLnR5cGUgPT09ICduZXh0X3N0ZXBfZmluYWxfb3V0cHV0Jykge1xuICAgICAgICAgICAgICAgICAgICBhd2FpdCB0aGlzLiNydW5PdXRwdXRHdWFyZHJhaWxzKHJlc3VsdC5zdGF0ZSwgcmVzdWx0LnN0YXRlLl9jdXJyZW50U3RlcC5vdXRwdXQpO1xuICAgICAgICAgICAgICAgICAgICBhd2FpdCBwZXJzaXN0U3RyZWFtSW5wdXRJZk5lZWRlZCgpO1xuICAgICAgICAgICAgICAgICAgICAvLyBHdWFyZHJhaWxzIG11c3Qgc3VjY2VlZCBiZWZvcmUgcGVyc2lzdGluZyBzZXNzaW9uIG1lbW9yeSB0byBhdm9pZCBzdG9yaW5nIGJsb2NrZWQgb3V0cHV0cy5cbiAgICAgICAgICAgICAgICAgICAgaWYgKCFzZXJ2ZXJNYW5hZ2VzQ29udmVyc2F0aW9uKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBhd2FpdCBzYXZlU3RyZWFtUmVzdWx0VG9TZXNzaW9uKG9wdGlvbnMuc2Vzc2lvbiwgcmVzdWx0KTtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICB0aGlzLmVtaXQoJ2FnZW50X2VuZCcsIHJlc3VsdC5zdGF0ZS5fY29udGV4dCwgY3VycmVudEFnZW50LCByZXN1bHQuc3RhdGUuX2N1cnJlbnRTdGVwLm91dHB1dCk7XG4gICAgICAgICAgICAgICAgICAgIGN1cnJlbnRBZ2VudC5lbWl0KCdhZ2VudF9lbmQnLCByZXN1bHQuc3RhdGUuX2NvbnRleHQsIHJlc3VsdC5zdGF0ZS5fY3VycmVudFN0ZXAub3V0cHV0KTtcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBlbHNlIGlmIChyZXN1bHQuc3RhdGUuX2N1cnJlbnRTdGVwLnR5cGUgPT09ICduZXh0X3N0ZXBfaW50ZXJydXB0aW9uJykge1xuICAgICAgICAgICAgICAgICAgICAvLyB3ZSBhcmUgZG9uZSBmb3Igbm93LiBEb24ndCBydW4gYW55IG91dHB1dCBndWFyZHJhaWxzXG4gICAgICAgICAgICAgICAgICAgIGF3YWl0IHBlcnNpc3RTdHJlYW1JbnB1dElmTmVlZGVkKCk7XG4gICAgICAgICAgICAgICAgICAgIGlmICghc2VydmVyTWFuYWdlc0NvbnZlcnNhdGlvbikge1xuICAgICAgICAgICAgICAgICAgICAgICAgYXdhaXQgc2F2ZVN0cmVhbVJlc3VsdFRvU2Vzc2lvbihvcHRpb25zLnNlc3Npb24sIHJlc3VsdCk7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBlbHNlIGlmIChyZXN1bHQuc3RhdGUuX2N1cnJlbnRTdGVwLnR5cGUgPT09ICduZXh0X3N0ZXBfaGFuZG9mZicpIHtcbiAgICAgICAgICAgICAgICAgICAgcmVzdWx0LnN0YXRlLl9jdXJyZW50QWdlbnQgPSByZXN1bHQuc3RhdGUuX2N1cnJlbnRTdGVwXG4gICAgICAgICAgICAgICAgICAgICAgICA/Lm5ld0FnZW50O1xuICAgICAgICAgICAgICAgICAgICBpZiAocmVzdWx0LnN0YXRlLl9jdXJyZW50QWdlbnRTcGFuKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICByZXN1bHQuc3RhdGUuX2N1cnJlbnRBZ2VudFNwYW4uZW5kKCk7XG4gICAgICAgICAgICAgICAgICAgICAgICByZXNldEN1cnJlbnRTcGFuKCk7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgcmVzdWx0LnN0YXRlLl9jdXJyZW50QWdlbnRTcGFuID0gdW5kZWZpbmVkO1xuICAgICAgICAgICAgICAgICAgICByZXN1bHQuX2FkZEl0ZW0obmV3IFJ1bkFnZW50VXBkYXRlZFN0cmVhbUV2ZW50KHJlc3VsdC5zdGF0ZS5fY3VycmVudEFnZW50KSk7XG4gICAgICAgICAgICAgICAgICAgIHJlc3VsdC5zdGF0ZS5fbm9BY3RpdmVBZ2VudFJ1biA9IHRydWU7XG4gICAgICAgICAgICAgICAgICAgIC8vIHdlJ3ZlIHByb2Nlc3NlZCB0aGUgaGFuZG9mZiwgc28gd2UgbmVlZCB0byBydW4gdGhlIGxvb3AgYWdhaW5cbiAgICAgICAgICAgICAgICAgICAgcmVzdWx0LnN0YXRlLl9jdXJyZW50U3RlcCA9IHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHR5cGU6ICduZXh0X3N0ZXBfcnVuX2FnYWluJyxcbiAgICAgICAgICAgICAgICAgICAgfTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgIGxvZ2dlci5kZWJ1ZygnUnVubmluZyBuZXh0IGxvb3AnKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgY2F0Y2ggKGVycm9yKSB7XG4gICAgICAgICAgICBpZiAoaGFuZGVkSW5wdXRUb01vZGVsICYmICFzdHJlYW1JbnB1dFBlcnNpc3RlZCkge1xuICAgICAgICAgICAgICAgIGF3YWl0IHBlcnNpc3RTdHJlYW1JbnB1dElmTmVlZGVkKCk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBpZiAocmVzdWx0LnN0YXRlLl9jdXJyZW50QWdlbnRTcGFuKSB7XG4gICAgICAgICAgICAgICAgcmVzdWx0LnN0YXRlLl9jdXJyZW50QWdlbnRTcGFuLnNldEVycm9yKHtcbiAgICAgICAgICAgICAgICAgICAgbWVzc2FnZTogJ0Vycm9yIGluIGFnZW50IHJ1bicsXG4gICAgICAgICAgICAgICAgICAgIGRhdGE6IHsgZXJyb3I6IFN0cmluZyhlcnJvcikgfSxcbiAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHRocm93IGVycm9yO1xuICAgICAgICB9XG4gICAgICAgIGZpbmFsbHkge1xuICAgICAgICAgICAgaWYgKHJlc3VsdC5zdGF0ZS5fY3VycmVudEFnZW50U3Bhbikge1xuICAgICAgICAgICAgICAgIGlmIChyZXN1bHQuc3RhdGUuX2N1cnJlbnRTdGVwPy50eXBlICE9PSAnbmV4dF9zdGVwX2ludGVycnVwdGlvbicpIHtcbiAgICAgICAgICAgICAgICAgICAgcmVzdWx0LnN0YXRlLl9jdXJyZW50QWdlbnRTcGFuLmVuZCgpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICByZXNldEN1cnJlbnRTcGFuKCk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICB9XG4gICAgLyoqXG4gICAgICogQGludGVybmFsXG4gICAgICovXG4gICAgYXN5bmMgI3J1bkluZGl2aWR1YWxTdHJlYW0oYWdlbnQsIGlucHV0LCBvcHRpb25zLCBlbnN1cmVTdHJlYW1JbnB1dFBlcnNpc3RlZCwgc2Vzc2lvbklucHV0VXBkYXRlKSB7XG4gICAgICAgIG9wdGlvbnMgPSBvcHRpb25zID8/IHt9O1xuICAgICAgICByZXR1cm4gd2l0aE5ld1NwYW5Db250ZXh0KGFzeW5jICgpID0+IHtcbiAgICAgICAgICAgIC8vIEluaXRpYWxpemUgb3IgcmV1c2UgZXhpc3Rpbmcgc3RhdGVcbiAgICAgICAgICAgIGNvbnN0IGlzUmVzdW1lZFN0YXRlID0gaW5wdXQgaW5zdGFuY2VvZiBSdW5TdGF0ZTtcbiAgICAgICAgICAgIGNvbnN0IHN0YXRlID0gaXNSZXN1bWVkU3RhdGVcbiAgICAgICAgICAgICAgICA/IGlucHV0XG4gICAgICAgICAgICAgICAgOiBuZXcgUnVuU3RhdGUob3B0aW9ucy5jb250ZXh0IGluc3RhbmNlb2YgUnVuQ29udGV4dFxuICAgICAgICAgICAgICAgICAgICA/IG9wdGlvbnMuY29udGV4dFxuICAgICAgICAgICAgICAgICAgICA6IG5ldyBSdW5Db250ZXh0KG9wdGlvbnMuY29udGV4dCksIGlucHV0LCBhZ2VudCwgb3B0aW9ucy5tYXhUdXJucyA/PyBERUZBVUxUX01BWF9UVVJOUyk7XG4gICAgICAgICAgICAvLyBJbml0aWFsaXplIHRoZSBzdHJlYW1lZCByZXN1bHQgd2l0aCBleGlzdGluZyBzdGF0ZVxuICAgICAgICAgICAgY29uc3QgcmVzdWx0ID0gbmV3IFN0cmVhbWVkUnVuUmVzdWx0KHtcbiAgICAgICAgICAgICAgICBzaWduYWw6IG9wdGlvbnMuc2lnbmFsLFxuICAgICAgICAgICAgICAgIHN0YXRlLFxuICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICAvLyBTZXR1cCBkZWZhdWx0c1xuICAgICAgICAgICAgcmVzdWx0Lm1heFR1cm5zID0gb3B0aW9ucy5tYXhUdXJucyA/PyBzdGF0ZS5fbWF4VHVybnM7XG4gICAgICAgICAgICAvLyBDb250aW51ZSB0aGUgc3RyZWFtIGxvb3Agd2l0aG91dCBibG9ja2luZ1xuICAgICAgICAgICAgY29uc3Qgc3RyZWFtTG9vcFByb21pc2UgPSB0aGlzLiNydW5TdHJlYW1Mb29wKHJlc3VsdCwgb3B0aW9ucywgaXNSZXN1bWVkU3RhdGUsIGVuc3VyZVN0cmVhbUlucHV0UGVyc2lzdGVkLCBzZXNzaW9uSW5wdXRVcGRhdGUpLnRoZW4oKCkgPT4ge1xuICAgICAgICAgICAgICAgIHJlc3VsdC5fZG9uZSgpO1xuICAgICAgICAgICAgfSwgKGVycikgPT4ge1xuICAgICAgICAgICAgICAgIHJlc3VsdC5fcmFpc2VFcnJvcihlcnIpO1xuICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICAvLyBBdHRhY2ggdGhlIHN0cmVhbSBsb29wIHByb21pc2Ugc28gdHJhY2UgZW5kIHdhaXRzIGZvciB0aGUgbG9vcCB0byBjb21wbGV0ZVxuICAgICAgICAgICAgcmVzdWx0Ll9zZXRTdHJlYW1Mb29wUHJvbWlzZShzdHJlYW1Mb29wUHJvbWlzZSk7XG4gICAgICAgICAgICByZXR1cm4gcmVzdWx0O1xuICAgICAgICB9KTtcbiAgICB9XG4gICAgYXN5bmMgI3J1bklucHV0R3VhcmRyYWlscyhzdGF0ZSwgZ3VhcmRyYWlsc092ZXJyaWRlKSB7XG4gICAgICAgIGNvbnN0IGd1YXJkcmFpbHMgPSBndWFyZHJhaWxzT3ZlcnJpZGUgPz8gdGhpcy4jZ2V0SW5wdXRHdWFyZHJhaWxEZWZpbml0aW9ucyhzdGF0ZSk7XG4gICAgICAgIGlmIChndWFyZHJhaWxzLmxlbmd0aCA+IDApIHtcbiAgICAgICAgICAgIGNvbnN0IGd1YXJkcmFpbEFyZ3MgPSB7XG4gICAgICAgICAgICAgICAgYWdlbnQ6IHN0YXRlLl9jdXJyZW50QWdlbnQsXG4gICAgICAgICAgICAgICAgaW5wdXQ6IHN0YXRlLl9vcmlnaW5hbElucHV0LFxuICAgICAgICAgICAgICAgIGNvbnRleHQ6IHN0YXRlLl9jb250ZXh0LFxuICAgICAgICAgICAgfTtcbiAgICAgICAgICAgIHRyeSB7XG4gICAgICAgICAgICAgICAgY29uc3QgcmVzdWx0cyA9IGF3YWl0IFByb21pc2UuYWxsKGd1YXJkcmFpbHMubWFwKGFzeW5jIChndWFyZHJhaWwpID0+IHtcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIHdpdGhHdWFyZHJhaWxTcGFuKGFzeW5jIChzcGFuKSA9PiB7XG4gICAgICAgICAgICAgICAgICAgICAgICBjb25zdCByZXN1bHQgPSBhd2FpdCBndWFyZHJhaWwucnVuKGd1YXJkcmFpbEFyZ3MpO1xuICAgICAgICAgICAgICAgICAgICAgICAgc3Bhbi5zcGFuRGF0YS50cmlnZ2VyZWQgPSByZXN1bHQub3V0cHV0LnRyaXB3aXJlVHJpZ2dlcmVkO1xuICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIHJlc3VsdDtcbiAgICAgICAgICAgICAgICAgICAgfSwgeyBkYXRhOiB7IG5hbWU6IGd1YXJkcmFpbC5uYW1lIH0gfSwgc3RhdGUuX2N1cnJlbnRBZ2VudFNwYW4pO1xuICAgICAgICAgICAgICAgIH0pKTtcbiAgICAgICAgICAgICAgICBzdGF0ZS5faW5wdXRHdWFyZHJhaWxSZXN1bHRzLnB1c2goLi4ucmVzdWx0cyk7XG4gICAgICAgICAgICAgICAgZm9yIChjb25zdCByZXN1bHQgb2YgcmVzdWx0cykge1xuICAgICAgICAgICAgICAgICAgICBpZiAocmVzdWx0Lm91dHB1dC50cmlwd2lyZVRyaWdnZXJlZCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKHN0YXRlLl9jdXJyZW50QWdlbnRTcGFuKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgc3RhdGUuX2N1cnJlbnRBZ2VudFNwYW4uc2V0RXJyb3Ioe1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBtZXNzYWdlOiAnR3VhcmRyYWlsIHRyaXB3aXJlIHRyaWdnZXJlZCcsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGRhdGE6IHsgZ3VhcmRyYWlsOiByZXN1bHQuZ3VhcmRyYWlsLm5hbWUgfSxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgIHRocm93IG5ldyBJbnB1dEd1YXJkcmFpbFRyaXB3aXJlVHJpZ2dlcmVkKGBJbnB1dCBndWFyZHJhaWwgdHJpZ2dlcmVkOiAke0pTT04uc3RyaW5naWZ5KHJlc3VsdC5vdXRwdXQub3V0cHV0SW5mbyl9YCwgcmVzdWx0LCBzdGF0ZSk7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgcmV0dXJuIHJlc3VsdHM7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBjYXRjaCAoZSkge1xuICAgICAgICAgICAgICAgIGlmIChlIGluc3RhbmNlb2YgSW5wdXRHdWFyZHJhaWxUcmlwd2lyZVRyaWdnZXJlZCkge1xuICAgICAgICAgICAgICAgICAgICB0aHJvdyBlO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAvLyByb2xsIGJhY2sgdGhlIGN1cnJlbnQgdHVybiB0byBlbmFibGUgcmVydW5zXG4gICAgICAgICAgICAgICAgc3RhdGUuX2N1cnJlbnRUdXJuLS07XG4gICAgICAgICAgICAgICAgdGhyb3cgbmV3IEd1YXJkcmFpbEV4ZWN1dGlvbkVycm9yKGBJbnB1dCBndWFyZHJhaWwgZmFpbGVkIHRvIGNvbXBsZXRlOiAke2V9YCwgZSwgc3RhdGUpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIHJldHVybiBbXTtcbiAgICB9XG4gICAgYXN5bmMgI3J1bk91dHB1dEd1YXJkcmFpbHMoc3RhdGUsIG91dHB1dCkge1xuICAgICAgICBjb25zdCBndWFyZHJhaWxzID0gdGhpcy5vdXRwdXRHdWFyZHJhaWxEZWZzLmNvbmNhdChzdGF0ZS5fY3VycmVudEFnZW50Lm91dHB1dEd1YXJkcmFpbHMubWFwKGRlZmluZU91dHB1dEd1YXJkcmFpbCkpO1xuICAgICAgICBpZiAoZ3VhcmRyYWlscy5sZW5ndGggPiAwKSB7XG4gICAgICAgICAgICBjb25zdCBhZ2VudE91dHB1dCA9IHN0YXRlLl9jdXJyZW50QWdlbnQucHJvY2Vzc0ZpbmFsT3V0cHV0KG91dHB1dCk7XG4gICAgICAgICAgICBjb25zdCBydW5PdXRwdXQgPSBnZXRUdXJuSW5wdXQoW10sIHN0YXRlLl9nZW5lcmF0ZWRJdGVtcyk7XG4gICAgICAgICAgICBjb25zdCBndWFyZHJhaWxBcmdzID0ge1xuICAgICAgICAgICAgICAgIGFnZW50OiBzdGF0ZS5fY3VycmVudEFnZW50LFxuICAgICAgICAgICAgICAgIGFnZW50T3V0cHV0LFxuICAgICAgICAgICAgICAgIGNvbnRleHQ6IHN0YXRlLl9jb250ZXh0LFxuICAgICAgICAgICAgICAgIGRldGFpbHM6IHtcbiAgICAgICAgICAgICAgICAgICAgbW9kZWxSZXNwb25zZTogc3RhdGUuX2xhc3RUdXJuUmVzcG9uc2UsXG4gICAgICAgICAgICAgICAgICAgIG91dHB1dDogcnVuT3V0cHV0LFxuICAgICAgICAgICAgICAgIH0sXG4gICAgICAgICAgICB9O1xuICAgICAgICAgICAgdHJ5IHtcbiAgICAgICAgICAgICAgICBjb25zdCByZXN1bHRzID0gYXdhaXQgUHJvbWlzZS5hbGwoZ3VhcmRyYWlscy5tYXAoYXN5bmMgKGd1YXJkcmFpbCkgPT4ge1xuICAgICAgICAgICAgICAgICAgICByZXR1cm4gd2l0aEd1YXJkcmFpbFNwYW4oYXN5bmMgKHNwYW4pID0+IHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGNvbnN0IHJlc3VsdCA9IGF3YWl0IGd1YXJkcmFpbC5ydW4oZ3VhcmRyYWlsQXJncyk7XG4gICAgICAgICAgICAgICAgICAgICAgICBzcGFuLnNwYW5EYXRhLnRyaWdnZXJlZCA9IHJlc3VsdC5vdXRwdXQudHJpcHdpcmVUcmlnZ2VyZWQ7XG4gICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gcmVzdWx0O1xuICAgICAgICAgICAgICAgICAgICB9LCB7IGRhdGE6IHsgbmFtZTogZ3VhcmRyYWlsLm5hbWUgfSB9LCBzdGF0ZS5fY3VycmVudEFnZW50U3Bhbik7XG4gICAgICAgICAgICAgICAgfSkpO1xuICAgICAgICAgICAgICAgIGZvciAoY29uc3QgcmVzdWx0IG9mIHJlc3VsdHMpIHtcbiAgICAgICAgICAgICAgICAgICAgaWYgKHJlc3VsdC5vdXRwdXQudHJpcHdpcmVUcmlnZ2VyZWQpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGlmIChzdGF0ZS5fY3VycmVudEFnZW50U3Bhbikge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHN0YXRlLl9jdXJyZW50QWdlbnRTcGFuLnNldEVycm9yKHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgbWVzc2FnZTogJ0d1YXJkcmFpbCB0cmlwd2lyZSB0cmlnZ2VyZWQnLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBkYXRhOiB7IGd1YXJkcmFpbDogcmVzdWx0Lmd1YXJkcmFpbC5uYW1lIH0sXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICB0aHJvdyBuZXcgT3V0cHV0R3VhcmRyYWlsVHJpcHdpcmVUcmlnZ2VyZWQoYE91dHB1dCBndWFyZHJhaWwgdHJpZ2dlcmVkOiAke0pTT04uc3RyaW5naWZ5KHJlc3VsdC5vdXRwdXQub3V0cHV0SW5mbyl9YCwgcmVzdWx0LCBzdGF0ZSk7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBjYXRjaCAoZSkge1xuICAgICAgICAgICAgICAgIGlmIChlIGluc3RhbmNlb2YgT3V0cHV0R3VhcmRyYWlsVHJpcHdpcmVUcmlnZ2VyZWQpIHtcbiAgICAgICAgICAgICAgICAgICAgdGhyb3cgZTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgdGhyb3cgbmV3IEd1YXJkcmFpbEV4ZWN1dGlvbkVycm9yKGBPdXRwdXQgZ3VhcmRyYWlsIGZhaWxlZCB0byBjb21wbGV0ZTogJHtlfWAsIGUsIHN0YXRlKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgIH1cbiAgICAvKipcbiAgICAgKiBAaW50ZXJuYWxcbiAgICAgKiBBcHBsaWVzIGNhbGwtbGV2ZWwgZmlsdGVycyBhbmQgbWVyZ2VzIHNlc3Npb24gdXBkYXRlcyBzbyB0aGUgbW9kZWwgcmVxdWVzdCBtaXJyb3JzIGV4YWN0bHlcbiAgICAgKiB3aGF0IHdlIHBlcnNpc3RlZCBmb3IgaGlzdG9yeS5cbiAgICAgKi9cbiAgICBhc3luYyAjcHJlcGFyZU1vZGVsQ2FsbChzdGF0ZSwgb3B0aW9ucywgYXJ0aWZhY3RzLCB0dXJuSW5wdXQsIHNlcnZlckNvbnZlcnNhdGlvblRyYWNrZXIsIHNlc3Npb25JbnB1dFVwZGF0ZSkge1xuICAgICAgICBjb25zdCB7IG1vZGVsLCBleHBsaWN0bHlNb2RlbFNldCB9ID0gYXdhaXQgdGhpcy4jcmVzb2x2ZU1vZGVsRm9yQWdlbnQoc3RhdGUuX2N1cnJlbnRBZ2VudCk7XG4gICAgICAgIGxldCBtb2RlbFNldHRpbmdzID0ge1xuICAgICAgICAgICAgLi4udGhpcy5jb25maWcubW9kZWxTZXR0aW5ncyxcbiAgICAgICAgICAgIC4uLnN0YXRlLl9jdXJyZW50QWdlbnQubW9kZWxTZXR0aW5ncyxcbiAgICAgICAgfTtcbiAgICAgICAgbW9kZWxTZXR0aW5ncyA9IGFkanVzdE1vZGVsU2V0dGluZ3NGb3JOb25HUFQ1UnVubmVyTW9kZWwoZXhwbGljdGx5TW9kZWxTZXQsIHN0YXRlLl9jdXJyZW50QWdlbnQubW9kZWxTZXR0aW5ncywgbW9kZWwsIG1vZGVsU2V0dGluZ3MpO1xuICAgICAgICBtb2RlbFNldHRpbmdzID0gbWF5YmVSZXNldFRvb2xDaG9pY2Uoc3RhdGUuX2N1cnJlbnRBZ2VudCwgc3RhdGUuX3Rvb2xVc2VUcmFja2VyLCBtb2RlbFNldHRpbmdzKTtcbiAgICAgICAgY29uc3Qgc3lzdGVtSW5zdHJ1Y3Rpb25zID0gYXdhaXQgc3RhdGUuX2N1cnJlbnRBZ2VudC5nZXRTeXN0ZW1Qcm9tcHQoc3RhdGUuX2NvbnRleHQpO1xuICAgICAgICBjb25zdCBwcm9tcHQgPSBhd2FpdCBzdGF0ZS5fY3VycmVudEFnZW50LmdldFByb21wdChzdGF0ZS5fY29udGV4dCk7XG4gICAgICAgIGNvbnN0IHsgbW9kZWxJbnB1dCwgc291cmNlSXRlbXMsIHBlcnNpc3RlZEl0ZW1zLCBmaWx0ZXJBcHBsaWVkIH0gPSBhd2FpdCBhcHBseUNhbGxNb2RlbElucHV0RmlsdGVyKHN0YXRlLl9jdXJyZW50QWdlbnQsIG9wdGlvbnMuY2FsbE1vZGVsSW5wdXRGaWx0ZXIsIHN0YXRlLl9jb250ZXh0LCB0dXJuSW5wdXQsIHN5c3RlbUluc3RydWN0aW9ucyk7XG4gICAgICAgIC8vIEluZm9ybSB0aGUgdHJhY2tlciB3aGljaCBleGFjdCBvcmlnaW5hbCBvYmplY3RzIG1hZGUgaXQgdG8gdGhlIHByb3ZpZGVyIHNvIGZ1dHVyZSB0dXJuc1xuICAgICAgICAvLyBvbmx5IHNlbmQgdGhlIGRlbHRhIHRoYXQgaGFzIG5vdCB5ZXQgYmVlbiBhY2tub3dsZWRnZWQgYnkgdGhlIHNlcnZlci5cbiAgICAgICAgc2VydmVyQ29udmVyc2F0aW9uVHJhY2tlcj8ubWFya0lucHV0QXNTZW50KHNvdXJjZUl0ZW1zKTtcbiAgICAgICAgLy8gUHJvdmlkZSBmaWx0ZXJlZCBjbG9uZXMgd2hlbmV2ZXIgZmlsdGVycyBydW4gc28gc2Vzc2lvbiBoaXN0b3J5IG1pcnJvcnMgdGhlIG1vZGVsIHBheWxvYWQuXG4gICAgICAgIC8vIFJldHVybmluZyBhbiBlbXB0eSBhcnJheSBpcyBpbnRlbnRpb25hbDogaXQgdGVsbHMgdGhlIHNlc3Npb24gbGF5ZXIgdG8gcGVyc2lzdCBcIm5vdGhpbmdcIlxuICAgICAgICAvLyBpbnN0ZWFkIG9mIGZhbGxpbmcgYmFjayB0byB0aGUgdW5maWx0ZXJlZCBvcmlnaW5hbHMgd2hlbiB0aGUgZmlsdGVyIHJlZGFjdHMgZXZlcnl0aGluZy5cbiAgICAgICAgc2Vzc2lvbklucHV0VXBkYXRlPy4oc291cmNlSXRlbXMsIGZpbHRlckFwcGxpZWQgPyBwZXJzaXN0ZWRJdGVtcyA6IHVuZGVmaW5lZCk7XG4gICAgICAgIGNvbnN0IHByZXZpb3VzUmVzcG9uc2VJZCA9IHNlcnZlckNvbnZlcnNhdGlvblRyYWNrZXI/LnByZXZpb3VzUmVzcG9uc2VJZCA/P1xuICAgICAgICAgICAgb3B0aW9ucy5wcmV2aW91c1Jlc3BvbnNlSWQ7XG4gICAgICAgIGNvbnN0IGNvbnZlcnNhdGlvbklkID0gc2VydmVyQ29udmVyc2F0aW9uVHJhY2tlcj8uY29udmVyc2F0aW9uSWQgPz8gb3B0aW9ucy5jb252ZXJzYXRpb25JZDtcbiAgICAgICAgcmV0dXJuIHtcbiAgICAgICAgICAgIC4uLmFydGlmYWN0cyxcbiAgICAgICAgICAgIG1vZGVsLFxuICAgICAgICAgICAgZXhwbGljdGx5TW9kZWxTZXQsXG4gICAgICAgICAgICBtb2RlbFNldHRpbmdzLFxuICAgICAgICAgICAgbW9kZWxJbnB1dCxcbiAgICAgICAgICAgIHByb21wdCxcbiAgICAgICAgICAgIHByZXZpb3VzUmVzcG9uc2VJZCxcbiAgICAgICAgICAgIGNvbnZlcnNhdGlvbklkLFxuICAgICAgICB9O1xuICAgIH1cbn1cbi8qKlxuICogQ29uc3RydWN0cyB0aGUgbW9kZWwgaW5wdXQgYXJyYXkgZm9yIHRoZSBjdXJyZW50IHR1cm4gYnkgY29tYmluaW5nIHRoZSBvcmlnaW5hbCB0dXJuIGlucHV0IHdpdGhcbiAqIGFueSBuZXcgcnVuIGl0ZW1zIChleGNsdWRpbmcgdG9vbCBhcHByb3ZhbCBwbGFjZWhvbGRlcnMpLiBUaGlzIGhlbHBzIGVuc3VyZSB0aGF0IHJlcGVhdGVkIGNhbGxzXG4gKiB0byB0aGUgUmVzcG9uc2VzIEFQSSBvbmx5IHNlbmQgbmV3bHkgZ2VuZXJhdGVkIGNvbnRlbnQuXG4gKlxuICogU2VlOiBodHRwczovL3BsYXRmb3JtLm9wZW5haS5jb20vZG9jcy9ndWlkZXMvY29udmVyc2F0aW9uLXN0YXRlP2FwaS1tb2RlPXJlc3BvbnNlcy5cbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIGdldFR1cm5JbnB1dChvcmlnaW5hbElucHV0LCBnZW5lcmF0ZWRJdGVtcykge1xuICAgIGNvbnN0IHJhd0l0ZW1zID0gZ2VuZXJhdGVkSXRlbXNcbiAgICAgICAgLmZpbHRlcigoaXRlbSkgPT4gaXRlbS50eXBlICE9PSAndG9vbF9hcHByb3ZhbF9pdGVtJykgLy8gZG9uJ3QgaW5jbHVkZSBhcHByb3ZhbCBpdGVtcyB0byBhdm9pZCBkb3VibGUgZnVuY3Rpb24gY2FsbHNcbiAgICAgICAgLm1hcCgoaXRlbSkgPT4gaXRlbS5yYXdJdGVtKTtcbiAgICByZXR1cm4gWy4uLnRvQWdlbnRJbnB1dExpc3Qob3JpZ2luYWxJbnB1dCksIC4uLnJhd0l0ZW1zXTtcbn1cbi8vIC0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tXG4vLyAgSW50ZXJuYWwgaGVscGVyc1xuLy8gLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS1cbmNvbnN0IERFRkFVTFRfTUFYX1RVUk5TID0gMTA7XG5sZXQgX2RlZmF1bHRSdW5uZXIgPSB1bmRlZmluZWQ7XG5mdW5jdGlvbiBnZXREZWZhdWx0UnVubmVyKCkge1xuICAgIGlmIChfZGVmYXVsdFJ1bm5lcikge1xuICAgICAgICByZXR1cm4gX2RlZmF1bHRSdW5uZXI7XG4gICAgfVxuICAgIF9kZWZhdWx0UnVubmVyID0gbmV3IFJ1bm5lcigpO1xuICAgIHJldHVybiBfZGVmYXVsdFJ1bm5lcjtcbn1cbi8qKlxuICogUmVzb2x2ZXMgdGhlIGVmZmVjdGl2ZSBtb2RlbCBmb3IgdGhlIG5leHQgdHVybiBieSBnaXZpbmcgcHJlY2VkZW5jZSB0byB0aGUgYWdlbnQtc3BlY2lmaWNcbiAqIGNvbmZpZ3VyYXRpb24gd2hlbiBwcmVzZW50LCBvdGhlcndpc2UgZmFsbGluZyBiYWNrIHRvIHRoZSBydW5uZXItbGV2ZWwgZGVmYXVsdC5cbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIHNlbGVjdE1vZGVsKGFnZW50TW9kZWwsIHJ1bkNvbmZpZ01vZGVsKSB7XG4gICAgLy8gV2hlbiBpbml0aWFsaXppbmcgYW4gYWdlbnQgd2l0aG91dCBtb2RlbCBuYW1lLCB0aGUgbW9kZWwgcHJvcGVydHkgaXMgc2V0IHRvIGFuIGVtcHR5IHN0cmluZy4gU28sXG4gICAgLy8gKiBhZ2VudE1vZGVsID09PSBBZ2VudC5ERUZBVUxUX01PREVMX1BMQUNFSE9MREVSICYgcnVuQ29uZmlnTW9kZWwgZXhpc3RzLCBydW5Db25maWdNb2RlbCB3aWxsIGJlIHVzZWRcbiAgICAvLyAqIGFnZW50TW9kZWwgaXMgc2V0LCB0aGUgYWdlbnRNb2RlbCB3aWxsIGJlIHVzZWQgb3ZlciBydW5Db25maWdNb2RlbFxuICAgIGlmICgodHlwZW9mIGFnZW50TW9kZWwgPT09ICdzdHJpbmcnICYmXG4gICAgICAgIGFnZW50TW9kZWwgIT09IEFnZW50LkRFRkFVTFRfTU9ERUxfUExBQ0VIT0xERVIpIHx8XG4gICAgICAgIGFnZW50TW9kZWwgLy8gYW55IHRydXRoeSB2YWx1ZVxuICAgICkge1xuICAgICAgICByZXR1cm4gYWdlbnRNb2RlbDtcbiAgICB9XG4gICAgcmV0dXJuIHJ1bkNvbmZpZ01vZGVsID8/IGFnZW50TW9kZWwgPz8gQWdlbnQuREVGQVVMVF9NT0RFTF9QTEFDRUhPTERFUjtcbn1cbi8qKlxuICogTm9ybWFsaXplcyB0cmFjaW5nIGNvbmZpZ3VyYXRpb24gaW50byB0aGUgZm9ybWF0IGV4cGVjdGVkIGJ5IG1vZGVsIHByb3ZpZGVycy5cbiAqIFJldHVybnMgYGZhbHNlYCB0byBkaXNhYmxlIHRyYWNpbmcsIGB0cnVlYCB0byBpbmNsdWRlIGZ1bGwgcGF5bG9hZCBkYXRhLCBvclxuICogYCdlbmFibGVkX3dpdGhvdXRfZGF0YSdgIHRvIG9taXQgc2Vuc2l0aXZlIGNvbnRlbnQgd2hpbGUgc3RpbGwgZW1pdHRpbmcgc3BhbnMuXG4gKi9cbmV4cG9ydCBmdW5jdGlvbiBnZXRUcmFjaW5nKHRyYWNpbmdEaXNhYmxlZCwgdHJhY2VJbmNsdWRlU2Vuc2l0aXZlRGF0YSkge1xuICAgIGlmICh0cmFjaW5nRGlzYWJsZWQpIHtcbiAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgIH1cbiAgICBpZiAodHJhY2VJbmNsdWRlU2Vuc2l0aXZlRGF0YSkge1xuICAgICAgICByZXR1cm4gdHJ1ZTtcbiAgICB9XG4gICAgcmV0dXJuICdlbmFibGVkX3dpdGhvdXRfZGF0YSc7XG59XG4vKipcbiAqIEBpbnRlcm5hbFxuICovXG5hc3luYyBmdW5jdGlvbiBhcHBseUNhbGxNb2RlbElucHV0RmlsdGVyKGFnZW50LCBjYWxsTW9kZWxJbnB1dEZpbHRlciwgY29udGV4dCwgaW5wdXRJdGVtcywgc3lzdGVtSW5zdHJ1Y3Rpb25zKSB7XG4gICAgY29uc3QgY2xvbmVJbnB1dEl0ZW1zID0gKGl0ZW1zLCBtYXApID0+IGl0ZW1zLm1hcCgoaXRlbSkgPT4ge1xuICAgICAgICBjb25zdCBjbG9uZWQgPSBzdHJ1Y3R1cmVkQ2xvbmUoaXRlbSk7XG4gICAgICAgIGlmIChtYXAgJiYgY2xvbmVkICYmIHR5cGVvZiBjbG9uZWQgPT09ICdvYmplY3QnKSB7XG4gICAgICAgICAgICBtYXAuc2V0KGNsb25lZCwgaXRlbSk7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIGNsb25lZDtcbiAgICB9KTtcbiAgICAvLyBSZWNvcmQgdGhlIHJlbGF0aW9uc2hpcCBiZXR3ZWVuIHRoZSBjbG9uZWQgYXJyYXkgcGFzc2VkIHRvIGZpbHRlcnMgYW5kIHRoZSBvcmlnaW5hbCBpbnB1dHMuXG4gICAgY29uc3QgY2xvbmVNYXAgPSBuZXcgV2Vha01hcCgpO1xuICAgIGNvbnN0IG9yaWdpbmFsUG9vbCA9IGJ1aWxkQWdlbnRJbnB1dFBvb2woaW5wdXRJdGVtcyk7XG4gICAgY29uc3QgZmFsbGJhY2tPcmlnaW5hbHMgPSBbXTtcbiAgICAvLyBUcmFjayBhbnkgb3JpZ2luYWwgb2JqZWN0IGlucHV0cyBzbyBmaWx0ZXJlZCByZXBsYWNlbWVudHMgY2FuIHN0aWxsIG1hcmsgdGhlbSBhcyBkZWxpdmVyZWQuXG4gICAgZm9yIChjb25zdCBpdGVtIG9mIGlucHV0SXRlbXMpIHtcbiAgICAgICAgaWYgKGl0ZW0gJiYgdHlwZW9mIGl0ZW0gPT09ICdvYmplY3QnKSB7XG4gICAgICAgICAgICBmYWxsYmFja09yaWdpbmFscy5wdXNoKGl0ZW0pO1xuICAgICAgICB9XG4gICAgfVxuICAgIGNvbnN0IHJlbW92ZUZyb21GYWxsYmFjayA9IChjYW5kaWRhdGUpID0+IHtcbiAgICAgICAgaWYgKCFjYW5kaWRhdGUgfHwgdHlwZW9mIGNhbmRpZGF0ZSAhPT0gJ29iamVjdCcpIHtcbiAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgfVxuICAgICAgICBjb25zdCBpbmRleCA9IGZhbGxiYWNrT3JpZ2luYWxzLmZpbmRJbmRleCgob3JpZ2luYWwpID0+IG9yaWdpbmFsID09PSBjYW5kaWRhdGUpO1xuICAgICAgICBpZiAoaW5kZXggIT09IC0xKSB7XG4gICAgICAgICAgICBmYWxsYmFja09yaWdpbmFscy5zcGxpY2UoaW5kZXgsIDEpO1xuICAgICAgICB9XG4gICAgfTtcbiAgICBjb25zdCB0YWtlRmFsbGJhY2tPcmlnaW5hbCA9ICgpID0+IHtcbiAgICAgICAgY29uc3QgbmV4dCA9IGZhbGxiYWNrT3JpZ2luYWxzLnNoaWZ0KCk7XG4gICAgICAgIGlmIChuZXh0KSB7XG4gICAgICAgICAgICByZW1vdmVBZ2VudElucHV0RnJvbVBvb2wob3JpZ2luYWxQb29sLCBuZXh0KTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gbmV4dDtcbiAgICB9O1xuICAgIC8vIEFsd2F5cyBjcmVhdGUgYSBkZWVwIGNvcHkgc28gZG93bnN0cmVhbSBtdXRhdGlvbnMgaW5zaWRlIGZpbHRlcnMgY2Fubm90IGFmZmVjdFxuICAgIC8vIHRoZSBjYWNoZWQgdHVybiBzdGF0ZS5cbiAgICBjb25zdCBjbG9uZWRCYXNlSW5wdXQgPSBjbG9uZUlucHV0SXRlbXMoaW5wdXRJdGVtcywgY2xvbmVNYXApO1xuICAgIGNvbnN0IGJhc2UgPSB7XG4gICAgICAgIGlucHV0OiBjbG9uZWRCYXNlSW5wdXQsXG4gICAgICAgIGluc3RydWN0aW9uczogc3lzdGVtSW5zdHJ1Y3Rpb25zLFxuICAgIH07XG4gICAgaWYgKCFjYWxsTW9kZWxJbnB1dEZpbHRlcikge1xuICAgICAgICByZXR1cm4ge1xuICAgICAgICAgICAgbW9kZWxJbnB1dDogYmFzZSxcbiAgICAgICAgICAgIHNvdXJjZUl0ZW1zOiBbLi4uaW5wdXRJdGVtc10sXG4gICAgICAgICAgICBwZXJzaXN0ZWRJdGVtczogW10sXG4gICAgICAgICAgICBmaWx0ZXJBcHBsaWVkOiBmYWxzZSxcbiAgICAgICAgfTtcbiAgICB9XG4gICAgdHJ5IHtcbiAgICAgICAgY29uc3QgcmVzdWx0ID0gYXdhaXQgY2FsbE1vZGVsSW5wdXRGaWx0ZXIoe1xuICAgICAgICAgICAgbW9kZWxEYXRhOiBiYXNlLFxuICAgICAgICAgICAgYWdlbnQsXG4gICAgICAgICAgICBjb250ZXh0OiBjb250ZXh0LmNvbnRleHQsXG4gICAgICAgIH0pO1xuICAgICAgICBpZiAoIXJlc3VsdCB8fCAhQXJyYXkuaXNBcnJheShyZXN1bHQuaW5wdXQpKSB7XG4gICAgICAgICAgICB0aHJvdyBuZXcgVXNlckVycm9yKCdjYWxsTW9kZWxJbnB1dEZpbHRlciBtdXN0IHJldHVybiBhIE1vZGVsSW5wdXREYXRhIG9iamVjdCB3aXRoIGFuIGlucHV0IGFycmF5LicpO1xuICAgICAgICB9XG4gICAgICAgIC8vIFByZXNlcnZlIGEgcG9pbnRlciB0byB0aGUgb3JpZ2luYWwgb2JqZWN0IGJhY2tpbmcgZWFjaCBmaWx0ZXJlZCBjbG9uZSBzbyBkb3duc3RyZWFtXG4gICAgICAgIC8vIHRyYWNrZXJzIGNhbiBrZWVwIHRoZWlyIGJvb2trZWVwaW5nIGNvbnNpc3RlbnQgZXZlbiBhZnRlciByZWRhY3Rpb24uXG4gICAgICAgIGNvbnN0IHNvdXJjZUl0ZW1zID0gcmVzdWx0LmlucHV0Lm1hcCgoaXRlbSkgPT4ge1xuICAgICAgICAgICAgaWYgKCFpdGVtIHx8IHR5cGVvZiBpdGVtICE9PSAnb2JqZWN0Jykge1xuICAgICAgICAgICAgICAgIHJldHVybiB1bmRlZmluZWQ7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBjb25zdCBvcmlnaW5hbCA9IGNsb25lTWFwLmdldChpdGVtKTtcbiAgICAgICAgICAgIGlmIChvcmlnaW5hbCkge1xuICAgICAgICAgICAgICAgIHJlbW92ZUZyb21GYWxsYmFjayhvcmlnaW5hbCk7XG4gICAgICAgICAgICAgICAgcmVtb3ZlQWdlbnRJbnB1dEZyb21Qb29sKG9yaWdpbmFsUG9vbCwgb3JpZ2luYWwpO1xuICAgICAgICAgICAgICAgIHJldHVybiBvcmlnaW5hbDtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGNvbnN0IGtleSA9IGdldEFnZW50SW5wdXRJdGVtS2V5KGl0ZW0pO1xuICAgICAgICAgICAgY29uc3QgbWF0Y2hlZEJ5Q29udGVudCA9IHRha2VBZ2VudElucHV0RnJvbVBvb2wob3JpZ2luYWxQb29sLCBrZXkpO1xuICAgICAgICAgICAgaWYgKG1hdGNoZWRCeUNvbnRlbnQpIHtcbiAgICAgICAgICAgICAgICByZW1vdmVGcm9tRmFsbGJhY2sobWF0Y2hlZEJ5Q29udGVudCk7XG4gICAgICAgICAgICAgICAgcmV0dXJuIG1hdGNoZWRCeUNvbnRlbnQ7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBjb25zdCBmYWxsYmFjayA9IHRha2VGYWxsYmFja09yaWdpbmFsKCk7XG4gICAgICAgICAgICBpZiAoZmFsbGJhY2spIHtcbiAgICAgICAgICAgICAgICByZXR1cm4gZmFsbGJhY2s7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICByZXR1cm4gdW5kZWZpbmVkO1xuICAgICAgICB9KTtcbiAgICAgICAgY29uc3QgY2xvbmVkRmlsdGVyZWRJbnB1dCA9IGNsb25lSW5wdXRJdGVtcyhyZXN1bHQuaW5wdXQpO1xuICAgICAgICByZXR1cm4ge1xuICAgICAgICAgICAgbW9kZWxJbnB1dDoge1xuICAgICAgICAgICAgICAgIGlucHV0OiBjbG9uZWRGaWx0ZXJlZElucHV0LFxuICAgICAgICAgICAgICAgIGluc3RydWN0aW9uczogdHlwZW9mIHJlc3VsdC5pbnN0cnVjdGlvbnMgPT09ICd1bmRlZmluZWQnXG4gICAgICAgICAgICAgICAgICAgID8gc3lzdGVtSW5zdHJ1Y3Rpb25zXG4gICAgICAgICAgICAgICAgICAgIDogcmVzdWx0Lmluc3RydWN0aW9ucyxcbiAgICAgICAgICAgIH0sXG4gICAgICAgICAgICBzb3VyY2VJdGVtcyxcbiAgICAgICAgICAgIHBlcnNpc3RlZEl0ZW1zOiBjbG9uZWRGaWx0ZXJlZElucHV0Lm1hcCgoaXRlbSkgPT4gc3RydWN0dXJlZENsb25lKGl0ZW0pKSxcbiAgICAgICAgICAgIGZpbHRlckFwcGxpZWQ6IHRydWUsXG4gICAgICAgIH07XG4gICAgfVxuICAgIGNhdGNoIChlcnJvcikge1xuICAgICAgICBhZGRFcnJvclRvQ3VycmVudFNwYW4oe1xuICAgICAgICAgICAgbWVzc2FnZTogJ0Vycm9yIGluIGNhbGxNb2RlbElucHV0RmlsdGVyJyxcbiAgICAgICAgICAgIGRhdGE6IHsgZXJyb3I6IFN0cmluZyhlcnJvcikgfSxcbiAgICAgICAgfSk7XG4gICAgICAgIHRocm93IGVycm9yO1xuICAgIH1cbn1cbi8vIFRyYWNrcyB3aGljaCBpdGVtcyBoYXZlIGFscmVhZHkgYmVlbiBzZW50IHRvIG9yIHJlY2VpdmVkIGZyb20gdGhlIFJlc3BvbnNlcyBBUEkgd2hlbiB0aGUgY2FsbGVyXG4vLyBzdXBwbGllcyBgY29udmVyc2F0aW9uSWRgL2BwcmV2aW91c1Jlc3BvbnNlSWRgLiBUaGlzIGVuc3VyZXMgd2Ugb25seSBzZW5kIHRoZSBkZWx0YSBlYWNoIHR1cm4uXG5jbGFzcyBTZXJ2ZXJDb252ZXJzYXRpb25UcmFja2VyIHtcbiAgICAvLyBDb252ZXJzYXRpb24gSUQ6XG4gICAgLy8gLSBodHRwczovL3BsYXRmb3JtLm9wZW5haS5jb20vZG9jcy9ndWlkZXMvY29udmVyc2F0aW9uLXN0YXRlP2FwaS1tb2RlPXJlc3BvbnNlcyN1c2luZy10aGUtY29udmVyc2F0aW9ucy1hcGlcbiAgICAvLyAtIGh0dHBzOi8vcGxhdGZvcm0ub3BlbmFpLmNvbS9kb2NzL2FwaS1yZWZlcmVuY2UvY29udmVyc2F0aW9ucy9jcmVhdGVcbiAgICBjb252ZXJzYXRpb25JZDtcbiAgICAvLyBQcmV2aW91cyBSZXNwb25zZSBJRDpcbiAgICAvLyBodHRwczovL3BsYXRmb3JtLm9wZW5haS5jb20vZG9jcy9ndWlkZXMvY29udmVyc2F0aW9uLXN0YXRlP2FwaS1tb2RlPXJlc3BvbnNlcyNwYXNzaW5nLWNvbnRleHQtZnJvbS10aGUtcHJldmlvdXMtcmVzcG9uc2VcbiAgICBwcmV2aW91c1Jlc3BvbnNlSWQ7XG4gICAgLy8gVXNpbmcgdGhpcyBmbGFnIGJlY2F1c2UgV2Vha1NldCBkb2VzIG5vdCBwcm92aWRlIGEgd2F5IHRvIGNoZWNrIGl0cyBzaXplXG4gICAgc2VudEluaXRpYWxJbnB1dCA9IGZhbHNlO1xuICAgIC8vIFRoZSBpdGVtcyBhbHJlYWR5IHNlbnQgdG8gdGhlIG1vZGVsOyB1c2luZyBXZWFrU2V0IGZvciBtZW1vcnkgZWZmaWNpZW5jeVxuICAgIHNlbnRJdGVtcyA9IG5ldyBXZWFrU2V0KCk7XG4gICAgLy8gVGhlIGl0ZW1zIHJlY2VpdmVkIGZyb20gdGhlIHNlcnZlcjsgdXNpbmcgV2Vha1NldCBmb3IgbWVtb3J5IGVmZmljaWVuY3lcbiAgICBzZXJ2ZXJJdGVtcyA9IG5ldyBXZWFrU2V0KCk7XG4gICAgLy8gVHJhY2sgaW5pdGlhbCBpbnB1dCBpdGVtcyB0aGF0IGhhdmUgbm90IHlldCBiZWVuIHNlbnQgc28gdGhleSBjYW4gYmUgcmV0cmllZCBvbiBsYXRlciB0dXJucy5cbiAgICByZW1haW5pbmdJbml0aWFsSW5wdXQgPSBudWxsO1xuICAgIGNvbnN0cnVjdG9yKHsgY29udmVyc2F0aW9uSWQsIHByZXZpb3VzUmVzcG9uc2VJZCwgfSkge1xuICAgICAgICB0aGlzLmNvbnZlcnNhdGlvbklkID0gY29udmVyc2F0aW9uSWQgPz8gdW5kZWZpbmVkO1xuICAgICAgICB0aGlzLnByZXZpb3VzUmVzcG9uc2VJZCA9IHByZXZpb3VzUmVzcG9uc2VJZCA/PyB1bmRlZmluZWQ7XG4gICAgfVxuICAgIC8qKlxuICAgICAqIFByZS1wb3B1bGF0ZXMgdHJhY2tlciBjYWNoZXMgZnJvbSBhbiBleGlzdGluZyBSdW5TdGF0ZSB3aGVuIHJlc3VtaW5nIHNlcnZlci1tYW5hZ2VkIHJ1bnMuXG4gICAgICovXG4gICAgcHJpbWVGcm9tU3RhdGUoeyBvcmlnaW5hbElucHV0LCBnZW5lcmF0ZWRJdGVtcywgbW9kZWxSZXNwb25zZXMsIH0pIHtcbiAgICAgICAgaWYgKHRoaXMuc2VudEluaXRpYWxJbnB1dCkge1xuICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICB9XG4gICAgICAgIGZvciAoY29uc3QgaXRlbSBvZiB0b0FnZW50SW5wdXRMaXN0KG9yaWdpbmFsSW5wdXQpKSB7XG4gICAgICAgICAgICBpZiAoaXRlbSAmJiB0eXBlb2YgaXRlbSA9PT0gJ29iamVjdCcpIHtcbiAgICAgICAgICAgICAgICB0aGlzLnNlbnRJdGVtcy5hZGQoaXRlbSk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgdGhpcy5zZW50SW5pdGlhbElucHV0ID0gdHJ1ZTtcbiAgICAgICAgdGhpcy5yZW1haW5pbmdJbml0aWFsSW5wdXQgPSBudWxsO1xuICAgICAgICBjb25zdCBsYXRlc3RSZXNwb25zZSA9IG1vZGVsUmVzcG9uc2VzW21vZGVsUmVzcG9uc2VzLmxlbmd0aCAtIDFdO1xuICAgICAgICBmb3IgKGNvbnN0IHJlc3BvbnNlIG9mIG1vZGVsUmVzcG9uc2VzKSB7XG4gICAgICAgICAgICBmb3IgKGNvbnN0IGl0ZW0gb2YgcmVzcG9uc2Uub3V0cHV0KSB7XG4gICAgICAgICAgICAgICAgaWYgKGl0ZW0gJiYgdHlwZW9mIGl0ZW0gPT09ICdvYmplY3QnKSB7XG4gICAgICAgICAgICAgICAgICAgIHRoaXMuc2VydmVySXRlbXMuYWRkKGl0ZW0pO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICBpZiAoIXRoaXMuY29udmVyc2F0aW9uSWQgJiYgbGF0ZXN0UmVzcG9uc2U/LnJlc3BvbnNlSWQpIHtcbiAgICAgICAgICAgIHRoaXMucHJldmlvdXNSZXNwb25zZUlkID0gbGF0ZXN0UmVzcG9uc2UucmVzcG9uc2VJZDtcbiAgICAgICAgfVxuICAgICAgICBmb3IgKGNvbnN0IGl0ZW0gb2YgZ2VuZXJhdGVkSXRlbXMpIHtcbiAgICAgICAgICAgIGNvbnN0IHJhd0l0ZW0gPSBpdGVtLnJhd0l0ZW07XG4gICAgICAgICAgICBpZiAoIXJhd0l0ZW0gfHwgdHlwZW9mIHJhd0l0ZW0gIT09ICdvYmplY3QnKSB7XG4gICAgICAgICAgICAgICAgY29udGludWU7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBpZiAodGhpcy5zZXJ2ZXJJdGVtcy5oYXMocmF3SXRlbSkpIHtcbiAgICAgICAgICAgICAgICB0aGlzLnNlbnRJdGVtcy5hZGQocmF3SXRlbSk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICB9XG4gICAgLyoqXG4gICAgICogUmVjb3JkcyB0aGUgcmF3IGl0ZW1zIHJldHVybmVkIGJ5IHRoZSBzZXJ2ZXIgc28gZnV0dXJlIGRlbHRhIGNhbGN1bGF0aW9ucyBza2lwIHRoZW0uXG4gICAgICogQWxzbyBjYXB0dXJlcyB0aGUgbGF0ZXN0IHJlc3BvbnNlIGlkZW50aWZpZXIgdG8gY2hhaW4gZm9sbG93LXVwIGNhbGxzIHdoZW4gcG9zc2libGUuXG4gICAgICovXG4gICAgdHJhY2tTZXJ2ZXJJdGVtcyhtb2RlbFJlc3BvbnNlKSB7XG4gICAgICAgIGlmICghbW9kZWxSZXNwb25zZSkge1xuICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICB9XG4gICAgICAgIGZvciAoY29uc3QgaXRlbSBvZiBtb2RlbFJlc3BvbnNlLm91dHB1dCkge1xuICAgICAgICAgICAgaWYgKGl0ZW0gJiYgdHlwZW9mIGl0ZW0gPT09ICdvYmplY3QnKSB7XG4gICAgICAgICAgICAgICAgdGhpcy5zZXJ2ZXJJdGVtcy5hZGQoaXRlbSk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgaWYgKCF0aGlzLmNvbnZlcnNhdGlvbklkICYmIG1vZGVsUmVzcG9uc2UucmVzcG9uc2VJZCkge1xuICAgICAgICAgICAgdGhpcy5wcmV2aW91c1Jlc3BvbnNlSWQgPSBtb2RlbFJlc3BvbnNlLnJlc3BvbnNlSWQ7XG4gICAgICAgIH1cbiAgICB9XG4gICAgLyoqXG4gICAgICogUmV0dXJucyB0aGUgbWluaW11bSBzZXQgb2YgaXRlbXMgdGhhdCBzdGlsbCBuZWVkIHRvIGJlIGRlbGl2ZXJlZCB0byB0aGUgc2VydmVyIGZvciB0aGVcbiAgICAgKiBjdXJyZW50IHR1cm4uIFRoaXMgaW5jbHVkZXMgdGhlIG9yaWdpbmFsIHR1cm4gaW5wdXRzICh1bnRpbCBhY2tub3dsZWRnZWQpIHBsdXMgYW55XG4gICAgICogbmV3bHkgZ2VuZXJhdGVkIGl0ZW1zIHRoYXQgaGF2ZSBub3QgeWV0IGJlZW4gZWNob2VkIGJhY2sgYnkgdGhlIEFQSS5cbiAgICAgKi9cbiAgICBwcmVwYXJlSW5wdXQob3JpZ2luYWxJbnB1dCwgZ2VuZXJhdGVkSXRlbXMpIHtcbiAgICAgICAgY29uc3QgaW5wdXRJdGVtcyA9IFtdO1xuICAgICAgICBpZiAoIXRoaXMuc2VudEluaXRpYWxJbnB1dCkge1xuICAgICAgICAgICAgY29uc3QgaW5pdGlhbEl0ZW1zID0gdG9BZ2VudElucHV0TGlzdChvcmlnaW5hbElucHV0KTtcbiAgICAgICAgICAgIC8vIFByZXNlcnZlIHRoZSBmdWxsIGluaXRpYWwgcGF5bG9hZCBzbyBhIGZpbHRlciBjYW4gZHJvcCBpdGVtcyB3aXRob3V0IGxvc2luZyB0aGVpciBvcmlnaW5hbHMuXG4gICAgICAgICAgICBpbnB1dEl0ZW1zLnB1c2goLi4uaW5pdGlhbEl0ZW1zKTtcbiAgICAgICAgICAgIHRoaXMucmVtYWluaW5nSW5pdGlhbElucHV0ID0gaW5pdGlhbEl0ZW1zLmZpbHRlcigoaXRlbSkgPT4gQm9vbGVhbihpdGVtKSAmJiB0eXBlb2YgaXRlbSA9PT0gJ29iamVjdCcpO1xuICAgICAgICAgICAgdGhpcy5zZW50SW5pdGlhbElucHV0ID0gdHJ1ZTtcbiAgICAgICAgfVxuICAgICAgICBlbHNlIGlmICh0aGlzLnJlbWFpbmluZ0luaXRpYWxJbnB1dCAmJlxuICAgICAgICAgICAgdGhpcy5yZW1haW5pbmdJbml0aWFsSW5wdXQubGVuZ3RoID4gMCkge1xuICAgICAgICAgICAgLy8gUmUtcXVldWUgcHJpb3IgaW5pdGlhbCBpdGVtcyB1bnRpbCB0aGUgdHJhY2tlciBjb25maXJtcyB0aGV5IHdlcmUgZGVsaXZlcmVkIHRvIHRoZSBBUEkuXG4gICAgICAgICAgICBpbnB1dEl0ZW1zLnB1c2goLi4udGhpcy5yZW1haW5pbmdJbml0aWFsSW5wdXQpO1xuICAgICAgICB9XG4gICAgICAgIGZvciAoY29uc3QgaXRlbSBvZiBnZW5lcmF0ZWRJdGVtcykge1xuICAgICAgICAgICAgaWYgKGl0ZW0udHlwZSA9PT0gJ3Rvb2xfYXBwcm92YWxfaXRlbScpIHtcbiAgICAgICAgICAgICAgICBjb250aW51ZTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGNvbnN0IHJhd0l0ZW0gPSBpdGVtLnJhd0l0ZW07XG4gICAgICAgICAgICBpZiAoIXJhd0l0ZW0gfHwgdHlwZW9mIHJhd0l0ZW0gIT09ICdvYmplY3QnKSB7XG4gICAgICAgICAgICAgICAgY29udGludWU7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBpZiAodGhpcy5zZW50SXRlbXMuaGFzKHJhd0l0ZW0pIHx8IHRoaXMuc2VydmVySXRlbXMuaGFzKHJhd0l0ZW0pKSB7XG4gICAgICAgICAgICAgICAgY29udGludWU7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBpbnB1dEl0ZW1zLnB1c2gocmF3SXRlbSk7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIGlucHV0SXRlbXM7XG4gICAgfVxuICAgIC8qKlxuICAgICAqIE1hcmtzIHRoZSBwcm92aWRlZCBvcmlnaW5hbHMgYXMgZGVsaXZlcmVkIHNvIGZ1dHVyZSB0dXJucyBkbyBub3QgcmVzZW5kIHRoZW0gYW5kIGFueVxuICAgICAqIHBlbmRpbmcgaW5pdGlhbCBpbnB1dHMgY2FuIGJlIGRyb3BwZWQgb25jZSB0aGUgc2VydmVyIGFja25vd2xlZGdlcyByZWNlaXB0LlxuICAgICAqL1xuICAgIG1hcmtJbnB1dEFzU2VudChpdGVtcykge1xuICAgICAgICBpZiAoIWl0ZW1zLmxlbmd0aCkge1xuICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICB9XG4gICAgICAgIGNvbnN0IGRlbGl2ZXJlZCA9IG5ldyBTZXQoKTtcbiAgICAgICAgZm9yIChjb25zdCBpdGVtIG9mIGl0ZW1zKSB7XG4gICAgICAgICAgICBpZiAoIWl0ZW0gfHwgdHlwZW9mIGl0ZW0gIT09ICdvYmplY3QnIHx8IGRlbGl2ZXJlZC5oYXMoaXRlbSkpIHtcbiAgICAgICAgICAgICAgICBjb250aW51ZTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIC8vIFNvbWUgaW5wdXRzIG1heSBiZSByZXBlYXRlZCBpbiB0aGUgZmlsdGVyZWQgbGlzdDsgb25seSBtYXJrIHVuaXF1ZSBvcmlnaW5hbHMgb25jZS5cbiAgICAgICAgICAgIGRlbGl2ZXJlZC5hZGQoaXRlbSk7XG4gICAgICAgICAgICB0aGlzLnNlbnRJdGVtcy5hZGQoaXRlbSk7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKCF0aGlzLnJlbWFpbmluZ0luaXRpYWxJbnB1dCB8fFxuICAgICAgICAgICAgdGhpcy5yZW1haW5pbmdJbml0aWFsSW5wdXQubGVuZ3RoID09PSAwKSB7XG4gICAgICAgICAgICByZXR1cm47XG4gICAgICAgIH1cbiAgICAgICAgdGhpcy5yZW1haW5pbmdJbml0aWFsSW5wdXQgPSB0aGlzLnJlbWFpbmluZ0luaXRpYWxJbnB1dC5maWx0ZXIoKGl0ZW0pID0+ICFkZWxpdmVyZWQuaGFzKGl0ZW0pKTtcbiAgICAgICAgaWYgKHRoaXMucmVtYWluaW5nSW5pdGlhbElucHV0Lmxlbmd0aCA9PT0gMCkge1xuICAgICAgICAgICAgdGhpcy5yZW1haW5pbmdJbml0aWFsSW5wdXQgPSBudWxsO1xuICAgICAgICB9XG4gICAgfVxufVxuLyoqXG4gKiBXaGVuIHRoZSBkZWZhdWx0IG1vZGVsIGlzIGEgR1BULTUgdmFyaWFudCwgYWdlbnRzIG1heSBjYXJyeSBHUFQtNS1zcGVjaWZpYyBwcm92aWRlckRhdGFcbiAqIChlLmcuLCByZWFzb25pbmcgZWZmb3J0LCB0ZXh0IHZlcmJvc2l0eSkuIElmIGEgcnVuIHJlc29sdmVzIHRvIGEgbm9uLUdQVC01IG1vZGVsIGFuZCB0aGVcbiAqIGFnZW50IHJlbGllZCBvbiB0aGUgZGVmYXVsdCBtb2RlbCAoaS5lLiwgbm8gZXhwbGljaXQgbW9kZWwgc2V0KSwgdGhlc2UgR1BULTUtb25seSBzZXR0aW5nc1xuICogYXJlIGluY29tcGF0aWJsZSBhbmQgc2hvdWxkIGJlIHN0cmlwcGVkIHRvIGF2b2lkIHJ1bnRpbWUgZXJyb3JzLlxuICovXG5mdW5jdGlvbiBhZGp1c3RNb2RlbFNldHRpbmdzRm9yTm9uR1BUNVJ1bm5lck1vZGVsKGV4cGxpY3RseU1vZGVsU2V0LCBhZ2VudE1vZGVsU2V0dGluZ3MsIHJ1bm5lck1vZGVsLCBtb2RlbFNldHRpbmdzKSB7XG4gICAgaWYgKFxuICAgIC8vIGdwdC01IGlzIGVuYWJsZWQgZm9yIHRoZSBkZWZhdWx0IG1vZGVsIGZvciBhZ2VudHNcbiAgICBpc0dwdDVEZWZhdWx0KCkgJiZcbiAgICAgICAgLy8gZXhwbGljaXRseSBzZXQgbW9kZWwgZm9yIHRoZSBhZ2VudFxuICAgICAgICBleHBsaWN0bHlNb2RlbFNldCAmJlxuICAgICAgICAvLyB0aGlzIHJ1bm5lciB1c2VzIGEgbm9uLWdwdC01IG1vZGVsXG4gICAgICAgICh0eXBlb2YgcnVubmVyTW9kZWwgIT09ICdzdHJpbmcnIHx8XG4gICAgICAgICAgICAhZ3B0NVJlYXNvbmluZ1NldHRpbmdzUmVxdWlyZWQocnVubmVyTW9kZWwpKSAmJlxuICAgICAgICAoYWdlbnRNb2RlbFNldHRpbmdzLnByb3ZpZGVyRGF0YT8ucmVhc29uaW5nIHx8XG4gICAgICAgICAgICBhZ2VudE1vZGVsU2V0dGluZ3MucHJvdmlkZXJEYXRhPy50ZXh0Py52ZXJib3NpdHkgfHxcbiAgICAgICAgICAgIGFnZW50TW9kZWxTZXR0aW5ncy5wcm92aWRlckRhdGE/LnJlYXNvbmluZ19lZmZvcnQpKSB7XG4gICAgICAgIGNvbnN0IGNvcGllZE1vZGVsU2V0dGluZ3MgPSB7IC4uLm1vZGVsU2V0dGluZ3MgfTtcbiAgICAgICAgLy8gdGhlIGluY29tcGF0aWJsZSBwYXJhbWV0ZXJzIHNob3VsZCBiZSByZW1vdmVkIHRvIGF2b2lkIHJ1bnRpbWUgZXJyb3JzXG4gICAgICAgIGRlbGV0ZSBjb3BpZWRNb2RlbFNldHRpbmdzLnByb3ZpZGVyRGF0YT8ucmVhc29uaW5nO1xuICAgICAgICBkZWxldGUgY29waWVkTW9kZWxTZXR0aW5ncy5wcm92aWRlckRhdGE/LnRleHQ/LnZlcmJvc2l0eTtcbiAgICAgICAgZGVsZXRlIGNvcGllZE1vZGVsU2V0dGluZ3MucHJvdmlkZXJEYXRhPy5yZWFzb25pbmdfZWZmb3J0O1xuICAgICAgICBpZiAoY29waWVkTW9kZWxTZXR0aW5ncy5yZWFzb25pbmcpIHtcbiAgICAgICAgICAgIGRlbGV0ZSBjb3BpZWRNb2RlbFNldHRpbmdzLnJlYXNvbmluZy5lZmZvcnQ7XG4gICAgICAgICAgICBkZWxldGUgY29waWVkTW9kZWxTZXR0aW5ncy5yZWFzb25pbmcuc3VtbWFyeTtcbiAgICAgICAgfVxuICAgICAgICBpZiAoY29waWVkTW9kZWxTZXR0aW5ncy50ZXh0KSB7XG4gICAgICAgICAgICBkZWxldGUgY29waWVkTW9kZWxTZXR0aW5ncy50ZXh0LnZlcmJvc2l0eTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gY29waWVkTW9kZWxTZXR0aW5ncztcbiAgICB9XG4gICAgcmV0dXJuIG1vZGVsU2V0dGluZ3M7XG59XG4vKipcbiAqIEBpbnRlcm5hbFxuICogQ29sbGVjdHMgdG9vbHMvaGFuZG9mZnMgZWFybHkgc28gd2UgY2FuIGFubm90YXRlIHNwYW5zIGJlZm9yZSBtb2RlbCBleGVjdXRpb24gYmVnaW5zLlxuICovXG5hc3luYyBmdW5jdGlvbiBwcmVwYXJlQWdlbnRBcnRpZmFjdHMoc3RhdGUpIHtcbiAgICBjb25zdCBoYW5kb2ZmcyA9IGF3YWl0IHN0YXRlLl9jdXJyZW50QWdlbnQuZ2V0RW5hYmxlZEhhbmRvZmZzKHN0YXRlLl9jb250ZXh0KTtcbiAgICBjb25zdCB0b29scyA9IGF3YWl0IHN0YXRlLl9jdXJyZW50QWdlbnQuZ2V0QWxsVG9vbHMoc3RhdGUuX2NvbnRleHQpO1xuICAgIGlmICghc3RhdGUuX2N1cnJlbnRBZ2VudFNwYW4pIHtcbiAgICAgICAgY29uc3QgaGFuZG9mZk5hbWVzID0gaGFuZG9mZnMubWFwKChoKSA9PiBoLmFnZW50TmFtZSk7XG4gICAgICAgIHN0YXRlLl9jdXJyZW50QWdlbnRTcGFuID0gY3JlYXRlQWdlbnRTcGFuKHtcbiAgICAgICAgICAgIGRhdGE6IHtcbiAgICAgICAgICAgICAgICBuYW1lOiBzdGF0ZS5fY3VycmVudEFnZW50Lm5hbWUsXG4gICAgICAgICAgICAgICAgaGFuZG9mZnM6IGhhbmRvZmZOYW1lcyxcbiAgICAgICAgICAgICAgICB0b29sczogdG9vbHMubWFwKCh0KSA9PiB0Lm5hbWUpLFxuICAgICAgICAgICAgICAgIG91dHB1dF90eXBlOiBzdGF0ZS5fY3VycmVudEFnZW50Lm91dHB1dFNjaGVtYU5hbWUsXG4gICAgICAgICAgICB9LFxuICAgICAgICB9KTtcbiAgICAgICAgc3RhdGUuX2N1cnJlbnRBZ2VudFNwYW4uc3RhcnQoKTtcbiAgICAgICAgc2V0Q3VycmVudFNwYW4oc3RhdGUuX2N1cnJlbnRBZ2VudFNwYW4pO1xuICAgIH1cbiAgICBlbHNlIHtcbiAgICAgICAgc3RhdGUuX2N1cnJlbnRBZ2VudFNwYW4uc3BhbkRhdGEudG9vbHMgPSB0b29scy5tYXAoKHQpID0+IHQubmFtZSk7XG4gICAgfVxuICAgIHJldHVybiB7XG4gICAgICAgIGhhbmRvZmZzLFxuICAgICAgICB0b29scyxcbiAgICAgICAgc2VyaWFsaXplZEhhbmRvZmZzOiBoYW5kb2Zmcy5tYXAoKGhhbmRvZmYpID0+IHNlcmlhbGl6ZUhhbmRvZmYoaGFuZG9mZikpLFxuICAgICAgICBzZXJpYWxpemVkVG9vbHM6IHRvb2xzLm1hcCgodG9vbCkgPT4gc2VyaWFsaXplVG9vbCh0b29sKSksXG4gICAgICAgIHRvb2xzRXhwbGljaXRseVByb3ZpZGVkOiBzdGF0ZS5fY3VycmVudEFnZW50Lmhhc0V4cGxpY2l0VG9vbENvbmZpZygpLFxuICAgIH07XG59XG5mdW5jdGlvbiBnZXRBZ2VudElucHV0SXRlbUtleShpdGVtKSB7XG4gICAgLy8gRGVlcCBzZXJpYWxpemF0aW9uIGtlZXBzIGJpbmFyeSBpbnB1dHMgY29tcGFyYWJsZSBhZnRlciBmaWx0ZXJzIGNsb25lIHRoZW0uXG4gICAgcmV0dXJuIEpTT04uc3RyaW5naWZ5KGl0ZW0sIGFnZW50SW5wdXRTZXJpYWxpemF0aW9uUmVwbGFjZXIpO1xufVxuZnVuY3Rpb24gYnVpbGRBZ2VudElucHV0UG9vbChpdGVtcykge1xuICAgIC8vIFRyYWNrIGV2ZXJ5IG9yaWdpbmFsIG9iamVjdCBzbyBmaWx0ZXJzIGNhbiBzYWZlbHkgcmV0dXJuIGNsb25lZCBjb3BpZXMuXG4gICAgY29uc3QgcG9vbCA9IG5ldyBNYXAoKTtcbiAgICBmb3IgKGNvbnN0IGl0ZW0gb2YgaXRlbXMpIHtcbiAgICAgICAgY29uc3Qga2V5ID0gZ2V0QWdlbnRJbnB1dEl0ZW1LZXkoaXRlbSk7XG4gICAgICAgIGNvbnN0IGV4aXN0aW5nID0gcG9vbC5nZXQoa2V5KTtcbiAgICAgICAgaWYgKGV4aXN0aW5nKSB7XG4gICAgICAgICAgICBleGlzdGluZy5wdXNoKGl0ZW0pO1xuICAgICAgICB9XG4gICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgcG9vbC5zZXQoa2V5LCBbaXRlbV0pO1xuICAgICAgICB9XG4gICAgfVxuICAgIHJldHVybiBwb29sO1xufVxuZnVuY3Rpb24gdGFrZUFnZW50SW5wdXRGcm9tUG9vbChwb29sLCBrZXkpIHtcbiAgICAvLyBQcmVmZXIgcmV1c2luZyB0aGUgZWFybGllc3QgdW50b3VjaGVkIG9yaWdpbmFsIHRvIGtlZXAgb3JkZXJpbmcgc3RhYmxlLlxuICAgIGNvbnN0IGNhbmRpZGF0ZXMgPSBwb29sLmdldChrZXkpO1xuICAgIGlmICghY2FuZGlkYXRlcyB8fCBjYW5kaWRhdGVzLmxlbmd0aCA9PT0gMCkge1xuICAgICAgICByZXR1cm4gdW5kZWZpbmVkO1xuICAgIH1cbiAgICBjb25zdCBbZmlyc3RdID0gY2FuZGlkYXRlcztcbiAgICBjYW5kaWRhdGVzLnNoaWZ0KCk7XG4gICAgaWYgKGNhbmRpZGF0ZXMubGVuZ3RoID09PSAwKSB7XG4gICAgICAgIHBvb2wuZGVsZXRlKGtleSk7XG4gICAgfVxuICAgIHJldHVybiBmaXJzdDtcbn1cbmZ1bmN0aW9uIHJlbW92ZUFnZW50SW5wdXRGcm9tUG9vbChwb29sLCBpdGVtKSB7XG4gICAgLy8gUmVtb3ZlIGV4YWN0bHkgdGhlIG1hdGNoZWQgaW5zdGFuY2Ugc28gZHVwbGljYXRlIHBheWxvYWRzIHJlbWFpbiBhdmFpbGFibGUuXG4gICAgY29uc3Qga2V5ID0gZ2V0QWdlbnRJbnB1dEl0ZW1LZXkoaXRlbSk7XG4gICAgY29uc3QgY2FuZGlkYXRlcyA9IHBvb2wuZ2V0KGtleSk7XG4gICAgaWYgKCFjYW5kaWRhdGVzIHx8IGNhbmRpZGF0ZXMubGVuZ3RoID09PSAwKSB7XG4gICAgICAgIHJldHVybjtcbiAgICB9XG4gICAgY29uc3QgaW5kZXggPSBjYW5kaWRhdGVzLmZpbmRJbmRleCgoY2FuZGlkYXRlKSA9PiBjYW5kaWRhdGUgPT09IGl0ZW0pO1xuICAgIGlmIChpbmRleCA9PT0gLTEpIHtcbiAgICAgICAgcmV0dXJuO1xuICAgIH1cbiAgICBjYW5kaWRhdGVzLnNwbGljZShpbmRleCwgMSk7XG4gICAgaWYgKGNhbmRpZGF0ZXMubGVuZ3RoID09PSAwKSB7XG4gICAgICAgIHBvb2wuZGVsZXRlKGtleSk7XG4gICAgfVxufVxuZnVuY3Rpb24gYWdlbnRJbnB1dFNlcmlhbGl6YXRpb25SZXBsYWNlcihfa2V5LCB2YWx1ZSkge1xuICAgIC8vIE1pcnJvciBydW5JbXBsZW1lbnRhdGlvbiBzZXJpYWxpemF0aW9uIHNvIGJ1ZmZlciBzbmFwc2hvdHMgcm91bmQtdHJpcC5cbiAgICBpZiAodmFsdWUgaW5zdGFuY2VvZiBBcnJheUJ1ZmZlcikge1xuICAgICAgICByZXR1cm4ge1xuICAgICAgICAgICAgX190eXBlOiAnQXJyYXlCdWZmZXInLFxuICAgICAgICAgICAgZGF0YTogZW5jb2RlVWludDhBcnJheVRvQmFzZTY0KG5ldyBVaW50OEFycmF5KHZhbHVlKSksXG4gICAgICAgIH07XG4gICAgfVxuICAgIGlmIChpc0FycmF5QnVmZmVyVmlldyh2YWx1ZSkpIHtcbiAgICAgICAgY29uc3QgdmlldyA9IHZhbHVlO1xuICAgICAgICByZXR1cm4ge1xuICAgICAgICAgICAgX190eXBlOiB2aWV3LmNvbnN0cnVjdG9yLm5hbWUsXG4gICAgICAgICAgICBkYXRhOiBlbmNvZGVVaW50OEFycmF5VG9CYXNlNjQobmV3IFVpbnQ4QXJyYXkodmlldy5idWZmZXIsIHZpZXcuYnl0ZU9mZnNldCwgdmlldy5ieXRlTGVuZ3RoKSksXG4gICAgICAgIH07XG4gICAgfVxuICAgIGlmIChpc05vZGVCdWZmZXIodmFsdWUpKSB7XG4gICAgICAgIGNvbnN0IHZpZXcgPSB2YWx1ZTtcbiAgICAgICAgcmV0dXJuIHtcbiAgICAgICAgICAgIF9fdHlwZTogJ0J1ZmZlcicsXG4gICAgICAgICAgICBkYXRhOiBlbmNvZGVVaW50OEFycmF5VG9CYXNlNjQobmV3IFVpbnQ4QXJyYXkodmlldy5idWZmZXIsIHZpZXcuYnl0ZU9mZnNldCwgdmlldy5ieXRlTGVuZ3RoKSksXG4gICAgICAgIH07XG4gICAgfVxuICAgIGlmIChpc1NlcmlhbGl6ZWRCdWZmZXJTbmFwc2hvdCh2YWx1ZSkpIHtcbiAgICAgICAgcmV0dXJuIHtcbiAgICAgICAgICAgIF9fdHlwZTogJ0J1ZmZlcicsXG4gICAgICAgICAgICBkYXRhOiBlbmNvZGVVaW50OEFycmF5VG9CYXNlNjQoVWludDhBcnJheS5mcm9tKHZhbHVlLmRhdGEpKSxcbiAgICAgICAgfTtcbiAgICB9XG4gICAgcmV0dXJuIHZhbHVlO1xufVxuLy8gTm9ybWFsaXplcyB1c2VyLXByb3ZpZGVkIGlucHV0IGludG8gdGhlIHN0cnVjdHVyZSB0aGUgbW9kZWwgZXhwZWN0cy4gU3RyaW5ncyBiZWNvbWUgdXNlciBtZXNzYWdlcyxcbi8vIGFycmF5cyBhcmUga2VwdCBhcy1pcyBzbyBkb3duc3RyZWFtIGxvb3BzIGNhbiB0cmVhdCBib3RoIHNjZW5hcmlvcyB1bmlmb3JtbHkuXG5mdW5jdGlvbiB0b0FnZW50SW5wdXRMaXN0KG9yaWdpbmFsSW5wdXQpIHtcbiAgICAvLyBBbGxvdyBjYWxsZXJzIHRvIHBhc3MgcGxhaW4gc3RyaW5ncyB3aGlsZSBwcmVzZXJ2aW5nIG9yaWdpbmFsIGl0ZW0gb3JkZXIuXG4gICAgaWYgKHR5cGVvZiBvcmlnaW5hbElucHV0ID09PSAnc3RyaW5nJykge1xuICAgICAgICByZXR1cm4gW3sgdHlwZTogJ21lc3NhZ2UnLCByb2xlOiAndXNlcicsIGNvbnRlbnQ6IG9yaWdpbmFsSW5wdXQgfV07XG4gICAgfVxuICAgIHJldHVybiBbLi4ub3JpZ2luYWxJbnB1dF07XG59XG4vLyMgc291cmNlTWFwcGluZ1VSTD1ydW4ubWpzLm1hcCIsImltcG9ydCB7IFJlYWRhYmxlU3RyZWFtIGFzIF9SZWFkYWJsZVN0cmVhbSwgVHJhbnNmb3JtU3RyZWFtLCBSZWFkYWJsZSwgfSBmcm9tICdAb3BlbmFpL2FnZW50cy1jb3JlL19zaGltcyc7XG5pbXBvcnQgeyBnZXRUdXJuSW5wdXQgfSBmcm9tIFwiLi9ydW4ubWpzXCI7XG5pbXBvcnQgbG9nZ2VyIGZyb20gXCIuL2xvZ2dlci5tanNcIjtcbmltcG9ydCB7IFN0cmVhbUV2ZW50VGV4dFN0cmVhbSB9IGZyb20gXCIuL3R5cGVzL3Byb3RvY29sLm1qc1wiO1xuY2xhc3MgUnVuUmVzdWx0QmFzZSB7XG4gICAgc3RhdGU7XG4gICAgY29uc3RydWN0b3Ioc3RhdGUpIHtcbiAgICAgICAgdGhpcy5zdGF0ZSA9IHN0YXRlO1xuICAgIH1cbiAgICAvKipcbiAgICAgKiBUaGUgaGlzdG9yeSBvZiB0aGUgYWdlbnQgcnVuLiBUaGlzIGluY2x1ZGVzIHRoZSBpbnB1dCBpdGVtcyBhbmQgdGhlIG5ldyBpdGVtcyBnZW5lcmF0ZWQgZHVyaW5nXG4gICAgICogdGhlIGFnZW50IHJ1bi5cbiAgICAgKlxuICAgICAqIFRoaXMgY2FuIGJlIHVzZWQgYXMgaW5wdXRzIGZvciB0aGUgbmV4dCBhZ2VudCBydW4uXG4gICAgICovXG4gICAgZ2V0IGhpc3RvcnkoKSB7XG4gICAgICAgIHJldHVybiBnZXRUdXJuSW5wdXQodGhpcy5pbnB1dCwgdGhpcy5uZXdJdGVtcyk7XG4gICAgfVxuICAgIC8qKlxuICAgICAqIFRoZSBuZXcgaXRlbXMgZ2VuZXJhdGVkIGR1cmluZyB0aGUgYWdlbnQgcnVuLiBUaGVzZSBpbmNsdWRlIHRoaW5ncyBsaWtlIG5ldyBtZXNzYWdlcywgdG9vbFxuICAgICAqIGNhbGxzIGFuZCB0aGVpciBvdXRwdXRzLCBldGMuXG4gICAgICpcbiAgICAgKiBJdCBkb2VzIG5vdCBpbmNsdWRlIGluZm9ybWF0aW9uIGFib3V0IHRoZSBhZ2VudHMgYW5kIGluc3RlYWQgcmVwcmVzZW50cyB0aGUgbW9kZWwgZGF0YS5cbiAgICAgKlxuICAgICAqIEZvciB0aGUgb3V0cHV0IGluY2x1ZGluZyB0aGUgYWdlbnRzLCB1c2UgdGhlIGBuZXdJdGVtc2AgcHJvcGVydHkuXG4gICAgICovXG4gICAgZ2V0IG91dHB1dCgpIHtcbiAgICAgICAgcmV0dXJuIGdldFR1cm5JbnB1dChbXSwgdGhpcy5uZXdJdGVtcyk7XG4gICAgfVxuICAgIC8qKlxuICAgICAqIEEgY29weSBvZiB0aGUgb3JpZ2luYWwgaW5wdXQgaXRlbXMuXG4gICAgICovXG4gICAgZ2V0IGlucHV0KCkge1xuICAgICAgICByZXR1cm4gdGhpcy5zdGF0ZS5fb3JpZ2luYWxJbnB1dDtcbiAgICB9XG4gICAgLyoqXG4gICAgICogVGhlIHJ1biBpdGVtcyBnZW5lcmF0ZWQgZHVyaW5nIHRoZSBhZ2VudCBydW4uIFRoaXMgYXNzb2NpYXRlcyB0aGUgbW9kZWwgZGF0YSB3aXRoIHRoZSBhZ2VudHMuXG4gICAgICpcbiAgICAgKiBGb3IgdGhlIG1vZGVsIGRhdGEgdGhhdCBjYW4gYmUgdXNlZCBhcyBpbnB1dHMgZm9yIHRoZSBuZXh0IGFnZW50IHJ1biwgdXNlIHRoZSBgb3V0cHV0YCBwcm9wZXJ0eS5cbiAgICAgKi9cbiAgICBnZXQgbmV3SXRlbXMoKSB7XG4gICAgICAgIHJldHVybiB0aGlzLnN0YXRlLl9nZW5lcmF0ZWRJdGVtcztcbiAgICB9XG4gICAgLyoqXG4gICAgICogVGhlIHJhdyBMTE0gcmVzcG9uc2VzIGdlbmVyYXRlZCBieSB0aGUgbW9kZWwgZHVyaW5nIHRoZSBhZ2VudCBydW4uXG4gICAgICovXG4gICAgZ2V0IHJhd1Jlc3BvbnNlcygpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuc3RhdGUuX21vZGVsUmVzcG9uc2VzO1xuICAgIH1cbiAgICAvKipcbiAgICAgKiBUaGUgbGFzdCByZXNwb25zZSBJRCBnZW5lcmF0ZWQgYnkgdGhlIG1vZGVsIGR1cmluZyB0aGUgYWdlbnQgcnVuLlxuICAgICAqL1xuICAgIGdldCBsYXN0UmVzcG9uc2VJZCgpIHtcbiAgICAgICAgY29uc3QgcmVzcG9uc2VzID0gdGhpcy5yYXdSZXNwb25zZXM7XG4gICAgICAgIHJldHVybiByZXNwb25zZXMgJiYgcmVzcG9uc2VzLmxlbmd0aCA+IDBcbiAgICAgICAgICAgID8gcmVzcG9uc2VzW3Jlc3BvbnNlcy5sZW5ndGggLSAxXS5yZXNwb25zZUlkXG4gICAgICAgICAgICA6IHVuZGVmaW5lZDtcbiAgICB9XG4gICAgLyoqXG4gICAgICogVGhlIGxhc3QgYWdlbnQgdGhhdCB3YXMgcnVuXG4gICAgICovXG4gICAgZ2V0IGxhc3RBZ2VudCgpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuc3RhdGUuX2N1cnJlbnRBZ2VudDtcbiAgICB9XG4gICAgLyoqXG4gICAgICogR3VhcmRyYWlsIHJlc3VsdHMgZm9yIHRoZSBpbnB1dCBtZXNzYWdlcy5cbiAgICAgKi9cbiAgICBnZXQgaW5wdXRHdWFyZHJhaWxSZXN1bHRzKCkge1xuICAgICAgICByZXR1cm4gdGhpcy5zdGF0ZS5faW5wdXRHdWFyZHJhaWxSZXN1bHRzO1xuICAgIH1cbiAgICAvKipcbiAgICAgKiBHdWFyZHJhaWwgcmVzdWx0cyBmb3IgdGhlIGZpbmFsIG91dHB1dCBvZiB0aGUgYWdlbnQuXG4gICAgICovXG4gICAgZ2V0IG91dHB1dEd1YXJkcmFpbFJlc3VsdHMoKSB7XG4gICAgICAgIHJldHVybiB0aGlzLnN0YXRlLl9vdXRwdXRHdWFyZHJhaWxSZXN1bHRzO1xuICAgIH1cbiAgICAvKipcbiAgICAgKiBBbnkgaW50ZXJydXB0aW9ucyB0aGF0IG9jY3VycmVkIGR1cmluZyB0aGUgYWdlbnQgcnVuIGZvciBleGFtcGxlIGZvciB0b29sIGFwcHJvdmFscy5cbiAgICAgKi9cbiAgICBnZXQgaW50ZXJydXB0aW9ucygpIHtcbiAgICAgICAgaWYgKHRoaXMuc3RhdGUuX2N1cnJlbnRTdGVwPy50eXBlID09PSAnbmV4dF9zdGVwX2ludGVycnVwdGlvbicpIHtcbiAgICAgICAgICAgIHJldHVybiB0aGlzLnN0YXRlLl9jdXJyZW50U3RlcC5kYXRhLmludGVycnVwdGlvbnM7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIFtdO1xuICAgIH1cbiAgICAvKipcbiAgICAgKiBUaGUgZmluYWwgb3V0cHV0IG9mIHRoZSBhZ2VudC4gSWYgdGhlIG91dHB1dCB0eXBlIHdhcyBzZXQgdG8gYW55dGhpbmcgb3RoZXIgdGhhbiBgdGV4dGAsXG4gICAgICogdGhpcyB3aWxsIGJlIHBhcnNlZCBlaXRoZXIgYXMgSlNPTiBvciB1c2luZyB0aGUgWm9kIHNjaGVtYSB5b3UgcHJvdmlkZWQuXG4gICAgICovXG4gICAgZ2V0IGZpbmFsT3V0cHV0KCkge1xuICAgICAgICBpZiAodGhpcy5zdGF0ZS5fY3VycmVudFN0ZXA/LnR5cGUgPT09ICduZXh0X3N0ZXBfZmluYWxfb3V0cHV0Jykge1xuICAgICAgICAgICAgcmV0dXJuIHRoaXMuc3RhdGUuX2N1cnJlbnRBZ2VudC5wcm9jZXNzRmluYWxPdXRwdXQodGhpcy5zdGF0ZS5fY3VycmVudFN0ZXAub3V0cHV0KTtcbiAgICAgICAgfVxuICAgICAgICBsb2dnZXIud2FybignQWNjZXNzZWQgZmluYWxPdXRwdXQgYmVmb3JlIGFnZW50IHJ1biBpcyBjb21wbGV0ZWQuJyk7XG4gICAgICAgIHJldHVybiB1bmRlZmluZWQ7XG4gICAgfVxufVxuLyoqXG4gKiBUaGUgcmVzdWx0IG9mIGFuIGFnZW50IHJ1bi5cbiAqL1xuZXhwb3J0IGNsYXNzIFJ1blJlc3VsdCBleHRlbmRzIFJ1blJlc3VsdEJhc2Uge1xuICAgIGNvbnN0cnVjdG9yKHN0YXRlKSB7XG4gICAgICAgIHN1cGVyKHN0YXRlKTtcbiAgICB9XG59XG4vKipcbiAqIFRoZSByZXN1bHQgb2YgYW4gYWdlbnQgcnVuIGluIHN0cmVhbWluZyBtb2RlLlxuICovXG5leHBvcnQgY2xhc3MgU3RyZWFtZWRSdW5SZXN1bHQgZXh0ZW5kcyBSdW5SZXN1bHRCYXNlIHtcbiAgICAvKipcbiAgICAgKiBUaGUgY3VycmVudCBhZ2VudCB0aGF0IGlzIHJ1bm5pbmdcbiAgICAgKi9cbiAgICBnZXQgY3VycmVudEFnZW50KCkge1xuICAgICAgICByZXR1cm4gdGhpcy5sYXN0QWdlbnQ7XG4gICAgfVxuICAgIC8qKlxuICAgICAqIFRoZSBjdXJyZW50IHR1cm4gbnVtYmVyXG4gICAgICovXG4gICAgY3VycmVudFR1cm4gPSAwO1xuICAgIC8qKlxuICAgICAqIFRoZSBtYXhpbXVtIG51bWJlciBvZiB0dXJucyB0aGF0IGNhbiBiZSBydW5cbiAgICAgKi9cbiAgICBtYXhUdXJucztcbiAgICAjZXJyb3IgPSBudWxsO1xuICAgICNzaWduYWw7XG4gICAgI3JlYWRhYmxlQ29udHJvbGxlcjtcbiAgICAjcmVhZGFibGVTdHJlYW07XG4gICAgI2NvbXBsZXRlZFByb21pc2U7XG4gICAgI2NvbXBsZXRlZFByb21pc2VSZXNvbHZlO1xuICAgICNjb21wbGV0ZWRQcm9taXNlUmVqZWN0O1xuICAgICNjYW5jZWxsZWQgPSBmYWxzZTtcbiAgICAjc3RyZWFtTG9vcFByb21pc2U7XG4gICAgY29uc3RydWN0b3IocmVzdWx0ID0ge30pIHtcbiAgICAgICAgc3VwZXIocmVzdWx0LnN0YXRlKTtcbiAgICAgICAgdGhpcy4jc2lnbmFsID0gcmVzdWx0LnNpZ25hbDtcbiAgICAgICAgdGhpcy4jcmVhZGFibGVTdHJlYW0gPSBuZXcgX1JlYWRhYmxlU3RyZWFtKHtcbiAgICAgICAgICAgIHN0YXJ0OiAoY29udHJvbGxlcikgPT4ge1xuICAgICAgICAgICAgICAgIHRoaXMuI3JlYWRhYmxlQ29udHJvbGxlciA9IGNvbnRyb2xsZXI7XG4gICAgICAgICAgICB9LFxuICAgICAgICAgICAgY2FuY2VsOiAoKSA9PiB7XG4gICAgICAgICAgICAgICAgdGhpcy4jY2FuY2VsbGVkID0gdHJ1ZTtcbiAgICAgICAgICAgIH0sXG4gICAgICAgIH0pO1xuICAgICAgICB0aGlzLiNjb21wbGV0ZWRQcm9taXNlID0gbmV3IFByb21pc2UoKHJlc29sdmUsIHJlamVjdCkgPT4ge1xuICAgICAgICAgICAgdGhpcy4jY29tcGxldGVkUHJvbWlzZVJlc29sdmUgPSByZXNvbHZlO1xuICAgICAgICAgICAgdGhpcy4jY29tcGxldGVkUHJvbWlzZVJlamVjdCA9IHJlamVjdDtcbiAgICAgICAgfSk7XG4gICAgICAgIGlmICh0aGlzLiNzaWduYWwpIHtcbiAgICAgICAgICAgIGNvbnN0IGhhbmRsZUFib3J0ID0gKCkgPT4ge1xuICAgICAgICAgICAgICAgIGlmICh0aGlzLiNjYW5jZWxsZWQpIHtcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB0aGlzLiNjYW5jZWxsZWQgPSB0cnVlO1xuICAgICAgICAgICAgICAgIGNvbnN0IGNvbnRyb2xsZXIgPSB0aGlzLiNyZWFkYWJsZUNvbnRyb2xsZXI7XG4gICAgICAgICAgICAgICAgdGhpcy4jcmVhZGFibGVDb250cm9sbGVyID0gdW5kZWZpbmVkO1xuICAgICAgICAgICAgICAgIGlmICh0aGlzLiNyZWFkYWJsZVN0cmVhbS5sb2NrZWQpIHtcbiAgICAgICAgICAgICAgICAgICAgaWYgKGNvbnRyb2xsZXIpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHRyeSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgY29udHJvbGxlci5jbG9zZSgpO1xuICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgY2F0Y2ggKGVycikge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGxvZ2dlci5kZWJ1ZyhgRmFpbGVkIHRvIGNsb3NlIHJlYWRhYmxlIHN0cmVhbSBvbiBhYm9ydDogJHtlcnJ9YCk7XG4gICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgIHZvaWQgdGhpcy4jcmVhZGFibGVTdHJlYW1cbiAgICAgICAgICAgICAgICAgICAgICAgIC5jYW5jZWwodGhpcy4jc2lnbmFsPy5yZWFzb24pXG4gICAgICAgICAgICAgICAgICAgICAgICAuY2F0Y2goKGVycikgPT4ge1xuICAgICAgICAgICAgICAgICAgICAgICAgbG9nZ2VyLmRlYnVnKGBGYWlsZWQgdG8gY2FuY2VsIHJlYWRhYmxlIHN0cmVhbSBvbiBhYm9ydDogJHtlcnJ9YCk7XG4gICAgICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB0aGlzLiNjb21wbGV0ZWRQcm9taXNlUmVzb2x2ZT8uKCk7XG4gICAgICAgICAgICB9O1xuICAgICAgICAgICAgaWYgKHRoaXMuI3NpZ25hbC5hYm9ydGVkKSB7XG4gICAgICAgICAgICAgICAgaGFuZGxlQWJvcnQoKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgICAgIHRoaXMuI3NpZ25hbC5hZGRFdmVudExpc3RlbmVyKCdhYm9ydCcsIGhhbmRsZUFib3J0LCB7IG9uY2U6IHRydWUgfSk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICB9XG4gICAgLyoqXG4gICAgICogQGludGVybmFsXG4gICAgICogQWRkcyBhbiBpdGVtIHRvIHRoZSBzdHJlYW0gb2Ygb3V0cHV0IGl0ZW1zXG4gICAgICovXG4gICAgX2FkZEl0ZW0oaXRlbSkge1xuICAgICAgICBpZiAoIXRoaXMuY2FuY2VsbGVkKSB7XG4gICAgICAgICAgICB0aGlzLiNyZWFkYWJsZUNvbnRyb2xsZXI/LmVucXVldWUoaXRlbSk7XG4gICAgICAgIH1cbiAgICB9XG4gICAgLyoqXG4gICAgICogQGludGVybmFsXG4gICAgICogSW5kaWNhdGVzIHRoYXQgdGhlIHN0cmVhbSBoYXMgYmVlbiBjb21wbGV0ZWRcbiAgICAgKi9cbiAgICBfZG9uZSgpIHtcbiAgICAgICAgaWYgKCF0aGlzLmNhbmNlbGxlZCAmJiB0aGlzLiNyZWFkYWJsZUNvbnRyb2xsZXIpIHtcbiAgICAgICAgICAgIHRoaXMuI3JlYWRhYmxlQ29udHJvbGxlci5jbG9zZSgpO1xuICAgICAgICAgICAgdGhpcy4jcmVhZGFibGVDb250cm9sbGVyID0gdW5kZWZpbmVkO1xuICAgICAgICAgICAgdGhpcy4jY29tcGxldGVkUHJvbWlzZVJlc29sdmU/LigpO1xuICAgICAgICB9XG4gICAgfVxuICAgIC8qKlxuICAgICAqIEBpbnRlcm5hbFxuICAgICAqIEhhbmRsZXMgYW4gZXJyb3IgaW4gdGhlIHN0cmVhbSBsb29wLlxuICAgICAqL1xuICAgIF9yYWlzZUVycm9yKGVycikge1xuICAgICAgICBpZiAoIXRoaXMuY2FuY2VsbGVkICYmIHRoaXMuI3JlYWRhYmxlQ29udHJvbGxlcikge1xuICAgICAgICAgICAgdGhpcy4jcmVhZGFibGVDb250cm9sbGVyLmVycm9yKGVycik7XG4gICAgICAgICAgICB0aGlzLiNyZWFkYWJsZUNvbnRyb2xsZXIgPSB1bmRlZmluZWQ7XG4gICAgICAgIH1cbiAgICAgICAgdGhpcy4jZXJyb3IgPSBlcnI7XG4gICAgICAgIHRoaXMuI2NvbXBsZXRlZFByb21pc2VSZWplY3Q/LihlcnIpO1xuICAgICAgICB0aGlzLiNjb21wbGV0ZWRQcm9taXNlLmNhdGNoKChlKSA9PiB7XG4gICAgICAgICAgICBsb2dnZXIuZGVidWcoYFJlc3VsdGVkIGluIGFuIGVycm9yOiAke2V9YCk7XG4gICAgICAgIH0pO1xuICAgIH1cbiAgICAvKipcbiAgICAgKiBSZXR1cm5zIHRydWUgaWYgdGhlIHN0cmVhbSBoYXMgYmVlbiBjYW5jZWxsZWQuXG4gICAgICovXG4gICAgZ2V0IGNhbmNlbGxlZCgpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuI2NhbmNlbGxlZDtcbiAgICB9XG4gICAgLyoqXG4gICAgICogUmV0dXJucyB0aGUgdW5kZXJseWluZyByZWFkYWJsZSBzdHJlYW0uXG4gICAgICogQHJldHVybnMgQSByZWFkYWJsZSBzdHJlYW0gb2YgdGhlIGFnZW50IHJ1bi5cbiAgICAgKi9cbiAgICB0b1N0cmVhbSgpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuI3JlYWRhYmxlU3RyZWFtO1xuICAgIH1cbiAgICAvKipcbiAgICAgKiBBd2FpdCB0aGlzIHByb21pc2UgdG8gZW5zdXJlIHRoYXQgdGhlIHN0cmVhbSBoYXMgYmVlbiBjb21wbGV0ZWQgaWYgeW91IGFyZSBub3QgY29uc3VtaW5nIHRoZVxuICAgICAqIHN0cmVhbSBkaXJlY3RseS5cbiAgICAgKi9cbiAgICBnZXQgY29tcGxldGVkKCkge1xuICAgICAgICByZXR1cm4gdGhpcy4jY29tcGxldGVkUHJvbWlzZTtcbiAgICB9XG4gICAgLyoqXG4gICAgICogRXJyb3IgdGhyb3duIGR1cmluZyB0aGUgcnVuLCBpZiBhbnkuXG4gICAgICovXG4gICAgZ2V0IGVycm9yKCkge1xuICAgICAgICByZXR1cm4gdGhpcy4jZXJyb3I7XG4gICAgfVxuICAgIHRvVGV4dFN0cmVhbShvcHRpb25zID0ge30pIHtcbiAgICAgICAgY29uc3Qgc3RyZWFtID0gdGhpcy4jcmVhZGFibGVTdHJlYW0ucGlwZVRocm91Z2gobmV3IFRyYW5zZm9ybVN0cmVhbSh7XG4gICAgICAgICAgICB0cmFuc2Zvcm0oZXZlbnQsIGNvbnRyb2xsZXIpIHtcbiAgICAgICAgICAgICAgICBpZiAoZXZlbnQudHlwZSA9PT0gJ3Jhd19tb2RlbF9zdHJlYW1fZXZlbnQnICYmXG4gICAgICAgICAgICAgICAgICAgIGV2ZW50LmRhdGEudHlwZSA9PT0gJ291dHB1dF90ZXh0X2RlbHRhJykge1xuICAgICAgICAgICAgICAgICAgICBjb25zdCBpdGVtID0gU3RyZWFtRXZlbnRUZXh0U3RyZWFtLnBhcnNlKGV2ZW50LmRhdGEpO1xuICAgICAgICAgICAgICAgICAgICBjb250cm9sbGVyLmVucXVldWUoaXRlbS5kZWx0YSk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfSxcbiAgICAgICAgfSkpO1xuICAgICAgICBpZiAob3B0aW9ucy5jb21wYXRpYmxlV2l0aE5vZGVTdHJlYW1zKSB7XG4gICAgICAgICAgICByZXR1cm4gUmVhZGFibGUuZnJvbVdlYihzdHJlYW0pO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiBzdHJlYW07XG4gICAgfVxuICAgIFtTeW1ib2wuYXN5bmNJdGVyYXRvcl0oKSB7XG4gICAgICAgIHJldHVybiB0aGlzLiNyZWFkYWJsZVN0cmVhbVtTeW1ib2wuYXN5bmNJdGVyYXRvcl0oKTtcbiAgICB9XG4gICAgLyoqXG4gICAgICogQGludGVybmFsXG4gICAgICogU2V0cyB0aGUgc3RyZWFtIGxvb3AgcHJvbWlzZSB0aGF0IGNvbXBsZXRlcyB3aGVuIHRoZSBpbnRlcm5hbCBzdHJlYW0gbG9vcCBmaW5pc2hlcy5cbiAgICAgKiBUaGlzIGlzIHVzZWQgdG8gZGVmZXIgdHJhY2UgZW5kIHVudGlsIGFsbCBhZ2VudCB3b3JrIGlzIGNvbXBsZXRlLlxuICAgICAqL1xuICAgIF9zZXRTdHJlYW1Mb29wUHJvbWlzZShwcm9taXNlKSB7XG4gICAgICAgIHRoaXMuI3N0cmVhbUxvb3BQcm9taXNlID0gcHJvbWlzZTtcbiAgICB9XG4gICAgLyoqXG4gICAgICogQGludGVybmFsXG4gICAgICogUmV0dXJucyBhIHByb21pc2UgdGhhdCByZXNvbHZlcyB3aGVuIHRoZSBzdHJlYW0gbG9vcCBjb21wbGV0ZXMuXG4gICAgICogVGhpcyBpcyB1c2VkIGJ5IHRoZSB0cmFjaW5nIHN5c3RlbSB0byB3YWl0IGZvciBhbGwgYWdlbnQgd29yayBiZWZvcmUgZW5kaW5nIHRoZSB0cmFjZS5cbiAgICAgKi9cbiAgICBfZ2V0U3RyZWFtTG9vcFByb21pc2UoKSB7XG4gICAgICAgIHJldHVybiB0aGlzLiNzdHJlYW1Mb29wUHJvbWlzZTtcbiAgICB9XG59XG4vLyMgc291cmNlTWFwcGluZ1VSTD1yZXN1bHQubWpzLm1hcCIsImltcG9ydCB7IEFzeW5jTG9jYWxTdG9yYWdlIH0gZnJvbSAnQG9wZW5haS9hZ2VudHMtY29yZS9fc2hpbXMnO1xuaW1wb3J0IHsgZ2V0R2xvYmFsVHJhY2VQcm92aWRlciB9IGZyb20gXCIuL3Byb3ZpZGVyLm1qc1wiO1xuaW1wb3J0IHsgU3RyZWFtZWRSdW5SZXN1bHQgfSBmcm9tIFwiLi4vcmVzdWx0Lm1qc1wiO1xubGV0IF9jb250ZXh0QXN5bmNMb2NhbFN0b3JhZ2U7XG5mdW5jdGlvbiBnZXRDb250ZXh0QXN5bmNMb2NhbFN0b3JhZ2UoKSB7XG4gICAgX2NvbnRleHRBc3luY0xvY2FsU3RvcmFnZSA/Pz0gbmV3IEFzeW5jTG9jYWxTdG9yYWdlKCk7XG4gICAgcmV0dXJuIF9jb250ZXh0QXN5bmNMb2NhbFN0b3JhZ2U7XG59XG4vKipcbiAqIFRoaXMgZnVuY3Rpb24gd2lsbCBnZXQgdGhlIGN1cnJlbnQgdHJhY2UgZnJvbSB0aGUgZXhlY3V0aW9uIGNvbnRleHQuXG4gKlxuICogQHJldHVybnMgVGhlIGN1cnJlbnQgdHJhY2Ugb3IgbnVsbCBpZiB0aGVyZSBpcyBubyB0cmFjZS5cbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIGdldEN1cnJlbnRUcmFjZSgpIHtcbiAgICBjb25zdCBjdXJyZW50VHJhY2UgPSBnZXRDb250ZXh0QXN5bmNMb2NhbFN0b3JhZ2UoKS5nZXRTdG9yZSgpO1xuICAgIGlmIChjdXJyZW50VHJhY2U/LnRyYWNlKSB7XG4gICAgICAgIHJldHVybiBjdXJyZW50VHJhY2UudHJhY2U7XG4gICAgfVxuICAgIHJldHVybiBudWxsO1xufVxuLyoqXG4gKiBUaGlzIGZ1bmN0aW9uIHdpbGwgZ2V0IHRoZSBjdXJyZW50IHNwYW4gZnJvbSB0aGUgZXhlY3V0aW9uIGNvbnRleHQuXG4gKlxuICogQHJldHVybnMgVGhlIGN1cnJlbnQgc3BhbiBvciBudWxsIGlmIHRoZXJlIGlzIG5vIHNwYW4uXG4gKi9cbmV4cG9ydCBmdW5jdGlvbiBnZXRDdXJyZW50U3BhbigpIHtcbiAgICBjb25zdCBjdXJyZW50U3BhbiA9IGdldENvbnRleHRBc3luY0xvY2FsU3RvcmFnZSgpLmdldFN0b3JlKCk7XG4gICAgaWYgKGN1cnJlbnRTcGFuPy5zcGFuKSB7XG4gICAgICAgIHJldHVybiBjdXJyZW50U3Bhbi5zcGFuO1xuICAgIH1cbiAgICByZXR1cm4gbnVsbDtcbn1cbi8qKlxuICogVGhpcyBpcyBhbiBBc3luY0xvY2FsU3RvcmFnZSBpbnN0YW5jZSB0aGF0IHN0b3JlcyB0aGUgY3VycmVudCB0cmFjZS5cbiAqIEl0IHdpbGwgYXV0b21hdGljYWxseSBoYW5kbGUgdGhlIGV4ZWN1dGlvbiBjb250ZXh0IG9mIGRpZmZlcmVudCBldmVudCBsb29wIGV4ZWN1dGlvbnMuXG4gKlxuICogVGhlIGZ1bmN0aW9ucyBiZWxvdyBzaG91bGQgYmUgdGhlIG9ubHkgd2F5IHRoYXQgdGhpcyBjb250ZXh0IGdldHMgaW50ZXJmYWNlZCB3aXRoLlxuICovXG5mdW5jdGlvbiBfd3JhcEZ1bmN0aW9uV2l0aFRyYWNlTGlmZWN5Y2xlKGZuKSB7XG4gICAgcmV0dXJuIGFzeW5jICgpID0+IHtcbiAgICAgICAgY29uc3QgdHJhY2UgPSBnZXRDdXJyZW50VHJhY2UoKTtcbiAgICAgICAgaWYgKCF0cmFjZSkge1xuICAgICAgICAgICAgdGhyb3cgbmV3IEVycm9yKCdObyB0cmFjZSBmb3VuZCcpO1xuICAgICAgICB9XG4gICAgICAgIGF3YWl0IHRyYWNlLnN0YXJ0KCk7XG4gICAgICAgIGNvbnN0IHJlc3VsdCA9IGF3YWl0IGZuKHRyYWNlKTtcbiAgICAgICAgLy8gSWYgcmVzdWx0IGlzIGEgU3RyZWFtZWRSdW5SZXN1bHQsIGRlZmVyIHRyYWNlIGVuZCB1bnRpbCBzdHJlYW0gbG9vcCBjb21wbGV0ZXNcbiAgICAgICAgaWYgKHJlc3VsdCBpbnN0YW5jZW9mIFN0cmVhbWVkUnVuUmVzdWx0KSB7XG4gICAgICAgICAgICBjb25zdCBzdHJlYW1Mb29wUHJvbWlzZSA9IHJlc3VsdC5fZ2V0U3RyZWFtTG9vcFByb21pc2UoKTtcbiAgICAgICAgICAgIGlmIChzdHJlYW1Mb29wUHJvbWlzZSkge1xuICAgICAgICAgICAgICAgIHN0cmVhbUxvb3BQcm9taXNlLmZpbmFsbHkoKCkgPT4gdHJhY2UuZW5kKCkpO1xuICAgICAgICAgICAgICAgIHJldHVybiByZXN1bHQ7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgLy8gRm9yIG5vbi1zdHJlYW1pbmcgcmVzdWx0cywgZW5kIHRyYWNlIHN5bmNocm9ub3VzbHlcbiAgICAgICAgYXdhaXQgdHJhY2UuZW5kKCk7XG4gICAgICAgIHJldHVybiByZXN1bHQ7XG4gICAgfTtcbn1cbi8qKlxuICogVGhpcyBmdW5jdGlvbiB3aWxsIGNyZWF0ZSBhIG5ldyB0cmFjZSBhbmQgYXNzaWduIGl0IHRvIHRoZSBleGVjdXRpb24gY29udGV4dCBvZiB0aGUgZnVuY3Rpb25cbiAqIHBhc3NlZCB0byBpdC5cbiAqXG4gKiBAcGFyYW0gZm4gLSBUaGUgZnVuY3Rpb24gdG8gcnVuIGFuZCBhc3NpZ24gdGhlIHRyYWNlIGNvbnRleHQgdG8uXG4gKiBAcGFyYW0gb3B0aW9ucyAtIE9wdGlvbnMgZm9yIHRoZSBjcmVhdGlvbiBvZiB0aGUgdHJhY2VcbiAqL1xuZXhwb3J0IGFzeW5jIGZ1bmN0aW9uIHdpdGhUcmFjZSh0cmFjZSwgZm4sIG9wdGlvbnMgPSB7fSkge1xuICAgIGNvbnN0IG5ld1RyYWNlID0gdHlwZW9mIHRyYWNlID09PSAnc3RyaW5nJ1xuICAgICAgICA/IGdldEdsb2JhbFRyYWNlUHJvdmlkZXIoKS5jcmVhdGVUcmFjZSh7XG4gICAgICAgICAgICAuLi5vcHRpb25zLFxuICAgICAgICAgICAgbmFtZTogdHJhY2UsXG4gICAgICAgIH0pXG4gICAgICAgIDogdHJhY2U7XG4gICAgcmV0dXJuIGdldENvbnRleHRBc3luY0xvY2FsU3RvcmFnZSgpLnJ1bih7IHRyYWNlOiBuZXdUcmFjZSB9LCBfd3JhcEZ1bmN0aW9uV2l0aFRyYWNlTGlmZWN5Y2xlKGZuKSk7XG59XG4vKipcbiAqIFRoaXMgZnVuY3Rpb24gd2lsbCBjaGVjayBpZiB0aGVyZSBpcyBhbiBleGlzdGluZyBhY3RpdmUgdHJhY2UgaW4gdGhlIGV4ZWN1dGlvbiBjb250ZXh0LiBJZiB0aGVyZVxuICogaXMsIGl0IHdpbGwgcnVuIHRoZSBnaXZlbiBmdW5jdGlvbiB3aXRoIHRoZSBleGlzdGluZyB0cmFjZS4gSWYgdGhlcmUgaXMgbm8gdHJhY2UsIGl0IHdpbGwgY3JlYXRlXG4gKiBhIG5ldyBvbmUgYW5kIGFzc2lnbiBpdCB0byB0aGUgZXhlY3V0aW9uIGNvbnRleHQgb2YgdGhlIGZ1bmN0aW9uLlxuICpcbiAqIEBwYXJhbSBmbiAtIFRoZSBmenVuY3Rpb24gdG8gcnVuIGFuZCBhc3NpZ24gdGhlIHRyYWNlIGNvbnRleHQgdG8uXG4gKiBAcGFyYW0gb3B0aW9ucyAtIE9wdGlvbnMgZm9yIHRoZSBjcmVhdGlvbiBvZiB0aGUgdHJhY2VcbiAqL1xuZXhwb3J0IGFzeW5jIGZ1bmN0aW9uIGdldE9yQ3JlYXRlVHJhY2UoZm4sIG9wdGlvbnMgPSB7fSkge1xuICAgIGNvbnN0IGN1cnJlbnRUcmFjZSA9IGdldEN1cnJlbnRUcmFjZSgpO1xuICAgIGlmIChjdXJyZW50VHJhY2UpIHtcbiAgICAgICAgLy8gaWYgdGhpcyBleGVjdXRpb24gY29udGV4dCBhbHJlYWR5IGhhcyBhIHRyYWNlIGluc3RhbmNlIGluIGl0IHdlIGp1c3QgY29udGludWVcbiAgICAgICAgcmV0dXJuIGF3YWl0IGZuKCk7XG4gICAgfVxuICAgIGNvbnN0IG5ld1RyYWNlID0gZ2V0R2xvYmFsVHJhY2VQcm92aWRlcigpLmNyZWF0ZVRyYWNlKG9wdGlvbnMpO1xuICAgIHJldHVybiBnZXRDb250ZXh0QXN5bmNMb2NhbFN0b3JhZ2UoKS5ydW4oeyB0cmFjZTogbmV3VHJhY2UgfSwgX3dyYXBGdW5jdGlvbldpdGhUcmFjZUxpZmVjeWNsZShmbikpO1xufVxuLyoqXG4gKiBUaGlzIGZ1bmN0aW9uIHdpbGwgc2V0IHRoZSBjdXJyZW50IHNwYW4gaW4gdGhlIGV4ZWN1dGlvbiBjb250ZXh0LlxuICpcbiAqIEBwYXJhbSBzcGFuIC0gVGhlIHNwYW4gdG8gc2V0IGFzIHRoZSBjdXJyZW50IHNwYW4uXG4gKi9cbmV4cG9ydCBmdW5jdGlvbiBzZXRDdXJyZW50U3BhbihzcGFuKSB7XG4gICAgY29uc3QgY29udGV4dCA9IGdldENvbnRleHRBc3luY0xvY2FsU3RvcmFnZSgpLmdldFN0b3JlKCk7XG4gICAgaWYgKCFjb250ZXh0KSB7XG4gICAgICAgIHRocm93IG5ldyBFcnJvcignTm8gZXhpc3RpbmcgdHJhY2UgZm91bmQnKTtcbiAgICB9XG4gICAgaWYgKGNvbnRleHQuc3Bhbikge1xuICAgICAgICBjb250ZXh0LnNwYW4ucHJldmlvdXNTcGFuID0gY29udGV4dC5wcmV2aW91c1NwYW47XG4gICAgICAgIGNvbnRleHQucHJldmlvdXNTcGFuID0gY29udGV4dC5zcGFuO1xuICAgIH1cbiAgICBjb250ZXh0LnNwYW4gPSBzcGFuO1xuICAgIGdldENvbnRleHRBc3luY0xvY2FsU3RvcmFnZSgpLmVudGVyV2l0aChjb250ZXh0KTtcbn1cbmV4cG9ydCBmdW5jdGlvbiByZXNldEN1cnJlbnRTcGFuKCkge1xuICAgIGNvbnN0IGNvbnRleHQgPSBnZXRDb250ZXh0QXN5bmNMb2NhbFN0b3JhZ2UoKS5nZXRTdG9yZSgpO1xuICAgIGlmIChjb250ZXh0KSB7XG4gICAgICAgIGNvbnRleHQuc3BhbiA9IGNvbnRleHQucHJldmlvdXNTcGFuO1xuICAgICAgICBjb250ZXh0LnByZXZpb3VzU3BhbiA9IGNvbnRleHQucHJldmlvdXNTcGFuPy5wcmV2aW91c1NwYW47XG4gICAgICAgIGdldENvbnRleHRBc3luY0xvY2FsU3RvcmFnZSgpLmVudGVyV2l0aChjb250ZXh0KTtcbiAgICB9XG59XG4vKipcbiAqIFRoaXMgZnVuY3Rpb24gd2lsbCBhZGQgYW4gZXJyb3IgdG8gdGhlIGN1cnJlbnQgc3Bhbi5cbiAqXG4gKiBAcGFyYW0gc3BhbkVycm9yIC0gVGhlIGVycm9yIHRvIGFkZCB0byB0aGUgY3VycmVudCBzcGFuLlxuICovXG5leHBvcnQgZnVuY3Rpb24gYWRkRXJyb3JUb0N1cnJlbnRTcGFuKHNwYW5FcnJvcikge1xuICAgIGNvbnN0IGN1cnJlbnRTcGFuID0gZ2V0Q3VycmVudFNwYW4oKTtcbiAgICBpZiAoY3VycmVudFNwYW4pIHtcbiAgICAgICAgY3VycmVudFNwYW4uc2V0RXJyb3Ioc3BhbkVycm9yKTtcbiAgICB9XG59XG4vKipcbiAqIFRoaXMgZnVuY3Rpb24gd2lsbCBjbG9uZSB0aGUgY3VycmVudCBjb250ZXh0IGJ5IGNyZWF0aW5nIG5ldyBpbnN0YW5jZXMgb2YgdGhlIHRyYWNlLCBzcGFuLCBhbmRcbiAqIHByZXZpb3VzIHNwYW4uXG4gKlxuICogQHBhcmFtIGNvbnRleHQgLSBUaGUgY29udGV4dCB0byBjbG9uZS5cbiAqIEByZXR1cm5zIEEgY2xvbmUgb2YgdGhlIGNvbnRleHQuXG4gKi9cbmV4cG9ydCBmdW5jdGlvbiBjbG9uZUN1cnJlbnRDb250ZXh0KGNvbnRleHQpIHtcbiAgICByZXR1cm4ge1xuICAgICAgICB0cmFjZTogY29udGV4dC50cmFjZT8uY2xvbmUoKSxcbiAgICAgICAgc3BhbjogY29udGV4dC5zcGFuPy5jbG9uZSgpLFxuICAgICAgICBwcmV2aW91c1NwYW46IGNvbnRleHQucHJldmlvdXNTcGFuPy5jbG9uZSgpLFxuICAgIH07XG59XG4vKipcbiAqIFRoaXMgZnVuY3Rpb24gd2lsbCBydW4gdGhlIGdpdmVuIGZ1bmN0aW9uIHdpdGggYSBuZXcgc3BhbiBjb250ZXh0LlxuICpcbiAqIEBwYXJhbSBmbiAtIFRoZSBmdW5jdGlvbiB0byBydW4gd2l0aCB0aGUgbmV3IHNwYW4gY29udGV4dC5cbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIHdpdGhOZXdTcGFuQ29udGV4dChmbikge1xuICAgIGNvbnN0IGN1cnJlbnRDb250ZXh0ID0gZ2V0Q29udGV4dEFzeW5jTG9jYWxTdG9yYWdlKCkuZ2V0U3RvcmUoKTtcbiAgICBpZiAoIWN1cnJlbnRDb250ZXh0KSB7XG4gICAgICAgIHRocm93IG5ldyBFcnJvcignTm8gZXhpc3RpbmcgdHJhY2UgZm91bmQnKTtcbiAgICB9XG4gICAgY29uc3QgY29weU9mQ29udGV4dCA9IGNsb25lQ3VycmVudENvbnRleHQoY3VycmVudENvbnRleHQpO1xuICAgIHJldHVybiBnZXRDb250ZXh0QXN5bmNMb2NhbFN0b3JhZ2UoKS5ydW4oY29weU9mQ29udGV4dCwgZm4pO1xufVxuLy8jIHNvdXJjZU1hcHBpbmdVUkw9Y29udGV4dC5tanMubWFwIiwiaW1wb3J0IGxvZ2dlciBmcm9tIFwiLi4vbG9nZ2VyLm1qc1wiO1xuaW1wb3J0IHsgdGltZXIgYXMgX3RpbWVyLCBpc1RyYWNpbmdMb29wUnVubmluZ0J5RGVmYXVsdCwgfSBmcm9tICdAb3BlbmFpL2FnZW50cy1jb3JlL19zaGltcyc7XG5pbXBvcnQgeyB0cmFjaW5nIH0gZnJvbSBcIi4uL2NvbmZpZy5tanNcIjtcbi8qKlxuICogUHJpbnRzIHRoZSB0cmFjZXMgYW5kIHNwYW5zIHRvIHRoZSBjb25zb2xlXG4gKi9cbmV4cG9ydCBjbGFzcyBDb25zb2xlU3BhbkV4cG9ydGVyIHtcbiAgICBhc3luYyBleHBvcnQoaXRlbXMpIHtcbiAgICAgICAgaWYgKHRyYWNpbmcuZGlzYWJsZWQpIHtcbiAgICAgICAgICAgIGxvZ2dlci5kZWJ1ZygnVHJhY2luZyBpcyBkaXNhYmxlZC4gU2tpcHBpbmcgZXhwb3J0Jyk7XG4gICAgICAgICAgICByZXR1cm47XG4gICAgICAgIH1cbiAgICAgICAgZm9yIChjb25zdCBpdGVtIG9mIGl0ZW1zKSB7XG4gICAgICAgICAgICBpZiAoaXRlbS50eXBlID09PSAndHJhY2UnKSB7XG4gICAgICAgICAgICAgICAgY29uc29sZS5sb2coYFtFeHBvcnRlcl0gRXhwb3J0IHRyYWNlIHRyYWNlSWQ9JHtpdGVtLnRyYWNlSWR9IG5hbWU9JHtpdGVtLm5hbWV9JHtpdGVtLmdyb3VwSWQgPyBgIGdyb3VwSWQ9JHtpdGVtLmdyb3VwSWR9YCA6ICcnfWApO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICAgICAgY29uc29sZS5sb2coYFtFeHBvcnRlcl0gRXhwb3J0IHNwYW46ICR7SlNPTi5zdHJpbmdpZnkoaXRlbSl9YCk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICB9XG59XG5leHBvcnQgY2xhc3MgQmF0Y2hUcmFjZVByb2Nlc3NvciB7XG4gICAgI21heFF1ZXVlU2l6ZTtcbiAgICAjbWF4QmF0Y2hTaXplO1xuICAgICNzY2hlZHVsZURlbGF5O1xuICAgICNleHBvcnRUcmlnZ2VyU2l6ZTtcbiAgICAjZXhwb3J0ZXI7XG4gICAgI2J1ZmZlciA9IFtdO1xuICAgICN0aW1lcjtcbiAgICAjdGltZW91dCA9IG51bGw7XG4gICAgI2V4cG9ydEluUHJvZ3Jlc3MgPSBmYWxzZTtcbiAgICAjdGltZW91dEFib3J0Q29udHJvbGxlciA9IG51bGw7XG4gICAgY29uc3RydWN0b3IoZXhwb3J0ZXIsIHsgbWF4UXVldWVTaXplID0gMTAwMCwgbWF4QmF0Y2hTaXplID0gMTAwLCBzY2hlZHVsZURlbGF5ID0gNTAwMCwgLy8gNSBzZWNvbmRzXG4gICAgZXhwb3J0VHJpZ2dlclJhdGlvID0gMC44LCB9ID0ge30pIHtcbiAgICAgICAgdGhpcy4jbWF4UXVldWVTaXplID0gbWF4UXVldWVTaXplO1xuICAgICAgICB0aGlzLiNtYXhCYXRjaFNpemUgPSBtYXhCYXRjaFNpemU7XG4gICAgICAgIHRoaXMuI3NjaGVkdWxlRGVsYXkgPSBzY2hlZHVsZURlbGF5O1xuICAgICAgICB0aGlzLiNleHBvcnRUcmlnZ2VyU2l6ZSA9IG1heFF1ZXVlU2l6ZSAqIGV4cG9ydFRyaWdnZXJSYXRpbztcbiAgICAgICAgdGhpcy4jZXhwb3J0ZXIgPSBleHBvcnRlcjtcbiAgICAgICAgdGhpcy4jdGltZXIgPSBfdGltZXI7XG4gICAgICAgIGlmIChpc1RyYWNpbmdMb29wUnVubmluZ0J5RGVmYXVsdCgpKSB7XG4gICAgICAgICAgICB0aGlzLnN0YXJ0KCk7XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICBsb2dnZXIuZGVidWcoJ0F1dG9tYXRpYyB0cmFjZSBleHBvcnQgbG9vcCBpcyBub3Qgc3VwcG9ydGVkIGluIHRoaXMgZW52aXJvbm1lbnQuIFlvdSBuZWVkIHRvIG1hbnVhbGx5IGNhbGwgYGdldEdsb2JhbFRyYWNlUHJvdmlkZXIoKS5mb3JjZUZsdXNoKClgIHRvIGV4cG9ydCB0cmFjZXMuJyk7XG4gICAgICAgIH1cbiAgICB9XG4gICAgc3RhcnQoKSB7XG4gICAgICAgIHRoaXMuI3RpbWVvdXRBYm9ydENvbnRyb2xsZXIgPSBuZXcgQWJvcnRDb250cm9sbGVyKCk7XG4gICAgICAgIHRoaXMuI3J1bkV4cG9ydExvb3AoKTtcbiAgICB9XG4gICAgYXN5bmMgI3NhZmVBZGRJdGVtKGl0ZW0pIHtcbiAgICAgICAgaWYgKHRoaXMuI2J1ZmZlci5sZW5ndGggKyAxID4gdGhpcy4jbWF4UXVldWVTaXplKSB7XG4gICAgICAgICAgICBsb2dnZXIuZXJyb3IoJ0Ryb3BwaW5nIHRyYWNlIGJlY2F1c2UgYnVmZmVyIGlzIGZ1bGwnKTtcbiAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgfVxuICAgICAgICAvLyBhZGQgdGhlIGl0ZW0gdG8gdGhlIGJ1ZmZlclxuICAgICAgICB0aGlzLiNidWZmZXIucHVzaChpdGVtKTtcbiAgICAgICAgaWYgKHRoaXMuI2J1ZmZlci5sZW5ndGggPiB0aGlzLiNleHBvcnRUcmlnZ2VyU2l6ZSkge1xuICAgICAgICAgICAgLy8gc3RhcnQgZXhwb3J0aW5nIGltbWVkaWF0ZWx5XG4gICAgICAgICAgICBhd2FpdCB0aGlzLiNleHBvcnRCYXRjaGVzKCk7XG4gICAgICAgIH1cbiAgICB9XG4gICAgI3J1bkV4cG9ydExvb3AoKSB7XG4gICAgICAgIHRoaXMuI3RpbWVvdXQgPSB0aGlzLiN0aW1lci5zZXRUaW1lb3V0KGFzeW5jICgpID0+IHtcbiAgICAgICAgICAgIC8vIHNjaGVkdWxlZCBleHBvcnRcbiAgICAgICAgICAgIGF3YWl0IHRoaXMuI2V4cG9ydEJhdGNoZXMoKTtcbiAgICAgICAgICAgIHRoaXMuI3J1bkV4cG9ydExvb3AoKTtcbiAgICAgICAgfSwgdGhpcy4jc2NoZWR1bGVEZWxheSk7XG4gICAgICAgIC8vIFdlIHNldCB0aGlzIHNvIHRoYXQgTm9kZSBubyBsb25nZXIgY29uc2lkZXJzIHRoaXMgcGFydCBvZiB0aGUgZXZlbnQgbG9vcCBhbmQga2VlcHMgdGhlXG4gICAgICAgIC8vIHByb2Nlc3MgYWxpdmUgdW50aWwgdGhlIHRpbWVyIGlzIGRvbmUuXG4gICAgICAgIGlmICh0eXBlb2YgdGhpcy4jdGltZW91dC51bnJlZiA9PT0gJ2Z1bmN0aW9uJykge1xuICAgICAgICAgICAgdGhpcy4jdGltZW91dC51bnJlZigpO1xuICAgICAgICB9XG4gICAgfVxuICAgIGFzeW5jICNleHBvcnRCYXRjaGVzKGZvcmNlID0gZmFsc2UpIHtcbiAgICAgICAgaWYgKHRoaXMuI2J1ZmZlci5sZW5ndGggPT09IDApIHtcbiAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgfVxuICAgICAgICBsb2dnZXIuZGVidWcoYEV4cG9ydGluZyBiYXRjaGVzLiBGb3JjZTogJHtmb3JjZX0uIEJ1ZmZlciBzaXplOiAke3RoaXMuI2J1ZmZlci5sZW5ndGh9YCk7XG4gICAgICAgIGlmIChmb3JjZSB8fCB0aGlzLiNidWZmZXIubGVuZ3RoIDwgdGhpcy4jbWF4QmF0Y2hTaXplKSB7XG4gICAgICAgICAgICBjb25zdCB0b0V4cG9ydCA9IFsuLi50aGlzLiNidWZmZXJdO1xuICAgICAgICAgICAgdGhpcy4jYnVmZmVyID0gW107XG4gICAgICAgICAgICB0aGlzLiNleHBvcnRJblByb2dyZXNzID0gdHJ1ZTtcbiAgICAgICAgICAgIGF3YWl0IHRoaXMuI2V4cG9ydGVyLmV4cG9ydCh0b0V4cG9ydCk7XG4gICAgICAgICAgICB0aGlzLiNleHBvcnRJblByb2dyZXNzID0gZmFsc2U7XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSBpZiAodGhpcy4jYnVmZmVyLmxlbmd0aCA+IDApIHtcbiAgICAgICAgICAgIGNvbnN0IGJhdGNoID0gdGhpcy4jYnVmZmVyLnNwbGljZSgwLCB0aGlzLiNtYXhCYXRjaFNpemUpO1xuICAgICAgICAgICAgdGhpcy4jZXhwb3J0SW5Qcm9ncmVzcyA9IHRydWU7XG4gICAgICAgICAgICBhd2FpdCB0aGlzLiNleHBvcnRlci5leHBvcnQoYmF0Y2gpO1xuICAgICAgICAgICAgdGhpcy4jZXhwb3J0SW5Qcm9ncmVzcyA9IGZhbHNlO1xuICAgICAgICB9XG4gICAgfVxuICAgIGFzeW5jIG9uVHJhY2VTdGFydCh0cmFjZSkge1xuICAgICAgICBhd2FpdCB0aGlzLiNzYWZlQWRkSXRlbSh0cmFjZSk7XG4gICAgfVxuICAgIGFzeW5jIG9uVHJhY2VFbmQoX3RyYWNlKSB7XG4gICAgICAgIC8vIFdlIGRvbid0IHNlbmQgdHJhY2VzIG9uIGVuZCBiZWNhdXNlIHdlIGFscmVhZHkgc2VuZCB0aGVtIG9uIHN0YXJ0XG4gICAgfVxuICAgIGFzeW5jIG9uU3BhblN0YXJ0KF9zcGFuKSB7XG4gICAgICAgIC8vIFdlIGRvbid0IHNlbmQgc3BhbnMgb24gc3RhcnQgYmVjYXVzZSB3ZSBzZW5kIHRoZW0gYXQgdGhlIGVuZFxuICAgIH1cbiAgICBhc3luYyBvblNwYW5FbmQoc3Bhbikge1xuICAgICAgICBhd2FpdCB0aGlzLiNzYWZlQWRkSXRlbShzcGFuKTtcbiAgICB9XG4gICAgYXN5bmMgc2h1dGRvd24odGltZW91dCkge1xuICAgICAgICBpZiAodGltZW91dCkge1xuICAgICAgICAgICAgdGhpcy4jdGltZXIuc2V0VGltZW91dCgoKSA9PiB7XG4gICAgICAgICAgICAgICAgLy8gZm9yY2Ugc2h1dGRvd24gdGhlIEhUVFAgcmVxdWVzdFxuICAgICAgICAgICAgICAgIHRoaXMuI3RpbWVvdXRBYm9ydENvbnRyb2xsZXI/LmFib3J0KCk7XG4gICAgICAgICAgICB9LCB0aW1lb3V0KTtcbiAgICAgICAgfVxuICAgICAgICBsb2dnZXIuZGVidWcoJ1NodXR0aW5nIGRvd24gZ3JhY2VmdWxseScpO1xuICAgICAgICB3aGlsZSAodGhpcy4jYnVmZmVyLmxlbmd0aCA+IDApIHtcbiAgICAgICAgICAgIGxvZ2dlci5kZWJ1ZyhgV2FpdGluZyBmb3IgYnVmZmVyIHRvIGVtcHR5LiBJdGVtcyBsZWZ0OiAke3RoaXMuI2J1ZmZlci5sZW5ndGh9YCk7XG4gICAgICAgICAgICBpZiAoIXRoaXMuI2V4cG9ydEluUHJvZ3Jlc3MpIHtcbiAgICAgICAgICAgICAgICAvLyBubyBjdXJyZW50IGV4cG9ydCBpbiBwcm9ncmVzcy4gRm9yY2luZyBhbGwgaXRlbXMgdG8gYmUgZXhwb3J0ZWRcbiAgICAgICAgICAgICAgICBhd2FpdCB0aGlzLiNleHBvcnRCYXRjaGVzKHRydWUpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgaWYgKHRoaXMuI3RpbWVvdXRBYm9ydENvbnRyb2xsZXI/LnNpZ25hbC5hYm9ydGVkKSB7XG4gICAgICAgICAgICAgICAgbG9nZ2VyLmRlYnVnKCdUaW1lb3V0IHJlYWNoZWQsIGZvcmNlIGZsdXNoaW5nJyk7XG4gICAgICAgICAgICAgICAgYXdhaXQgdGhpcy4jZXhwb3J0QmF0Y2hlcyh0cnVlKTtcbiAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIC8vIHVzaW5nIHNldFRpbWVvdXQgdG8gYWRkIHRvIHRoZSBldmVudCBsb29wIGFuZCBrZWVwIHRoaXMgYWxpdmUgdW50aWwgZG9uZVxuICAgICAgICAgICAgYXdhaXQgbmV3IFByb21pc2UoKHJlc29sdmUpID0+IHRoaXMuI3RpbWVyLnNldFRpbWVvdXQocmVzb2x2ZSwgNTAwKSk7XG4gICAgICAgIH1cbiAgICAgICAgbG9nZ2VyLmRlYnVnKCdCdWZmZXIgZW1wdHkuIEV4aXRpbmcnKTtcbiAgICAgICAgaWYgKHRoaXMuI3RpbWVyICYmIHRoaXMuI3RpbWVvdXQpIHtcbiAgICAgICAgICAgIC8vIG1ha2luZyBzdXJlIHRoZXJlIGFyZSBubyBtb3JlIHJlcXVlc3RzXG4gICAgICAgICAgICB0aGlzLiN0aW1lci5jbGVhclRpbWVvdXQodGhpcy4jdGltZW91dCk7XG4gICAgICAgIH1cbiAgICB9XG4gICAgYXN5bmMgZm9yY2VGbHVzaCgpIHtcbiAgICAgICAgaWYgKHRoaXMuI2J1ZmZlci5sZW5ndGggPiAwKSB7XG4gICAgICAgICAgICBhd2FpdCB0aGlzLiNleHBvcnRCYXRjaGVzKHRydWUpO1xuICAgICAgICB9XG4gICAgfVxufVxuZXhwb3J0IGNsYXNzIE11bHRpVHJhY2luZ1Byb2Nlc3NvciB7XG4gICAgI3Byb2Nlc3NvcnMgPSBbXTtcbiAgICBzdGFydCgpIHtcbiAgICAgICAgZm9yIChjb25zdCBwcm9jZXNzb3Igb2YgdGhpcy4jcHJvY2Vzc29ycykge1xuICAgICAgICAgICAgaWYgKHByb2Nlc3Nvci5zdGFydCkge1xuICAgICAgICAgICAgICAgIHByb2Nlc3Nvci5zdGFydCgpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgfVxuICAgIGFkZFRyYWNlUHJvY2Vzc29yKHByb2Nlc3Nvcikge1xuICAgICAgICB0aGlzLiNwcm9jZXNzb3JzLnB1c2gocHJvY2Vzc29yKTtcbiAgICB9XG4gICAgc2V0UHJvY2Vzc29ycyhwcm9jZXNzb3JzKSB7XG4gICAgICAgIGxvZ2dlci5kZWJ1ZygnU2h1dHRpbmcgZG93biBvbGQgcHJvY2Vzc29ycycpO1xuICAgICAgICBmb3IgKGNvbnN0IHByb2Nlc3NvciBvZiB0aGlzLiNwcm9jZXNzb3JzKSB7XG4gICAgICAgICAgICBwcm9jZXNzb3Iuc2h1dGRvd24oKTtcbiAgICAgICAgfVxuICAgICAgICB0aGlzLiNwcm9jZXNzb3JzID0gcHJvY2Vzc29ycztcbiAgICB9XG4gICAgYXN5bmMgb25UcmFjZVN0YXJ0KHRyYWNlKSB7XG4gICAgICAgIGZvciAoY29uc3QgcHJvY2Vzc29yIG9mIHRoaXMuI3Byb2Nlc3NvcnMpIHtcbiAgICAgICAgICAgIGF3YWl0IHByb2Nlc3Nvci5vblRyYWNlU3RhcnQodHJhY2UpO1xuICAgICAgICB9XG4gICAgfVxuICAgIGFzeW5jIG9uVHJhY2VFbmQodHJhY2UpIHtcbiAgICAgICAgZm9yIChjb25zdCBwcm9jZXNzb3Igb2YgdGhpcy4jcHJvY2Vzc29ycykge1xuICAgICAgICAgICAgYXdhaXQgcHJvY2Vzc29yLm9uVHJhY2VFbmQodHJhY2UpO1xuICAgICAgICB9XG4gICAgfVxuICAgIGFzeW5jIG9uU3BhblN0YXJ0KHNwYW4pIHtcbiAgICAgICAgZm9yIChjb25zdCBwcm9jZXNzb3Igb2YgdGhpcy4jcHJvY2Vzc29ycykge1xuICAgICAgICAgICAgYXdhaXQgcHJvY2Vzc29yLm9uU3BhblN0YXJ0KHNwYW4pO1xuICAgICAgICB9XG4gICAgfVxuICAgIGFzeW5jIG9uU3BhbkVuZChzcGFuKSB7XG4gICAgICAgIGZvciAoY29uc3QgcHJvY2Vzc29yIG9mIHRoaXMuI3Byb2Nlc3NvcnMpIHtcbiAgICAgICAgICAgIGF3YWl0IHByb2Nlc3Nvci5vblNwYW5FbmQoc3Bhbik7XG4gICAgICAgIH1cbiAgICB9XG4gICAgYXN5bmMgc2h1dGRvd24odGltZW91dCkge1xuICAgICAgICBmb3IgKGNvbnN0IHByb2Nlc3NvciBvZiB0aGlzLiNwcm9jZXNzb3JzKSB7XG4gICAgICAgICAgICBhd2FpdCBwcm9jZXNzb3Iuc2h1dGRvd24odGltZW91dCk7XG4gICAgICAgIH1cbiAgICB9XG4gICAgYXN5bmMgZm9yY2VGbHVzaCgpIHtcbiAgICAgICAgZm9yIChjb25zdCBwcm9jZXNzb3Igb2YgdGhpcy4jcHJvY2Vzc29ycykge1xuICAgICAgICAgICAgYXdhaXQgcHJvY2Vzc29yLmZvcmNlRmx1c2goKTtcbiAgICAgICAgfVxuICAgIH1cbn1cbmxldCBfZGVmYXVsdEV4cG9ydGVyID0gbnVsbDtcbmxldCBfZGVmYXVsdFByb2Nlc3NvciA9IG51bGw7XG5leHBvcnQgZnVuY3Rpb24gZGVmYXVsdEV4cG9ydGVyKCkge1xuICAgIGlmICghX2RlZmF1bHRFeHBvcnRlcikge1xuICAgICAgICBfZGVmYXVsdEV4cG9ydGVyID0gbmV3IENvbnNvbGVTcGFuRXhwb3J0ZXIoKTtcbiAgICB9XG4gICAgcmV0dXJuIF9kZWZhdWx0RXhwb3J0ZXI7XG59XG5leHBvcnQgZnVuY3Rpb24gZGVmYXVsdFByb2Nlc3NvcigpIHtcbiAgICBpZiAoIV9kZWZhdWx0UHJvY2Vzc29yKSB7XG4gICAgICAgIF9kZWZhdWx0UHJvY2Vzc29yID0gbmV3IEJhdGNoVHJhY2VQcm9jZXNzb3IoZGVmYXVsdEV4cG9ydGVyKCkpO1xuICAgIH1cbiAgICByZXR1cm4gX2RlZmF1bHRQcm9jZXNzb3I7XG59XG4vLyMgc291cmNlTWFwcGluZ1VSTD1wcm9jZXNzb3IubWpzLm1hcCIsImltcG9ydCB7IHJhbmRvbVVVSUQgfSBmcm9tICdAb3BlbmFpL2FnZW50cy1jb3JlL19zaGltcyc7XG4vKipcbiAqIEdlbmVyYXRlIGFuIElTTyA4NjAxIHRpbWVzdGFtcCBvZiB0aGUgY3VycmVudCB0aW1lLlxuICogQHJldHVybnMgQW4gSVNPIDg2MDEgdGltZXN0YW1wLlxuICovXG5leHBvcnQgZnVuY3Rpb24gdGltZUlzbygpIHtcbiAgICByZXR1cm4gbmV3IERhdGUoKS50b0lTT1N0cmluZygpO1xufVxuLyoqXG4gKiBHZW5lcmF0ZSBhIHRyYWNlIElEIGJ5IGNyZWF0aW5nIGEgcmFuZG9tIFVVSUQgdjQgYW5kIHJlbW92aW5nIHRoZSBkYXNoZXMuIFRoaXMgaXMgdGhlIGVxdWl2YWxlbnRcbiAqIG9mIGB1dWlkNCgpLmhleGAgaW4gUHl0aG9uIGFuZCBwcmVmaXhpbmcgaXQgd2l0aCBgdHJhY2VfYC5cbiAqIEByZXR1cm5zIEEgdHJhY2UgSUQuXG4gKi9cbmV4cG9ydCBmdW5jdGlvbiBnZW5lcmF0ZVRyYWNlSWQoKSB7XG4gICAgcmV0dXJuIGB0cmFjZV8ke3JhbmRvbVVVSUQoKS5yZXBsYWNlKC8tL2csICcnKX1gO1xufVxuLyoqXG4gKiBHZW5lcmF0ZSBhIHNwYW4gSUQgYnkgY3JlYXRpbmcgYSByYW5kb20gVVVJRCB2NCBhbmQgcmVtb3ZpbmcgdGhlIGRhc2hlcy4gVGhpcyBpcyB0aGUgZXF1aXZhbGVudFxuICogb2YgYHV1aWQ0KCkuaGV4YCBpbiBQeXRob24gYW5kIHByZWZpeGluZyBpdCB3aXRoIGBzcGFuX2AuXG4gKiBAcmV0dXJucyBBIHNwYW4gSUQuXG4gKi9cbmV4cG9ydCBmdW5jdGlvbiBnZW5lcmF0ZVNwYW5JZCgpIHtcbiAgICByZXR1cm4gYHNwYW5fJHtyYW5kb21VVUlEKCkucmVwbGFjZSgvLS9nLCAnJykuc2xpY2UoMCwgMjQpfWA7XG59XG4vKipcbiAqIEdlbmVyYXRlIGEgZ3JvdXAgSUQgYnkgY3JlYXRpbmcgYSByYW5kb20gVVVJRCB2NCBhbmQgcmVtb3ZpbmcgdGhlIGRhc2hlcy4gVGhpcyBpcyB0aGUgZXF1aXZhbGVudFxuICogb2YgYHV1aWQ0KCkuaGV4YCBpbiBQeXRob24gYW5kIHByZWZpeGluZyBpdCB3aXRoIGBncm91cF9gLlxuICogQHJldHVybnMgQSBncm91cCBJRC5cbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIGdlbmVyYXRlR3JvdXBJZCgpIHtcbiAgICByZXR1cm4gYGdyb3VwXyR7cmFuZG9tVVVJRCgpLnJlcGxhY2UoLy0vZywgJycpLnNsaWNlKDAsIDI0KX1gO1xufVxuLyoqXG4gKiBSZW1vdmUgZmllbGRzIHRoYXQgc3RhcnQgd2l0aCBhbiB1bmRlcnNjb3JlIGZyb20gYW4gb2JqZWN0LlxuICogQHBhcmFtIG9iaiAtIFRoZSBvYmplY3QgdG8gcmVtb3ZlIHByaXZhdGUgZmllbGRzIGZyb20uXG4gKiBAcmV0dXJucyBBIG5ldyBvYmplY3Qgd2l0aCBwcml2YXRlIGZpZWxkcyByZW1vdmVkLlxuICovXG5leHBvcnQgZnVuY3Rpb24gcmVtb3ZlUHJpdmF0ZUZpZWxkcyhvYmopIHtcbiAgICByZXR1cm4gT2JqZWN0LmZyb21FbnRyaWVzKE9iamVjdC5lbnRyaWVzKG9iaikuZmlsdGVyKChba2V5XSkgPT4gIWtleS5zdGFydHNXaXRoKCdfJykpKTtcbn1cbi8vIyBzb3VyY2VNYXBwaW5nVVJMPXV0aWxzLm1qcy5tYXAiLCJpbXBvcnQgbG9nZ2VyIGZyb20gXCIuLi9sb2dnZXIubWpzXCI7XG5pbXBvcnQgeyBnZW5lcmF0ZVNwYW5JZCwgcmVtb3ZlUHJpdmF0ZUZpZWxkcywgdGltZUlzbyB9IGZyb20gXCIuL3V0aWxzLm1qc1wiO1xuZXhwb3J0IGNsYXNzIFNwYW4ge1xuICAgIHR5cGUgPSAndHJhY2Uuc3Bhbic7XG4gICAgI2RhdGE7XG4gICAgI3RyYWNlSWQ7XG4gICAgI3NwYW5JZDtcbiAgICAjcGFyZW50SWQ7XG4gICAgI3Byb2Nlc3NvcjtcbiAgICAjc3RhcnRlZEF0O1xuICAgICNlbmRlZEF0O1xuICAgICNlcnJvcjtcbiAgICAjcHJldmlvdXNTcGFuO1xuICAgIGNvbnN0cnVjdG9yKG9wdGlvbnMsIHByb2Nlc3Nvcikge1xuICAgICAgICB0aGlzLiN0cmFjZUlkID0gb3B0aW9ucy50cmFjZUlkO1xuICAgICAgICB0aGlzLiNzcGFuSWQgPSBvcHRpb25zLnNwYW5JZCA/PyBnZW5lcmF0ZVNwYW5JZCgpO1xuICAgICAgICB0aGlzLiNkYXRhID0gb3B0aW9ucy5kYXRhO1xuICAgICAgICB0aGlzLiNwcm9jZXNzb3IgPSBwcm9jZXNzb3I7XG4gICAgICAgIHRoaXMuI3BhcmVudElkID0gb3B0aW9ucy5wYXJlbnRJZCA/PyBudWxsO1xuICAgICAgICB0aGlzLiNlcnJvciA9IG9wdGlvbnMuZXJyb3IgPz8gbnVsbDtcbiAgICAgICAgdGhpcy4jc3RhcnRlZEF0ID0gb3B0aW9ucy5zdGFydGVkQXQgPz8gbnVsbDtcbiAgICAgICAgdGhpcy4jZW5kZWRBdCA9IG9wdGlvbnMuZW5kZWRBdCA/PyBudWxsO1xuICAgIH1cbiAgICBnZXQgdHJhY2VJZCgpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuI3RyYWNlSWQ7XG4gICAgfVxuICAgIGdldCBzcGFuRGF0YSgpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuI2RhdGE7XG4gICAgfVxuICAgIGdldCBzcGFuSWQoKSB7XG4gICAgICAgIHJldHVybiB0aGlzLiNzcGFuSWQ7XG4gICAgfVxuICAgIGdldCBwYXJlbnRJZCgpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuI3BhcmVudElkO1xuICAgIH1cbiAgICBnZXQgcHJldmlvdXNTcGFuKCkge1xuICAgICAgICByZXR1cm4gdGhpcy4jcHJldmlvdXNTcGFuO1xuICAgIH1cbiAgICBzZXQgcHJldmlvdXNTcGFuKHNwYW4pIHtcbiAgICAgICAgdGhpcy4jcHJldmlvdXNTcGFuID0gc3BhbjtcbiAgICB9XG4gICAgc3RhcnQoKSB7XG4gICAgICAgIGlmICh0aGlzLiNzdGFydGVkQXQpIHtcbiAgICAgICAgICAgIGxvZ2dlci53YXJuKCdTcGFuIGFscmVhZHkgc3RhcnRlZCcpO1xuICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICB9XG4gICAgICAgIHRoaXMuI3N0YXJ0ZWRBdCA9IHRpbWVJc28oKTtcbiAgICAgICAgdGhpcy4jcHJvY2Vzc29yLm9uU3BhblN0YXJ0KHRoaXMpO1xuICAgIH1cbiAgICBlbmQoKSB7XG4gICAgICAgIGlmICh0aGlzLiNlbmRlZEF0KSB7XG4gICAgICAgICAgICBsb2dnZXIuZGVidWcoJ1NwYW4gYWxyZWFkeSBmaW5pc2hlZCcsIHRoaXMuc3BhbkRhdGEpO1xuICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICB9XG4gICAgICAgIHRoaXMuI2VuZGVkQXQgPSB0aW1lSXNvKCk7XG4gICAgICAgIHRoaXMuI3Byb2Nlc3Nvci5vblNwYW5FbmQodGhpcyk7XG4gICAgfVxuICAgIHNldEVycm9yKGVycm9yKSB7XG4gICAgICAgIHRoaXMuI2Vycm9yID0gZXJyb3I7XG4gICAgfVxuICAgIGdldCBlcnJvcigpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuI2Vycm9yO1xuICAgIH1cbiAgICBnZXQgc3RhcnRlZEF0KCkge1xuICAgICAgICByZXR1cm4gdGhpcy4jc3RhcnRlZEF0O1xuICAgIH1cbiAgICBnZXQgZW5kZWRBdCgpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuI2VuZGVkQXQ7XG4gICAgfVxuICAgIGNsb25lKCkge1xuICAgICAgICBjb25zdCBzcGFuID0gbmV3IFNwYW4oe1xuICAgICAgICAgICAgdHJhY2VJZDogdGhpcy50cmFjZUlkLFxuICAgICAgICAgICAgc3BhbklkOiB0aGlzLnNwYW5JZCxcbiAgICAgICAgICAgIHBhcmVudElkOiB0aGlzLnBhcmVudElkID8/IHVuZGVmaW5lZCxcbiAgICAgICAgICAgIGRhdGE6IHRoaXMuc3BhbkRhdGEsXG4gICAgICAgICAgICBzdGFydGVkQXQ6IHRoaXMuI3N0YXJ0ZWRBdCA/PyB1bmRlZmluZWQsXG4gICAgICAgICAgICBlbmRlZEF0OiB0aGlzLiNlbmRlZEF0ID8/IHVuZGVmaW5lZCxcbiAgICAgICAgICAgIGVycm9yOiB0aGlzLiNlcnJvciA/PyB1bmRlZmluZWQsXG4gICAgICAgIH0sIHRoaXMuI3Byb2Nlc3Nvcik7XG4gICAgICAgIHNwYW4ucHJldmlvdXNTcGFuID0gdGhpcy5wcmV2aW91c1NwYW4/LmNsb25lKCk7XG4gICAgICAgIHJldHVybiBzcGFuO1xuICAgIH1cbiAgICB0b0pTT04oKSB7XG4gICAgICAgIHJldHVybiB7XG4gICAgICAgICAgICBvYmplY3Q6IHRoaXMudHlwZSxcbiAgICAgICAgICAgIGlkOiB0aGlzLnNwYW5JZCxcbiAgICAgICAgICAgIHRyYWNlX2lkOiB0aGlzLnRyYWNlSWQsXG4gICAgICAgICAgICBwYXJlbnRfaWQ6IHRoaXMucGFyZW50SWQsXG4gICAgICAgICAgICBzdGFydGVkX2F0OiB0aGlzLnN0YXJ0ZWRBdCxcbiAgICAgICAgICAgIGVuZGVkX2F0OiB0aGlzLmVuZGVkQXQsXG4gICAgICAgICAgICBzcGFuX2RhdGE6IHJlbW92ZVByaXZhdGVGaWVsZHModGhpcy5zcGFuRGF0YSksXG4gICAgICAgICAgICBlcnJvcjogdGhpcy5lcnJvcixcbiAgICAgICAgfTtcbiAgICB9XG59XG5leHBvcnQgY2xhc3MgTm9vcFNwYW4gZXh0ZW5kcyBTcGFuIHtcbiAgICBjb25zdHJ1Y3RvcihkYXRhLCBwcm9jZXNzb3IpIHtcbiAgICAgICAgc3VwZXIoeyB0cmFjZUlkOiAnbm8tb3AnLCBzcGFuSWQ6ICduby1vcCcsIGRhdGEgfSwgcHJvY2Vzc29yKTtcbiAgICB9XG4gICAgc3RhcnQoKSB7XG4gICAgICAgIHJldHVybjtcbiAgICB9XG4gICAgZW5kKCkge1xuICAgICAgICByZXR1cm47XG4gICAgfVxuICAgIHNldEVycm9yKCkge1xuICAgICAgICByZXR1cm47XG4gICAgfVxuICAgIHRvSlNPTigpIHtcbiAgICAgICAgcmV0dXJuIG51bGw7XG4gICAgfVxufVxuLy8jIHNvdXJjZU1hcHBpbmdVUkw9c3BhbnMubWpzLm1hcCIsImltcG9ydCB7IGRlZmF1bHRQcm9jZXNzb3IgfSBmcm9tIFwiLi9wcm9jZXNzb3IubWpzXCI7XG5pbXBvcnQgeyBnZW5lcmF0ZVRyYWNlSWQgfSBmcm9tIFwiLi91dGlscy5tanNcIjtcbmV4cG9ydCBjbGFzcyBUcmFjZSB7XG4gICAgdHlwZSA9ICd0cmFjZSc7XG4gICAgdHJhY2VJZDtcbiAgICBuYW1lO1xuICAgIGdyb3VwSWQgPSBudWxsO1xuICAgIG1ldGFkYXRhO1xuICAgICNwcm9jZXNzb3I7XG4gICAgI3N0YXJ0ZWQ7XG4gICAgY29uc3RydWN0b3Iob3B0aW9ucywgcHJvY2Vzc29yKSB7XG4gICAgICAgIHRoaXMudHJhY2VJZCA9IG9wdGlvbnMudHJhY2VJZCA/PyBnZW5lcmF0ZVRyYWNlSWQoKTtcbiAgICAgICAgdGhpcy5uYW1lID0gb3B0aW9ucy5uYW1lID8/ICdBZ2VudCB3b3JrZmxvdyc7XG4gICAgICAgIHRoaXMuZ3JvdXBJZCA9IG9wdGlvbnMuZ3JvdXBJZCA/PyBudWxsO1xuICAgICAgICB0aGlzLm1ldGFkYXRhID0gb3B0aW9ucy5tZXRhZGF0YSA/PyB7fTtcbiAgICAgICAgdGhpcy4jcHJvY2Vzc29yID0gcHJvY2Vzc29yID8/IGRlZmF1bHRQcm9jZXNzb3IoKTtcbiAgICAgICAgdGhpcy4jc3RhcnRlZCA9IG9wdGlvbnMuc3RhcnRlZCA/PyBmYWxzZTtcbiAgICB9XG4gICAgYXN5bmMgc3RhcnQoKSB7XG4gICAgICAgIGlmICh0aGlzLiNzdGFydGVkKSB7XG4gICAgICAgICAgICByZXR1cm47XG4gICAgICAgIH1cbiAgICAgICAgdGhpcy4jc3RhcnRlZCA9IHRydWU7XG4gICAgICAgIGF3YWl0IHRoaXMuI3Byb2Nlc3Nvci5vblRyYWNlU3RhcnQodGhpcyk7XG4gICAgfVxuICAgIGFzeW5jIGVuZCgpIHtcbiAgICAgICAgaWYgKCF0aGlzLiNzdGFydGVkKSB7XG4gICAgICAgICAgICByZXR1cm47XG4gICAgICAgIH1cbiAgICAgICAgdGhpcy4jc3RhcnRlZCA9IGZhbHNlO1xuICAgICAgICBhd2FpdCB0aGlzLiNwcm9jZXNzb3Iub25UcmFjZUVuZCh0aGlzKTtcbiAgICB9XG4gICAgY2xvbmUoKSB7XG4gICAgICAgIHJldHVybiBuZXcgVHJhY2Uoe1xuICAgICAgICAgICAgdHJhY2VJZDogdGhpcy50cmFjZUlkLFxuICAgICAgICAgICAgbmFtZTogdGhpcy5uYW1lLFxuICAgICAgICAgICAgZ3JvdXBJZDogdGhpcy5ncm91cElkID8/IHVuZGVmaW5lZCxcbiAgICAgICAgICAgIG1ldGFkYXRhOiB0aGlzLm1ldGFkYXRhLFxuICAgICAgICAgICAgc3RhcnRlZDogdGhpcy4jc3RhcnRlZCxcbiAgICAgICAgfSk7XG4gICAgfVxuICAgIHRvSlNPTigpIHtcbiAgICAgICAgcmV0dXJuIHtcbiAgICAgICAgICAgIG9iamVjdDogdGhpcy50eXBlLFxuICAgICAgICAgICAgaWQ6IHRoaXMudHJhY2VJZCxcbiAgICAgICAgICAgIHdvcmtmbG93X25hbWU6IHRoaXMubmFtZSxcbiAgICAgICAgICAgIGdyb3VwX2lkOiB0aGlzLmdyb3VwSWQsXG4gICAgICAgICAgICBtZXRhZGF0YTogdGhpcy5tZXRhZGF0YSxcbiAgICAgICAgfTtcbiAgICB9XG59XG5leHBvcnQgY2xhc3MgTm9vcFRyYWNlIGV4dGVuZHMgVHJhY2Uge1xuICAgIGNvbnN0cnVjdG9yKCkge1xuICAgICAgICBzdXBlcih7fSk7XG4gICAgfVxuICAgIGFzeW5jIHN0YXJ0KCkge1xuICAgICAgICByZXR1cm47XG4gICAgfVxuICAgIGFzeW5jIGVuZCgpIHtcbiAgICAgICAgcmV0dXJuO1xuICAgIH1cbiAgICB0b0pTT04oKSB7XG4gICAgICAgIHJldHVybiBudWxsO1xuICAgIH1cbn1cbi8vIyBzb3VyY2VNYXBwaW5nVVJMPXRyYWNlcy5tanMubWFwIiwiaW1wb3J0IHsgZ2V0Q3VycmVudFNwYW4sIGdldEN1cnJlbnRUcmFjZSB9IGZyb20gXCIuL2NvbnRleHQubWpzXCI7XG5pbXBvcnQgeyB0cmFjaW5nIH0gZnJvbSBcIi4uL2NvbmZpZy5tanNcIjtcbmltcG9ydCBsb2dnZXIgZnJvbSBcIi4uL2xvZ2dlci5tanNcIjtcbmltcG9ydCB7IE11bHRpVHJhY2luZ1Byb2Nlc3NvciB9IGZyb20gXCIuL3Byb2Nlc3Nvci5tanNcIjtcbmltcG9ydCB7IE5vb3BTcGFuLCBTcGFuIH0gZnJvbSBcIi4vc3BhbnMubWpzXCI7XG5pbXBvcnQgeyBOb29wVHJhY2UsIFRyYWNlIH0gZnJvbSBcIi4vdHJhY2VzLm1qc1wiO1xuaW1wb3J0IHsgZ2VuZXJhdGVUcmFjZUlkIH0gZnJvbSBcIi4vdXRpbHMubWpzXCI7XG5leHBvcnQgY2xhc3MgVHJhY2VQcm92aWRlciB7XG4gICAgI211bHRpUHJvY2Vzc29yO1xuICAgICNkaXNhYmxlZDtcbiAgICBjb25zdHJ1Y3RvcigpIHtcbiAgICAgICAgdGhpcy4jbXVsdGlQcm9jZXNzb3IgPSBuZXcgTXVsdGlUcmFjaW5nUHJvY2Vzc29yKCk7XG4gICAgICAgIHRoaXMuI2Rpc2FibGVkID0gdHJhY2luZy5kaXNhYmxlZDtcbiAgICAgICAgdGhpcy4jYWRkQ2xlYW51cExpc3RlbmVycygpO1xuICAgIH1cbiAgICAvKipcbiAgICAgKiBBZGQgYSBwcm9jZXNzb3IgdG8gdGhlIGxpc3Qgb2YgcHJvY2Vzc29ycy4gRWFjaCBwcm9jZXNzb3Igd2lsbCByZWNlaXZlIGFsbCB0cmFjZXMvc3BhbnMuXG4gICAgICpcbiAgICAgKiBAcGFyYW0gcHJvY2Vzc29yIC0gVGhlIHByb2Nlc3NvciB0byBhZGQuXG4gICAgICovXG4gICAgcmVnaXN0ZXJQcm9jZXNzb3IocHJvY2Vzc29yKSB7XG4gICAgICAgIHRoaXMuI211bHRpUHJvY2Vzc29yLmFkZFRyYWNlUHJvY2Vzc29yKHByb2Nlc3Nvcik7XG4gICAgfVxuICAgIC8qKlxuICAgICAqIFNldCB0aGUgbGlzdCBvZiBwcm9jZXNzb3JzLiBUaGlzIHdpbGwgcmVwbGFjZSBhbnkgZXhpc3RpbmcgcHJvY2Vzc29ycy5cbiAgICAgKlxuICAgICAqIEBwYXJhbSBwcm9jZXNzb3JzIC0gVGhlIGxpc3Qgb2YgcHJvY2Vzc29ycyB0byBzZXQuXG4gICAgICovXG4gICAgc2V0UHJvY2Vzc29ycyhwcm9jZXNzb3JzKSB7XG4gICAgICAgIHRoaXMuI211bHRpUHJvY2Vzc29yLnNldFByb2Nlc3NvcnMocHJvY2Vzc29ycyk7XG4gICAgfVxuICAgIC8qKlxuICAgICAqIEdldCB0aGUgY3VycmVudCB0cmFjZS5cbiAgICAgKlxuICAgICAqIEByZXR1cm5zIFRoZSBjdXJyZW50IHRyYWNlLlxuICAgICAqL1xuICAgIGdldEN1cnJlbnRUcmFjZSgpIHtcbiAgICAgICAgcmV0dXJuIGdldEN1cnJlbnRUcmFjZSgpO1xuICAgIH1cbiAgICBnZXRDdXJyZW50U3BhbigpIHtcbiAgICAgICAgcmV0dXJuIGdldEN1cnJlbnRTcGFuKCk7XG4gICAgfVxuICAgIHNldERpc2FibGVkKGRpc2FibGVkKSB7XG4gICAgICAgIHRoaXMuI2Rpc2FibGVkID0gZGlzYWJsZWQ7XG4gICAgfVxuICAgIHN0YXJ0RXhwb3J0TG9vcCgpIHtcbiAgICAgICAgdGhpcy4jbXVsdGlQcm9jZXNzb3Iuc3RhcnQoKTtcbiAgICB9XG4gICAgY3JlYXRlVHJhY2UodHJhY2VPcHRpb25zKSB7XG4gICAgICAgIGlmICh0aGlzLiNkaXNhYmxlZCkge1xuICAgICAgICAgICAgbG9nZ2VyLmRlYnVnKCdUcmFjaW5nIGlzIGRpc2FibGVkLCBOb3QgY3JlYXRpbmcgdHJhY2UgJW8nLCB0cmFjZU9wdGlvbnMpO1xuICAgICAgICAgICAgcmV0dXJuIG5ldyBOb29wVHJhY2UoKTtcbiAgICAgICAgfVxuICAgICAgICBjb25zdCB0cmFjZUlkID0gdHJhY2VPcHRpb25zLnRyYWNlSWQgPz8gZ2VuZXJhdGVUcmFjZUlkKCk7XG4gICAgICAgIGNvbnN0IG5hbWUgPSB0cmFjZU9wdGlvbnMubmFtZSA/PyAnQWdlbnQgd29ya2Zsb3cnO1xuICAgICAgICBsb2dnZXIuZGVidWcoJ0NyZWF0aW5nIHRyYWNlICVzIHdpdGggbmFtZSAlcycsIHRyYWNlSWQsIG5hbWUpO1xuICAgICAgICByZXR1cm4gbmV3IFRyYWNlKHsgLi4udHJhY2VPcHRpb25zLCBuYW1lLCB0cmFjZUlkIH0sIHRoaXMuI211bHRpUHJvY2Vzc29yKTtcbiAgICB9XG4gICAgY3JlYXRlU3BhbihzcGFuT3B0aW9ucywgcGFyZW50KSB7XG4gICAgICAgIGlmICh0aGlzLiNkaXNhYmxlZCB8fCBzcGFuT3B0aW9ucy5kaXNhYmxlZCkge1xuICAgICAgICAgICAgbG9nZ2VyLmRlYnVnKCdUcmFjaW5nIGlzIGRpc2FibGVkLCBOb3QgY3JlYXRpbmcgc3BhbiAlbycsIHNwYW5PcHRpb25zKTtcbiAgICAgICAgICAgIHJldHVybiBuZXcgTm9vcFNwYW4oc3Bhbk9wdGlvbnMuZGF0YSwgdGhpcy4jbXVsdGlQcm9jZXNzb3IpO1xuICAgICAgICB9XG4gICAgICAgIGxldCBwYXJlbnRJZDtcbiAgICAgICAgbGV0IHRyYWNlSWQ7XG4gICAgICAgIGlmICghcGFyZW50KSB7XG4gICAgICAgICAgICBjb25zdCBjdXJyZW50VHJhY2UgPSBnZXRDdXJyZW50VHJhY2UoKTtcbiAgICAgICAgICAgIGNvbnN0IGN1cnJlbnRTcGFuID0gZ2V0Q3VycmVudFNwYW4oKTtcbiAgICAgICAgICAgIGlmICghY3VycmVudFRyYWNlKSB7XG4gICAgICAgICAgICAgICAgbG9nZ2VyLmVycm9yKCdObyBhY3RpdmUgdHJhY2UuIE1ha2Ugc3VyZSB0byBzdGFydCBhIHRyYWNlIHdpdGggYHdpdGhUcmFjZSgpYCBmaXJzdC4gUmV0dXJuaW5nIE5vb3BTcGFuLicpO1xuICAgICAgICAgICAgICAgIHJldHVybiBuZXcgTm9vcFNwYW4oc3Bhbk9wdGlvbnMuZGF0YSwgdGhpcy4jbXVsdGlQcm9jZXNzb3IpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgaWYgKGN1cnJlbnRTcGFuIGluc3RhbmNlb2YgTm9vcFNwYW4gfHxcbiAgICAgICAgICAgICAgICBjdXJyZW50VHJhY2UgaW5zdGFuY2VvZiBOb29wVHJhY2UpIHtcbiAgICAgICAgICAgICAgICBsb2dnZXIuZGVidWcoYFBhcmVudCAke2N1cnJlbnRTcGFufSBvciAke2N1cnJlbnRUcmFjZX0gaXMgbm8tb3AsIHJldHVybmluZyBOb29wU3BhbmApO1xuICAgICAgICAgICAgICAgIHJldHVybiBuZXcgTm9vcFNwYW4oc3Bhbk9wdGlvbnMuZGF0YSwgdGhpcy4jbXVsdGlQcm9jZXNzb3IpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgdHJhY2VJZCA9IGN1cnJlbnRUcmFjZS50cmFjZUlkO1xuICAgICAgICAgICAgaWYgKGN1cnJlbnRTcGFuKSB7XG4gICAgICAgICAgICAgICAgbG9nZ2VyLmRlYnVnKCdVc2luZyBwYXJlbnQgc3BhbiAlcycsIGN1cnJlbnRTcGFuLnNwYW5JZCk7XG4gICAgICAgICAgICAgICAgcGFyZW50SWQgPSBjdXJyZW50U3Bhbi5zcGFuSWQ7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgICAgICBsb2dnZXIuZGVidWcoJ05vIHBhcmVudCBzcGFuLCB1c2luZyBjdXJyZW50IHRyYWNlICVzJywgY3VycmVudFRyYWNlLnRyYWNlSWQpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIGVsc2UgaWYgKHBhcmVudCBpbnN0YW5jZW9mIFRyYWNlKSB7XG4gICAgICAgICAgICBpZiAocGFyZW50IGluc3RhbmNlb2YgTm9vcFRyYWNlKSB7XG4gICAgICAgICAgICAgICAgbG9nZ2VyLmRlYnVnKCdQYXJlbnQgdHJhY2UgaXMgbm8tb3AsIHJldHVybmluZyBOb29wU3BhbicpO1xuICAgICAgICAgICAgICAgIHJldHVybiBuZXcgTm9vcFNwYW4oc3Bhbk9wdGlvbnMuZGF0YSwgdGhpcy4jbXVsdGlQcm9jZXNzb3IpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgdHJhY2VJZCA9IHBhcmVudC50cmFjZUlkO1xuICAgICAgICB9XG4gICAgICAgIGVsc2UgaWYgKHBhcmVudCBpbnN0YW5jZW9mIFNwYW4pIHtcbiAgICAgICAgICAgIGlmIChwYXJlbnQgaW5zdGFuY2VvZiBOb29wU3Bhbikge1xuICAgICAgICAgICAgICAgIGxvZ2dlci5kZWJ1ZygnUGFyZW50IHNwYW4gaXMgbm8tb3AsIHJldHVybmluZyBOb29wU3BhbicpO1xuICAgICAgICAgICAgICAgIHJldHVybiBuZXcgTm9vcFNwYW4oc3Bhbk9wdGlvbnMuZGF0YSwgdGhpcy4jbXVsdGlQcm9jZXNzb3IpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgcGFyZW50SWQgPSBwYXJlbnQuc3BhbklkO1xuICAgICAgICAgICAgdHJhY2VJZCA9IHBhcmVudC50cmFjZUlkO1xuICAgICAgICB9XG4gICAgICAgIGlmICghdHJhY2VJZCkge1xuICAgICAgICAgICAgbG9nZ2VyLmVycm9yKCdObyB0cmFjZUlkIGZvdW5kLiBNYWtlIHN1cmUgdG8gc3RhcnQgYSB0cmFjZSB3aXRoIGB3aXRoVHJhY2UoKWAgZmlyc3QuIFJldHVybmluZyBOb29wU3Bhbi4nKTtcbiAgICAgICAgICAgIHJldHVybiBuZXcgTm9vcFNwYW4oc3Bhbk9wdGlvbnMuZGF0YSwgdGhpcy4jbXVsdGlQcm9jZXNzb3IpO1xuICAgICAgICB9XG4gICAgICAgIGxvZ2dlci5kZWJ1ZyhgQ3JlYXRpbmcgc3BhbiAke0pTT04uc3RyaW5naWZ5KHNwYW5PcHRpb25zLmRhdGEpfSB3aXRoIGlkICR7c3Bhbk9wdGlvbnMuc3BhbklkID8/IHRyYWNlSWR9YCk7XG4gICAgICAgIHJldHVybiBuZXcgU3Bhbih7XG4gICAgICAgICAgICAuLi5zcGFuT3B0aW9ucyxcbiAgICAgICAgICAgIHRyYWNlSWQsXG4gICAgICAgICAgICBwYXJlbnRJZCxcbiAgICAgICAgfSwgdGhpcy4jbXVsdGlQcm9jZXNzb3IpO1xuICAgIH1cbiAgICBhc3luYyBzaHV0ZG93bih0aW1lb3V0KSB7XG4gICAgICAgIHRyeSB7XG4gICAgICAgICAgICBsb2dnZXIuZGVidWcoJ1NodXR0aW5nIGRvd24gdHJhY2luZyBwcm92aWRlcicpO1xuICAgICAgICAgICAgYXdhaXQgdGhpcy4jbXVsdGlQcm9jZXNzb3Iuc2h1dGRvd24odGltZW91dCk7XG4gICAgICAgIH1cbiAgICAgICAgY2F0Y2ggKGVycm9yKSB7XG4gICAgICAgICAgICBsb2dnZXIuZXJyb3IoJ0Vycm9yIHNodXR0aW5nIGRvd24gdHJhY2luZyBwcm92aWRlciAlbycsIGVycm9yKTtcbiAgICAgICAgfVxuICAgIH1cbiAgICAvKiogQWRkcyBsaXN0ZW5lcnMgdG8gYHByb2Nlc3NgIHRvIGVuc3VyZSBgc2h1dGRvd25gIG9jY3VycyBiZWZvcmUgZXhpdC4gKi9cbiAgICAjYWRkQ2xlYW51cExpc3RlbmVycygpIHtcbiAgICAgICAgaWYgKHR5cGVvZiBwcm9jZXNzICE9PSAndW5kZWZpbmVkJyAmJiB0eXBlb2YgcHJvY2Vzcy5vbiA9PT0gJ2Z1bmN0aW9uJykge1xuICAgICAgICAgICAgLy8gaGFuZGxpbmcgTm9kZS5qcyBwcm9jZXNzIHRlcm1pbmF0aW9uXG4gICAgICAgICAgICBjb25zdCBjbGVhbnVwID0gYXN5bmMgKCkgPT4ge1xuICAgICAgICAgICAgICAgIGNvbnN0IHRpbWVvdXQgPSBzZXRUaW1lb3V0KCgpID0+IHtcbiAgICAgICAgICAgICAgICAgICAgY29uc29sZS53YXJuKCdDbGVhbnVwIHRpbWVvdXQsIGZvcmNpbmcgZXhpdCcpO1xuICAgICAgICAgICAgICAgICAgICBwcm9jZXNzLmV4aXQoMSk7XG4gICAgICAgICAgICAgICAgfSwgNTAwMCk7XG4gICAgICAgICAgICAgICAgdHJ5IHtcbiAgICAgICAgICAgICAgICAgICAgYXdhaXQgdGhpcy5zaHV0ZG93bigpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBmaW5hbGx5IHtcbiAgICAgICAgICAgICAgICAgICAgY2xlYXJUaW1lb3V0KHRpbWVvdXQpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH07XG4gICAgICAgICAgICAvLyBIYW5kbGUgbm9ybWFsIHRlcm1pbmF0aW9uXG4gICAgICAgICAgICBwcm9jZXNzLm9uKCdiZWZvcmVFeGl0JywgY2xlYW51cCk7XG4gICAgICAgICAgICAvLyBIYW5kbGUgQ1RSTCtDIChTSUdJTlQpXG4gICAgICAgICAgICBwcm9jZXNzLm9uKCdTSUdJTlQnLCBhc3luYyAoKSA9PiB7XG4gICAgICAgICAgICAgICAgYXdhaXQgY2xlYW51cCgpO1xuICAgICAgICAgICAgICAgIGlmICghaGFzT3RoZXJMaXN0ZW5lcnNGb3JTaWduYWxzKCdTSUdJTlQnKSkge1xuICAgICAgICAgICAgICAgICAgICAvLyBPbmx5IHdoZW4gdGhlcmUgYXJlIG5vIG90aGVyIGxpc3RlbmVycywgZXhpdCB0aGUgcHJvY2VzcyBvbiB0aGlzIFNESyBzaWRlXG4gICAgICAgICAgICAgICAgICAgIHByb2Nlc3MuZXhpdCgxMzApO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgLy8gSGFuZGxlIHRlcm1pbmF0aW9uIChTSUdURVJNKVxuICAgICAgICAgICAgcHJvY2Vzcy5vbignU0lHVEVSTScsIGFzeW5jICgpID0+IHtcbiAgICAgICAgICAgICAgICBhd2FpdCBjbGVhbnVwKCk7XG4gICAgICAgICAgICAgICAgaWYgKCFoYXNPdGhlckxpc3RlbmVyc0ZvclNpZ25hbHMoJ1NJR1RFUk0nKSkge1xuICAgICAgICAgICAgICAgICAgICAvLyBPbmx5IHdoZW4gdGhlcmUgYXJlIG5vIG90aGVyIGxpc3RlbmVycywgZXhpdCB0aGUgcHJvY2VzcyBvbiB0aGlzIFNESyBzaWRlXG4gICAgICAgICAgICAgICAgICAgIHByb2Nlc3MuZXhpdCgwKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9KTtcbiAgICAgICAgICAgIHByb2Nlc3Mub24oJ3VuaGFuZGxlZFJlamVjdGlvbicsIGFzeW5jIChyZWFzb24sIHByb21pc2UpID0+IHtcbiAgICAgICAgICAgICAgICBsb2dnZXIuZXJyb3IoJ1VuaGFuZGxlZCByZWplY3Rpb24nLCByZWFzb24sIHByb21pc2UpO1xuICAgICAgICAgICAgICAgIGF3YWl0IGNsZWFudXAoKTtcbiAgICAgICAgICAgICAgICBpZiAoIWhhc090aGVyTGlzdGVuZXJzRm9yRXZlbnRzKCd1bmhhbmRsZWRSZWplY3Rpb24nKSkge1xuICAgICAgICAgICAgICAgICAgICAvLyBPbmx5IHdoZW4gdGhlcmUgYXJlIG5vIG90aGVyIGxpc3RlbmVycywgZXhpdCB0aGUgcHJvY2VzcyBvbiB0aGlzIFNESyBzaWRlXG4gICAgICAgICAgICAgICAgICAgIHByb2Nlc3MuZXhpdCgxKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9KTtcbiAgICAgICAgfVxuICAgIH1cbiAgICBhc3luYyBmb3JjZUZsdXNoKCkge1xuICAgICAgICBhd2FpdCB0aGlzLiNtdWx0aVByb2Nlc3Nvci5mb3JjZUZsdXNoKCk7XG4gICAgfVxufVxuZnVuY3Rpb24gaGFzT3RoZXJMaXN0ZW5lcnNGb3JTaWduYWxzKGV2ZW50KSB7XG4gICAgcmV0dXJuIHByb2Nlc3MubGlzdGVuZXJzKGV2ZW50KS5sZW5ndGggPiAxO1xufVxuZnVuY3Rpb24gaGFzT3RoZXJMaXN0ZW5lcnNGb3JFdmVudHMoZXZlbnQpIHtcbiAgICByZXR1cm4gcHJvY2Vzcy5saXN0ZW5lcnMoZXZlbnQpLmxlbmd0aCA+IDE7XG59XG5sZXQgR0xPQkFMX1RSQUNFX1BST1ZJREVSID0gdW5kZWZpbmVkO1xuZXhwb3J0IGZ1bmN0aW9uIGdldEdsb2JhbFRyYWNlUHJvdmlkZXIoKSB7XG4gICAgaWYgKCFHTE9CQUxfVFJBQ0VfUFJPVklERVIpIHtcbiAgICAgICAgR0xPQkFMX1RSQUNFX1BST1ZJREVSID0gbmV3IFRyYWNlUHJvdmlkZXIoKTtcbiAgICB9XG4gICAgcmV0dXJuIEdMT0JBTF9UUkFDRV9QUk9WSURFUjtcbn1cbi8vIyBzb3VyY2VNYXBwaW5nVVJMPXByb3ZpZGVyLm1qcy5tYXAiLCJpbXBvcnQgeyBnZXRHbG9iYWxUcmFjZVByb3ZpZGVyIH0gZnJvbSBcIi4vcHJvdmlkZXIubWpzXCI7XG5leHBvcnQgeyBnZXRDdXJyZW50U3BhbiwgZ2V0Q3VycmVudFRyYWNlLCBnZXRPckNyZWF0ZVRyYWNlLCByZXNldEN1cnJlbnRTcGFuLCBzZXRDdXJyZW50U3Bhbiwgd2l0aFRyYWNlLCB9IGZyb20gXCIuL2NvbnRleHQubWpzXCI7XG5leHBvcnQgKiBmcm9tIFwiLi9jcmVhdGVTcGFucy5tanNcIjtcbmV4cG9ydCB7IEJhdGNoVHJhY2VQcm9jZXNzb3IsIENvbnNvbGVTcGFuRXhwb3J0ZXIsIH0gZnJvbSBcIi4vcHJvY2Vzc29yLm1qc1wiO1xuZXhwb3J0IHsgTm9vcFNwYW4sIFNwYW4gfSBmcm9tIFwiLi9zcGFucy5tanNcIjtcbmV4cG9ydCB7IE5vb3BUcmFjZSwgVHJhY2UgfSBmcm9tIFwiLi90cmFjZXMubWpzXCI7XG5leHBvcnQgeyBnZW5lcmF0ZUdyb3VwSWQsIGdlbmVyYXRlU3BhbklkLCBnZW5lcmF0ZVRyYWNlSWQgfSBmcm9tIFwiLi91dGlscy5tanNcIjtcbi8qKlxuICogQWRkIGEgcHJvY2Vzc29yIHRvIHRoZSBsaXN0IG9mIHByb2Nlc3NvcnMuIEVhY2ggcHJvY2Vzc29yIHdpbGwgcmVjZWl2ZSBhbGwgdHJhY2VzL3NwYW5zLlxuICpcbiAqIEBwYXJhbSBwcm9jZXNzb3IgLSBUaGUgcHJvY2Vzc29yIHRvIGFkZC5cbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIGFkZFRyYWNlUHJvY2Vzc29yKHByb2Nlc3Nvcikge1xuICAgIGdldEdsb2JhbFRyYWNlUHJvdmlkZXIoKS5yZWdpc3RlclByb2Nlc3Nvcihwcm9jZXNzb3IpO1xufVxuLyoqXG4gKiBTZXQgdGhlIGxpc3Qgb2YgcHJvY2Vzc29ycy4gVGhpcyB3aWxsIHJlcGxhY2UgYW55IGV4aXN0aW5nIHByb2Nlc3NvcnMuXG4gKlxuICogQHBhcmFtIHByb2Nlc3NvcnMgLSBUaGUgbGlzdCBvZiBwcm9jZXNzb3JzIHRvIHNldC5cbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIHNldFRyYWNlUHJvY2Vzc29ycyhwcm9jZXNzb3JzKSB7XG4gICAgZ2V0R2xvYmFsVHJhY2VQcm92aWRlcigpLnNldFByb2Nlc3NvcnMocHJvY2Vzc29ycyk7XG59XG4vKipcbiAqIFNldCB0aGUgZGlzYWJsZWQgc3RhdGUgb2YgdGhlIHRyYWNpbmcgcHJvdmlkZXIuXG4gKlxuICogQHBhcmFtIGRpc2FibGVkIC0gV2hldGhlciB0byBkaXNhYmxlIHRyYWNpbmcuXG4gKi9cbmV4cG9ydCBmdW5jdGlvbiBzZXRUcmFjaW5nRGlzYWJsZWQoZGlzYWJsZWQpIHtcbiAgICBnZXRHbG9iYWxUcmFjZVByb3ZpZGVyKCkuc2V0RGlzYWJsZWQoZGlzYWJsZWQpO1xufVxuLyoqXG4gKiBTdGFydCB0aGUgdHJhY2UgZXhwb3J0IGxvb3AuXG4gKi9cbmV4cG9ydCBmdW5jdGlvbiBzdGFydFRyYWNlRXhwb3J0TG9vcCgpIHtcbiAgICBnZXRHbG9iYWxUcmFjZVByb3ZpZGVyKCkuc3RhcnRFeHBvcnRMb29wKCk7XG59XG4vLyMgc291cmNlTWFwcGluZ1VSTD1pbmRleC5tanMubWFwIiwiaW1wb3J0IHsgYWRkVHJhY2VQcm9jZXNzb3IgfSBmcm9tIFwiLi90cmFjaW5nL2luZGV4Lm1qc1wiO1xuaW1wb3J0IHsgZGVmYXVsdFByb2Nlc3NvciB9IGZyb20gXCIuL3RyYWNpbmcvcHJvY2Vzc29yLm1qc1wiO1xuZXhwb3J0IHsgUnVudGltZUV2ZW50RW1pdHRlciB9IGZyb20gJ0BvcGVuYWkvYWdlbnRzLWNvcmUvX3NoaW1zJztcbmV4cG9ydCB7IEFnZW50LCB9IGZyb20gXCIuL2FnZW50Lm1qc1wiO1xuZXhwb3J0IHsgQWdlbnRzRXJyb3IsIEd1YXJkcmFpbEV4ZWN1dGlvbkVycm9yLCBJbnB1dEd1YXJkcmFpbFRyaXB3aXJlVHJpZ2dlcmVkLCBNYXhUdXJuc0V4Y2VlZGVkRXJyb3IsIE1vZGVsQmVoYXZpb3JFcnJvciwgT3V0cHV0R3VhcmRyYWlsVHJpcHdpcmVUcmlnZ2VyZWQsIFRvb2xDYWxsRXJyb3IsIFVzZXJFcnJvciwgU3lzdGVtRXJyb3IsIH0gZnJvbSBcIi4vZXJyb3JzLm1qc1wiO1xuZXhwb3J0IHsgUnVuQWdlbnRVcGRhdGVkU3RyZWFtRXZlbnQsIFJ1blJhd01vZGVsU3RyZWFtRXZlbnQsIFJ1bkl0ZW1TdHJlYW1FdmVudCwgfSBmcm9tIFwiLi9ldmVudHMubWpzXCI7XG5leHBvcnQgeyBkZWZpbmVPdXRwdXRHdWFyZHJhaWwsIH0gZnJvbSBcIi4vZ3VhcmRyYWlsLm1qc1wiO1xuZXhwb3J0IHsgZ2V0SGFuZG9mZiwgZ2V0VHJhbnNmZXJNZXNzYWdlLCBIYW5kb2ZmLCBoYW5kb2ZmLCB9IGZyb20gXCIuL2hhbmRvZmYubWpzXCI7XG5leHBvcnQgeyBhc3Npc3RhbnQsIHN5c3RlbSwgdXNlciB9IGZyb20gXCIuL2hlbHBlcnMvbWVzc2FnZS5tanNcIjtcbmV4cG9ydCB7IGV4dHJhY3RBbGxUZXh0T3V0cHV0LCBSdW5IYW5kb2ZmQ2FsbEl0ZW0sIFJ1bkhhbmRvZmZPdXRwdXRJdGVtLCBSdW5NZXNzYWdlT3V0cHV0SXRlbSwgUnVuUmVhc29uaW5nSXRlbSwgUnVuVG9vbEFwcHJvdmFsSXRlbSwgUnVuVG9vbENhbGxJdGVtLCBSdW5Ub29sQ2FsbE91dHB1dEl0ZW0sIH0gZnJvbSBcIi4vaXRlbXMubWpzXCI7XG5leHBvcnQgeyBBZ2VudEhvb2tzIH0gZnJvbSBcIi4vbGlmZWN5Y2xlLm1qc1wiO1xuZXhwb3J0IHsgZ2V0TG9nZ2VyIH0gZnJvbSBcIi4vbG9nZ2VyLm1qc1wiO1xuZXhwb3J0IHsgYXBwbHlEaWZmIH0gZnJvbSBcIi4vdXRpbHMvYXBwbHlEaWZmLm1qc1wiO1xuZXhwb3J0IHsgZ2V0QWxsTWNwVG9vbHMsIGludmFsaWRhdGVTZXJ2ZXJUb29sc0NhY2hlLCBtY3BUb0Z1bmN0aW9uVG9vbCwgTUNQU2VydmVyU3RkaW8sIE1DUFNlcnZlclN0cmVhbWFibGVIdHRwLCBNQ1BTZXJ2ZXJTU0UsIH0gZnJvbSBcIi4vbWNwLm1qc1wiO1xuZXhwb3J0IHsgY3JlYXRlTUNQVG9vbFN0YXRpY0ZpbHRlciwgfSBmcm9tIFwiLi9tY3BVdGlsLm1qc1wiO1xuZXhwb3J0IHsgT1BFTkFJX0RFRkFVTFRfTU9ERUxfRU5WX1ZBUklBQkxFX05BTUUsIGdwdDVSZWFzb25pbmdTZXR0aW5nc1JlcXVpcmVkLCBnZXREZWZhdWx0TW9kZWwsIGdldERlZmF1bHRNb2RlbFNldHRpbmdzLCBpc0dwdDVEZWZhdWx0LCB9IGZyb20gXCIuL2RlZmF1bHRNb2RlbC5tanNcIjtcbmV4cG9ydCB7IHNldERlZmF1bHRNb2RlbFByb3ZpZGVyIH0gZnJvbSBcIi4vcHJvdmlkZXJzLm1qc1wiO1xuZXhwb3J0IHsgUnVuUmVzdWx0LCBTdHJlYW1lZFJ1blJlc3VsdCB9IGZyb20gXCIuL3Jlc3VsdC5tanNcIjtcbmV4cG9ydCB7IHJ1biwgUnVubmVyLCB9IGZyb20gXCIuL3J1bi5tanNcIjtcbmV4cG9ydCB7IFJ1bkNvbnRleHQgfSBmcm9tIFwiLi9ydW5Db250ZXh0Lm1qc1wiO1xuZXhwb3J0IHsgUnVuU3RhdGUgfSBmcm9tIFwiLi9ydW5TdGF0ZS5tanNcIjtcbmV4cG9ydCB7IGNvbXB1dGVyVG9vbCwgc2hlbGxUb29sLCBhcHBseVBhdGNoVG9vbCwgaG9zdGVkTWNwVG9vbCwgdG9vbCwgfSBmcm9tIFwiLi90b29sLm1qc1wiO1xuZXhwb3J0ICogZnJvbSBcIi4vdHJhY2luZy9pbmRleC5tanNcIjtcbmV4cG9ydCB7IGdldEdsb2JhbFRyYWNlUHJvdmlkZXIsIFRyYWNlUHJvdmlkZXIgfSBmcm9tIFwiLi90cmFjaW5nL3Byb3ZpZGVyLm1qc1wiO1xuZXhwb3J0IHsgUmVxdWVzdFVzYWdlLCBVc2FnZSB9IGZyb20gXCIuL3VzYWdlLm1qc1wiO1xuZXhwb3J0IHsgTWVtb3J5U2Vzc2lvbiB9IGZyb20gXCIuL21lbW9yeS9tZW1vcnlTZXNzaW9uLm1qc1wiO1xuZXhwb3J0ICogYXMgcHJvdG9jb2wgZnJvbSBcIi4vdHlwZXMvcHJvdG9jb2wubWpzXCI7XG4vKipcbiAqIEFkZCB0aGUgZGVmYXVsdCBwcm9jZXNzb3IsIHdoaWNoIGV4cG9ydHMgdHJhY2VzIGFuZCBzcGFucyB0byB0aGUgYmFja2VuZCBpbiBiYXRjaGVzLiBZb3UgY2FuXG4gKiBjaGFuZ2UgdGhlIGRlZmF1bHQgYmVoYXZpb3IgYnkgZWl0aGVyOlxuICogMS4gY2FsbGluZyBhZGRUcmFjZVByb2Nlc3Nvciwgd2hpY2ggYWRkcyBhZGRpdGlvbmFsIHByb2Nlc3NvcnMsIG9yXG4gKiAyLiBjYWxsaW5nIHNldFRyYWNlUHJvY2Vzc29ycywgd2hpY2ggc2V0cyB0aGUgcHJvY2Vzc29ycyBhbmQgZGlzY2FyZHMgdGhlIGRlZmF1bHQgb25lXG4gKi9cbmFkZFRyYWNlUHJvY2Vzc29yKGRlZmF1bHRQcm9jZXNzb3IoKSk7XG4vLyMgc291cmNlTWFwcGluZ1VSTD1pbmRleC5tanMubWFwIiwiaW1wb3J0IE1FVEFEQVRBIGZyb20gXCIuL21ldGFkYXRhLm1qc1wiO1xuaW1wb3J0IHsgUnVuVG9vbEFwcHJvdmFsSXRlbSB9IGZyb20gJ0BvcGVuYWkvYWdlbnRzLWNvcmUnO1xuLyoqXG4gKiBDb252ZXJ0cyBhIGJhc2U2NCBzdHJpbmcgdG8gYW4gQXJyYXlCdWZmZXJcbiAqIEBwYXJhbSB7c3RyaW5nfSBiYXNlNjRcbiAqIEByZXR1cm5zIHtBcnJheUJ1ZmZlcn1cbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIGJhc2U2NFRvQXJyYXlCdWZmZXIoYmFzZTY0KSB7XG4gICAgY29uc3QgYmluYXJ5U3RyaW5nID0gYXRvYihiYXNlNjQpO1xuICAgIGNvbnN0IGxlbiA9IGJpbmFyeVN0cmluZy5sZW5ndGg7XG4gICAgY29uc3QgYnl0ZXMgPSBuZXcgVWludDhBcnJheShsZW4pO1xuICAgIGZvciAobGV0IGkgPSAwOyBpIDwgbGVuOyBpKyspIHtcbiAgICAgICAgYnl0ZXNbaV0gPSBiaW5hcnlTdHJpbmcuY2hhckNvZGVBdChpKTtcbiAgICB9XG4gICAgcmV0dXJuIGJ5dGVzLmJ1ZmZlcjtcbn1cbi8qKlxuICogQ29udmVydHMgYW4gQXJyYXlCdWZmZXIgdG8gYSBiYXNlNjQgc3RyaW5nXG4gKiBAcGFyYW0ge0FycmF5QnVmZmVyfSBhcnJheUJ1ZmZlclxuICogQHJldHVybnMge3N0cmluZ31cbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIGFycmF5QnVmZmVyVG9CYXNlNjQoYXJyYXlCdWZmZXIpIHtcbiAgICBjb25zdCBiaW5hcnlTdHJpbmcgPSBTdHJpbmcuZnJvbUNoYXJDb2RlKC4uLm5ldyBVaW50OEFycmF5KGFycmF5QnVmZmVyKSk7XG4gICAgcmV0dXJuIGJ0b2EoYmluYXJ5U3RyaW5nKTtcbn1cbi8qKlxuICogR2V0IHRoZSBsYXN0IHRleHQgZnJvbSBhbiBhdWRpbyBvdXRwdXQgbWVzc2FnZVxuICogQHBhcmFtIGl0ZW1cbiAqIEByZXR1cm5zXG4gKi9cbmV4cG9ydCBmdW5jdGlvbiBnZXRMYXN0VGV4dEZyb21BdWRpb091dHB1dE1lc3NhZ2UoaXRlbSkge1xuICAgIGlmICh0eXBlb2YgaXRlbSA9PT0gJ3VuZGVmaW5lZCcgfHxcbiAgICAgICAgaXRlbSA9PT0gbnVsbCB8fFxuICAgICAgICB0eXBlb2YgaXRlbSAhPT0gJ29iamVjdCcgfHxcbiAgICAgICAgISgndHlwZScgaW4gaXRlbSkgfHxcbiAgICAgICAgdHlwZW9mIGl0ZW0udHlwZSAhPT0gJ3N0cmluZycgfHxcbiAgICAgICAgIWl0ZW0udHlwZSkge1xuICAgICAgICByZXR1cm4gdW5kZWZpbmVkO1xuICAgIH1cbiAgICBpZiAoaXRlbS50eXBlICE9PSAnbWVzc2FnZScpIHtcbiAgICAgICAgcmV0dXJuIHVuZGVmaW5lZDtcbiAgICB9XG4gICAgaWYgKCEoJ2NvbnRlbnQnIGluIGl0ZW0pIHx8XG4gICAgICAgICFBcnJheS5pc0FycmF5KGl0ZW0uY29udGVudCkgfHxcbiAgICAgICAgaXRlbS5jb250ZW50Lmxlbmd0aCA8IDEpIHtcbiAgICAgICAgcmV0dXJuIHVuZGVmaW5lZDtcbiAgICB9XG4gICAgY29uc3QgbGFzdENvbnRlbnRJdGVtID0gaXRlbS5jb250ZW50W2l0ZW0uY29udGVudC5sZW5ndGggLSAxXTtcbiAgICBpZiAoISgndHlwZScgaW4gbGFzdENvbnRlbnRJdGVtKSB8fFxuICAgICAgICB0eXBlb2YgbGFzdENvbnRlbnRJdGVtLnR5cGUgIT09ICdzdHJpbmcnKSB7XG4gICAgICAgIHJldHVybiB1bmRlZmluZWQ7XG4gICAgfVxuICAgIGlmIChsYXN0Q29udGVudEl0ZW0udHlwZSA9PT0gJ291dHB1dF90ZXh0Jykge1xuICAgICAgICByZXR1cm4gdHlwZW9mIGxhc3RDb250ZW50SXRlbS50ZXh0ID09PSAnc3RyaW5nJ1xuICAgICAgICAgICAgPyBsYXN0Q29udGVudEl0ZW0udGV4dFxuICAgICAgICAgICAgOiB1bmRlZmluZWQ7XG4gICAgfVxuICAgIGlmIChsYXN0Q29udGVudEl0ZW0udHlwZSA9PT0gJ291dHB1dF9hdWRpbycpIHtcbiAgICAgICAgcmV0dXJuIHR5cGVvZiBsYXN0Q29udGVudEl0ZW0udHJhbnNjcmlwdCA9PT0gJ3N0cmluZydcbiAgICAgICAgICAgID8gbGFzdENvbnRlbnRJdGVtLnRyYW5zY3JpcHRcbiAgICAgICAgICAgIDogdW5kZWZpbmVkO1xuICAgIH1cbiAgICByZXR1cm4gdW5kZWZpbmVkO1xufVxuLyoqXG4gKiBDb21wYXJlIHR3byBjb252ZXJzYXRpb24gaGlzdG9yaWVzIHRvIGRldGVybWluZSB0aGUgcmVtb3ZhbHMsIGFkZGl0aW9ucywgYW5kIHVwZGF0ZXMuXG4gKiBAcGFyYW0gb2xkSGlzdG9yeSAtIFRoZSBvbGQgaGlzdG9yeS5cbiAqIEBwYXJhbSBuZXdIaXN0b3J5IC0gVGhlIG5ldyBoaXN0b3J5LlxuICogQHJldHVybnMgQSBkaWZmIG9mIHRoZSB0d28gaGlzdG9yaWVzLlxuICovXG5leHBvcnQgZnVuY3Rpb24gZGlmZlJlYWx0aW1lSGlzdG9yeShvbGRIaXN0b3J5LCBuZXdIaXN0b3J5KSB7XG4gICAgY29uc3QgcmVtb3ZhbHMgPSBvbGRIaXN0b3J5LmZpbHRlcigoaXRlbSkgPT4gIW5ld0hpc3Rvcnkuc29tZSgobmV3SXRlbSkgPT4gbmV3SXRlbS5pdGVtSWQgPT09IGl0ZW0uaXRlbUlkKSk7XG4gICAgY29uc3QgYWRkaXRpb25zID0gbmV3SGlzdG9yeS5maWx0ZXIoKGl0ZW0pID0+ICFvbGRIaXN0b3J5LnNvbWUoKG9sZEl0ZW0pID0+IG9sZEl0ZW0uaXRlbUlkID09PSBpdGVtLml0ZW1JZCkpO1xuICAgIGNvbnN0IHVwZGF0ZXMgPSBuZXdIaXN0b3J5LmZpbHRlcigoaXRlbSkgPT4gb2xkSGlzdG9yeS5zb21lKChvbGRJdGVtKSA9PiBvbGRJdGVtLml0ZW1JZCA9PT0gaXRlbS5pdGVtSWQgJiZcbiAgICAgICAgSlNPTi5zdHJpbmdpZnkob2xkSXRlbSkgIT09IEpTT04uc3RyaW5naWZ5KGl0ZW0pKSk7XG4gICAgcmV0dXJuIHtcbiAgICAgICAgcmVtb3ZhbHMsXG4gICAgICAgIGFkZGl0aW9ucyxcbiAgICAgICAgdXBkYXRlcyxcbiAgICB9O1xufVxuLyoqXG4gKiBDaGVjayBpZiB0aGUgYnJvd3NlciBzdXBwb3J0cyBXZWJSVEMuXG4gKiBAcmV0dXJucyBUcnVlIGlmIFdlYlJUQyBpcyBzdXBwb3J0ZWQsIGZhbHNlIG90aGVyd2lzZS5cbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIGhhc1dlYlJUQ1N1cHBvcnQoKSB7XG4gICAgaWYgKHR5cGVvZiB3aW5kb3cgPT09ICd1bmRlZmluZWQnKSB7XG4gICAgICAgIHJldHVybiBmYWxzZTtcbiAgICB9XG4gICAgcmV0dXJuIHR5cGVvZiB3aW5kb3dbJ1JUQ1BlZXJDb25uZWN0aW9uJ10gIT09ICd1bmRlZmluZWQnO1xufVxuLyoqXG4gKiBSZW1vdmVzIHRoZSBhdWRpbyBkYXRhIGZyb20gYWxsIGNvbnRlbnQgaW4gYSBtZXNzYWdlIGJ5IHNldHRpbmcgaXQgdG8gbnVsbC5cbiAqIEBwYXJhbSBpdGVtXG4gKiBAcmV0dXJuc1xuICovXG5leHBvcnQgZnVuY3Rpb24gcmVtb3ZlQXVkaW9Gcm9tQ29udGVudChpdGVtKSB7XG4gICAgaWYgKGl0ZW0ucm9sZSA9PT0gJ3N5c3RlbScpIHtcbiAgICAgICAgcmV0dXJuIGl0ZW07XG4gICAgfVxuICAgIGlmIChpdGVtLnJvbGUgPT09ICdhc3Npc3RhbnQnKSB7XG4gICAgICAgIHJldHVybiB7XG4gICAgICAgICAgICAuLi5pdGVtLFxuICAgICAgICAgICAgY29udGVudDogaXRlbS5jb250ZW50Lm1hcCgoZW50cnkpID0+IHtcbiAgICAgICAgICAgICAgICBpZiAoZW50cnkudHlwZSA9PT0gJ291dHB1dF9hdWRpbycpIHtcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIC4uLmVudHJ5LFxuICAgICAgICAgICAgICAgICAgICAgICAgYXVkaW86IG51bGwsXG4gICAgICAgICAgICAgICAgICAgIH07XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIHJldHVybiBlbnRyeTtcbiAgICAgICAgICAgIH0pLFxuICAgICAgICB9O1xuICAgIH1cbiAgICBpZiAoaXRlbS5yb2xlID09PSAndXNlcicpIHtcbiAgICAgICAgcmV0dXJuIHtcbiAgICAgICAgICAgIC4uLml0ZW0sXG4gICAgICAgICAgICBjb250ZW50OiBpdGVtLmNvbnRlbnQubWFwKChlbnRyeSkgPT4ge1xuICAgICAgICAgICAgICAgIGlmIChlbnRyeS50eXBlID09PSAnaW5wdXRfYXVkaW8nKSB7XG4gICAgICAgICAgICAgICAgICAgIHJldHVybiB7XG4gICAgICAgICAgICAgICAgICAgICAgICAuLi5lbnRyeSxcbiAgICAgICAgICAgICAgICAgICAgICAgIGF1ZGlvOiBudWxsLFxuICAgICAgICAgICAgICAgICAgICB9O1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICByZXR1cm4gZW50cnk7XG4gICAgICAgICAgICB9KSxcbiAgICAgICAgfTtcbiAgICB9XG4gICAgcmV0dXJuIGl0ZW07XG59XG4vLyBSZWFsdGltZSBjYW4gcmVzZW5kIHRydW5jYXRlZCBhc3Npc3RhbnQgaXRlbXMgd2l0aG91dCB0cmFuc2NyaXB0cyBhZnRlciBhblxuLy8gaW50ZXJydXB0L3JldHJpZXZlIGN5Y2xlLiBUaGlzIGhlbHBlciBtZXJnZXMgdGhvc2UgdXBkYXRlcyB3aXRoIHRoZSBsYXRlc3Rcbi8vIGtub3duIHRyYW5zY3JpcHQgc28gVUlzIHJldGFpbiB0aGUgcG9ydGlvbiBvZiB0aGUgbWVzc2FnZSB0aGUgdXNlciBhbHJlYWR5XG4vLyBoZWFyZC5cbmZ1bmN0aW9uIHByZXNlcnZlQXNzaXN0YW50QXVkaW9UcmFuc2NyaXB0cyhleGlzdGluZywgaW5jb21pbmcpIHtcbiAgICBpZiAoZXhpc3Rpbmcucm9sZSAhPT0gJ2Fzc2lzdGFudCcgfHwgaW5jb21pbmcucm9sZSAhPT0gJ2Fzc2lzdGFudCcpIHtcbiAgICAgICAgcmV0dXJuIGluY29taW5nO1xuICAgIH1cbiAgICBjb25zdCBtZXJnZWRDb250ZW50ID0gaW5jb21pbmcuY29udGVudC5tYXAoKGVudHJ5LCBpbmRleCkgPT4ge1xuICAgICAgICBpZiAoZW50cnkudHlwZSAhPT0gJ291dHB1dF9hdWRpbycpIHtcbiAgICAgICAgICAgIHJldHVybiBlbnRyeTtcbiAgICAgICAgfVxuICAgICAgICBjb25zdCB0cmFuc2NyaXB0TWlzc2luZyA9IHR5cGVvZiBlbnRyeS50cmFuc2NyaXB0ICE9PSAnc3RyaW5nJyB8fCBlbnRyeS50cmFuc2NyaXB0Lmxlbmd0aCA9PT0gMDtcbiAgICAgICAgaWYgKCF0cmFuc2NyaXB0TWlzc2luZykge1xuICAgICAgICAgICAgcmV0dXJuIGVudHJ5O1xuICAgICAgICB9XG4gICAgICAgIGNvbnN0IHByZXZpb3VzRW50cnkgPSBleGlzdGluZy5jb250ZW50W2luZGV4XTtcbiAgICAgICAgaWYgKHByZXZpb3VzRW50cnkgJiZcbiAgICAgICAgICAgIHByZXZpb3VzRW50cnkudHlwZSA9PT0gJ291dHB1dF9hdWRpbycgJiZcbiAgICAgICAgICAgIHR5cGVvZiBwcmV2aW91c0VudHJ5LnRyYW5zY3JpcHQgPT09ICdzdHJpbmcnICYmXG4gICAgICAgICAgICBwcmV2aW91c0VudHJ5LnRyYW5zY3JpcHQubGVuZ3RoID4gMCkge1xuICAgICAgICAgICAgcmV0dXJuIHtcbiAgICAgICAgICAgICAgICAuLi5lbnRyeSxcbiAgICAgICAgICAgICAgICB0cmFuc2NyaXB0OiBwcmV2aW91c0VudHJ5LnRyYW5zY3JpcHQsXG4gICAgICAgICAgICB9O1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiBlbnRyeTtcbiAgICB9KTtcbiAgICByZXR1cm4ge1xuICAgICAgICAuLi5pbmNvbWluZyxcbiAgICAgICAgY29udGVudDogbWVyZ2VkQ29udGVudCxcbiAgICB9O1xufVxuLyoqXG4gKiBVcGRhdGVzIHRoZSByZWFsdGltZSBoaXN0b3J5IGFycmF5IGJhc2VkIG9uIHRoZSBpbmNvbWluZyBldmVudCBhbmQgb3B0aW9ucy5cbiAqIEBwYXJhbSBoaXN0b3J5IC0gVGhlIGN1cnJlbnQgaGlzdG9yeSBhcnJheS5cbiAqIEBwYXJhbSBldmVudCAtIFRoZSBldmVudCB0byBwcm9jZXNzIChSZWFsdGltZUl0ZW0pLlxuICogQHBhcmFtIHNob3VsZEluY2x1ZGVBdWRpb0RhdGEgLSBXaGV0aGVyIHRvIGluY2x1ZGUgYXVkaW8gZGF0YSBpbiBtZXNzYWdlIGl0ZW1zLlxuICogQHJldHVybnMgVGhlIHVwZGF0ZWQgaGlzdG9yeSBhcnJheS5cbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIHVwZGF0ZVJlYWx0aW1lSGlzdG9yeShoaXN0b3J5LCBldmVudCwgc2hvdWxkSW5jbHVkZUF1ZGlvRGF0YSkge1xuICAgIC8vIE1lcmdlIHRyYW5zY3JpcHQgaW50byBwbGFjZWhvbGRlciBpbnB1dF9hdWRpbyBtZXNzYWdlXG4gICAgaWYgKGV2ZW50LnR5cGUgPT09ICdjb252ZXJzYXRpb24uaXRlbS5pbnB1dF9hdWRpb190cmFuc2NyaXB0aW9uLmNvbXBsZXRlZCcpIHtcbiAgICAgICAgcmV0dXJuIGhpc3RvcnkubWFwKChpdGVtKSA9PiB7XG4gICAgICAgICAgICBpZiAoaXRlbS5pdGVtSWQgPT09IGV2ZW50Lml0ZW1faWQgJiZcbiAgICAgICAgICAgICAgICBpdGVtLnR5cGUgPT09ICdtZXNzYWdlJyAmJlxuICAgICAgICAgICAgICAgICdyb2xlJyBpbiBpdGVtICYmXG4gICAgICAgICAgICAgICAgaXRlbS5yb2xlID09PSAndXNlcicpIHtcbiAgICAgICAgICAgICAgICBjb25zdCB1cGRhdGVkQ29udGVudCA9IGl0ZW0uY29udGVudC5tYXAoKGVudHJ5KSA9PiB7XG4gICAgICAgICAgICAgICAgICAgIGlmIChlbnRyeS50eXBlID09PSAnaW5wdXRfYXVkaW8nKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4ge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIC4uLmVudHJ5LFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRyYW5zY3JpcHQ6IGV2ZW50LnRyYW5zY3JpcHQsXG4gICAgICAgICAgICAgICAgICAgICAgICB9O1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIHJldHVybiBlbnRyeTtcbiAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgICAgICByZXR1cm4ge1xuICAgICAgICAgICAgICAgICAgICAuLi5pdGVtLFxuICAgICAgICAgICAgICAgICAgICBjb250ZW50OiB1cGRhdGVkQ29udGVudCxcbiAgICAgICAgICAgICAgICAgICAgc3RhdHVzOiAnY29tcGxldGVkJyxcbiAgICAgICAgICAgICAgICB9O1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgcmV0dXJuIGl0ZW07XG4gICAgICAgIH0pO1xuICAgIH1cbiAgICBjb25zdCBuZXdFdmVudCA9ICFzaG91bGRJbmNsdWRlQXVkaW9EYXRhICYmIGV2ZW50LnR5cGUgPT09ICdtZXNzYWdlJ1xuICAgICAgICA/IHJlbW92ZUF1ZGlvRnJvbUNvbnRlbnQoZXZlbnQpXG4gICAgICAgIDogZXZlbnQ7XG4gICAgY29uc3QgZXhpc3RpbmdJbmRleCA9IGhpc3RvcnkuZmluZEluZGV4KChpdGVtKSA9PiBpdGVtLml0ZW1JZCA9PT0gZXZlbnQuaXRlbUlkKTtcbiAgICBpZiAoZXhpc3RpbmdJbmRleCAhPT0gLTEpIHtcbiAgICAgICAgY29uc3QgZXhpc3RpbmdJdGVtID0gaGlzdG9yeVtleGlzdGluZ0luZGV4XTtcbiAgICAgICAgY29uc3QgbWVyZ2VkRXZlbnQgPSBuZXdFdmVudC50eXBlID09PSAnbWVzc2FnZScgJiYgZXhpc3RpbmdJdGVtLnR5cGUgPT09ICdtZXNzYWdlJ1xuICAgICAgICAgICAgPyBwcmVzZXJ2ZUFzc2lzdGFudEF1ZGlvVHJhbnNjcmlwdHMoZXhpc3RpbmdJdGVtLCBuZXdFdmVudClcbiAgICAgICAgICAgIDogbmV3RXZlbnQ7XG4gICAgICAgIC8vIFVwZGF0ZSBleGlzdGluZyBpdGVtXG4gICAgICAgIHJldHVybiBoaXN0b3J5Lm1hcCgoaXRlbSwgaWR4KSA9PiB7XG4gICAgICAgICAgICBpZiAoaWR4ID09PSBleGlzdGluZ0luZGV4KSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuIG1lcmdlZEV2ZW50O1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgaWYgKCFzaG91bGRJbmNsdWRlQXVkaW9EYXRhICYmIGl0ZW0udHlwZSA9PT0gJ21lc3NhZ2UnKSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuIHJlbW92ZUF1ZGlvRnJvbUNvbnRlbnQoaXRlbSk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICByZXR1cm4gaXRlbTtcbiAgICAgICAgfSk7XG4gICAgfVxuICAgIGVsc2UgaWYgKGV2ZW50LnByZXZpb3VzSXRlbUlkKSB7XG4gICAgICAgIC8vIEluc2VydCBhZnRlciBwcmV2aW91c0l0ZW1JZCBpZiBmb3VuZCwgZWxzZSBhdCBlbmRcbiAgICAgICAgY29uc3QgcHJldkluZGV4ID0gaGlzdG9yeS5maW5kSW5kZXgoKGl0ZW0pID0+IGl0ZW0uaXRlbUlkID09PSBldmVudC5wcmV2aW91c0l0ZW1JZCk7XG4gICAgICAgIGlmIChwcmV2SW5kZXggIT09IC0xKSB7XG4gICAgICAgICAgICByZXR1cm4gW1xuICAgICAgICAgICAgICAgIC4uLmhpc3Rvcnkuc2xpY2UoMCwgcHJldkluZGV4ICsgMSksXG4gICAgICAgICAgICAgICAgbmV3RXZlbnQsXG4gICAgICAgICAgICAgICAgLi4uaGlzdG9yeS5zbGljZShwcmV2SW5kZXggKyAxKSxcbiAgICAgICAgICAgIF07XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICByZXR1cm4gWy4uLmhpc3RvcnksIG5ld0V2ZW50XTtcbiAgICAgICAgfVxuICAgIH1cbiAgICBlbHNlIHtcbiAgICAgICAgcmV0dXJuIFsuLi5oaXN0b3J5LCBuZXdFdmVudF07XG4gICAgfVxufVxuLyoqXG4gKiBUaGUgaGVhZGVycyB0byB1c2UgZm9yIHRoZSBSZWFsdGltZSBBUEkuXG4gKi9cbmV4cG9ydCBjb25zdCBIRUFERVJTID0ge1xuICAgICdVc2VyLUFnZW50JzogYEFnZW50cy9KYXZhU2NyaXB0ICR7TUVUQURBVEEudmVyc2lvbn1gLFxuICAgICdYLU9wZW5BSS1BZ2VudHMtU0RLJzogYG9wZW5haS1hZ2VudHMtc2RrLiR7TUVUQURBVEEudmVyc2lvbn1gLFxufTtcbi8qKlxuICogQnJvd3NlciB3ZWJzb2NrZXQgaGVhZGVyXG4gKi9cbmV4cG9ydCBjb25zdCBXRUJTT0NLRVRfTUVUQSA9IGBvcGVuYWktYWdlbnRzLXNkay4ke01FVEFEQVRBLnZlcnNpb259YDtcbmV4cG9ydCBmdW5jdGlvbiByZWFsdGltZUFwcHJvdmFsSXRlbVRvQXBwcm92YWxJdGVtKGFnZW50LCBpdGVtKSB7XG4gICAgY29uc3QgeyBuYW1lLCBhcmd1bWVudHM6IGFyZ3MsIC4uLnJlc3QgfSA9IGl0ZW07XG4gICAgcmV0dXJuIG5ldyBSdW5Ub29sQXBwcm92YWxJdGVtKHtcbiAgICAgICAgdHlwZTogJ2hvc3RlZF90b29sX2NhbGwnLFxuICAgICAgICBuYW1lLFxuICAgICAgICBhcmd1bWVudHM6IEpTT04uc3RyaW5naWZ5KGFyZ3MpLFxuICAgICAgICBzdGF0dXM6ICdpbl9wcm9ncmVzcycsXG4gICAgICAgIHByb3ZpZGVyRGF0YToge1xuICAgICAgICAgICAgLi4ucmVzdCxcbiAgICAgICAgfSxcbiAgICB9LCBhZ2VudCk7XG59XG5leHBvcnQgZnVuY3Rpb24gYXBwcm92YWxJdGVtVG9SZWFsdGltZUFwcHJvdmFsSXRlbShpdGVtKSB7XG4gICAgaWYgKGl0ZW0ucmF3SXRlbS50eXBlICE9PSAnZnVuY3Rpb25fY2FsbCcgJiZcbiAgICAgICAgaXRlbS5yYXdJdGVtLnR5cGUgIT09ICdob3N0ZWRfdG9vbF9jYWxsJykge1xuICAgICAgICB0aHJvdyBuZXcgRXJyb3IoJ0ludmFsaWQgYXBwcm92YWwgaXRlbSB0eXBlIGZvciBSZWFsdGltZSBNQ1AgYXBwcm92YWwgcmVxdWVzdCcpO1xuICAgIH1cbiAgICBjb25zdCB7IG5hbWUsIGFyZ3VtZW50czogYXJncywgcHJvdmlkZXJEYXRhIH0gPSBpdGVtLnJhd0l0ZW07XG4gICAgY29uc3QgeyBpdGVtSWQsIHNlcnZlckxhYmVsLCAuLi5yZXN0IH0gPSBwcm92aWRlckRhdGEgPz8ge307XG4gICAgaWYgKCFpdGVtSWQgfHwgIXNlcnZlckxhYmVsKSB7XG4gICAgICAgIHRocm93IG5ldyBFcnJvcignSW52YWxpZCBhcHByb3ZhbCBpdGVtIGZvciBSZWFsdGltZSBNQ1AgYXBwcm92YWwgcmVxdWVzdCcpO1xuICAgIH1cbiAgICByZXR1cm4ge1xuICAgICAgICB0eXBlOiAnbWNwX2FwcHJvdmFsX3JlcXVlc3QnLFxuICAgICAgICBpdGVtSWQsXG4gICAgICAgIHNlcnZlckxhYmVsLFxuICAgICAgICAuLi5yZXN0LFxuICAgICAgICBuYW1lLFxuICAgICAgICBhcmd1bWVudHM6IGFyZ3MgPyBKU09OLnBhcnNlKGFyZ3MpIDoge30sXG4gICAgICAgIGFwcHJvdmVkOiBudWxsLFxuICAgIH07XG59XG4vLyMgc291cmNlTWFwcGluZ1VSTD11dGlscy5tanMubWFwIiwiaW1wb3J0IHsgQWdlbnQsIH0gZnJvbSAnQG9wZW5haS9hZ2VudHMtY29yZSc7XG4vKipcbiAqIEEgc3BlY2lhbGl6ZWQgYWdlbnQgaW5zdGFuY2UgdGhhdCBpcyBtZWFudCB0byBiZSB1c2VkIHdpdGhpbiBhIGBSZWFsdGltZVNlc3Npb25gIHRvIGJ1aWxkXG4gKiB2b2ljZSBhZ2VudHMuIER1ZSB0byB0aGUgbmF0dXJlIG9mIHRoaXMgYWdlbnQsIHNvbWUgY29uZmlndXJhdGlvbiBvcHRpb25zIGFyZSBub3Qgc3VwcG9ydGVkXG4gKiB0aGF0IGFyZSBzdXBwb3J0ZWQgYnkgcmVndWxhciBgQWdlbnRgIGluc3RhbmNlcy4gRm9yIGV4YW1wbGU6XG4gKiAtIGBtb2RlbGAgY2hvaWNlIGlzIG5vdCBzdXBwb3J0ZWQgYXMgYWxsIFJlYWx0aW1lQWdlbnRzIHdpbGwgYmUgaGFuZGxlZCBieSB0aGUgc2FtZSBtb2RlbCB3aXRoaW5cbiAqICAgYSBgUmVhbHRpbWVTZXNzaW9uYFxuICogLSBgbW9kZWxTZXR0aW5nc2AgaXMgbm90IHN1cHBvcnRlZCBhcyBhbGwgUmVhbHRpbWVBZ2VudHMgd2lsbCBiZSBoYW5kbGVkIGJ5IHRoZSBzYW1lIG1vZGVsIHdpdGhpblxuICogICBhIGBSZWFsdGltZVNlc3Npb25gXG4gKiAtIGBvdXRwdXRUeXBlYCBpcyBub3Qgc3VwcG9ydGVkIGFzIFJlYWx0aW1lQWdlbnRzIGRvIG5vdCBzdXBwb3J0IHN0cnVjdHVyZWQgb3V0cHV0c1xuICogLSBgdG9vbFVzZUJlaGF2aW9yYCBpcyBub3Qgc3VwcG9ydGVkIGFzIGFsbCBSZWFsdGltZUFnZW50cyB3aWxsIGJlIGhhbmRsZWQgYnkgdGhlIHNhbWUgbW9kZWwgd2l0aGluXG4gKiAgIGEgYFJlYWx0aW1lU2Vzc2lvbmBcbiAqIC0gYHZvaWNlYCBjYW4gYmUgY29uZmlndXJlZCBvbiBhbiBgQWdlbnRgIGxldmVsIGhvd2V2ZXIgaXQgY2Fubm90IGJlIGNoYW5nZWQgYWZ0ZXIgdGhlIGZpcnN0XG4gKiAgICBhZ2VudCB3aXRoaW4gYSBgUmVhbHRpbWVTZXNzaW9uYCBzcG9rZVxuICpcbiAqIEBleGFtcGxlXG4gKiBgYGB0c1xuICogY29uc3QgYWdlbnQgPSBuZXcgUmVhbHRpbWVBZ2VudCh7XG4gKiAgIG5hbWU6ICdteS1hZ2VudCcsXG4gKiAgIGluc3RydWN0aW9uczogJ1lvdSBhcmUgYSBoZWxwZnVsIGFzc2lzdGFudCB0aGF0IGNhbiBhbnN3ZXIgcXVlc3Rpb25zIGFuZCBoZWxwIHdpdGggdGFza3MuJyxcbiAqIH0pXG4gKlxuICogY29uc3Qgc2Vzc2lvbiA9IG5ldyBSZWFsdGltZVNlc3Npb24oYWdlbnQpO1xuICogYGBgXG4gKi9cbmV4cG9ydCBjbGFzcyBSZWFsdGltZUFnZW50IGV4dGVuZHMgQWdlbnQge1xuICAgIC8qKlxuICAgICAqIFRoZSB2b2ljZSBpbnRlbmRlZCB0byBiZSB1c2VkIGJ5IHRoZSBhZ2VudC4gSWYgYW5vdGhlciBhZ2VudCBhbHJlYWR5IHNwb2tlIGR1cmluZyB0aGVcbiAgICAgKiBSZWFsdGltZVNlc3Npb24sIGNoYW5naW5nIHRoZSB2b2ljZSBkdXJpbmcgYSBoYW5kb2ZmIHdpbGwgZmFpbC5cbiAgICAgKi9cbiAgICB2b2ljZTtcbiAgICBjb25zdHJ1Y3Rvcihjb25maWcpIHtcbiAgICAgICAgc3VwZXIoY29uZmlnKTtcbiAgICAgICAgdGhpcy52b2ljZSA9IGNvbmZpZy52b2ljZTtcbiAgICB9XG59XG4vLyMgc291cmNlTWFwcGluZ1VSTD1yZWFsdGltZUFnZW50Lm1qcy5tYXAiLCJpbXBvcnQgeyBkZWZpbmVPdXRwdXRHdWFyZHJhaWwsIH0gZnJvbSAnQG9wZW5haS9hZ2VudHMtY29yZSc7XG5leHBvcnQgZnVuY3Rpb24gZ2V0UmVhbHRpbWVHdWFyZHJhaWxTZXR0aW5ncyhzZXR0aW5ncykge1xuICAgIHJldHVybiB7XG4gICAgICAgIGRlYm91bmNlVGV4dExlbmd0aDogc2V0dGluZ3MuZGVib3VuY2VUZXh0TGVuZ3RoID8/IDEwMCxcbiAgICB9O1xufVxuZXhwb3J0IGZ1bmN0aW9uIGRlZmluZVJlYWx0aW1lT3V0cHV0R3VhcmRyYWlsKHsgcG9saWN5SGludDogcG9saWN5SGludElucHV0LCAuLi5vcHRpb25zIH0pIHtcbiAgICBjb25zdCBiYXNlR3VhcmRyYWlsID0gZGVmaW5lT3V0cHV0R3VhcmRyYWlsKG9wdGlvbnMpO1xuICAgIGNvbnN0IHBvbGljeUhpbnQgPSBwb2xpY3lIaW50SW5wdXQgPz8gYmFzZUd1YXJkcmFpbC5uYW1lO1xuICAgIHJldHVybiB7XG4gICAgICAgIC4uLmJhc2VHdWFyZHJhaWwsXG4gICAgICAgIHBvbGljeUhpbnQsXG4gICAgICAgIHJ1bjogYXN5bmMgKGFyZ3MpID0+IHtcbiAgICAgICAgICAgIGNvbnN0IHJlc3VsdCA9IGF3YWl0IGJhc2VHdWFyZHJhaWwucnVuKGFyZ3MpO1xuICAgICAgICAgICAgcmV0dXJuIHtcbiAgICAgICAgICAgICAgICAuLi5yZXN1bHQsXG4gICAgICAgICAgICAgICAgZ3VhcmRyYWlsOiB7IC4uLnJlc3VsdC5ndWFyZHJhaWwsIHBvbGljeUhpbnQgfSxcbiAgICAgICAgICAgIH07XG4gICAgICAgIH0sXG4gICAgfTtcbn1cbi8qKlxuICogR2VuZXJhdGVzIGEgbWVzc2FnZSB0aGF0IGluZm9ybXMgdGhlIG1vZGVsIGFib3V0IHdoeSB0aGUgZ3VhcmRyYWlsIHdhcyB0cmlnZ2VyZWQgYW5kIHRvXG4gKiBjb3JyZWN0IHRoZSBiZWhhdmlvci5cbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIGdldFJlYWx0aW1lR3VhcmRyYWlsRmVlZGJhY2tNZXNzYWdlKHJlc3VsdCkge1xuICAgIHJldHVybiBgXG7imqDvuI8gWW91ciBsYXN0IGFuc3dlciB3YXMgYmxvY2tlZC4gXG5GYWlsZWQgR3VhcmRyYWlsIFJlYXNvbjogJHtyZXN1bHQuZ3VhcmRyYWlsLnBvbGljeUhpbnR9LiBcbkZhaWx1cmUgRGV0YWlsczogJHtKU09OLnN0cmluZ2lmeShyZXN1bHQub3V0cHV0Lm91dHB1dEluZm8gPz8ge30pfS4gXG5QbGVhc2UgcmVzcG9uZCBhZ2FpbiBmb2xsb3dpbmcgcG9saWN5LiBBcG9sb2dpemUgZm9yIG5vdCBiZWluZyBhYmxlIHRvIGFuc3dlciB0aGUgcXVlc3Rpb24gKHdoaWxlIGF2b2lkaW5nIHRoZSBzcGVjaWZpYyByZWFzb24pIGFuZCBkaXZlcnQgZGlzY3Vzc2lvbiBiYWNrIHRvIGFuIGFwcHJvdmVkIHRvcGljIGltbWVkaWF0ZWx5IGFuZCBub3QgaW52aXRlIG1vcmUgZGlzY3Vzc2lvbi5cbmAudHJpbSgpO1xufVxuLy8jIHNvdXJjZU1hcHBpbmdVUkw9Z3VhcmRyYWlsLm1qcy5tYXAiLCJmdW5jdGlvbiBpc0RlZmluZWQoa2V5LCBvYmplY3QpIHtcbiAgICAvLyBAdHMtZXhwZWN0LWVycm9yIGZ1ZGdpbmcgd2l0aCB0eXBlcyBoZXJlIGZvciB0aGUgaW5kZXggdHlwZXNcbiAgICByZXR1cm4ga2V5IGluIG9iamVjdCAmJiB0eXBlb2Ygb2JqZWN0W2tleV0gIT09ICd1bmRlZmluZWQnO1xufVxuZnVuY3Rpb24gaXNEZXByZWNhdGVkQ29uZmlnKGNvbmZpZykge1xuICAgIHJldHVybiAoaXNEZWZpbmVkKCdtb2RhbGl0aWVzJywgY29uZmlnKSB8fFxuICAgICAgICBpc0RlZmluZWQoJ2lucHV0QXVkaW9Gb3JtYXQnLCBjb25maWcpIHx8XG4gICAgICAgIGlzRGVmaW5lZCgnb3V0cHV0QXVkaW9Gb3JtYXQnLCBjb25maWcpIHx8XG4gICAgICAgIGlzRGVmaW5lZCgnaW5wdXRBdWRpb1RyYW5zY3JpcHRpb24nLCBjb25maWcpIHx8XG4gICAgICAgIGlzRGVmaW5lZCgndHVybkRldGVjdGlvbicsIGNvbmZpZykgfHxcbiAgICAgICAgaXNEZWZpbmVkKCdpbnB1dEF1ZGlvTm9pc2VSZWR1Y3Rpb24nLCBjb25maWcpIHx8XG4gICAgICAgIGlzRGVmaW5lZCgnc3BlZWQnLCBjb25maWcpKTtcbn1cbi8qKlxuICogQ29udmVydCBhbnkgZ2l2ZW4gY29uZmlnIChvbGQgb3IgbmV3KSB0byB0aGUgbmV3IEdBIGNvbmZpZyBzaGFwZS5cbiAqIElmIGEgbmV3IGNvbmZpZyBpcyBwcm92aWRlZCwgaXQgd2lsbCBiZSByZXR1cm5lZCBhcy1pcyAobm9ybWFsaXplZCBzaGFsbG93bHkpLlxuICovXG5leHBvcnQgZnVuY3Rpb24gdG9OZXdTZXNzaW9uQ29uZmlnKGNvbmZpZykge1xuICAgIGlmICghaXNEZXByZWNhdGVkQ29uZmlnKGNvbmZpZykpIHtcbiAgICAgICAgY29uc3QgaW5wdXRDb25maWcgPSBjb25maWcuYXVkaW8/LmlucHV0XG4gICAgICAgICAgICA/IHtcbiAgICAgICAgICAgICAgICBmb3JtYXQ6IG5vcm1hbGl6ZUF1ZGlvRm9ybWF0KGNvbmZpZy5hdWRpby5pbnB1dC5mb3JtYXQpLFxuICAgICAgICAgICAgICAgIG5vaXNlUmVkdWN0aW9uOiBjb25maWcuYXVkaW8uaW5wdXQubm9pc2VSZWR1Y3Rpb24gPz8gbnVsbCxcbiAgICAgICAgICAgICAgICB0cmFuc2NyaXB0aW9uOiBjb25maWcuYXVkaW8uaW5wdXQudHJhbnNjcmlwdGlvbixcbiAgICAgICAgICAgICAgICB0dXJuRGV0ZWN0aW9uOiBjb25maWcuYXVkaW8uaW5wdXQudHVybkRldGVjdGlvbixcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIDogdW5kZWZpbmVkO1xuICAgICAgICBjb25zdCByZXF1ZXN0ZWRPdXRwdXRWb2ljZSA9IGNvbmZpZy5hdWRpbz8ub3V0cHV0Py52b2ljZSA/PyBjb25maWcudm9pY2U7XG4gICAgICAgIGNvbnN0IG91dHB1dENvbmZpZyA9IGNvbmZpZy5hdWRpbz8ub3V0cHV0IHx8IHR5cGVvZiByZXF1ZXN0ZWRPdXRwdXRWb2ljZSAhPT0gJ3VuZGVmaW5lZCdcbiAgICAgICAgICAgID8ge1xuICAgICAgICAgICAgICAgIGZvcm1hdDogbm9ybWFsaXplQXVkaW9Gb3JtYXQoY29uZmlnLmF1ZGlvPy5vdXRwdXQ/LmZvcm1hdCksXG4gICAgICAgICAgICAgICAgdm9pY2U6IHJlcXVlc3RlZE91dHB1dFZvaWNlLFxuICAgICAgICAgICAgICAgIHNwZWVkOiBjb25maWcuYXVkaW8/Lm91dHB1dD8uc3BlZWQsXG4gICAgICAgICAgICB9XG4gICAgICAgICAgICA6IHVuZGVmaW5lZDtcbiAgICAgICAgcmV0dXJuIHtcbiAgICAgICAgICAgIG1vZGVsOiBjb25maWcubW9kZWwsXG4gICAgICAgICAgICBpbnN0cnVjdGlvbnM6IGNvbmZpZy5pbnN0cnVjdGlvbnMsXG4gICAgICAgICAgICB0b29sQ2hvaWNlOiBjb25maWcudG9vbENob2ljZSxcbiAgICAgICAgICAgIHRvb2xzOiBjb25maWcudG9vbHMsXG4gICAgICAgICAgICB0cmFjaW5nOiBjb25maWcudHJhY2luZyxcbiAgICAgICAgICAgIHByb3ZpZGVyRGF0YTogY29uZmlnLnByb3ZpZGVyRGF0YSxcbiAgICAgICAgICAgIHByb21wdDogY29uZmlnLnByb21wdCxcbiAgICAgICAgICAgIG91dHB1dE1vZGFsaXRpZXM6IGNvbmZpZy5vdXRwdXRNb2RhbGl0aWVzLFxuICAgICAgICAgICAgYXVkaW86IGlucHV0Q29uZmlnIHx8IG91dHB1dENvbmZpZ1xuICAgICAgICAgICAgICAgID8ge1xuICAgICAgICAgICAgICAgICAgICBpbnB1dDogaW5wdXRDb25maWcsXG4gICAgICAgICAgICAgICAgICAgIG91dHB1dDogb3V0cHV0Q29uZmlnLFxuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICA6IHVuZGVmaW5lZCxcbiAgICAgICAgfTtcbiAgICB9XG4gICAgcmV0dXJuIHtcbiAgICAgICAgbW9kZWw6IGNvbmZpZy5tb2RlbCxcbiAgICAgICAgaW5zdHJ1Y3Rpb25zOiBjb25maWcuaW5zdHJ1Y3Rpb25zLFxuICAgICAgICB0b29sQ2hvaWNlOiBjb25maWcudG9vbENob2ljZSxcbiAgICAgICAgdG9vbHM6IGNvbmZpZy50b29scyxcbiAgICAgICAgdHJhY2luZzogY29uZmlnLnRyYWNpbmcsXG4gICAgICAgIHByb3ZpZGVyRGF0YTogY29uZmlnLnByb3ZpZGVyRGF0YSxcbiAgICAgICAgcHJvbXB0OiBjb25maWcucHJvbXB0LFxuICAgICAgICBvdXRwdXRNb2RhbGl0aWVzOiBjb25maWcubW9kYWxpdGllcyxcbiAgICAgICAgYXVkaW86IHtcbiAgICAgICAgICAgIGlucHV0OiB7XG4gICAgICAgICAgICAgICAgZm9ybWF0OiBub3JtYWxpemVBdWRpb0Zvcm1hdChjb25maWcuaW5wdXRBdWRpb0Zvcm1hdCksXG4gICAgICAgICAgICAgICAgbm9pc2VSZWR1Y3Rpb246IGNvbmZpZy5pbnB1dEF1ZGlvTm9pc2VSZWR1Y3Rpb24gPz8gbnVsbCxcbiAgICAgICAgICAgICAgICB0cmFuc2NyaXB0aW9uOiBjb25maWcuaW5wdXRBdWRpb1RyYW5zY3JpcHRpb24sXG4gICAgICAgICAgICAgICAgdHVybkRldGVjdGlvbjogY29uZmlnLnR1cm5EZXRlY3Rpb24sXG4gICAgICAgICAgICB9LFxuICAgICAgICAgICAgb3V0cHV0OiB7XG4gICAgICAgICAgICAgICAgZm9ybWF0OiBub3JtYWxpemVBdWRpb0Zvcm1hdChjb25maWcub3V0cHV0QXVkaW9Gb3JtYXQpLFxuICAgICAgICAgICAgICAgIHZvaWNlOiBjb25maWcudm9pY2UsXG4gICAgICAgICAgICAgICAgc3BlZWQ6IGNvbmZpZy5zcGVlZCxcbiAgICAgICAgICAgIH0sXG4gICAgICAgIH0sXG4gICAgfTtcbn1cbmV4cG9ydCBmdW5jdGlvbiBub3JtYWxpemVBdWRpb0Zvcm1hdChmb3JtYXQpIHtcbiAgICBpZiAoIWZvcm1hdClcbiAgICAgICAgcmV0dXJuIHVuZGVmaW5lZDtcbiAgICBpZiAodHlwZW9mIGZvcm1hdCA9PT0gJ29iamVjdCcpXG4gICAgICAgIHJldHVybiBmb3JtYXQ7XG4gICAgY29uc3QgZiA9IFN0cmluZyhmb3JtYXQpO1xuICAgIGlmIChmID09PSAncGNtMTYnKVxuICAgICAgICByZXR1cm4geyB0eXBlOiAnYXVkaW8vcGNtJywgcmF0ZTogMjQwMDAgfTtcbiAgICBpZiAoZiA9PT0gJ2c3MTFfdWxhdycpXG4gICAgICAgIHJldHVybiB7IHR5cGU6ICdhdWRpby9wY211JyB9O1xuICAgIGlmIChmID09PSAnZzcxMV9hbGF3JylcbiAgICAgICAgcmV0dXJuIHsgdHlwZTogJ2F1ZGlvL3BjbWEnIH07XG4gICAgLy8gRGVmYXVsdCBmYWxsYmFjazogYXNzdW1lIDI0a0h6IFBDTSBpZiB1bmtub3duIHN0cmluZ1xuICAgIHJldHVybiB7IHR5cGU6ICdhdWRpby9wY20nLCByYXRlOiAyNDAwMCB9O1xufVxuLy8jIHNvdXJjZU1hcHBpbmdVUkw9Y2xpZW50TWVzc2FnZXMubWpzLm1hcCIsImltcG9ydCB7IHogfSBmcm9tICd6b2QnO1xuZXhwb3J0IGNvbnN0IGJhc2VJdGVtU2NoZW1hID0gei5vYmplY3Qoe1xuICAgIGl0ZW1JZDogei5zdHJpbmcoKSxcbn0pO1xuZXhwb3J0IGNvbnN0IHJlYWx0aW1lTWVzc2FnZUl0ZW1TY2hlbWEgPSB6LmRpc2NyaW1pbmF0ZWRVbmlvbigncm9sZScsIFtcbiAgICB6Lm9iamVjdCh7XG4gICAgICAgIGl0ZW1JZDogei5zdHJpbmcoKSxcbiAgICAgICAgcHJldmlvdXNJdGVtSWQ6IHouc3RyaW5nKCkubnVsbGFibGUoKS5vcHRpb25hbCgpLFxuICAgICAgICB0eXBlOiB6LmxpdGVyYWwoJ21lc3NhZ2UnKSxcbiAgICAgICAgcm9sZTogei5saXRlcmFsKCdzeXN0ZW0nKSxcbiAgICAgICAgY29udGVudDogei5hcnJheSh6Lm9iamVjdCh7IHR5cGU6IHoubGl0ZXJhbCgnaW5wdXRfdGV4dCcpLCB0ZXh0OiB6LnN0cmluZygpIH0pKSxcbiAgICB9KSxcbiAgICB6Lm9iamVjdCh7XG4gICAgICAgIGl0ZW1JZDogei5zdHJpbmcoKSxcbiAgICAgICAgcHJldmlvdXNJdGVtSWQ6IHouc3RyaW5nKCkubnVsbGFibGUoKS5vcHRpb25hbCgpLFxuICAgICAgICB0eXBlOiB6LmxpdGVyYWwoJ21lc3NhZ2UnKSxcbiAgICAgICAgcm9sZTogei5saXRlcmFsKCd1c2VyJyksXG4gICAgICAgIHN0YXR1czogei5lbnVtKFsnaW5fcHJvZ3Jlc3MnLCAnY29tcGxldGVkJ10pLFxuICAgICAgICBjb250ZW50OiB6LmFycmF5KHoub2JqZWN0KHsgdHlwZTogei5saXRlcmFsKCdpbnB1dF90ZXh0JyksIHRleHQ6IHouc3RyaW5nKCkgfSkub3Ioei5vYmplY3Qoe1xuICAgICAgICAgICAgdHlwZTogei5saXRlcmFsKCdpbnB1dF9hdWRpbycpLFxuICAgICAgICAgICAgYXVkaW86IHouc3RyaW5nKCkubnVsbGFibGUoKS5vcHRpb25hbCgpLFxuICAgICAgICAgICAgdHJhbnNjcmlwdDogei5zdHJpbmcoKS5udWxsYWJsZSgpLFxuICAgICAgICB9KSkpLFxuICAgIH0pLFxuICAgIHoub2JqZWN0KHtcbiAgICAgICAgaXRlbUlkOiB6LnN0cmluZygpLFxuICAgICAgICBwcmV2aW91c0l0ZW1JZDogei5zdHJpbmcoKS5udWxsYWJsZSgpLm9wdGlvbmFsKCksXG4gICAgICAgIHR5cGU6IHoubGl0ZXJhbCgnbWVzc2FnZScpLFxuICAgICAgICByb2xlOiB6LmxpdGVyYWwoJ2Fzc2lzdGFudCcpLFxuICAgICAgICBzdGF0dXM6IHouZW51bShbJ2luX3Byb2dyZXNzJywgJ2NvbXBsZXRlZCcsICdpbmNvbXBsZXRlJ10pLFxuICAgICAgICBjb250ZW50OiB6LmFycmF5KHoub2JqZWN0KHsgdHlwZTogei5saXRlcmFsKCdvdXRwdXRfdGV4dCcpLCB0ZXh0OiB6LnN0cmluZygpIH0pLm9yKHoub2JqZWN0KHtcbiAgICAgICAgICAgIHR5cGU6IHoubGl0ZXJhbCgnb3V0cHV0X2F1ZGlvJyksXG4gICAgICAgICAgICBhdWRpbzogei5zdHJpbmcoKS5udWxsYWJsZSgpLm9wdGlvbmFsKCksXG4gICAgICAgICAgICB0cmFuc2NyaXB0OiB6LnN0cmluZygpLm51bGxhYmxlKCkub3B0aW9uYWwoKSxcbiAgICAgICAgfSkpKSxcbiAgICB9KSxcbl0pO1xuZXhwb3J0IGNvbnN0IHJlYWx0aW1lVG9vbENhbGxJdGVtID0gei5vYmplY3Qoe1xuICAgIGl0ZW1JZDogei5zdHJpbmcoKSxcbiAgICBwcmV2aW91c0l0ZW1JZDogei5zdHJpbmcoKS5udWxsYWJsZSgpLm9wdGlvbmFsKCksXG4gICAgdHlwZTogei5saXRlcmFsKCdmdW5jdGlvbl9jYWxsJyksXG4gICAgc3RhdHVzOiB6LmVudW0oWydpbl9wcm9ncmVzcycsICdjb21wbGV0ZWQnLCAnaW5jb21wbGV0ZSddKSxcbiAgICBhcmd1bWVudHM6IHouc3RyaW5nKCksXG4gICAgbmFtZTogei5zdHJpbmcoKSxcbiAgICBvdXRwdXQ6IHouc3RyaW5nKCkubnVsbGFibGUoKSxcbn0pO1xuZXhwb3J0IGNvbnN0IHJlYWx0aW1lTWNwQ2FsbEl0ZW0gPSB6Lm9iamVjdCh7XG4gICAgaXRlbUlkOiB6LnN0cmluZygpLFxuICAgIHByZXZpb3VzSXRlbUlkOiB6LnN0cmluZygpLm51bGxhYmxlKCkub3B0aW9uYWwoKSxcbiAgICB0eXBlOiB6LmVudW0oWydtY3BfY2FsbCcsICdtY3BfdG9vbF9jYWxsJ10pLFxuICAgIHN0YXR1czogei5lbnVtKFsnaW5fcHJvZ3Jlc3MnLCAnY29tcGxldGVkJywgJ2luY29tcGxldGUnXSksXG4gICAgYXJndW1lbnRzOiB6LnN0cmluZygpLFxuICAgIG5hbWU6IHouc3RyaW5nKCksXG4gICAgb3V0cHV0OiB6LnN0cmluZygpLm51bGxhYmxlKCksXG59KTtcbmV4cG9ydCBjb25zdCByZWFsdGltZU1jcENhbGxBcHByb3ZhbFJlcXVlc3RJdGVtID0gei5vYmplY3Qoe1xuICAgIGl0ZW1JZDogei5zdHJpbmcoKSxcbiAgICB0eXBlOiB6LmxpdGVyYWwoJ21jcF9hcHByb3ZhbF9yZXF1ZXN0JyksXG4gICAgc2VydmVyTGFiZWw6IHouc3RyaW5nKCksXG4gICAgbmFtZTogei5zdHJpbmcoKSxcbiAgICBhcmd1bWVudHM6IHoucmVjb3JkKHouc3RyaW5nKCksIHouYW55KCkpLFxuICAgIGFwcHJvdmVkOiB6LmJvb2xlYW4oKS5vcHRpb25hbCgpLm51bGxhYmxlKCksXG59KTtcbi8vIyBzb3VyY2VNYXBwaW5nVVJMPWl0ZW1zLm1qcy5tYXAiLCJpbXBvcnQgeyBnZXRMb2dnZXIgfSBmcm9tICdAb3BlbmFpL2FnZW50cy1jb3JlJztcbmNvbnN0IGxvZ2dlciA9IGdldExvZ2dlcignb3BlbmFpLWFnZW50czpyZWFsdGltZScpO1xuZXhwb3J0IGRlZmF1bHQgbG9nZ2VyO1xuLy8jIHNvdXJjZU1hcHBpbmdVUkw9bG9nZ2VyLm1qcy5tYXAiLCJpbXBvcnQgeyB6IH0gZnJvbSAnem9kJztcbi8vIEV2ZW50IHNjaGVtYXMgbWlycm9yaW5nIHRoZSBzdHJ1Y3R1cmVzIGRlZmluZWQgaW4gdGhlIE9wZW5BSSBTREsgdHlwaW5ncy5cbi8vIE1vc3QgZmllbGRzIGZyb20gdGhlIGludGVyZmFjZXMgaW4gYHJlYWx0aW1lLmQudHNgIGFyZSBjYXB0dXJlZCBoZXJlIHRvXG4vLyBwcm92aWRlIGJldHRlciBydW50aW1lIHZhbGlkYXRpb24gd2hlbiBwYXJzaW5nIGV2ZW50cyBmcm9tIHRoZSBzZXJ2ZXIuXG5leHBvcnQgY29uc3QgcmVhbHRpbWVSZXNwb25zZSA9IHoub2JqZWN0KHtcbiAgICBpZDogei5zdHJpbmcoKS5vcHRpb25hbCgpLm51bGxhYmxlKCksXG4gICAgY29udmVyc2F0aW9uX2lkOiB6LnN0cmluZygpLm9wdGlvbmFsKCkubnVsbGFibGUoKSxcbiAgICBtYXhfb3V0cHV0X3Rva2Vuczogei5udW1iZXIoKS5vcih6LmxpdGVyYWwoJ2luZicpKS5vcHRpb25hbCgpLm51bGxhYmxlKCksXG4gICAgbWV0YWRhdGE6IHoucmVjb3JkKHouc3RyaW5nKCksIHouYW55KCkpLm9wdGlvbmFsKCkubnVsbGFibGUoKSxcbiAgICAvLyBHQSByZW5hbWU6IG1vZGFsaXRpZXMgLT4gb3V0cHV0X21vZGFsaXRpZXNcbiAgICBvdXRwdXRfbW9kYWxpdGllczogei5hcnJheSh6LnN0cmluZygpKS5vcHRpb25hbCgpLm51bGxhYmxlKCksXG4gICAgb2JqZWN0OiB6LmxpdGVyYWwoJ3JlYWx0aW1lLnJlc3BvbnNlJykub3B0aW9uYWwoKS5udWxsYWJsZSgpLFxuICAgIG91dHB1dDogei5hcnJheSh6LmFueSgpKS5vcHRpb25hbCgpLm51bGxhYmxlKCksXG4gICAgLy8gR0EgZ3JvdXBpbmc6IGF1ZGlvLm91dHB1dC57Zm9ybWF0LHZvaWNlfVxuICAgIGF1ZGlvOiB6XG4gICAgICAgIC5vYmplY3Qoe1xuICAgICAgICBvdXRwdXQ6IHpcbiAgICAgICAgICAgIC5vYmplY3Qoe1xuICAgICAgICAgICAgZm9ybWF0OiB6LmFueSgpLm9wdGlvbmFsKCkubnVsbGFibGUoKSxcbiAgICAgICAgICAgIHZvaWNlOiB6LnN0cmluZygpLm9wdGlvbmFsKCkubnVsbGFibGUoKSxcbiAgICAgICAgfSlcbiAgICAgICAgICAgIC5vcHRpb25hbCgpXG4gICAgICAgICAgICAubnVsbGFibGUoKSxcbiAgICB9KVxuICAgICAgICAub3B0aW9uYWwoKVxuICAgICAgICAubnVsbGFibGUoKSxcbiAgICBzdGF0dXM6IHpcbiAgICAgICAgLmVudW0oWydjb21wbGV0ZWQnLCAnaW5jb21wbGV0ZScsICdmYWlsZWQnLCAnY2FuY2VsbGVkJywgJ2luX3Byb2dyZXNzJ10pXG4gICAgICAgIC5vcHRpb25hbCgpXG4gICAgICAgIC5udWxsYWJsZSgpLFxuICAgIHN0YXR1c19kZXRhaWxzOiB6LnJlY29yZCh6LnN0cmluZygpLCB6LmFueSgpKS5vcHRpb25hbCgpLm51bGxhYmxlKCksXG4gICAgdXNhZ2U6IHpcbiAgICAgICAgLm9iamVjdCh7XG4gICAgICAgIGlucHV0X3Rva2Vuczogei5udW1iZXIoKS5vcHRpb25hbCgpLFxuICAgICAgICBpbnB1dF90b2tlbl9kZXRhaWxzOiB6LnJlY29yZCh6LnN0cmluZygpLCB6LmFueSgpKS5vcHRpb25hbCgpLm51bGxhYmxlKCksXG4gICAgICAgIG91dHB1dF90b2tlbnM6IHoubnVtYmVyKCkub3B0aW9uYWwoKSxcbiAgICAgICAgb3V0cHV0X3Rva2VuX2RldGFpbHM6IHoucmVjb3JkKHouc3RyaW5nKCksIHouYW55KCkpLm9wdGlvbmFsKCkubnVsbGFibGUoKSxcbiAgICB9KVxuICAgICAgICAub3B0aW9uYWwoKVxuICAgICAgICAubnVsbGFibGUoKSxcbn0pO1xuLy8gQmFzaWMgY29udGVudCBzY2hlbWEgdXNlZCBieSBDb252ZXJzYXRpb25JdGVtLlxuZXhwb3J0IGNvbnN0IGNvbnZlcnNhdGlvbkl0ZW1Db250ZW50U2NoZW1hID0gei5vYmplY3Qoe1xuICAgIGlkOiB6LnN0cmluZygpLm9wdGlvbmFsKCksXG4gICAgYXVkaW86IHouc3RyaW5nKCkubnVsbGFibGUoKS5vcHRpb25hbCgpLFxuICAgIHRleHQ6IHouc3RyaW5nKCkubnVsbGFibGUoKS5vcHRpb25hbCgpLFxuICAgIHRyYW5zY3JpcHQ6IHouc3RyaW5nKCkubnVsbGFibGUoKS5vcHRpb25hbCgpLFxuICAgIHR5cGU6IHoudW5pb24oW1xuICAgICAgICB6LmxpdGVyYWwoJ2lucHV0X3RleHQnKSxcbiAgICAgICAgei5saXRlcmFsKCdpbnB1dF9hdWRpbycpLFxuICAgICAgICB6LmxpdGVyYWwoJ2l0ZW1fcmVmZXJlbmNlJyksXG4gICAgICAgIHoubGl0ZXJhbCgnb3V0cHV0X3RleHQnKSxcbiAgICAgICAgei5saXRlcmFsKCdvdXRwdXRfYXVkaW8nKSxcbiAgICBdKSxcbn0pO1xuZXhwb3J0IGNvbnN0IGNvbnZlcnNhdGlvbkl0ZW1TY2hlbWEgPSB6XG4gICAgLm9iamVjdCh7XG4gICAgaWQ6IHouc3RyaW5nKCkub3B0aW9uYWwoKSxcbiAgICBhcmd1bWVudHM6IHouc3RyaW5nKCkub3B0aW9uYWwoKSxcbiAgICBjYWxsX2lkOiB6LnN0cmluZygpLm9wdGlvbmFsKCksXG4gICAgY29udGVudDogei5hcnJheShjb252ZXJzYXRpb25JdGVtQ29udGVudFNjaGVtYSkub3B0aW9uYWwoKSxcbiAgICBuYW1lOiB6LnN0cmluZygpLm9wdGlvbmFsKCksXG4gICAgb3V0cHV0OiB6LnN0cmluZygpLm51bGxhYmxlKCkub3B0aW9uYWwoKSxcbiAgICByb2xlOiB6LmVudW0oWyd1c2VyJywgJ2Fzc2lzdGFudCcsICdzeXN0ZW0nXSkub3B0aW9uYWwoKSxcbiAgICBzdGF0dXM6IHouZW51bShbJ2NvbXBsZXRlZCcsICdpbmNvbXBsZXRlJywgJ2luX3Byb2dyZXNzJ10pLm9wdGlvbmFsKCksXG4gICAgdHlwZTogelxuICAgICAgICAuZW51bShbXG4gICAgICAgICdtZXNzYWdlJyxcbiAgICAgICAgJ2Z1bmN0aW9uX2NhbGwnLFxuICAgICAgICAnZnVuY3Rpb25fY2FsbF9vdXRwdXQnLFxuICAgICAgICAnbWNwX2xpc3RfdG9vbHMnLFxuICAgICAgICAnbWNwX3Rvb2xfY2FsbCcsXG4gICAgICAgICdtY3BfY2FsbCcsXG4gICAgICAgICdtY3BfYXBwcm92YWxfcmVxdWVzdCcsXG4gICAgICAgICdtY3BfYXBwcm92YWxfcmVzcG9uc2UnLFxuICAgIF0pXG4gICAgICAgIC5vcHRpb25hbCgpLFxuICAgIGFwcHJvdmFsX3JlcXVlc3RfaWQ6IHouc3RyaW5nKCkubnVsbGFibGUoKS5vcHRpb25hbCgpLFxuICAgIGFwcHJvdmU6IHouYm9vbGVhbigpLm51bGxhYmxlKCkub3B0aW9uYWwoKSxcbiAgICByZWFzb246IHouc3RyaW5nKCkubnVsbGFibGUoKS5vcHRpb25hbCgpLFxuICAgIHNlcnZlcl9sYWJlbDogei5zdHJpbmcoKS5vcHRpb25hbCgpLFxuICAgIGVycm9yOiB6LmFueSgpLm51bGxhYmxlKCkub3B0aW9uYWwoKSxcbiAgICB0b29sczogelxuICAgICAgICAuYXJyYXkoelxuICAgICAgICAub2JqZWN0KHtcbiAgICAgICAgbmFtZTogei5zdHJpbmcoKSxcbiAgICAgICAgZGVzY3JpcHRpb246IHouc3RyaW5nKCksXG4gICAgICAgIGlucHV0X3NjaGVtYTogei5yZWNvcmQoei5hbnkoKSkub3B0aW9uYWwoKSxcbiAgICB9KVxuICAgICAgICAucGFzc3Rocm91Z2goKSlcbiAgICAgICAgLm9wdGlvbmFsKCksXG59KVxuICAgIC5wYXNzdGhyb3VnaCgpO1xuZXhwb3J0IGNvbnN0IGNvbnZlcnNhdGlvbkNyZWF0ZWRFdmVudFNjaGVtYSA9IHoub2JqZWN0KHtcbiAgICB0eXBlOiB6LmxpdGVyYWwoJ2NvbnZlcnNhdGlvbi5jcmVhdGVkJyksXG4gICAgZXZlbnRfaWQ6IHouc3RyaW5nKCksXG4gICAgY29udmVyc2F0aW9uOiB6Lm9iamVjdCh7XG4gICAgICAgIGlkOiB6LnN0cmluZygpLm9wdGlvbmFsKCksXG4gICAgICAgIG9iamVjdDogei5saXRlcmFsKCdyZWFsdGltZS5jb252ZXJzYXRpb24nKS5vcHRpb25hbCgpLFxuICAgIH0pLFxufSk7XG4vLyBHQSByZW5hbWU6IGNvbnZlcnNhdGlvbi5pdGVtLmNyZWF0ZWQgLT4gY29udmVyc2F0aW9uLml0ZW0uYWRkZWRcbmV4cG9ydCBjb25zdCBjb252ZXJzYXRpb25JdGVtQWRkZWRFdmVudFNjaGVtYSA9IHoub2JqZWN0KHtcbiAgICB0eXBlOiB6LmxpdGVyYWwoJ2NvbnZlcnNhdGlvbi5pdGVtLmFkZGVkJyksXG4gICAgZXZlbnRfaWQ6IHouc3RyaW5nKCksXG4gICAgaXRlbTogY29udmVyc2F0aW9uSXRlbVNjaGVtYSxcbiAgICBwcmV2aW91c19pdGVtX2lkOiB6LnN0cmluZygpLm51bGxhYmxlKCkub3B0aW9uYWwoKSxcbn0pO1xuLy8gR0EgYWRkaXRpb246IGNvbnZlcnNhdGlvbi5pdGVtLmRvbmVcbmV4cG9ydCBjb25zdCBjb252ZXJzYXRpb25JdGVtRG9uZUV2ZW50U2NoZW1hID0gei5vYmplY3Qoe1xuICAgIHR5cGU6IHoubGl0ZXJhbCgnY29udmVyc2F0aW9uLml0ZW0uZG9uZScpLFxuICAgIGV2ZW50X2lkOiB6LnN0cmluZygpLFxuICAgIGl0ZW06IGNvbnZlcnNhdGlvbkl0ZW1TY2hlbWEsXG4gICAgcHJldmlvdXNfaXRlbV9pZDogei5zdHJpbmcoKS5udWxsYWJsZSgpLm9wdGlvbmFsKCksXG59KTtcbmV4cG9ydCBjb25zdCBjb252ZXJzYXRpb25JdGVtRGVsZXRlZEV2ZW50U2NoZW1hID0gei5vYmplY3Qoe1xuICAgIHR5cGU6IHoubGl0ZXJhbCgnY29udmVyc2F0aW9uLml0ZW0uZGVsZXRlZCcpLFxuICAgIGV2ZW50X2lkOiB6LnN0cmluZygpLFxuICAgIGl0ZW1faWQ6IHouc3RyaW5nKCksXG59KTtcbmV4cG9ydCBjb25zdCBjb252ZXJzYXRpb25JdGVtSW5wdXRBdWRpb1RyYW5zY3JpcHRpb25Db21wbGV0ZWRFdmVudFNjaGVtYSA9IHoub2JqZWN0KHtcbiAgICB0eXBlOiB6LmxpdGVyYWwoJ2NvbnZlcnNhdGlvbi5pdGVtLmlucHV0X2F1ZGlvX3RyYW5zY3JpcHRpb24uY29tcGxldGVkJyksXG4gICAgZXZlbnRfaWQ6IHouc3RyaW5nKCksXG4gICAgaXRlbV9pZDogei5zdHJpbmcoKSxcbiAgICBjb250ZW50X2luZGV4OiB6Lm51bWJlcigpLFxuICAgIHRyYW5zY3JpcHQ6IHouc3RyaW5nKCksXG4gICAgbG9ncHJvYnM6IHouYXJyYXkoei5hbnkoKSkubnVsbGFibGUoKS5vcHRpb25hbCgpLFxufSk7XG5leHBvcnQgY29uc3QgY29udmVyc2F0aW9uSXRlbUlucHV0QXVkaW9UcmFuc2NyaXB0aW9uRGVsdGFFdmVudFNjaGVtYSA9IHoub2JqZWN0KHtcbiAgICB0eXBlOiB6LmxpdGVyYWwoJ2NvbnZlcnNhdGlvbi5pdGVtLmlucHV0X2F1ZGlvX3RyYW5zY3JpcHRpb24uZGVsdGEnKSxcbiAgICBldmVudF9pZDogei5zdHJpbmcoKSxcbiAgICBpdGVtX2lkOiB6LnN0cmluZygpLFxuICAgIGNvbnRlbnRfaW5kZXg6IHoubnVtYmVyKCkub3B0aW9uYWwoKSxcbiAgICBkZWx0YTogei5zdHJpbmcoKS5vcHRpb25hbCgpLFxuICAgIGxvZ3Byb2JzOiB6LmFycmF5KHouYW55KCkpLm51bGxhYmxlKCkub3B0aW9uYWwoKSxcbn0pO1xuZXhwb3J0IGNvbnN0IGNvbnZlcnNhdGlvbkl0ZW1JbnB1dEF1ZGlvVHJhbnNjcmlwdGlvbkZhaWxlZEV2ZW50U2NoZW1hID0gei5vYmplY3Qoe1xuICAgIHR5cGU6IHoubGl0ZXJhbCgnY29udmVyc2F0aW9uLml0ZW0uaW5wdXRfYXVkaW9fdHJhbnNjcmlwdGlvbi5mYWlsZWQnKSxcbiAgICBldmVudF9pZDogei5zdHJpbmcoKSxcbiAgICBpdGVtX2lkOiB6LnN0cmluZygpLFxuICAgIGNvbnRlbnRfaW5kZXg6IHoubnVtYmVyKCksXG4gICAgZXJyb3I6IHoub2JqZWN0KHtcbiAgICAgICAgY29kZTogei5zdHJpbmcoKS5vcHRpb25hbCgpLFxuICAgICAgICBtZXNzYWdlOiB6LnN0cmluZygpLm9wdGlvbmFsKCksXG4gICAgICAgIHBhcmFtOiB6LnN0cmluZygpLm9wdGlvbmFsKCksXG4gICAgICAgIHR5cGU6IHouc3RyaW5nKCkub3B0aW9uYWwoKSxcbiAgICB9KSxcbn0pO1xuZXhwb3J0IGNvbnN0IGNvbnZlcnNhdGlvbkl0ZW1SZXRyaWV2ZWRFdmVudFNjaGVtYSA9IHoub2JqZWN0KHtcbiAgICB0eXBlOiB6LmxpdGVyYWwoJ2NvbnZlcnNhdGlvbi5pdGVtLnJldHJpZXZlZCcpLFxuICAgIGV2ZW50X2lkOiB6LnN0cmluZygpLFxuICAgIGl0ZW06IGNvbnZlcnNhdGlvbkl0ZW1TY2hlbWEsXG59KTtcbmV4cG9ydCBjb25zdCBjb252ZXJzYXRpb25JdGVtVHJ1bmNhdGVkRXZlbnRTY2hlbWEgPSB6Lm9iamVjdCh7XG4gICAgdHlwZTogei5saXRlcmFsKCdjb252ZXJzYXRpb24uaXRlbS50cnVuY2F0ZWQnKSxcbiAgICBldmVudF9pZDogei5zdHJpbmcoKSxcbiAgICBpdGVtX2lkOiB6LnN0cmluZygpLFxuICAgIGF1ZGlvX2VuZF9tczogei5udW1iZXIoKSxcbiAgICBjb250ZW50X2luZGV4OiB6Lm51bWJlcigpLFxufSk7XG5leHBvcnQgY29uc3QgY29udmVyc2F0aW9uSXRlbUNyZWF0ZUV2ZW50U2NoZW1hID0gei5vYmplY3Qoe1xuICAgIHR5cGU6IHoubGl0ZXJhbCgnY29udmVyc2F0aW9uLml0ZW0uY3JlYXRlJyksXG4gICAgaXRlbTogY29udmVyc2F0aW9uSXRlbVNjaGVtYSxcbiAgICBldmVudF9pZDogei5zdHJpbmcoKS5vcHRpb25hbCgpLFxuICAgIHByZXZpb3VzX2l0ZW1faWQ6IHouc3RyaW5nKCkubnVsbGFibGUoKS5vcHRpb25hbCgpLFxufSk7XG5leHBvcnQgY29uc3QgY29udmVyc2F0aW9uSXRlbURlbGV0ZUV2ZW50U2NoZW1hID0gei5vYmplY3Qoe1xuICAgIHR5cGU6IHoubGl0ZXJhbCgnY29udmVyc2F0aW9uLml0ZW0uZGVsZXRlJyksXG4gICAgaXRlbV9pZDogei5zdHJpbmcoKSxcbiAgICBldmVudF9pZDogei5zdHJpbmcoKS5vcHRpb25hbCgpLFxufSk7XG5leHBvcnQgY29uc3QgY29udmVyc2F0aW9uSXRlbVJldHJpZXZlRXZlbnRTY2hlbWEgPSB6Lm9iamVjdCh7XG4gICAgdHlwZTogei5saXRlcmFsKCdjb252ZXJzYXRpb24uaXRlbS5yZXRyaWV2ZScpLFxuICAgIGl0ZW1faWQ6IHouc3RyaW5nKCksXG4gICAgZXZlbnRfaWQ6IHouc3RyaW5nKCkub3B0aW9uYWwoKSxcbn0pO1xuZXhwb3J0IGNvbnN0IGNvbnZlcnNhdGlvbkl0ZW1UcnVuY2F0ZUV2ZW50U2NoZW1hID0gei5vYmplY3Qoe1xuICAgIHR5cGU6IHoubGl0ZXJhbCgnY29udmVyc2F0aW9uLml0ZW0udHJ1bmNhdGUnKSxcbiAgICBpdGVtX2lkOiB6LnN0cmluZygpLFxuICAgIGF1ZGlvX2VuZF9tczogei5udW1iZXIoKSxcbiAgICBjb250ZW50X2luZGV4OiB6Lm51bWJlcigpLFxuICAgIGV2ZW50X2lkOiB6LnN0cmluZygpLm9wdGlvbmFsKCksXG59KTtcbmV4cG9ydCBjb25zdCBlcnJvckV2ZW50U2NoZW1hID0gei5vYmplY3Qoe1xuICAgIHR5cGU6IHoubGl0ZXJhbCgnZXJyb3InKSxcbiAgICBldmVudF9pZDogei5zdHJpbmcoKS5vcHRpb25hbCgpLFxuICAgIGVycm9yOiB6LmFueSgpLm9wdGlvbmFsKCksXG59KTtcbmV4cG9ydCBjb25zdCBpbnB1dEF1ZGlvQnVmZmVyQ2xlYXJlZEV2ZW50U2NoZW1hID0gei5vYmplY3Qoe1xuICAgIHR5cGU6IHoubGl0ZXJhbCgnaW5wdXRfYXVkaW9fYnVmZmVyLmNsZWFyZWQnKSxcbiAgICBldmVudF9pZDogei5zdHJpbmcoKSxcbn0pO1xuZXhwb3J0IGNvbnN0IGlucHV0QXVkaW9CdWZmZXJBcHBlbmRFdmVudFNjaGVtYSA9IHoub2JqZWN0KHtcbiAgICB0eXBlOiB6LmxpdGVyYWwoJ2lucHV0X2F1ZGlvX2J1ZmZlci5hcHBlbmQnKSxcbiAgICBhdWRpbzogei5zdHJpbmcoKSxcbiAgICBldmVudF9pZDogei5zdHJpbmcoKS5vcHRpb25hbCgpLFxufSk7XG5leHBvcnQgY29uc3QgaW5wdXRBdWRpb0J1ZmZlckNsZWFyRXZlbnRTY2hlbWEgPSB6Lm9iamVjdCh7XG4gICAgdHlwZTogei5saXRlcmFsKCdpbnB1dF9hdWRpb19idWZmZXIuY2xlYXInKSxcbiAgICBldmVudF9pZDogei5zdHJpbmcoKS5vcHRpb25hbCgpLFxufSk7XG5leHBvcnQgY29uc3QgaW5wdXRBdWRpb0J1ZmZlckNvbW1pdEV2ZW50U2NoZW1hID0gei5vYmplY3Qoe1xuICAgIHR5cGU6IHoubGl0ZXJhbCgnaW5wdXRfYXVkaW9fYnVmZmVyLmNvbW1pdCcpLFxuICAgIGV2ZW50X2lkOiB6LnN0cmluZygpLm9wdGlvbmFsKCksXG59KTtcbmV4cG9ydCBjb25zdCBpbnB1dEF1ZGlvQnVmZmVyQ29tbWl0dGVkRXZlbnRTY2hlbWEgPSB6Lm9iamVjdCh7XG4gICAgdHlwZTogei5saXRlcmFsKCdpbnB1dF9hdWRpb19idWZmZXIuY29tbWl0dGVkJyksXG4gICAgZXZlbnRfaWQ6IHouc3RyaW5nKCksXG4gICAgaXRlbV9pZDogei5zdHJpbmcoKSxcbiAgICBwcmV2aW91c19pdGVtX2lkOiB6LnN0cmluZygpLm51bGxhYmxlKCkub3B0aW9uYWwoKSxcbn0pO1xuZXhwb3J0IGNvbnN0IGlucHV0QXVkaW9CdWZmZXJTcGVlY2hTdGFydGVkRXZlbnRTY2hlbWEgPSB6Lm9iamVjdCh7XG4gICAgdHlwZTogei5saXRlcmFsKCdpbnB1dF9hdWRpb19idWZmZXIuc3BlZWNoX3N0YXJ0ZWQnKSxcbiAgICBldmVudF9pZDogei5zdHJpbmcoKSxcbiAgICBpdGVtX2lkOiB6LnN0cmluZygpLFxuICAgIGF1ZGlvX3N0YXJ0X21zOiB6Lm51bWJlcigpLFxufSk7XG5leHBvcnQgY29uc3QgaW5wdXRBdWRpb0J1ZmZlclNwZWVjaFN0b3BwZWRFdmVudFNjaGVtYSA9IHoub2JqZWN0KHtcbiAgICB0eXBlOiB6LmxpdGVyYWwoJ2lucHV0X2F1ZGlvX2J1ZmZlci5zcGVlY2hfc3RvcHBlZCcpLFxuICAgIGV2ZW50X2lkOiB6LnN0cmluZygpLFxuICAgIGl0ZW1faWQ6IHouc3RyaW5nKCksXG4gICAgYXVkaW9fZW5kX21zOiB6Lm51bWJlcigpLFxufSk7XG5leHBvcnQgY29uc3Qgb3V0cHV0QXVkaW9CdWZmZXJTdGFydGVkRXZlbnRTY2hlbWEgPSB6XG4gICAgLm9iamVjdCh7XG4gICAgdHlwZTogei5saXRlcmFsKCdvdXRwdXRfYXVkaW9fYnVmZmVyLnN0YXJ0ZWQnKSxcbiAgICBldmVudF9pZDogei5zdHJpbmcoKSxcbn0pXG4gICAgLnBhc3N0aHJvdWdoKCk7XG5leHBvcnQgY29uc3Qgb3V0cHV0QXVkaW9CdWZmZXJTdG9wcGVkRXZlbnRTY2hlbWEgPSB6XG4gICAgLm9iamVjdCh7XG4gICAgdHlwZTogei5saXRlcmFsKCdvdXRwdXRfYXVkaW9fYnVmZmVyLnN0b3BwZWQnKSxcbiAgICBldmVudF9pZDogei5zdHJpbmcoKSxcbn0pXG4gICAgLnBhc3N0aHJvdWdoKCk7XG5leHBvcnQgY29uc3Qgb3V0cHV0QXVkaW9CdWZmZXJDbGVhcmVkRXZlbnRTY2hlbWEgPSB6Lm9iamVjdCh7XG4gICAgdHlwZTogei5saXRlcmFsKCdvdXRwdXRfYXVkaW9fYnVmZmVyLmNsZWFyZWQnKSxcbiAgICBldmVudF9pZDogei5zdHJpbmcoKSxcbn0pO1xuZXhwb3J0IGNvbnN0IHJhdGVMaW1pdHNVcGRhdGVkRXZlbnRTY2hlbWEgPSB6Lm9iamVjdCh7XG4gICAgdHlwZTogei5saXRlcmFsKCdyYXRlX2xpbWl0cy51cGRhdGVkJyksXG4gICAgZXZlbnRfaWQ6IHouc3RyaW5nKCksXG4gICAgcmF0ZV9saW1pdHM6IHouYXJyYXkoei5vYmplY3Qoe1xuICAgICAgICBsaW1pdDogei5udW1iZXIoKS5vcHRpb25hbCgpLFxuICAgICAgICBuYW1lOiB6LmVudW0oWydyZXF1ZXN0cycsICd0b2tlbnMnXSkub3B0aW9uYWwoKSxcbiAgICAgICAgcmVtYWluaW5nOiB6Lm51bWJlcigpLm9wdGlvbmFsKCksXG4gICAgICAgIHJlc2V0X3NlY29uZHM6IHoubnVtYmVyKCkub3B0aW9uYWwoKSxcbiAgICB9KSksXG59KTtcbmV4cG9ydCBjb25zdCByZXNwb25zZUF1ZGlvRGVsdGFFdmVudFNjaGVtYSA9IHoub2JqZWN0KHtcbiAgICB0eXBlOiB6LmxpdGVyYWwoJ3Jlc3BvbnNlLm91dHB1dF9hdWRpby5kZWx0YScpLFxuICAgIGV2ZW50X2lkOiB6LnN0cmluZygpLFxuICAgIGl0ZW1faWQ6IHouc3RyaW5nKCksXG4gICAgY29udGVudF9pbmRleDogei5udW1iZXIoKSxcbiAgICBkZWx0YTogei5zdHJpbmcoKSxcbiAgICBvdXRwdXRfaW5kZXg6IHoubnVtYmVyKCksXG4gICAgcmVzcG9uc2VfaWQ6IHouc3RyaW5nKCksXG59KTtcbmV4cG9ydCBjb25zdCByZXNwb25zZUF1ZGlvRG9uZUV2ZW50U2NoZW1hID0gei5vYmplY3Qoe1xuICAgIHR5cGU6IHoubGl0ZXJhbCgncmVzcG9uc2Uub3V0cHV0X2F1ZGlvLmRvbmUnKSxcbiAgICBldmVudF9pZDogei5zdHJpbmcoKSxcbiAgICBpdGVtX2lkOiB6LnN0cmluZygpLFxuICAgIGNvbnRlbnRfaW5kZXg6IHoubnVtYmVyKCksXG4gICAgb3V0cHV0X2luZGV4OiB6Lm51bWJlcigpLFxuICAgIHJlc3BvbnNlX2lkOiB6LnN0cmluZygpLFxufSk7XG5leHBvcnQgY29uc3QgcmVzcG9uc2VBdWRpb1RyYW5zY3JpcHREZWx0YUV2ZW50U2NoZW1hID0gei5vYmplY3Qoe1xuICAgIHR5cGU6IHoubGl0ZXJhbCgncmVzcG9uc2Uub3V0cHV0X2F1ZGlvX3RyYW5zY3JpcHQuZGVsdGEnKSxcbiAgICBldmVudF9pZDogei5zdHJpbmcoKSxcbiAgICBpdGVtX2lkOiB6LnN0cmluZygpLFxuICAgIGNvbnRlbnRfaW5kZXg6IHoubnVtYmVyKCksXG4gICAgZGVsdGE6IHouc3RyaW5nKCksXG4gICAgb3V0cHV0X2luZGV4OiB6Lm51bWJlcigpLFxuICAgIHJlc3BvbnNlX2lkOiB6LnN0cmluZygpLFxufSk7XG5leHBvcnQgY29uc3QgcmVzcG9uc2VBdWRpb1RyYW5zY3JpcHREb25lRXZlbnRTY2hlbWEgPSB6Lm9iamVjdCh7XG4gICAgLy8gIEdBIG1heSBpbnRyb2R1Y2UgcmVzcG9uc2Uub3V0cHV0X2F1ZGlvX3RyYW5zY3JpcHQuZG9uZVxuICAgIHR5cGU6IHoubGl0ZXJhbCgncmVzcG9uc2Uub3V0cHV0X2F1ZGlvX3RyYW5zY3JpcHQuZG9uZScpLFxuICAgIGV2ZW50X2lkOiB6LnN0cmluZygpLFxuICAgIGl0ZW1faWQ6IHouc3RyaW5nKCksXG4gICAgY29udGVudF9pbmRleDogei5udW1iZXIoKSxcbiAgICB0cmFuc2NyaXB0OiB6LnN0cmluZygpLFxuICAgIG91dHB1dF9pbmRleDogei5udW1iZXIoKSxcbiAgICByZXNwb25zZV9pZDogei5zdHJpbmcoKSxcbn0pO1xuZXhwb3J0IGNvbnN0IHJlc3BvbnNlQ29udGVudFBhcnRBZGRlZEV2ZW50U2NoZW1hID0gei5vYmplY3Qoe1xuICAgIHR5cGU6IHoubGl0ZXJhbCgncmVzcG9uc2UuY29udGVudF9wYXJ0LmFkZGVkJyksXG4gICAgZXZlbnRfaWQ6IHouc3RyaW5nKCksXG4gICAgaXRlbV9pZDogei5zdHJpbmcoKSxcbiAgICBjb250ZW50X2luZGV4OiB6Lm51bWJlcigpLFxuICAgIG91dHB1dF9pbmRleDogei5udW1iZXIoKSxcbiAgICByZXNwb25zZV9pZDogei5zdHJpbmcoKSxcbiAgICBwYXJ0OiB6Lm9iamVjdCh7XG4gICAgICAgIGF1ZGlvOiB6LnN0cmluZygpLm9wdGlvbmFsKCksXG4gICAgICAgIHRleHQ6IHouc3RyaW5nKCkub3B0aW9uYWwoKSxcbiAgICAgICAgdHJhbnNjcmlwdDogei5zdHJpbmcoKS5vcHRpb25hbCgpLFxuICAgICAgICB0eXBlOiB6LmVudW0oWyd0ZXh0JywgJ2F1ZGlvJ10pLm9wdGlvbmFsKCksXG4gICAgfSksXG59KTtcbmV4cG9ydCBjb25zdCByZXNwb25zZUNvbnRlbnRQYXJ0RG9uZUV2ZW50U2NoZW1hID0gei5vYmplY3Qoe1xuICAgIHR5cGU6IHoubGl0ZXJhbCgncmVzcG9uc2UuY29udGVudF9wYXJ0LmRvbmUnKSxcbiAgICBldmVudF9pZDogei5zdHJpbmcoKSxcbiAgICBpdGVtX2lkOiB6LnN0cmluZygpLFxuICAgIGNvbnRlbnRfaW5kZXg6IHoubnVtYmVyKCksXG4gICAgb3V0cHV0X2luZGV4OiB6Lm51bWJlcigpLFxuICAgIHJlc3BvbnNlX2lkOiB6LnN0cmluZygpLFxuICAgIHBhcnQ6IHoub2JqZWN0KHtcbiAgICAgICAgYXVkaW86IHouc3RyaW5nKCkub3B0aW9uYWwoKSxcbiAgICAgICAgdGV4dDogei5zdHJpbmcoKS5vcHRpb25hbCgpLFxuICAgICAgICB0cmFuc2NyaXB0OiB6LnN0cmluZygpLm9wdGlvbmFsKCksXG4gICAgICAgIHR5cGU6IHouZW51bShbJ3RleHQnLCAnYXVkaW8nXSkub3B0aW9uYWwoKSxcbiAgICB9KSxcbn0pO1xuZXhwb3J0IGNvbnN0IHJlc3BvbnNlQ3JlYXRlZEV2ZW50U2NoZW1hID0gei5vYmplY3Qoe1xuICAgIHR5cGU6IHoubGl0ZXJhbCgncmVzcG9uc2UuY3JlYXRlZCcpLFxuICAgIGV2ZW50X2lkOiB6LnN0cmluZygpLFxuICAgIHJlc3BvbnNlOiByZWFsdGltZVJlc3BvbnNlLFxufSk7XG5leHBvcnQgY29uc3QgcmVzcG9uc2VEb25lRXZlbnRTY2hlbWEgPSB6Lm9iamVjdCh7XG4gICAgdHlwZTogei5saXRlcmFsKCdyZXNwb25zZS5kb25lJyksXG4gICAgZXZlbnRfaWQ6IHouc3RyaW5nKCksXG4gICAgcmVzcG9uc2U6IHJlYWx0aW1lUmVzcG9uc2UsXG59KTtcbmV4cG9ydCBjb25zdCByZXNwb25zZUZ1bmN0aW9uQ2FsbEFyZ3VtZW50c0RlbHRhRXZlbnRTY2hlbWEgPSB6Lm9iamVjdCh7XG4gICAgdHlwZTogei5saXRlcmFsKCdyZXNwb25zZS5mdW5jdGlvbl9jYWxsX2FyZ3VtZW50cy5kZWx0YScpLFxuICAgIGV2ZW50X2lkOiB6LnN0cmluZygpLFxuICAgIGl0ZW1faWQ6IHouc3RyaW5nKCksXG4gICAgY2FsbF9pZDogei5zdHJpbmcoKSxcbiAgICBkZWx0YTogei5zdHJpbmcoKSxcbiAgICBvdXRwdXRfaW5kZXg6IHoubnVtYmVyKCksXG4gICAgcmVzcG9uc2VfaWQ6IHouc3RyaW5nKCksXG59KTtcbmV4cG9ydCBjb25zdCByZXNwb25zZUZ1bmN0aW9uQ2FsbEFyZ3VtZW50c0RvbmVFdmVudFNjaGVtYSA9IHoub2JqZWN0KHtcbiAgICB0eXBlOiB6LmxpdGVyYWwoJ3Jlc3BvbnNlLmZ1bmN0aW9uX2NhbGxfYXJndW1lbnRzLmRvbmUnKSxcbiAgICBldmVudF9pZDogei5zdHJpbmcoKSxcbiAgICBpdGVtX2lkOiB6LnN0cmluZygpLFxuICAgIGNhbGxfaWQ6IHouc3RyaW5nKCksXG4gICAgYXJndW1lbnRzOiB6LnN0cmluZygpLFxuICAgIG91dHB1dF9pbmRleDogei5udW1iZXIoKSxcbiAgICByZXNwb25zZV9pZDogei5zdHJpbmcoKSxcbn0pO1xuZXhwb3J0IGNvbnN0IHJlc3BvbnNlT3V0cHV0SXRlbUFkZGVkRXZlbnRTY2hlbWEgPSB6Lm9iamVjdCh7XG4gICAgdHlwZTogei5saXRlcmFsKCdyZXNwb25zZS5vdXRwdXRfaXRlbS5hZGRlZCcpLFxuICAgIGV2ZW50X2lkOiB6LnN0cmluZygpLFxuICAgIGl0ZW06IGNvbnZlcnNhdGlvbkl0ZW1TY2hlbWEsXG4gICAgb3V0cHV0X2luZGV4OiB6Lm51bWJlcigpLFxuICAgIHJlc3BvbnNlX2lkOiB6LnN0cmluZygpLFxufSk7XG5leHBvcnQgY29uc3QgcmVzcG9uc2VPdXRwdXRJdGVtRG9uZUV2ZW50U2NoZW1hID0gei5vYmplY3Qoe1xuICAgIHR5cGU6IHoubGl0ZXJhbCgncmVzcG9uc2Uub3V0cHV0X2l0ZW0uZG9uZScpLFxuICAgIGV2ZW50X2lkOiB6LnN0cmluZygpLFxuICAgIGl0ZW06IGNvbnZlcnNhdGlvbkl0ZW1TY2hlbWEsXG4gICAgb3V0cHV0X2luZGV4OiB6Lm51bWJlcigpLFxuICAgIHJlc3BvbnNlX2lkOiB6LnN0cmluZygpLFxufSk7XG5leHBvcnQgY29uc3QgcmVzcG9uc2VUZXh0RGVsdGFFdmVudFNjaGVtYSA9IHoub2JqZWN0KHtcbiAgICB0eXBlOiB6LmxpdGVyYWwoJ3Jlc3BvbnNlLm91dHB1dF90ZXh0LmRlbHRhJyksXG4gICAgZXZlbnRfaWQ6IHouc3RyaW5nKCksXG4gICAgaXRlbV9pZDogei5zdHJpbmcoKSxcbiAgICBjb250ZW50X2luZGV4OiB6Lm51bWJlcigpLFxuICAgIGRlbHRhOiB6LnN0cmluZygpLFxuICAgIG91dHB1dF9pbmRleDogei5udW1iZXIoKSxcbiAgICByZXNwb25zZV9pZDogei5zdHJpbmcoKSxcbn0pO1xuZXhwb3J0IGNvbnN0IHJlc3BvbnNlVGV4dERvbmVFdmVudFNjaGVtYSA9IHoub2JqZWN0KHtcbiAgICAvLyBObyByZW5hbWUgc3BlY2lmaWVkIGZvciBkb25lOyBrZWVwIHJlc3BvbnNlLnRleHQuZG9uZVxuICAgIHR5cGU6IHoubGl0ZXJhbCgncmVzcG9uc2Uub3V0cHV0X3RleHQuZG9uZScpLFxuICAgIGV2ZW50X2lkOiB6LnN0cmluZygpLFxuICAgIGl0ZW1faWQ6IHouc3RyaW5nKCksXG4gICAgY29udGVudF9pbmRleDogei5udW1iZXIoKSxcbiAgICB0ZXh0OiB6LnN0cmluZygpLFxuICAgIG91dHB1dF9pbmRleDogei5udW1iZXIoKSxcbiAgICByZXNwb25zZV9pZDogei5zdHJpbmcoKSxcbn0pO1xuZXhwb3J0IGNvbnN0IHNlc3Npb25DcmVhdGVkRXZlbnRTY2hlbWEgPSB6Lm9iamVjdCh7XG4gICAgdHlwZTogei5saXRlcmFsKCdzZXNzaW9uLmNyZWF0ZWQnKSxcbiAgICBldmVudF9pZDogei5zdHJpbmcoKSxcbiAgICBzZXNzaW9uOiB6LmFueSgpLFxufSk7XG5leHBvcnQgY29uc3Qgc2Vzc2lvblVwZGF0ZWRFdmVudFNjaGVtYSA9IHoub2JqZWN0KHtcbiAgICB0eXBlOiB6LmxpdGVyYWwoJ3Nlc3Npb24udXBkYXRlZCcpLFxuICAgIGV2ZW50X2lkOiB6LnN0cmluZygpLFxuICAgIHNlc3Npb246IHouYW55KCksXG59KTtcbmV4cG9ydCBjb25zdCByZXNwb25zZUNhbmNlbEV2ZW50U2NoZW1hID0gei5vYmplY3Qoe1xuICAgIHR5cGU6IHoubGl0ZXJhbCgncmVzcG9uc2UuY2FuY2VsJyksXG4gICAgZXZlbnRfaWQ6IHouc3RyaW5nKCkub3B0aW9uYWwoKSxcbiAgICByZXNwb25zZV9pZDogei5zdHJpbmcoKS5vcHRpb25hbCgpLFxufSk7XG5leHBvcnQgY29uc3QgcmVzcG9uc2VDcmVhdGVFdmVudFNjaGVtYSA9IHoub2JqZWN0KHtcbiAgICB0eXBlOiB6LmxpdGVyYWwoJ3Jlc3BvbnNlLmNyZWF0ZScpLFxuICAgIGV2ZW50X2lkOiB6LnN0cmluZygpLm9wdGlvbmFsKCksXG4gICAgcmVzcG9uc2U6IHouYW55KCkub3B0aW9uYWwoKSxcbn0pO1xuZXhwb3J0IGNvbnN0IHNlc3Npb25VcGRhdGVFdmVudFNjaGVtYSA9IHoub2JqZWN0KHtcbiAgICB0eXBlOiB6LmxpdGVyYWwoJ3Nlc3Npb24udXBkYXRlJyksXG4gICAgZXZlbnRfaWQ6IHouc3RyaW5nKCkub3B0aW9uYWwoKSxcbiAgICBzZXNzaW9uOiB6LmFueSgpLFxufSk7XG5leHBvcnQgY29uc3QgbWNwTGlzdFRvb2xzSW5Qcm9ncmVzc0V2ZW50U2NoZW1hID0gei5vYmplY3Qoe1xuICAgIHR5cGU6IHoubGl0ZXJhbCgnbWNwX2xpc3RfdG9vbHMuaW5fcHJvZ3Jlc3MnKSxcbiAgICBldmVudF9pZDogei5zdHJpbmcoKS5vcHRpb25hbCgpLFxuICAgIGl0ZW1faWQ6IHouc3RyaW5nKCkub3B0aW9uYWwoKSxcbn0pO1xuZXhwb3J0IGNvbnN0IG1jcExpc3RUb29sc0NvbXBsZXRlZEV2ZW50U2NoZW1hID0gei5vYmplY3Qoe1xuICAgIHR5cGU6IHoubGl0ZXJhbCgnbWNwX2xpc3RfdG9vbHMuY29tcGxldGVkJyksXG4gICAgZXZlbnRfaWQ6IHouc3RyaW5nKCkub3B0aW9uYWwoKSxcbiAgICBpdGVtX2lkOiB6LnN0cmluZygpLm9wdGlvbmFsKCksXG59KTtcbmV4cG9ydCBjb25zdCByZXNwb25zZU1jcENhbGxBcmd1bWVudHNEZWx0YUV2ZW50U2NoZW1hID0gei5vYmplY3Qoe1xuICAgIHR5cGU6IHoubGl0ZXJhbCgncmVzcG9uc2UubWNwX2NhbGxfYXJndW1lbnRzLmRlbHRhJyksXG4gICAgZXZlbnRfaWQ6IHouc3RyaW5nKCksXG4gICAgcmVzcG9uc2VfaWQ6IHouc3RyaW5nKCksXG4gICAgaXRlbV9pZDogei5zdHJpbmcoKSxcbiAgICBvdXRwdXRfaW5kZXg6IHoubnVtYmVyKCksXG4gICAgZGVsdGE6IHouc3RyaW5nKCksXG4gICAgb2JmdXNjYXRpb246IHouc3RyaW5nKCksXG59KTtcbmV4cG9ydCBjb25zdCByZXNwb25zZU1jcENhbGxBcmd1bWVudHNEb25lRXZlbnRTY2hlbWEgPSB6Lm9iamVjdCh7XG4gICAgdHlwZTogei5saXRlcmFsKCdyZXNwb25zZS5tY3BfY2FsbF9hcmd1bWVudHMuZG9uZScpLFxuICAgIGV2ZW50X2lkOiB6LnN0cmluZygpLFxuICAgIHJlc3BvbnNlX2lkOiB6LnN0cmluZygpLFxuICAgIGl0ZW1faWQ6IHouc3RyaW5nKCksXG4gICAgb3V0cHV0X2luZGV4OiB6Lm51bWJlcigpLFxuICAgIGFyZ3VtZW50czogei5zdHJpbmcoKSxcbn0pO1xuZXhwb3J0IGNvbnN0IHJlc3BvbnNlTWNwQ2FsbEluUHJvZ3Jlc3NFdmVudFNjaGVtYSA9IHoub2JqZWN0KHtcbiAgICB0eXBlOiB6LmxpdGVyYWwoJ3Jlc3BvbnNlLm1jcF9jYWxsLmluX3Byb2dyZXNzJyksXG4gICAgZXZlbnRfaWQ6IHouc3RyaW5nKCksXG4gICAgb3V0cHV0X2luZGV4OiB6Lm51bWJlcigpLFxuICAgIGl0ZW1faWQ6IHouc3RyaW5nKCksXG59KTtcbmV4cG9ydCBjb25zdCByZXNwb25zZU1jcENhbGxDb21wbGV0ZWRFdmVudFNjaGVtYSA9IHoub2JqZWN0KHtcbiAgICB0eXBlOiB6LmxpdGVyYWwoJ3Jlc3BvbnNlLm1jcF9jYWxsLmNvbXBsZXRlZCcpLFxuICAgIGV2ZW50X2lkOiB6LnN0cmluZygpLFxuICAgIG91dHB1dF9pbmRleDogei5udW1iZXIoKSxcbiAgICBpdGVtX2lkOiB6LnN0cmluZygpLFxufSk7XG5leHBvcnQgY29uc3QgbWNwTGlzdFRvb2xzRmFpbGVkRXZlbnRTY2hlbWEgPSB6Lm9iamVjdCh7XG4gICAgdHlwZTogei5saXRlcmFsKCdtY3BfbGlzdF90b29scy5mYWlsZWQnKSxcbiAgICBldmVudF9pZDogei5zdHJpbmcoKS5vcHRpb25hbCgpLFxuICAgIGl0ZW1faWQ6IHouc3RyaW5nKCkub3B0aW9uYWwoKSxcbn0pO1xuLyoqXG4gKiBUaGlzIHNjaGVtYSBpcyB1c2VkIGlmIGFuIGV2ZW50IGlzIHVua25vd24gdG8gdGhlIGNsaWVudC4gVGhlIFJlYWx0aW1lIEFQSSBtaWdodCBpbnRyb2R1Y2VcbiAqIG5ldyBldmVudHMgYXQgc29tZSBwb2ludCBhbmQgd2Ugc2hvdWxkIGhhbmRsZSB0aGVtIGdyYWNlZnVsbHkgYnkgdHJlYXRpbmcgdGhlbSBhcyBnZW5lcmljIGV2ZW50c1xuICogb25seSByZXF1aXJpbmcgYSB0eXBlIGFuZCBhbiBvcHRpb25hbCBldmVudF9pZC5cbiAqL1xuZXhwb3J0IGNvbnN0IGdlbmVyaWNFdmVudFNjaGVtYSA9IHpcbiAgICAub2JqZWN0KHtcbiAgICB0eXBlOiB6LnN0cmluZygpLFxuICAgIGV2ZW50X2lkOiB6LnN0cmluZygpLm9wdGlvbmFsKCkubnVsbGFibGUoKSxcbn0pXG4gICAgLnBhc3N0aHJvdWdoKCk7XG5leHBvcnQgY29uc3QgcmVhbHRpbWVTZXJ2ZXJFdmVudFNjaGVtYSA9IHouZGlzY3JpbWluYXRlZFVuaW9uKCd0eXBlJywgW1xuICAgIGNvbnZlcnNhdGlvbkNyZWF0ZWRFdmVudFNjaGVtYSxcbiAgICBjb252ZXJzYXRpb25JdGVtQWRkZWRFdmVudFNjaGVtYSxcbiAgICBjb252ZXJzYXRpb25JdGVtRG9uZUV2ZW50U2NoZW1hLFxuICAgIGNvbnZlcnNhdGlvbkl0ZW1EZWxldGVkRXZlbnRTY2hlbWEsXG4gICAgY29udmVyc2F0aW9uSXRlbUlucHV0QXVkaW9UcmFuc2NyaXB0aW9uQ29tcGxldGVkRXZlbnRTY2hlbWEsXG4gICAgY29udmVyc2F0aW9uSXRlbUlucHV0QXVkaW9UcmFuc2NyaXB0aW9uRGVsdGFFdmVudFNjaGVtYSxcbiAgICBjb252ZXJzYXRpb25JdGVtSW5wdXRBdWRpb1RyYW5zY3JpcHRpb25GYWlsZWRFdmVudFNjaGVtYSxcbiAgICBjb252ZXJzYXRpb25JdGVtUmV0cmlldmVkRXZlbnRTY2hlbWEsXG4gICAgY29udmVyc2F0aW9uSXRlbVRydW5jYXRlZEV2ZW50U2NoZW1hLFxuICAgIGVycm9yRXZlbnRTY2hlbWEsXG4gICAgaW5wdXRBdWRpb0J1ZmZlckNsZWFyZWRFdmVudFNjaGVtYSxcbiAgICBpbnB1dEF1ZGlvQnVmZmVyQ29tbWl0dGVkRXZlbnRTY2hlbWEsXG4gICAgaW5wdXRBdWRpb0J1ZmZlclNwZWVjaFN0YXJ0ZWRFdmVudFNjaGVtYSxcbiAgICBpbnB1dEF1ZGlvQnVmZmVyU3BlZWNoU3RvcHBlZEV2ZW50U2NoZW1hLFxuICAgIG91dHB1dEF1ZGlvQnVmZmVyU3RhcnRlZEV2ZW50U2NoZW1hLFxuICAgIG91dHB1dEF1ZGlvQnVmZmVyU3RvcHBlZEV2ZW50U2NoZW1hLFxuICAgIG91dHB1dEF1ZGlvQnVmZmVyQ2xlYXJlZEV2ZW50U2NoZW1hLFxuICAgIHJhdGVMaW1pdHNVcGRhdGVkRXZlbnRTY2hlbWEsXG4gICAgcmVzcG9uc2VBdWRpb0RlbHRhRXZlbnRTY2hlbWEsXG4gICAgcmVzcG9uc2VBdWRpb0RvbmVFdmVudFNjaGVtYSxcbiAgICByZXNwb25zZUF1ZGlvVHJhbnNjcmlwdERlbHRhRXZlbnRTY2hlbWEsXG4gICAgcmVzcG9uc2VBdWRpb1RyYW5zY3JpcHREb25lRXZlbnRTY2hlbWEsXG4gICAgcmVzcG9uc2VDb250ZW50UGFydEFkZGVkRXZlbnRTY2hlbWEsXG4gICAgcmVzcG9uc2VDb250ZW50UGFydERvbmVFdmVudFNjaGVtYSxcbiAgICByZXNwb25zZUNyZWF0ZWRFdmVudFNjaGVtYSxcbiAgICByZXNwb25zZURvbmVFdmVudFNjaGVtYSxcbiAgICByZXNwb25zZUZ1bmN0aW9uQ2FsbEFyZ3VtZW50c0RlbHRhRXZlbnRTY2hlbWEsXG4gICAgcmVzcG9uc2VGdW5jdGlvbkNhbGxBcmd1bWVudHNEb25lRXZlbnRTY2hlbWEsXG4gICAgcmVzcG9uc2VPdXRwdXRJdGVtQWRkZWRFdmVudFNjaGVtYSxcbiAgICByZXNwb25zZU91dHB1dEl0ZW1Eb25lRXZlbnRTY2hlbWEsXG4gICAgcmVzcG9uc2VUZXh0RGVsdGFFdmVudFNjaGVtYSxcbiAgICByZXNwb25zZVRleHREb25lRXZlbnRTY2hlbWEsXG4gICAgc2Vzc2lvbkNyZWF0ZWRFdmVudFNjaGVtYSxcbiAgICBzZXNzaW9uVXBkYXRlZEV2ZW50U2NoZW1hLFxuICAgIG1jcExpc3RUb29sc0luUHJvZ3Jlc3NFdmVudFNjaGVtYSxcbiAgICBtY3BMaXN0VG9vbHNDb21wbGV0ZWRFdmVudFNjaGVtYSxcbiAgICBtY3BMaXN0VG9vbHNGYWlsZWRFdmVudFNjaGVtYSxcbiAgICByZXNwb25zZU1jcENhbGxBcmd1bWVudHNEZWx0YUV2ZW50U2NoZW1hLFxuICAgIHJlc3BvbnNlTWNwQ2FsbEFyZ3VtZW50c0RvbmVFdmVudFNjaGVtYSxcbiAgICByZXNwb25zZU1jcENhbGxJblByb2dyZXNzRXZlbnRTY2hlbWEsXG4gICAgcmVzcG9uc2VNY3BDYWxsQ29tcGxldGVkRXZlbnRTY2hlbWEsXG5dKTtcbmV4cG9ydCBjb25zdCByZWFsdGltZUNsaWVudEV2ZW50U2NoZW1hID0gei5kaXNjcmltaW5hdGVkVW5pb24oJ3R5cGUnLCBbXG4gICAgY29udmVyc2F0aW9uSXRlbUNyZWF0ZUV2ZW50U2NoZW1hLFxuICAgIGNvbnZlcnNhdGlvbkl0ZW1EZWxldGVFdmVudFNjaGVtYSxcbiAgICBjb252ZXJzYXRpb25JdGVtUmV0cmlldmVFdmVudFNjaGVtYSxcbiAgICBjb252ZXJzYXRpb25JdGVtVHJ1bmNhdGVFdmVudFNjaGVtYSxcbiAgICBpbnB1dEF1ZGlvQnVmZmVyQXBwZW5kRXZlbnRTY2hlbWEsXG4gICAgaW5wdXRBdWRpb0J1ZmZlckNsZWFyRXZlbnRTY2hlbWEsXG4gICAgaW5wdXRBdWRpb0J1ZmZlckNvbW1pdEV2ZW50U2NoZW1hLFxuICAgIHJlc3BvbnNlQ2FuY2VsRXZlbnRTY2hlbWEsXG4gICAgcmVzcG9uc2VDcmVhdGVFdmVudFNjaGVtYSxcbiAgICBzZXNzaW9uVXBkYXRlRXZlbnRTY2hlbWEsXG5dKTtcbi8qKlxuICogUGFyc2VzIGEgcmVhbHRpbWUgZXZlbnQgZnJvbSB0aGUgc2VydmVyLiBJZiB0aGUgZXZlbnQgaXMgdW5rbm93biB0byB0aGUgY2xpZW50LCBpdCB3aWxsIGJlIHRyZWF0ZWQgYXMgYSBnZW5lcmljIGV2ZW50LlxuICogQHBhcmFtIGV2ZW50IC0gVGhlIGV2ZW50IHRvIHBhcnNlLlxuICogQHJldHVybnMgVGhlIHBhcnNlZCBldmVudCBvciBudWxsIGlmIHRoZSBldmVudCBpcyB1bmtub3duIHRvIHRoZSBjbGllbnQuXG4gKi9cbmV4cG9ydCBmdW5jdGlvbiBwYXJzZVJlYWx0aW1lRXZlbnQoZXZlbnQpIHtcbiAgICBjb25zdCByYXcgPSBKU09OLnBhcnNlKGV2ZW50LmRhdGEudG9TdHJpbmcoKSk7XG4gICAgY29uc3QgcGFyc2VkID0gcmVhbHRpbWVTZXJ2ZXJFdmVudFNjaGVtYS5zYWZlUGFyc2UocmF3KTtcbiAgICBpZiAoIXBhcnNlZC5zdWNjZXNzKSB7XG4gICAgICAgIGNvbnN0IGdlbmVyaWNQYXJzZWQgPSBnZW5lcmljRXZlbnRTY2hlbWEuc2FmZVBhcnNlKHJhdyk7XG4gICAgICAgIGlmIChnZW5lcmljUGFyc2VkLnN1Y2Nlc3MpIHtcbiAgICAgICAgICAgIHJldHVybiB7IGRhdGE6IGdlbmVyaWNQYXJzZWQuZGF0YSwgaXNHZW5lcmljOiB0cnVlIH07XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIHsgZGF0YTogbnVsbCwgaXNHZW5lcmljOiB0cnVlIH07XG4gICAgfVxuICAgIHJldHVybiB7IGRhdGE6IHBhcnNlZC5kYXRhLCBpc0dlbmVyaWM6IGZhbHNlIH07XG59XG4vLyMgc291cmNlTWFwcGluZ1VSTD1vcGVuYWlSZWFsdGltZUV2ZW50cy5tanMubWFwIiwiaW1wb3J0IHsgUnVudGltZUV2ZW50RW1pdHRlciwgVXNhZ2UgfSBmcm9tICdAb3BlbmFpL2FnZW50cy1jb3JlJztcbmltcG9ydCB7IHRvTmV3U2Vzc2lvbkNvbmZpZywgfSBmcm9tIFwiLi9jbGllbnRNZXNzYWdlcy5tanNcIjtcbmltcG9ydCB7IHJlYWx0aW1lTWNwQ2FsbEFwcHJvdmFsUmVxdWVzdEl0ZW0sIHJlYWx0aW1lTWNwQ2FsbEl0ZW0sIHJlYWx0aW1lTWVzc2FnZUl0ZW1TY2hlbWEsIHJlYWx0aW1lVG9vbENhbGxJdGVtLCB9IGZyb20gXCIuL2l0ZW1zLm1qc1wiO1xuaW1wb3J0IGxvZ2dlciBmcm9tIFwiLi9sb2dnZXIubWpzXCI7XG5pbXBvcnQgeyBwYXJzZVJlYWx0aW1lRXZlbnQsIHJlc3BvbnNlRG9uZUV2ZW50U2NoZW1hLCB9IGZyb20gXCIuL29wZW5haVJlYWx0aW1lRXZlbnRzLm1qc1wiO1xuaW1wb3J0IHsgYXJyYXlCdWZmZXJUb0Jhc2U2NCwgZGlmZlJlYWx0aW1lSGlzdG9yeSB9IGZyb20gXCIuL3V0aWxzLm1qc1wiO1xuaW1wb3J0IHsgRXZlbnRFbWl0dGVyRGVsZWdhdGUgfSBmcm9tICdAb3BlbmFpL2FnZW50cy1jb3JlL3V0aWxzJztcbi8qKlxuICogVGhlIGRlZmF1bHQgbW9kZWwgdGhhdCBpcyB1c2VkIGR1cmluZyB0aGUgY29ubmVjdGlvbiBpZiBubyBtb2RlbCBpcyBwcm92aWRlZC5cbiAqL1xuZXhwb3J0IGNvbnN0IERFRkFVTFRfT1BFTkFJX1JFQUxUSU1FX01PREVMID0gJ2dwdC1yZWFsdGltZSc7XG4vKipcbiAqIFRoZSBkZWZhdWx0IHNlc3Npb24gY29uZmlnIHRoYXQgZ2V0cyBzZW5kIG92ZXIgZHVyaW5nIHNlc3Npb24gY29ubmVjdGlvbiB1bmxlc3Mgb3ZlcnJpZGRlblxuICogYnkgdGhlIHVzZXIuXG4gKi9cbmV4cG9ydCBjb25zdCBERUZBVUxUX09QRU5BSV9SRUFMVElNRV9TRVNTSU9OX0NPTkZJRyA9IHtcbiAgICBvdXRwdXRNb2RhbGl0aWVzOiBbJ2F1ZGlvJ10sXG4gICAgYXVkaW86IHtcbiAgICAgICAgaW5wdXQ6IHtcbiAgICAgICAgICAgIGZvcm1hdDogeyB0eXBlOiAnYXVkaW8vcGNtJywgcmF0ZTogMjQwMDAgfSxcbiAgICAgICAgICAgIHRyYW5zY3JpcHRpb246IHsgbW9kZWw6ICdncHQtNG8tbWluaS10cmFuc2NyaWJlJyB9LFxuICAgICAgICAgICAgdHVybkRldGVjdGlvbjogeyB0eXBlOiAnc2VtYW50aWNfdmFkJyB9LFxuICAgICAgICAgICAgbm9pc2VSZWR1Y3Rpb246IG51bGwsXG4gICAgICAgIH0sXG4gICAgICAgIG91dHB1dDoge1xuICAgICAgICAgICAgZm9ybWF0OiB7IHR5cGU6ICdhdWRpby9wY20nLCByYXRlOiAyNDAwMCB9LFxuICAgICAgICAgICAgc3BlZWQ6IDEsXG4gICAgICAgIH0sXG4gICAgfSxcbn07XG5leHBvcnQgY2xhc3MgT3BlbkFJUmVhbHRpbWVCYXNlIGV4dGVuZHMgRXZlbnRFbWl0dGVyRGVsZWdhdGUge1xuICAgICNtb2RlbDtcbiAgICAjYXBpS2V5O1xuICAgICN0cmFjaW5nQ29uZmlnID0gbnVsbDtcbiAgICAjcmF3U2Vzc2lvbkNvbmZpZyA9IG51bGw7XG4gICAgZXZlbnRFbWl0dGVyID0gbmV3IFJ1bnRpbWVFdmVudEVtaXR0ZXIoKTtcbiAgICBjb25zdHJ1Y3RvcihvcHRpb25zID0ge30pIHtcbiAgICAgICAgc3VwZXIoKTtcbiAgICAgICAgdGhpcy4jbW9kZWwgPSBvcHRpb25zLm1vZGVsID8/IERFRkFVTFRfT1BFTkFJX1JFQUxUSU1FX01PREVMO1xuICAgICAgICB0aGlzLiNhcGlLZXkgPSBvcHRpb25zLmFwaUtleTtcbiAgICB9XG4gICAgLyoqXG4gICAgICogVGhlIGN1cnJlbnQgbW9kZWwgdGhhdCBpcyBiZWluZyB1c2VkIGJ5IHRoZSB0cmFuc3BvcnQgbGF5ZXIuXG4gICAgICovXG4gICAgZ2V0IGN1cnJlbnRNb2RlbCgpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuI21vZGVsO1xuICAgIH1cbiAgICAvKipcbiAgICAgKiBUaGUgY3VycmVudCBtb2RlbCB0aGF0IGlzIGJlaW5nIHVzZWQgYnkgdGhlIHRyYW5zcG9ydCBsYXllci5cbiAgICAgKiAqKk5vdGUqKjogVGhlIG1vZGVsIGNhbm5vdCBiZSBjaGFuZ2VkIG1pZCBjb252ZXJzYXRpb24uXG4gICAgICovXG4gICAgc2V0IGN1cnJlbnRNb2RlbChtb2RlbCkge1xuICAgICAgICB0aGlzLiNtb2RlbCA9IG1vZGVsO1xuICAgIH1cbiAgICAvKipcbiAgICAgKiBIb29rIGZvciBzdWJjbGFzc2VzIHRvIGNsZWFuIHVwIHRyYW5zcG9ydC1zcGVjaWZpYyBzdGF0ZSB3aGVuIGF1ZGlvXG4gICAgICogcGxheWJhY2sgZmluaXNoZXMuIERlZmF1bHRzIHRvIGEgbm8tb3AuXG4gICAgICovXG4gICAgX2FmdGVyQXVkaW9Eb25lRXZlbnQoKSB7XG4gICAgICAgIC8vIEludGVudGlvbmFsbHkgZW1wdHkuXG4gICAgfVxuICAgIGdldCBfcmF3U2Vzc2lvbkNvbmZpZygpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuI3Jhd1Nlc3Npb25Db25maWcgPz8gbnVsbDtcbiAgICB9XG4gICAgYXN5bmMgX2dldEFwaUtleShvcHRpb25zKSB7XG4gICAgICAgIGNvbnN0IGFwaUtleSA9IG9wdGlvbnMuYXBpS2V5ID8/IHRoaXMuI2FwaUtleTtcbiAgICAgICAgaWYgKHR5cGVvZiBhcGlLZXkgPT09ICdmdW5jdGlvbicpIHtcbiAgICAgICAgICAgIHJldHVybiBhd2FpdCBhcGlLZXkoKTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gYXBpS2V5O1xuICAgIH1cbiAgICBfb25NZXNzYWdlKGV2ZW50KSB7XG4gICAgICAgIGNvbnN0IHsgZGF0YTogcGFyc2VkLCBpc0dlbmVyaWMgfSA9IHBhcnNlUmVhbHRpbWVFdmVudChldmVudCk7XG4gICAgICAgIGlmIChwYXJzZWQgPT09IG51bGwpIHtcbiAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgfVxuICAgICAgICB0aGlzLmVtaXQoJyonLCBwYXJzZWQpO1xuICAgICAgICBpZiAoaXNHZW5lcmljKSB7XG4gICAgICAgICAgICByZXR1cm47XG4gICAgICAgIH1cbiAgICAgICAgaWYgKHBhcnNlZC50eXBlID09PSAnZXJyb3InKSB7XG4gICAgICAgICAgICB0aGlzLmVtaXQoJ2Vycm9yJywgeyB0eXBlOiAnZXJyb3InLCBlcnJvcjogcGFyc2VkIH0pO1xuICAgICAgICB9XG4gICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgdGhpcy5lbWl0KHBhcnNlZC50eXBlLCBwYXJzZWQpO1xuICAgICAgICB9XG4gICAgICAgIGlmIChwYXJzZWQudHlwZSA9PT0gJ3Jlc3BvbnNlLmNyZWF0ZWQnKSB7XG4gICAgICAgICAgICB0aGlzLmVtaXQoJ3R1cm5fc3RhcnRlZCcsIHtcbiAgICAgICAgICAgICAgICB0eXBlOiAncmVzcG9uc2Vfc3RhcnRlZCcsXG4gICAgICAgICAgICAgICAgcHJvdmlkZXJEYXRhOiB7XG4gICAgICAgICAgICAgICAgICAgIC4uLnBhcnNlZCxcbiAgICAgICAgICAgICAgICB9LFxuICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICByZXR1cm47XG4gICAgICAgIH1cbiAgICAgICAgaWYgKHBhcnNlZC50eXBlID09PSAnc2Vzc2lvbi51cGRhdGVkJykge1xuICAgICAgICAgICAgdGhpcy4jcmF3U2Vzc2lvbkNvbmZpZyA9IHBhcnNlZC5zZXNzaW9uO1xuICAgICAgICB9XG4gICAgICAgIGlmIChwYXJzZWQudHlwZSA9PT0gJ3Jlc3BvbnNlLmRvbmUnKSB7XG4gICAgICAgICAgICBjb25zdCByZXNwb25zZSA9IHJlc3BvbnNlRG9uZUV2ZW50U2NoZW1hLnNhZmVQYXJzZShwYXJzZWQpO1xuICAgICAgICAgICAgaWYgKCFyZXNwb25zZS5zdWNjZXNzKSB7XG4gICAgICAgICAgICAgICAgbG9nZ2VyLmVycm9yKCdFcnJvciBwYXJzaW5nIHJlc3BvbnNlIGRvbmUgZXZlbnQnLCByZXNwb25zZS5lcnJvcik7XG4gICAgICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgY29uc3QgaW5wdXRUb2tlbnMgPSByZXNwb25zZS5kYXRhLnJlc3BvbnNlLnVzYWdlPy5pbnB1dF90b2tlbnMgPz8gMDtcbiAgICAgICAgICAgIGNvbnN0IG91dHB1dFRva2VucyA9IHJlc3BvbnNlLmRhdGEucmVzcG9uc2UudXNhZ2U/Lm91dHB1dF90b2tlbnMgPz8gMDtcbiAgICAgICAgICAgIGNvbnN0IHRvdGFsVG9rZW5zID0gaW5wdXRUb2tlbnMgKyBvdXRwdXRUb2tlbnM7XG4gICAgICAgICAgICBjb25zdCB1c2FnZSA9IG5ldyBVc2FnZSh7XG4gICAgICAgICAgICAgICAgaW5wdXRUb2tlbnMsXG4gICAgICAgICAgICAgICAgaW5wdXRUb2tlbnNEZXRhaWxzOiByZXNwb25zZS5kYXRhLnJlc3BvbnNlLnVzYWdlPy5pbnB1dF90b2tlbl9kZXRhaWxzID8/IHt9LFxuICAgICAgICAgICAgICAgIG91dHB1dFRva2VucyxcbiAgICAgICAgICAgICAgICBvdXRwdXRUb2tlbnNEZXRhaWxzOiByZXNwb25zZS5kYXRhLnJlc3BvbnNlLnVzYWdlPy5vdXRwdXRfdG9rZW5fZGV0YWlscyA/PyB7fSxcbiAgICAgICAgICAgICAgICB0b3RhbFRva2VucyxcbiAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgdGhpcy5lbWl0KCd1c2FnZV91cGRhdGUnLCB1c2FnZSk7XG4gICAgICAgICAgICB0aGlzLmVtaXQoJ3R1cm5fZG9uZScsIHtcbiAgICAgICAgICAgICAgICB0eXBlOiAncmVzcG9uc2VfZG9uZScsXG4gICAgICAgICAgICAgICAgcmVzcG9uc2U6IHtcbiAgICAgICAgICAgICAgICAgICAgaWQ6IHJlc3BvbnNlLmRhdGEucmVzcG9uc2UuaWQgPz8gJycsXG4gICAgICAgICAgICAgICAgICAgIG91dHB1dDogcmVzcG9uc2UuZGF0YS5yZXNwb25zZS5vdXRwdXQgPz8gW10sXG4gICAgICAgICAgICAgICAgICAgIHVzYWdlOiB7XG4gICAgICAgICAgICAgICAgICAgICAgICBpbnB1dFRva2VucyxcbiAgICAgICAgICAgICAgICAgICAgICAgIGlucHV0VG9rZW5zRGV0YWlsczogcmVzcG9uc2UuZGF0YS5yZXNwb25zZS51c2FnZT8uaW5wdXRfdG9rZW5fZGV0YWlscyA/PyB7fSxcbiAgICAgICAgICAgICAgICAgICAgICAgIG91dHB1dFRva2VucyxcbiAgICAgICAgICAgICAgICAgICAgICAgIG91dHB1dFRva2Vuc0RldGFpbHM6IHJlc3BvbnNlLmRhdGEucmVzcG9uc2UudXNhZ2U/Lm91dHB1dF90b2tlbl9kZXRhaWxzID8/IHt9LFxuICAgICAgICAgICAgICAgICAgICAgICAgdG90YWxUb2tlbnMsXG4gICAgICAgICAgICAgICAgICAgIH0sXG4gICAgICAgICAgICAgICAgfSxcbiAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICB9XG4gICAgICAgIGlmIChwYXJzZWQudHlwZSA9PT0gJ3Jlc3BvbnNlLm91dHB1dF9hdWRpby5kb25lJykge1xuICAgICAgICAgICAgdGhpcy5lbWl0KCdhdWRpb19kb25lJyk7XG4gICAgICAgICAgICB0aGlzLl9hZnRlckF1ZGlvRG9uZUV2ZW50KCk7XG4gICAgICAgICAgICByZXR1cm47XG4gICAgICAgIH1cbiAgICAgICAgaWYgKHBhcnNlZC50eXBlID09PSAnY29udmVyc2F0aW9uLml0ZW0uZGVsZXRlZCcpIHtcbiAgICAgICAgICAgIHRoaXMuZW1pdCgnaXRlbV9kZWxldGVkJywge1xuICAgICAgICAgICAgICAgIGl0ZW1JZDogcGFyc2VkLml0ZW1faWQsXG4gICAgICAgICAgICB9KTtcbiAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgfVxuICAgICAgICBpZiAocGFyc2VkLnR5cGUgPT09ICdjb252ZXJzYXRpb24uaXRlbS5pbnB1dF9hdWRpb190cmFuc2NyaXB0aW9uLmNvbXBsZXRlZCcgfHxcbiAgICAgICAgICAgIHBhcnNlZC50eXBlID09PSAnY29udmVyc2F0aW9uLml0ZW0udHJ1bmNhdGVkJykge1xuICAgICAgICAgICAgLy8gcmlnaHQgbm93IHJhdGhlciB0aGFuIGtlZXBpbmcgdHJhY2sgb2YgcGFydGlhbHMgYW5kIHJlYnVpbGRpbmcgdGhlIGl0ZW0gd2VcbiAgICAgICAgICAgIC8vIHdpbGwgcmV0cmlldmUgaXQgaW5zdGVhZCB3aGljaCB0cmlnZ2VycyB0aGUgYGNvbnZlcnNhdGlvbi5pdGVtLnJldHJpZXZlZGAgZXZlbnQgYmVsb3dcbiAgICAgICAgICAgIHRoaXMuc2VuZEV2ZW50KHtcbiAgICAgICAgICAgICAgICB0eXBlOiAnY29udmVyc2F0aW9uLml0ZW0ucmV0cmlldmUnLFxuICAgICAgICAgICAgICAgIGl0ZW1faWQ6IHBhcnNlZC5pdGVtX2lkLFxuICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICByZXR1cm47XG4gICAgICAgIH1cbiAgICAgICAgaWYgKHBhcnNlZC50eXBlID09PSAnY29udmVyc2F0aW9uLml0ZW0uaW5wdXRfYXVkaW9fdHJhbnNjcmlwdGlvbi5kZWx0YScgfHxcbiAgICAgICAgICAgIHBhcnNlZC50eXBlID09PSAncmVzcG9uc2Uub3V0cHV0X3RleHQuZGVsdGEnIHx8XG4gICAgICAgICAgICBwYXJzZWQudHlwZSA9PT0gJ3Jlc3BvbnNlLm91dHB1dF9hdWRpb190cmFuc2NyaXB0LmRlbHRhJyB8fFxuICAgICAgICAgICAgcGFyc2VkLnR5cGUgPT09ICdyZXNwb25zZS5mdW5jdGlvbl9jYWxsX2FyZ3VtZW50cy5kZWx0YScpIHtcbiAgICAgICAgICAgIGlmIChwYXJzZWQudHlwZSA9PT0gJ3Jlc3BvbnNlLm91dHB1dF9hdWRpb190cmFuc2NyaXB0LmRlbHRhJykge1xuICAgICAgICAgICAgICAgIHRoaXMuZW1pdCgnYXVkaW9fdHJhbnNjcmlwdF9kZWx0YScsIHtcbiAgICAgICAgICAgICAgICAgICAgdHlwZTogJ3RyYW5zY3JpcHRfZGVsdGEnLFxuICAgICAgICAgICAgICAgICAgICBkZWx0YTogcGFyc2VkLmRlbHRhLFxuICAgICAgICAgICAgICAgICAgICBpdGVtSWQ6IHBhcnNlZC5pdGVtX2lkLFxuICAgICAgICAgICAgICAgICAgICByZXNwb25zZUlkOiBwYXJzZWQucmVzcG9uc2VfaWQsXG4gICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICAvLyBubyBzdXBwb3J0IGZvciBwYXJ0aWFsIHRyYW5zY3JpcHRzIHlldC5cbiAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgfVxuICAgICAgICBpZiAocGFyc2VkLnR5cGUgPT09ICdjb252ZXJzYXRpb24uaXRlbS5hZGRlZCcgfHxcbiAgICAgICAgICAgIHBhcnNlZC50eXBlID09PSAnY29udmVyc2F0aW9uLml0ZW0uZG9uZScgfHxcbiAgICAgICAgICAgIHBhcnNlZC50eXBlID09PSAnY29udmVyc2F0aW9uLml0ZW0ucmV0cmlldmVkJykge1xuICAgICAgICAgICAgLy8gSGFuZGxlIE1DUCBsaXN0IHRvb2xzIGl0ZW1zIChvbmx5IGFjdCB3aGVuIGRvbmUgdG8gZW5zdXJlIHRvb2xzIGFyZSBwcmVzZW50KVxuICAgICAgICAgICAgaWYgKHBhcnNlZC5pdGVtLnR5cGUgPT09ICdtY3BfbGlzdF90b29scycgJiZcbiAgICAgICAgICAgICAgICBwYXJzZWQudHlwZSA9PT0gJ2NvbnZlcnNhdGlvbi5pdGVtLmRvbmUnKSB7XG4gICAgICAgICAgICAgICAgY29uc3Qgc2VydmVyTGFiZWwgPSBwYXJzZWQuaXRlbS5zZXJ2ZXJfbGFiZWwgPz8gJyc7XG4gICAgICAgICAgICAgICAgY29uc3QgdG9vbHMgPSAocGFyc2VkLml0ZW0udG9vbHMgPz8gW10pO1xuICAgICAgICAgICAgICAgIHRyeSB7XG4gICAgICAgICAgICAgICAgICAgIHRoaXMuZW1pdCgnbWNwX3Rvb2xzX2xpc3RlZCcsIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHNlcnZlckxhYmVsLFxuICAgICAgICAgICAgICAgICAgICAgICAgdG9vbHMsXG4gICAgICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBjYXRjaCAoZXJyKSB7XG4gICAgICAgICAgICAgICAgICAgIGxvZ2dlci5lcnJvcignRXJyb3IgZW1pdHRpbmcgbWNwX3Rvb2xzX2xpc3RlZCcsIGVyciwgcGFyc2VkLml0ZW0pO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAvLyBXZSBkbyBub3QgYWRkIHRoaXMgaXRlbSB0byBoaXN0b3J5OyBpdCdzIGEgdHJhbnNwb3J0LWxldmVsIHNpZGUtY2hhbm5lbC5cbiAgICAgICAgICAgICAgICByZXR1cm47XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBpZiAocGFyc2VkLml0ZW0udHlwZSA9PT0gJ21lc3NhZ2UnKSB7XG4gICAgICAgICAgICAgICAgY29uc3QgcHJldmlvdXNJdGVtSWQgPSBwYXJzZWQudHlwZSA9PT0gJ2NvbnZlcnNhdGlvbi5pdGVtLmFkZGVkJyB8fFxuICAgICAgICAgICAgICAgICAgICBwYXJzZWQudHlwZSA9PT0gJ2NvbnZlcnNhdGlvbi5pdGVtLmRvbmUnXG4gICAgICAgICAgICAgICAgICAgID8gcGFyc2VkLnByZXZpb3VzX2l0ZW1faWRcbiAgICAgICAgICAgICAgICAgICAgOiBudWxsO1xuICAgICAgICAgICAgICAgIGNvbnN0IGl0ZW0gPSByZWFsdGltZU1lc3NhZ2VJdGVtU2NoZW1hLnBhcnNlKHtcbiAgICAgICAgICAgICAgICAgICAgaXRlbUlkOiBwYXJzZWQuaXRlbS5pZCxcbiAgICAgICAgICAgICAgICAgICAgcHJldmlvdXNJdGVtSWQsXG4gICAgICAgICAgICAgICAgICAgIHR5cGU6IHBhcnNlZC5pdGVtLnR5cGUsXG4gICAgICAgICAgICAgICAgICAgIHJvbGU6IHBhcnNlZC5pdGVtLnJvbGUsXG4gICAgICAgICAgICAgICAgICAgIGNvbnRlbnQ6IHBhcnNlZC5pdGVtLmNvbnRlbnQsXG4gICAgICAgICAgICAgICAgICAgIHN0YXR1czogcGFyc2VkLml0ZW0uc3RhdHVzLFxuICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgICAgIHRoaXMuZW1pdCgnaXRlbV91cGRhdGUnLCBpdGVtKTtcbiAgICAgICAgICAgICAgICByZXR1cm47XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBpZiAocGFyc2VkLml0ZW0udHlwZSA9PT0gJ21jcF9hcHByb3ZhbF9yZXF1ZXN0JyAmJlxuICAgICAgICAgICAgICAgIHBhcnNlZC50eXBlID09PSAnY29udmVyc2F0aW9uLml0ZW0uZG9uZScpIHtcbiAgICAgICAgICAgICAgICBjb25zdCBpdGVtID0gcGFyc2VkLml0ZW07XG4gICAgICAgICAgICAgICAgY29uc3QgbWNwQXBwcm92YWxSZXF1ZXN0ID0gcmVhbHRpbWVNY3BDYWxsQXBwcm92YWxSZXF1ZXN0SXRlbS5wYXJzZSh7XG4gICAgICAgICAgICAgICAgICAgIGl0ZW1JZDogaXRlbS5pZCxcbiAgICAgICAgICAgICAgICAgICAgdHlwZTogaXRlbS50eXBlLFxuICAgICAgICAgICAgICAgICAgICBzZXJ2ZXJMYWJlbDogaXRlbS5zZXJ2ZXJfbGFiZWwsXG4gICAgICAgICAgICAgICAgICAgIG5hbWU6IGl0ZW0ubmFtZSxcbiAgICAgICAgICAgICAgICAgICAgYXJndW1lbnRzOiBKU09OLnBhcnNlKGl0ZW0uYXJndW1lbnRzIHx8ICd7fScpLFxuICAgICAgICAgICAgICAgICAgICBhcHByb3ZlZDogaXRlbS5hcHByb3ZlZCxcbiAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgICAgICB0aGlzLmVtaXQoJ2l0ZW1fdXBkYXRlJywgbWNwQXBwcm92YWxSZXF1ZXN0KTtcbiAgICAgICAgICAgICAgICB0aGlzLmVtaXQoJ21jcF9hcHByb3ZhbF9yZXF1ZXN0JywgbWNwQXBwcm92YWxSZXF1ZXN0KTtcbiAgICAgICAgICAgICAgICByZXR1cm47XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBpZiAocGFyc2VkLml0ZW0udHlwZSA9PT0gJ21jcF90b29sX2NhbGwnIHx8XG4gICAgICAgICAgICAgICAgcGFyc2VkLml0ZW0udHlwZSA9PT0gJ21jcF9jYWxsJykge1xuICAgICAgICAgICAgICAgIGNvbnN0IHN0YXR1cyA9IHBhcnNlZC50eXBlID09PSAnY29udmVyc2F0aW9uLml0ZW0uZG9uZSdcbiAgICAgICAgICAgICAgICAgICAgPyAnY29tcGxldGVkJ1xuICAgICAgICAgICAgICAgICAgICA6ICdpbl9wcm9ncmVzcyc7XG4gICAgICAgICAgICAgICAgY29uc3QgbWNwQ2FsbCA9IHJlYWx0aW1lTWNwQ2FsbEl0ZW0ucGFyc2Uoe1xuICAgICAgICAgICAgICAgICAgICBpdGVtSWQ6IHBhcnNlZC5pdGVtLmlkLFxuICAgICAgICAgICAgICAgICAgICB0eXBlOiBwYXJzZWQuaXRlbS50eXBlLFxuICAgICAgICAgICAgICAgICAgICBzdGF0dXMsXG4gICAgICAgICAgICAgICAgICAgIGFyZ3VtZW50czogcGFyc2VkLml0ZW0uYXJndW1lbnRzLFxuICAgICAgICAgICAgICAgICAgICBuYW1lOiBwYXJzZWQuaXRlbS5uYW1lLFxuICAgICAgICAgICAgICAgICAgICBvdXRwdXQ6IHBhcnNlZC5pdGVtLm91dHB1dCxcbiAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgICAgICB0aGlzLmVtaXQoJ2l0ZW1fdXBkYXRlJywgbWNwQ2FsbCk7XG4gICAgICAgICAgICAgICAgaWYgKHBhcnNlZC50eXBlID09PSAnY29udmVyc2F0aW9uLml0ZW0uZG9uZScpIHtcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5lbWl0KCdtY3BfdG9vbF9jYWxsX2NvbXBsZXRlZCcsIG1jcENhbGwpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICByZXR1cm47XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgaWYgKHBhcnNlZC50eXBlID09PSAncmVzcG9uc2UubWNwX2NhbGwuaW5fcHJvZ3Jlc3MnKSB7XG4gICAgICAgICAgICBjb25zdCBpdGVtID0gcGFyc2VkO1xuICAgICAgICAgICAgdGhpcy5zZW5kRXZlbnQoe1xuICAgICAgICAgICAgICAgIHR5cGU6ICdjb252ZXJzYXRpb24uaXRlbS5yZXRyaWV2ZScsXG4gICAgICAgICAgICAgICAgaXRlbV9pZDogaXRlbS5pdGVtX2lkLFxuICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICByZXR1cm47XG4gICAgICAgIH1cbiAgICAgICAgaWYgKHBhcnNlZC50eXBlID09PSAnbWNwX2xpc3RfdG9vbHMuaW5fcHJvZ3Jlc3MnKSB7XG4gICAgICAgICAgICBjb25zdCBpdGVtID0gcGFyc2VkO1xuICAgICAgICAgICAgaWYgKGl0ZW0uaXRlbV9pZCkge1xuICAgICAgICAgICAgICAgIHRoaXMuc2VuZEV2ZW50KHtcbiAgICAgICAgICAgICAgICAgICAgdHlwZTogJ2NvbnZlcnNhdGlvbi5pdGVtLnJldHJpZXZlJyxcbiAgICAgICAgICAgICAgICAgICAgaXRlbV9pZDogaXRlbS5pdGVtX2lkLFxuICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICB9XG4gICAgICAgIGlmIChwYXJzZWQudHlwZSA9PT0gJ3Jlc3BvbnNlLm91dHB1dF9pdGVtLmRvbmUnIHx8XG4gICAgICAgICAgICBwYXJzZWQudHlwZSA9PT0gJ3Jlc3BvbnNlLm91dHB1dF9pdGVtLmFkZGVkJykge1xuICAgICAgICAgICAgY29uc3QgaXRlbSA9IHBhcnNlZC5pdGVtO1xuICAgICAgICAgICAgaWYgKGl0ZW0udHlwZSA9PT0gJ2Z1bmN0aW9uX2NhbGwnICYmIGl0ZW0uc3RhdHVzID09PSAnY29tcGxldGVkJykge1xuICAgICAgICAgICAgICAgIGNvbnN0IHRvb2xDYWxsID0gcmVhbHRpbWVUb29sQ2FsbEl0ZW0ucGFyc2Uoe1xuICAgICAgICAgICAgICAgICAgICBpdGVtSWQ6IGl0ZW0uaWQsXG4gICAgICAgICAgICAgICAgICAgIHR5cGU6IGl0ZW0udHlwZSxcbiAgICAgICAgICAgICAgICAgICAgc3RhdHVzOiAnaW5fcHJvZ3Jlc3MnLCAvLyB3ZSBzZXQgaXQgdG8gaW5fcHJvZ3Jlc3MgZm9yIHRoZSBVSSBhcyBpdCB3aWxsIG9ubHkgYmUgY29tcGxldGVkIHdpdGggdGhlIG91dHB1dFxuICAgICAgICAgICAgICAgICAgICBhcmd1bWVudHM6IGl0ZW0uYXJndW1lbnRzLFxuICAgICAgICAgICAgICAgICAgICBuYW1lOiBpdGVtLm5hbWUsXG4gICAgICAgICAgICAgICAgICAgIG91dHB1dDogbnVsbCxcbiAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgICAgICB0aGlzLmVtaXQoJ2l0ZW1fdXBkYXRlJywgdG9vbENhbGwpO1xuICAgICAgICAgICAgICAgIHRoaXMuZW1pdCgnZnVuY3Rpb25fY2FsbCcsIHtcbiAgICAgICAgICAgICAgICAgICAgaWQ6IGl0ZW0uaWQsXG4gICAgICAgICAgICAgICAgICAgIHR5cGU6ICdmdW5jdGlvbl9jYWxsJyxcbiAgICAgICAgICAgICAgICAgICAgY2FsbElkOiBpdGVtLmNhbGxfaWQgPz8gJycsXG4gICAgICAgICAgICAgICAgICAgIGFyZ3VtZW50czogaXRlbS5hcmd1bWVudHMgPz8gJycsXG4gICAgICAgICAgICAgICAgICAgIG5hbWU6IGl0ZW0ubmFtZSA/PyAnJyxcbiAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgICAgICByZXR1cm47XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBpZiAoaXRlbS50eXBlID09PSAnbWNwX3Rvb2xfY2FsbCcgfHwgaXRlbS50eXBlID09PSAnbWNwX2NhbGwnKSB7XG4gICAgICAgICAgICAgICAgY29uc3QgbWNwQ2FsbCA9IHJlYWx0aW1lTWNwQ2FsbEl0ZW0ucGFyc2Uoe1xuICAgICAgICAgICAgICAgICAgICBpdGVtSWQ6IGl0ZW0uaWQsXG4gICAgICAgICAgICAgICAgICAgIHR5cGU6IGl0ZW0udHlwZSxcbiAgICAgICAgICAgICAgICAgICAgc3RhdHVzOiBwYXJzZWQudHlwZSA9PT0gJ3Jlc3BvbnNlLm91dHB1dF9pdGVtLmRvbmUnXG4gICAgICAgICAgICAgICAgICAgICAgICA/ICdjb21wbGV0ZWQnXG4gICAgICAgICAgICAgICAgICAgICAgICA6ICdpbl9wcm9ncmVzcycsIC8vIHdlIHNldCBpdCB0byBpbl9wcm9ncmVzcyBmb3IgdGhlIFVJIGFzIGl0IHdpbGwgb25seSBiZSBjb21wbGV0ZWQgd2l0aCB0aGUgb3V0cHV0XG4gICAgICAgICAgICAgICAgICAgIGFyZ3VtZW50czogaXRlbS5hcmd1bWVudHMsXG4gICAgICAgICAgICAgICAgICAgIG5hbWU6IGl0ZW0ubmFtZSxcbiAgICAgICAgICAgICAgICAgICAgb3V0cHV0OiBpdGVtLm91dHB1dCxcbiAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgICAgICB0aGlzLmVtaXQoJ2l0ZW1fdXBkYXRlJywgbWNwQ2FsbCk7XG4gICAgICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgaWYgKGl0ZW0udHlwZSA9PT0gJ21lc3NhZ2UnKSB7XG4gICAgICAgICAgICAgICAgY29uc3QgcmVhbHRpbWVJdGVtID0gcmVhbHRpbWVNZXNzYWdlSXRlbVNjaGVtYS5wYXJzZSh7XG4gICAgICAgICAgICAgICAgICAgIGl0ZW1JZDogcGFyc2VkLml0ZW0uaWQsXG4gICAgICAgICAgICAgICAgICAgIHR5cGU6IHBhcnNlZC5pdGVtLnR5cGUsXG4gICAgICAgICAgICAgICAgICAgIHJvbGU6IHBhcnNlZC5pdGVtLnJvbGUsXG4gICAgICAgICAgICAgICAgICAgIGNvbnRlbnQ6IHBhcnNlZC5pdGVtLmNvbnRlbnQsXG4gICAgICAgICAgICAgICAgICAgIHN0YXR1czogcGFyc2VkLnR5cGUgPT09ICdyZXNwb25zZS5vdXRwdXRfaXRlbS5kb25lJ1xuICAgICAgICAgICAgICAgICAgICAgICAgPyAoaXRlbS5zdGF0dXMgPz8gJ2NvbXBsZXRlZCcpXG4gICAgICAgICAgICAgICAgICAgICAgICA6IChpdGVtLnN0YXR1cyA/PyAnaW5fcHJvZ3Jlc3MnKSxcbiAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgICAgICB0aGlzLmVtaXQoJ2l0ZW1fdXBkYXRlJywgcmVhbHRpbWVJdGVtKTtcbiAgICAgICAgICAgICAgICByZXR1cm47XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICB9XG4gICAgX29uRXJyb3IoZXJyb3IpIHtcbiAgICAgICAgdGhpcy5lbWl0KCdlcnJvcicsIHtcbiAgICAgICAgICAgIHR5cGU6ICdlcnJvcicsXG4gICAgICAgICAgICBlcnJvcixcbiAgICAgICAgfSk7XG4gICAgfVxuICAgIF9vbk9wZW4oKSB7XG4gICAgICAgIHRoaXMuZW1pdCgnY29ubmVjdGVkJyk7XG4gICAgfVxuICAgIF9vbkNsb3NlKCkge1xuICAgICAgICB0aGlzLmVtaXQoJ2Rpc2Nvbm5lY3RlZCcpO1xuICAgIH1cbiAgICAvKipcbiAgICAgKiBTZW5kIGEgbWVzc2FnZSB0byB0aGUgUmVhbHRpbWUgQVBJLiBUaGlzIHdpbGwgY3JlYXRlIGEgbmV3IGl0ZW0gaW4gdGhlIGNvbnZlcnNhdGlvbiBhbmRcbiAgICAgKiB0cmlnZ2VyIGEgcmVzcG9uc2UuXG4gICAgICpcbiAgICAgKiBAcGFyYW0gbWVzc2FnZSAtIFRoZSBtZXNzYWdlIHRvIHNlbmQuXG4gICAgICogQHBhcmFtIG90aGVyRXZlbnREYXRhIC0gQWRkaXRpb25hbCBldmVudCBkYXRhIHRvIHNlbmQuXG4gICAgICovXG4gICAgc2VuZE1lc3NhZ2UobWVzc2FnZSwgb3RoZXJFdmVudERhdGEsIHsgdHJpZ2dlclJlc3BvbnNlID0gdHJ1ZSB9ID0ge30pIHtcbiAgICAgICAgY29uc3QgY29udGVudCA9IHR5cGVvZiBtZXNzYWdlID09PSAnc3RyaW5nJ1xuICAgICAgICAgICAgPyBbXG4gICAgICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgICAgICB0eXBlOiAnaW5wdXRfdGV4dCcsXG4gICAgICAgICAgICAgICAgICAgIHRleHQ6IG1lc3NhZ2UsXG4gICAgICAgICAgICAgICAgfSxcbiAgICAgICAgICAgIF1cbiAgICAgICAgICAgIDogbWVzc2FnZS5jb250ZW50Lm1hcCgoY29udGVudCkgPT4ge1xuICAgICAgICAgICAgICAgIGlmIChjb250ZW50LnR5cGUgPT09ICdpbnB1dF9pbWFnZScpIHtcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHR5cGU6ICdpbnB1dF9pbWFnZScsXG4gICAgICAgICAgICAgICAgICAgICAgICBpbWFnZV91cmw6IGNvbnRlbnQuaW1hZ2UsXG4gICAgICAgICAgICAgICAgICAgICAgICAuLi4oY29udGVudC5wcm92aWRlckRhdGEgPz8ge30pLFxuICAgICAgICAgICAgICAgICAgICB9O1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICByZXR1cm4gY29udGVudDtcbiAgICAgICAgICAgIH0pO1xuICAgICAgICB0aGlzLnNlbmRFdmVudCh7XG4gICAgICAgICAgICB0eXBlOiAnY29udmVyc2F0aW9uLml0ZW0uY3JlYXRlJyxcbiAgICAgICAgICAgIGl0ZW06IHtcbiAgICAgICAgICAgICAgICB0eXBlOiAnbWVzc2FnZScsXG4gICAgICAgICAgICAgICAgcm9sZTogJ3VzZXInLFxuICAgICAgICAgICAgICAgIGNvbnRlbnQsXG4gICAgICAgICAgICB9LFxuICAgICAgICAgICAgLi4ub3RoZXJFdmVudERhdGEsXG4gICAgICAgIH0pO1xuICAgICAgICBpZiAodHJpZ2dlclJlc3BvbnNlKSB7XG4gICAgICAgICAgICB0aGlzLnNlbmRFdmVudCh7XG4gICAgICAgICAgICAgICAgdHlwZTogJ3Jlc3BvbnNlLmNyZWF0ZScsXG4gICAgICAgICAgICB9KTtcbiAgICAgICAgfVxuICAgIH1cbiAgICBhZGRJbWFnZShpbWFnZSwgeyB0cmlnZ2VyUmVzcG9uc2UgPSB0cnVlIH0gPSB7fSkge1xuICAgICAgICB0aGlzLnNlbmRNZXNzYWdlKHtcbiAgICAgICAgICAgIHR5cGU6ICdtZXNzYWdlJyxcbiAgICAgICAgICAgIHJvbGU6ICd1c2VyJyxcbiAgICAgICAgICAgIGNvbnRlbnQ6IFt7IHR5cGU6ICdpbnB1dF9pbWFnZScsIGltYWdlIH1dLFxuICAgICAgICB9LCB7fSwgeyB0cmlnZ2VyUmVzcG9uc2UgfSk7XG4gICAgfVxuICAgIF9nZXRNZXJnZWRTZXNzaW9uQ29uZmlnKGNvbmZpZykge1xuICAgICAgICBjb25zdCBuZXdDb25maWcgPSB0b05ld1Nlc3Npb25Db25maWcoY29uZmlnKTtcbiAgICAgICAgY29uc3Qgc2Vzc2lvbkRhdGEgPSB7XG4gICAgICAgICAgICB0eXBlOiAncmVhbHRpbWUnLFxuICAgICAgICAgICAgaW5zdHJ1Y3Rpb25zOiBuZXdDb25maWcuaW5zdHJ1Y3Rpb25zLFxuICAgICAgICAgICAgbW9kZWw6IG5ld0NvbmZpZy5tb2RlbCA/PyB0aGlzLiNtb2RlbCxcbiAgICAgICAgICAgIG91dHB1dF9tb2RhbGl0aWVzOiBuZXdDb25maWcub3V0cHV0TW9kYWxpdGllcyA/P1xuICAgICAgICAgICAgICAgIERFRkFVTFRfT1BFTkFJX1JFQUxUSU1FX1NFU1NJT05fQ09ORklHLm91dHB1dE1vZGFsaXRpZXMsXG4gICAgICAgICAgICBhdWRpbzoge1xuICAgICAgICAgICAgICAgIGlucHV0OiB7XG4gICAgICAgICAgICAgICAgICAgIGZvcm1hdDogbmV3Q29uZmlnLmF1ZGlvPy5pbnB1dD8uZm9ybWF0ID8/XG4gICAgICAgICAgICAgICAgICAgICAgICBERUZBVUxUX09QRU5BSV9SRUFMVElNRV9TRVNTSU9OX0NPTkZJRy5hdWRpbz8uaW5wdXQ/LmZvcm1hdCxcbiAgICAgICAgICAgICAgICAgICAgbm9pc2VfcmVkdWN0aW9uOiBuZXdDb25maWcuYXVkaW8/LmlucHV0Py5ub2lzZVJlZHVjdGlvbiA/P1xuICAgICAgICAgICAgICAgICAgICAgICAgREVGQVVMVF9PUEVOQUlfUkVBTFRJTUVfU0VTU0lPTl9DT05GSUcuYXVkaW8/LmlucHV0Py5ub2lzZVJlZHVjdGlvbixcbiAgICAgICAgICAgICAgICAgICAgdHJhbnNjcmlwdGlvbjogbmV3Q29uZmlnLmF1ZGlvPy5pbnB1dD8udHJhbnNjcmlwdGlvbiA/P1xuICAgICAgICAgICAgICAgICAgICAgICAgREVGQVVMVF9PUEVOQUlfUkVBTFRJTUVfU0VTU0lPTl9DT05GSUcuYXVkaW8/LmlucHV0Py50cmFuc2NyaXB0aW9uLFxuICAgICAgICAgICAgICAgICAgICB0dXJuX2RldGVjdGlvbjogT3BlbkFJUmVhbHRpbWVCYXNlLmJ1aWxkVHVybkRldGVjdGlvbkNvbmZpZyhuZXdDb25maWcuYXVkaW8/LmlucHV0Py50dXJuRGV0ZWN0aW9uKSA/P1xuICAgICAgICAgICAgICAgICAgICAgICAgREVGQVVMVF9PUEVOQUlfUkVBTFRJTUVfU0VTU0lPTl9DT05GSUcuYXVkaW8/LmlucHV0Py50dXJuRGV0ZWN0aW9uLFxuICAgICAgICAgICAgICAgIH0sXG4gICAgICAgICAgICAgICAgb3V0cHV0OiB7XG4gICAgICAgICAgICAgICAgICAgIGZvcm1hdDogbmV3Q29uZmlnLmF1ZGlvPy5vdXRwdXQ/LmZvcm1hdCA/P1xuICAgICAgICAgICAgICAgICAgICAgICAgREVGQVVMVF9PUEVOQUlfUkVBTFRJTUVfU0VTU0lPTl9DT05GSUcuYXVkaW8/Lm91dHB1dD8uZm9ybWF0LFxuICAgICAgICAgICAgICAgICAgICB2b2ljZTogbmV3Q29uZmlnLmF1ZGlvPy5vdXRwdXQ/LnZvaWNlID8/XG4gICAgICAgICAgICAgICAgICAgICAgICBERUZBVUxUX09QRU5BSV9SRUFMVElNRV9TRVNTSU9OX0NPTkZJRy5hdWRpbz8ub3V0cHV0Py52b2ljZSxcbiAgICAgICAgICAgICAgICAgICAgc3BlZWQ6IG5ld0NvbmZpZy5hdWRpbz8ub3V0cHV0Py5zcGVlZCA/P1xuICAgICAgICAgICAgICAgICAgICAgICAgREVGQVVMVF9PUEVOQUlfUkVBTFRJTUVfU0VTU0lPTl9DT05GSUcuYXVkaW8/Lm91dHB1dD8uc3BlZWQsXG4gICAgICAgICAgICAgICAgfSxcbiAgICAgICAgICAgIH0sXG4gICAgICAgICAgICB0b29sX2Nob2ljZTogbmV3Q29uZmlnLnRvb2xDaG9pY2UgPz9cbiAgICAgICAgICAgICAgICBERUZBVUxUX09QRU5BSV9SRUFMVElNRV9TRVNTSU9OX0NPTkZJRy50b29sQ2hvaWNlLFxuICAgICAgICAgICAgLy8gV2UgZG9uJ3Qgc2V0IHRyYWNpbmcgaGVyZSB0byBtYWtlIHN1cmUgdGhhdCB3ZSBkb24ndCB0cnkgdG8gb3ZlcnJpZGUgaXQgb24gZXZlcnlcbiAgICAgICAgICAgIC8vIHNlc3Npb24udXBkYXRlIGFzIGl0IG1pZ2h0IGxlYWQgdG8gZXJyb3JzXG4gICAgICAgICAgICAuLi4obmV3Q29uZmlnLnByb3ZpZGVyRGF0YSA/PyB7fSksXG4gICAgICAgIH07XG4gICAgICAgIGlmIChuZXdDb25maWcucHJvbXB0KSB7XG4gICAgICAgICAgICBzZXNzaW9uRGF0YS5wcm9tcHQgPSB7XG4gICAgICAgICAgICAgICAgaWQ6IG5ld0NvbmZpZy5wcm9tcHQucHJvbXB0SWQsXG4gICAgICAgICAgICAgICAgdmVyc2lvbjogbmV3Q29uZmlnLnByb21wdC52ZXJzaW9uLFxuICAgICAgICAgICAgICAgIHZhcmlhYmxlczogbmV3Q29uZmlnLnByb21wdC52YXJpYWJsZXMsXG4gICAgICAgICAgICB9O1xuICAgICAgICB9XG4gICAgICAgIGlmIChuZXdDb25maWcudG9vbHMgJiYgbmV3Q29uZmlnLnRvb2xzLmxlbmd0aCA+IDApIHtcbiAgICAgICAgICAgIHNlc3Npb25EYXRhLnRvb2xzID0gbmV3Q29uZmlnLnRvb2xzLm1hcCgodG9vbCkgPT4gKHtcbiAgICAgICAgICAgICAgICAuLi50b29sLFxuICAgICAgICAgICAgICAgIHN0cmljdDogdW5kZWZpbmVkLFxuICAgICAgICAgICAgfSkpO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiBzZXNzaW9uRGF0YTtcbiAgICB9XG4gICAgLyoqXG4gICAgICogQnVpbGQgdGhlIHBheWxvYWQgb2JqZWN0IGV4cGVjdGVkIGJ5IHRoZSBSZWFsdGltZSBBUEkgd2hlbiBjcmVhdGluZyBvciB1cGRhdGluZyBhIHNlc3Npb24uXG4gICAgICpcbiAgICAgKiBUaGUgaGVscGVyIGNlbnRyYWxpc2VzIHRoZSBjb252ZXJzaW9uIGZyb20gY2FtZWxDYXNlIHJ1bnRpbWUgY29uZmlnIHRvIHRoZSBzbmFrZV9jYXNlIHBheWxvYWRcbiAgICAgKiByZXF1aXJlZCBieSB0aGUgUmVhbHRpbWUgQVBJIHNvIHRyYW5zcG9ydHMgdGhhdCBuZWVkIGEgb25lLW9mZiBwYXlsb2FkIChmb3IgZXhhbXBsZSBTSVAgY2FsbFxuICAgICAqIGFjY2VwdGFuY2UpIGNhbiByZXVzZSB0aGUgc2FtZSBsb2dpYyB3aXRob3V0IGR1cGxpY2F0aW5nIHByaXZhdGUgc3RhdGUuXG4gICAgICpcbiAgICAgKiBAcGFyYW0gY29uZmlnIC0gVGhlIHNlc3Npb24gY29uZmlnIHRvIG1lcmdlIHdpdGggZGVmYXVsdHMuXG4gICAgICovXG4gICAgYnVpbGRTZXNzaW9uUGF5bG9hZChjb25maWcpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuX2dldE1lcmdlZFNlc3Npb25Db25maWcoY29uZmlnKTtcbiAgICB9XG4gICAgc3RhdGljIGJ1aWxkVHVybkRldGVjdGlvbkNvbmZpZyhjKSB7XG4gICAgICAgIGlmICh0eXBlb2YgYyA9PT0gJ3VuZGVmaW5lZCcpIHtcbiAgICAgICAgICAgIHJldHVybiB1bmRlZmluZWQ7XG4gICAgICAgIH1cbiAgICAgICAgY29uc3QgeyB0eXBlLCBjcmVhdGVSZXNwb25zZSwgY3JlYXRlX3Jlc3BvbnNlLCBlYWdlcm5lc3MsIGludGVycnVwdFJlc3BvbnNlLCBpbnRlcnJ1cHRfcmVzcG9uc2UsIHByZWZpeFBhZGRpbmdNcywgcHJlZml4X3BhZGRpbmdfbXMsIHNpbGVuY2VEdXJhdGlvbk1zLCBzaWxlbmNlX2R1cmF0aW9uX21zLCB0aHJlc2hvbGQsIGlkbGVUaW1lb3V0TXMsIGlkbGVfdGltZW91dF9tcywgLi4ucmVzdCB9ID0gYztcbiAgICAgICAgY29uc3QgY29uZmlnID0ge1xuICAgICAgICAgICAgdHlwZSxcbiAgICAgICAgICAgIGNyZWF0ZV9yZXNwb25zZTogY3JlYXRlUmVzcG9uc2UgPyBjcmVhdGVSZXNwb25zZSA6IGNyZWF0ZV9yZXNwb25zZSxcbiAgICAgICAgICAgIGVhZ2VybmVzcyxcbiAgICAgICAgICAgIGludGVycnVwdF9yZXNwb25zZTogaW50ZXJydXB0UmVzcG9uc2VcbiAgICAgICAgICAgICAgICA/IGludGVycnVwdFJlc3BvbnNlXG4gICAgICAgICAgICAgICAgOiBpbnRlcnJ1cHRfcmVzcG9uc2UsXG4gICAgICAgICAgICBwcmVmaXhfcGFkZGluZ19tczogcHJlZml4UGFkZGluZ01zID8gcHJlZml4UGFkZGluZ01zIDogcHJlZml4X3BhZGRpbmdfbXMsXG4gICAgICAgICAgICBzaWxlbmNlX2R1cmF0aW9uX21zOiBzaWxlbmNlRHVyYXRpb25Nc1xuICAgICAgICAgICAgICAgID8gc2lsZW5jZUR1cmF0aW9uTXNcbiAgICAgICAgICAgICAgICA6IHNpbGVuY2VfZHVyYXRpb25fbXMsXG4gICAgICAgICAgICBpZGxlX3RpbWVvdXRfbXM6IGlkbGVUaW1lb3V0TXMgPyBpZGxlVGltZW91dE1zIDogaWRsZV90aW1lb3V0X21zLFxuICAgICAgICAgICAgdGhyZXNob2xkLFxuICAgICAgICAgICAgLi4ucmVzdCxcbiAgICAgICAgfTtcbiAgICAgICAgLy8gUmVtb3ZlIHVuZGVmaW5lZCB2YWx1ZXMgZnJvbSB0aGUgY29uZmlnXG4gICAgICAgIE9iamVjdC5rZXlzKGNvbmZpZykuZm9yRWFjaCgoa2V5KSA9PiB7XG4gICAgICAgICAgICBpZiAoY29uZmlnW2tleV0gPT09IHVuZGVmaW5lZClcbiAgICAgICAgICAgICAgICBkZWxldGUgY29uZmlnW2tleV07XG4gICAgICAgIH0pO1xuICAgICAgICByZXR1cm4gT2JqZWN0LmtleXMoY29uZmlnKS5sZW5ndGggPiAwID8gY29uZmlnIDogdW5kZWZpbmVkO1xuICAgIH1cbiAgICAvKipcbiAgICAgKiBTZXRzIHRoZSBpbnRlcm5hbCB0cmFjaW5nIGNvbmZpZy4gVGhpcyBpcyB1c2VkIHRvIHRyYWNrIHRoZSB0cmFjaW5nIGNvbmZpZyB0aGF0IGhhcyBiZWVuIHNldFxuICAgICAqIGR1cmluZyB0aGUgc2Vzc2lvbi5jcmVhdGUgZXZlbnQuXG4gICAgICovXG4gICAgc2V0IF90cmFjaW5nQ29uZmlnKHRyYWNpbmdDb25maWcpIHtcbiAgICAgICAgdGhpcy4jdHJhY2luZ0NvbmZpZyA9IHRyYWNpbmdDb25maWc7XG4gICAgfVxuICAgIC8qKlxuICAgICAqIFNldHMgdGhlIHRyYWNpbmcgY29uZmlnIGZvciB0aGUgc2Vzc2lvbi4gVGhpcyB3aWxsIHNlbmQgdGhlIHRyYWNpbmcgY29uZmlnIHRvIHRoZSBSZWFsdGltZSBBUEkuXG4gICAgICpcbiAgICAgKiBAcGFyYW0gdHJhY2luZ0NvbmZpZyAtIFRoZSB0cmFjaW5nIGNvbmZpZyB0byBzZXQuIFdlIGRvbid0IHN1cHBvcnQgJ2F1dG8nIGhlcmUgYXMgdGhlIFNESyB3aWxsIGFsd2F5cyBjb25maWd1cmUgYSBXb3JrZmxvdyBOYW1lIHVubGVzcyBpdCBleGlzdHNcbiAgICAgKi9cbiAgICBfdXBkYXRlVHJhY2luZ0NvbmZpZyh0cmFjaW5nQ29uZmlnKSB7XG4gICAgICAgIGlmICh0eXBlb2YgdGhpcy4jdHJhY2luZ0NvbmZpZyA9PT0gJ3VuZGVmaW5lZCcpIHtcbiAgICAgICAgICAgIC8vIHRyZWF0aW5nIGl0IGFzIGRlZmF1bHQgdmFsdWVcbiAgICAgICAgICAgIHRoaXMuI3RyYWNpbmdDb25maWcgPSBudWxsO1xuICAgICAgICB9XG4gICAgICAgIGlmICh0cmFjaW5nQ29uZmlnID09PSAnYXV0bycpIHtcbiAgICAgICAgICAgIC8vIHR1cm4gb24gdHJhY2luZyBpbiBhdXRvIG1vZGVcbiAgICAgICAgICAgIHRoaXMuc2VuZEV2ZW50KHtcbiAgICAgICAgICAgICAgICB0eXBlOiAnc2Vzc2lvbi51cGRhdGUnLFxuICAgICAgICAgICAgICAgIHNlc3Npb246IHtcbiAgICAgICAgICAgICAgICAgICAgdHlwZTogJ3JlYWx0aW1lJyxcbiAgICAgICAgICAgICAgICAgICAgdHJhY2luZzogJ2F1dG8nLFxuICAgICAgICAgICAgICAgIH0sXG4gICAgICAgICAgICB9KTtcbiAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgfVxuICAgICAgICBpZiAodGhpcy4jdHJhY2luZ0NvbmZpZyAhPT0gbnVsbCAmJlxuICAgICAgICAgICAgdHlwZW9mIHRoaXMuI3RyYWNpbmdDb25maWcgIT09ICdzdHJpbmcnICYmXG4gICAgICAgICAgICB0eXBlb2YgdHJhY2luZ0NvbmZpZyAhPT0gJ3N0cmluZycpIHtcbiAgICAgICAgICAgIC8vIHRyYWNpbmcgaXMgYWxyZWFkeSBzZXQsIHdlIGNhbid0IGNoYW5nZSBpdFxuICAgICAgICAgICAgbG9nZ2VyLndhcm4oJ1RyYWNpbmcgY29uZmlnIGlzIGFscmVhZHkgc2V0LCBza2lwcGluZyBzZXR0aW5nIGl0IGFnYWluLiBUaGlzIGxpa2VseSBoYXBwZW5zIHdoZW4geW91IGFscmVhZHkgc2V0IGEgdHJhY2luZyBjb25maWcgb24gc2Vzc2lvbiBjcmVhdGlvbi4nKTtcbiAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgfVxuICAgICAgICBpZiAodHJhY2luZ0NvbmZpZyA9PT0gbnVsbCkge1xuICAgICAgICAgICAgbG9nZ2VyLmRlYnVnKCdEaXNhYmxpbmcgdHJhY2luZyBmb3IgdGhpcyBzZXNzaW9uLiBJdCBjYW5ub3QgYmUgdHVybmVkIG9uIGZvciB0aGlzIHNlc3Npb24gZnJvbSB0aGlzIHBvaW50IG9uLicpO1xuICAgICAgICAgICAgdGhpcy5zZW5kRXZlbnQoe1xuICAgICAgICAgICAgICAgIHR5cGU6ICdzZXNzaW9uLnVwZGF0ZScsXG4gICAgICAgICAgICAgICAgc2Vzc2lvbjoge1xuICAgICAgICAgICAgICAgICAgICB0eXBlOiAncmVhbHRpbWUnLFxuICAgICAgICAgICAgICAgICAgICB0cmFjaW5nOiBudWxsLFxuICAgICAgICAgICAgICAgIH0sXG4gICAgICAgICAgICB9KTtcbiAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgfVxuICAgICAgICBpZiAodGhpcy4jdHJhY2luZ0NvbmZpZyA9PT0gbnVsbCB8fFxuICAgICAgICAgICAgdHlwZW9mIHRoaXMuI3RyYWNpbmdDb25maWcgPT09ICdzdHJpbmcnKSB7XG4gICAgICAgICAgICAvLyB0cmFjaW5nIGlzIGN1cnJlbnRseSBub3Qgc2V0IHNvIHdlIGNhbiBzZXQgaXQgdG8gdGhlIG5ldyB2YWx1ZVxuICAgICAgICAgICAgdGhpcy5zZW5kRXZlbnQoe1xuICAgICAgICAgICAgICAgIHR5cGU6ICdzZXNzaW9uLnVwZGF0ZScsXG4gICAgICAgICAgICAgICAgc2Vzc2lvbjoge1xuICAgICAgICAgICAgICAgICAgICB0eXBlOiAncmVhbHRpbWUnLFxuICAgICAgICAgICAgICAgICAgICB0cmFjaW5nOiB0cmFjaW5nQ29uZmlnLFxuICAgICAgICAgICAgICAgIH0sXG4gICAgICAgICAgICB9KTtcbiAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgfVxuICAgICAgICBpZiAodHJhY2luZ0NvbmZpZz8uZ3JvdXBfaWQgIT09IHRoaXMuI3RyYWNpbmdDb25maWc/Lmdyb3VwX2lkIHx8XG4gICAgICAgICAgICB0cmFjaW5nQ29uZmlnPy5tZXRhZGF0YSAhPT0gdGhpcy4jdHJhY2luZ0NvbmZpZz8ubWV0YWRhdGEgfHxcbiAgICAgICAgICAgIHRyYWNpbmdDb25maWc/LndvcmtmbG93X25hbWUgIT09IHRoaXMuI3RyYWNpbmdDb25maWc/LndvcmtmbG93X25hbWUpIHtcbiAgICAgICAgICAgIGxvZ2dlci53YXJuKCdNaXNtYXRjaCBpbiB0cmFjaW5nIGNvbmZpZy4gSWdub3JpbmcgdGhlIG5ldyB0cmFjaW5nIGNvbmZpZy4gVGhpcyBsaWtlbHkgaGFwcGVucyB3aGVuIHlvdSBhbHJlYWR5IHNldCBhIHRyYWNpbmcgY29uZmlnIG9uIHNlc3Npb24gY3JlYXRpb24uIEN1cnJlbnQgdHJhY2luZyBjb25maWc6ICVzLCBuZXcgdHJhY2luZyBjb25maWc6ICVzJywgSlNPTi5zdHJpbmdpZnkodGhpcy4jdHJhY2luZ0NvbmZpZyksIEpTT04uc3RyaW5naWZ5KHRyYWNpbmdDb25maWcpKTtcbiAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgfVxuICAgICAgICB0aGlzLnNlbmRFdmVudCh7XG4gICAgICAgICAgICB0eXBlOiAnc2Vzc2lvbi51cGRhdGUnLFxuICAgICAgICAgICAgc2Vzc2lvbjoge1xuICAgICAgICAgICAgICAgIHR5cGU6ICdyZWFsdGltZScsXG4gICAgICAgICAgICAgICAgdHJhY2luZzogdHJhY2luZ0NvbmZpZyxcbiAgICAgICAgICAgIH0sXG4gICAgICAgIH0pO1xuICAgIH1cbiAgICAvKipcbiAgICAgKiBVcGRhdGVzIHRoZSBzZXNzaW9uIGNvbmZpZy4gVGhpcyB3aWxsIG1lcmdlIGl0IHdpdGggdGhlIGN1cnJlbnQgc2Vzc2lvbiBjb25maWcgd2l0aCB0aGUgZGVmYXVsdFxuICAgICAqIHZhbHVlcyBhbmQgc2VuZCBpdCB0byB0aGUgUmVhbHRpbWUgQVBJLlxuICAgICAqXG4gICAgICogQHBhcmFtIGNvbmZpZyAtIFRoZSBzZXNzaW9uIGNvbmZpZyB0byB1cGRhdGUuXG4gICAgICovXG4gICAgdXBkYXRlU2Vzc2lvbkNvbmZpZyhjb25maWcpIHtcbiAgICAgICAgY29uc3Qgc2Vzc2lvbkRhdGEgPSB0aGlzLmJ1aWxkU2Vzc2lvblBheWxvYWQoY29uZmlnKTtcbiAgICAgICAgdGhpcy5zZW5kRXZlbnQoe1xuICAgICAgICAgICAgdHlwZTogJ3Nlc3Npb24udXBkYXRlJyxcbiAgICAgICAgICAgIHNlc3Npb246IHNlc3Npb25EYXRhLFxuICAgICAgICB9KTtcbiAgICB9XG4gICAgLyoqXG4gICAgICogU2VuZCB0aGUgb3V0cHV0IG9mIGEgZnVuY3Rpb24gY2FsbCB0byB0aGUgUmVhbHRpbWUgQVBJLlxuICAgICAqXG4gICAgICogQHBhcmFtIHRvb2xDYWxsIC0gVGhlIHRvb2wgY2FsbCB0byBzZW5kIHRoZSBvdXRwdXQgZm9yLlxuICAgICAqIEBwYXJhbSBvdXRwdXQgLSBUaGUgb3V0cHV0IG9mIHRoZSBmdW5jdGlvbiBjYWxsLlxuICAgICAqIEBwYXJhbSBzdGFydFJlc3BvbnNlIC0gV2hldGhlciB0byBzdGFydCBhIG5ldyByZXNwb25zZSBhZnRlciBzZW5kaW5nIHRoZSBvdXRwdXQuXG4gICAgICovXG4gICAgc2VuZEZ1bmN0aW9uQ2FsbE91dHB1dCh0b29sQ2FsbCwgb3V0cHV0LCBzdGFydFJlc3BvbnNlID0gdHJ1ZSkge1xuICAgICAgICB0aGlzLnNlbmRFdmVudCh7XG4gICAgICAgICAgICB0eXBlOiAnY29udmVyc2F0aW9uLml0ZW0uY3JlYXRlJyxcbiAgICAgICAgICAgIGl0ZW06IHtcbiAgICAgICAgICAgICAgICB0eXBlOiAnZnVuY3Rpb25fY2FsbF9vdXRwdXQnLFxuICAgICAgICAgICAgICAgIG91dHB1dCxcbiAgICAgICAgICAgICAgICBjYWxsX2lkOiB0b29sQ2FsbC5jYWxsSWQsXG4gICAgICAgICAgICB9LFxuICAgICAgICB9KTtcbiAgICAgICAgdHJ5IHtcbiAgICAgICAgICAgIGNvbnN0IGl0ZW0gPSByZWFsdGltZVRvb2xDYWxsSXRlbS5wYXJzZSh7XG4gICAgICAgICAgICAgICAgaXRlbUlkOiB0b29sQ2FsbC5pZCxcbiAgICAgICAgICAgICAgICBwcmV2aW91c0l0ZW1JZDogdG9vbENhbGwucHJldmlvdXNJdGVtSWQsXG4gICAgICAgICAgICAgICAgdHlwZTogJ2Z1bmN0aW9uX2NhbGwnLFxuICAgICAgICAgICAgICAgIHN0YXR1czogJ2NvbXBsZXRlZCcsXG4gICAgICAgICAgICAgICAgYXJndW1lbnRzOiB0b29sQ2FsbC5hcmd1bWVudHMsXG4gICAgICAgICAgICAgICAgbmFtZTogdG9vbENhbGwubmFtZSxcbiAgICAgICAgICAgICAgICBvdXRwdXQsXG4gICAgICAgICAgICB9KTtcbiAgICAgICAgICAgIHRoaXMuZW1pdCgnaXRlbV91cGRhdGUnLCBpdGVtKTtcbiAgICAgICAgfVxuICAgICAgICBjYXRjaCAoZXJyb3IpIHtcbiAgICAgICAgICAgIGxvZ2dlci5lcnJvcignRXJyb3IgcGFyc2luZyB0b29sIGNhbGwgaXRlbScsIGVycm9yLCB0b29sQ2FsbCk7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKHN0YXJ0UmVzcG9uc2UpIHtcbiAgICAgICAgICAgIHRoaXMuc2VuZEV2ZW50KHtcbiAgICAgICAgICAgICAgICB0eXBlOiAncmVzcG9uc2UuY3JlYXRlJyxcbiAgICAgICAgICAgIH0pO1xuICAgICAgICB9XG4gICAgfVxuICAgIC8qKlxuICAgICAqIFNlbmQgYW4gYXVkaW8gYnVmZmVyIHRvIHRoZSBSZWFsdGltZSBBUEkuIElmIGB7IGNvbW1pdDogdHJ1ZSB9YCBpcyBwYXNzZWQsIHRoZSBhdWRpbyBidWZmZXJcbiAgICAgKiB3aWxsIGJlIGNvbW1pdHRlZCBhbmQgdGhlIG1vZGVsIHdpbGwgc3RhcnQgcHJvY2Vzc2luZyBpdC4gVGhpcyBpcyBuZWNlc3NhcnkgaWYgeW91IGhhdmVcbiAgICAgKiBkaXNhYmxlZCB0dXJuIGRldGVjdGlvbiAvIHZvaWNlIGFjdGl2aXR5IGRldGVjdGlvbiAoVkFEKS5cbiAgICAgKlxuICAgICAqIEBwYXJhbSBhdWRpbyAtIFRoZSBhdWRpbyBidWZmZXIgdG8gc2VuZC5cbiAgICAgKiBAcGFyYW0gb3B0aW9ucyAtIFRoZSBvcHRpb25zIGZvciB0aGUgYXVkaW8gYnVmZmVyLlxuICAgICAqL1xuICAgIHNlbmRBdWRpbyhhdWRpbywgeyBjb21taXQgPSBmYWxzZSB9ID0ge30pIHtcbiAgICAgICAgdGhpcy5zZW5kRXZlbnQoe1xuICAgICAgICAgICAgdHlwZTogJ2lucHV0X2F1ZGlvX2J1ZmZlci5hcHBlbmQnLFxuICAgICAgICAgICAgYXVkaW86IGFycmF5QnVmZmVyVG9CYXNlNjQoYXVkaW8pLFxuICAgICAgICB9KTtcbiAgICAgICAgaWYgKGNvbW1pdCkge1xuICAgICAgICAgICAgdGhpcy5zZW5kRXZlbnQoe1xuICAgICAgICAgICAgICAgIHR5cGU6ICdpbnB1dF9hdWRpb19idWZmZXIuY29tbWl0JyxcbiAgICAgICAgICAgIH0pO1xuICAgICAgICB9XG4gICAgfVxuICAgIC8qKlxuICAgICAqIFJlc2V0IHRoZSBoaXN0b3J5IG9mIHRoZSBjb252ZXJzYXRpb24uIFRoaXMgd2lsbCBjcmVhdGUgYSBkaWZmIGJldHdlZW4gdGhlIG9sZCBhbmQgbmV3IGhpc3RvcnlcbiAgICAgKiBhbmQgc2VuZCB0aGUgbmVjZXNzYXJ5IGV2ZW50cyB0byB0aGUgUmVhbHRpbWUgQVBJIHRvIHVwZGF0ZSB0aGUgaGlzdG9yeS5cbiAgICAgKlxuICAgICAqIEBwYXJhbSBvbGRIaXN0b3J5IC0gVGhlIG9sZCBoaXN0b3J5IG9mIHRoZSBjb252ZXJzYXRpb24uXG4gICAgICogQHBhcmFtIG5ld0hpc3RvcnkgLSBUaGUgbmV3IGhpc3Rvcnkgb2YgdGhlIGNvbnZlcnNhdGlvbi5cbiAgICAgKi9cbiAgICByZXNldEhpc3Rvcnkob2xkSGlzdG9yeSwgbmV3SGlzdG9yeSkge1xuICAgICAgICBjb25zdCB7IHJlbW92YWxzLCBhZGRpdGlvbnMsIHVwZGF0ZXMgfSA9IGRpZmZSZWFsdGltZUhpc3Rvcnkob2xkSGlzdG9yeSwgbmV3SGlzdG9yeSk7XG4gICAgICAgIGNvbnN0IHJlbW92YWxJZHMgPSBuZXcgU2V0KHJlbW92YWxzLm1hcCgoaXRlbSkgPT4gaXRlbS5pdGVtSWQpKTtcbiAgICAgICAgLy8gd2UgZG9uJ3QgaGF2ZSBhbiB1cGRhdGUgZXZlbnQgZm9yIGl0ZW1zIHNvIHdlIHdpbGwgcmVtb3ZlIGFuZCByZS1hZGQgd2hhdCdzIHRoZXJlXG4gICAgICAgIGZvciAoY29uc3QgdXBkYXRlIG9mIHVwZGF0ZXMpIHtcbiAgICAgICAgICAgIHJlbW92YWxJZHMuYWRkKHVwZGF0ZS5pdGVtSWQpO1xuICAgICAgICB9XG4gICAgICAgIGlmIChyZW1vdmFsSWRzLnNpemUgPiAwKSB7XG4gICAgICAgICAgICBmb3IgKGNvbnN0IGl0ZW1JZCBvZiByZW1vdmFsSWRzKSB7XG4gICAgICAgICAgICAgICAgdGhpcy5zZW5kRXZlbnQoe1xuICAgICAgICAgICAgICAgICAgICB0eXBlOiAnY29udmVyc2F0aW9uLml0ZW0uZGVsZXRlJyxcbiAgICAgICAgICAgICAgICAgICAgaXRlbV9pZDogaXRlbUlkLFxuICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIGNvbnN0IGFkZGl0aW9uc0FuZFVwZGF0ZXMgPSBbLi4uYWRkaXRpb25zLCAuLi51cGRhdGVzXTtcbiAgICAgICAgZm9yIChjb25zdCBhZGRpdGlvbiBvZiBhZGRpdGlvbnNBbmRVcGRhdGVzKSB7XG4gICAgICAgICAgICBpZiAoYWRkaXRpb24udHlwZSA9PT0gJ21lc3NhZ2UnKSB7XG4gICAgICAgICAgICAgICAgY29uc3QgaXRlbUVudHJ5ID0ge1xuICAgICAgICAgICAgICAgICAgICB0eXBlOiAnbWVzc2FnZScsXG4gICAgICAgICAgICAgICAgICAgIHJvbGU6IGFkZGl0aW9uLnJvbGUsXG4gICAgICAgICAgICAgICAgICAgIGNvbnRlbnQ6IGFkZGl0aW9uLmNvbnRlbnQsXG4gICAgICAgICAgICAgICAgICAgIGlkOiBhZGRpdGlvbi5pdGVtSWQsXG4gICAgICAgICAgICAgICAgfTtcbiAgICAgICAgICAgICAgICBpZiAoYWRkaXRpb24ucm9sZSAhPT0gJ3N5c3RlbScgJiYgYWRkaXRpb24uc3RhdHVzKSB7XG4gICAgICAgICAgICAgICAgICAgIGl0ZW1FbnRyeS5zdGF0dXMgPSBhZGRpdGlvbi5zdGF0dXM7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIHRoaXMuc2VuZEV2ZW50KHtcbiAgICAgICAgICAgICAgICAgICAgdHlwZTogJ2NvbnZlcnNhdGlvbi5pdGVtLmNyZWF0ZScsXG4gICAgICAgICAgICAgICAgICAgIGl0ZW06IGl0ZW1FbnRyeSxcbiAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGVsc2UgaWYgKGFkZGl0aW9uLnR5cGUgPT09ICdmdW5jdGlvbl9jYWxsJykge1xuICAgICAgICAgICAgICAgIGxvZ2dlci53YXJuKCdGdW5jdGlvbiBjYWxscyBjYW5ub3QgYmUgbWFudWFsbHkgYWRkZWQgb3IgdXBkYXRlZCBhdCB0aGUgbW9tZW50LiBJZ25vcmluZy4nKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgIH1cbiAgICBzZW5kTWNwUmVzcG9uc2UoYXBwcm92YWxSZXF1ZXN0LCBhcHByb3ZlZCkge1xuICAgICAgICB0aGlzLnNlbmRFdmVudCh7XG4gICAgICAgICAgICB0eXBlOiAnY29udmVyc2F0aW9uLml0ZW0uY3JlYXRlJyxcbiAgICAgICAgICAgIHByZXZpb3VzX2l0ZW1faWQ6IGFwcHJvdmFsUmVxdWVzdC5pdGVtSWQsXG4gICAgICAgICAgICBpdGVtOiB7XG4gICAgICAgICAgICAgICAgdHlwZTogJ21jcF9hcHByb3ZhbF9yZXNwb25zZScsXG4gICAgICAgICAgICAgICAgYXBwcm92YWxfcmVxdWVzdF9pZDogYXBwcm92YWxSZXF1ZXN0Lml0ZW1JZCxcbiAgICAgICAgICAgICAgICBhcHByb3ZlOiBhcHByb3ZlZCxcbiAgICAgICAgICAgIH0sXG4gICAgICAgIH0pO1xuICAgIH1cbn1cbi8vIyBzb3VyY2VNYXBwaW5nVVJMPW9wZW5haVJlYWx0aW1lQmFzZS5tanMubWFwIiwiLy8vIDxyZWZlcmVuY2UgbGliPVwiZG9tXCIgLz5cbmltcG9ydCB7IGlzQnJvd3NlckVudmlyb25tZW50IH0gZnJvbSAnQG9wZW5haS9hZ2VudHMtY29yZS9fc2hpbXMnO1xuaW1wb3J0IHsgVXNlckVycm9yIH0gZnJvbSAnQG9wZW5haS9hZ2VudHMtY29yZSc7XG5pbXBvcnQgbG9nZ2VyIGZyb20gXCIuL2xvZ2dlci5tanNcIjtcbmltcG9ydCB7IE9wZW5BSVJlYWx0aW1lQmFzZSwgfSBmcm9tIFwiLi9vcGVuYWlSZWFsdGltZUJhc2UubWpzXCI7XG5pbXBvcnQgeyBwYXJzZVJlYWx0aW1lRXZlbnQgfSBmcm9tIFwiLi9vcGVuYWlSZWFsdGltZUV2ZW50cy5tanNcIjtcbmltcG9ydCB7IEhFQURFUlMgfSBmcm9tIFwiLi91dGlscy5tanNcIjtcbi8qKlxuICogVHJhbnNwb3J0IGxheWVyIHRoYXQncyBoYW5kbGluZyB0aGUgY29ubmVjdGlvbiBiZXR3ZWVuIHRoZSBjbGllbnQgYW5kIE9wZW5BSSdzIFJlYWx0aW1lIEFQSVxuICogdmlhIFdlYlJUQy4gV2hpbGUgdGhpcyB0cmFuc3BvcnQgbGF5ZXIgaXMgZGVzaWduZWQgdG8gYmUgdXNlZCB3aXRoaW4gYSBSZWFsdGltZVNlc3Npb24sIGl0IGNhblxuICogYWxzbyBiZSB1c2VkIHN0YW5kYWxvbmUgaWYgeW91IHdhbnQgdG8gaGF2ZSBhIGRpcmVjdCBjb25uZWN0aW9uIHRvIHRoZSBSZWFsdGltZSBBUEkuXG4gKlxuICogVW5sZXNzIHlvdSBzcGVjaWZ5IGEgYG1lZGlhU3RyZWFtYCBvciBgYXVkaW9FbGVtZW50YCBvcHRpb24sIHRoZSB0cmFuc3BvcnQgbGF5ZXIgd2lsbFxuICogYXV0b21hdGljYWxseSBjb25maWd1cmUgdGhlIG1pY3JvcGhvbmUgYW5kIGF1ZGlvIG91dHB1dCB0byBiZSB1c2VkIGJ5IHRoZSBzZXNzaW9uLlxuICovXG5leHBvcnQgY2xhc3MgT3BlbkFJUmVhbHRpbWVXZWJSVEMgZXh0ZW5kcyBPcGVuQUlSZWFsdGltZUJhc2Uge1xuICAgIG9wdGlvbnM7XG4gICAgI3VybDtcbiAgICAjc3RhdGUgPSB7XG4gICAgICAgIHN0YXR1czogJ2Rpc2Nvbm5lY3RlZCcsXG4gICAgICAgIHBlZXJDb25uZWN0aW9uOiB1bmRlZmluZWQsXG4gICAgICAgIGRhdGFDaGFubmVsOiB1bmRlZmluZWQsXG4gICAgICAgIGNhbGxJZDogdW5kZWZpbmVkLFxuICAgIH07XG4gICAgI3VzZUluc2VjdXJlQXBpS2V5O1xuICAgICNvbmdvaW5nUmVzcG9uc2UgPSBmYWxzZTtcbiAgICAjbXV0ZWQgPSBmYWxzZTtcbiAgICBjb25zdHJ1Y3RvcihvcHRpb25zID0ge30pIHtcbiAgICAgICAgaWYgKHR5cGVvZiBSVENQZWVyQ29ubmVjdGlvbiA9PT0gJ3VuZGVmaW5lZCcpIHtcbiAgICAgICAgICAgIHRocm93IG5ldyBFcnJvcignV2ViUlRDIGlzIG5vdCBzdXBwb3J0ZWQgaW4gdGhpcyBlbnZpcm9ubWVudCcpO1xuICAgICAgICB9XG4gICAgICAgIHN1cGVyKG9wdGlvbnMpO1xuICAgICAgICB0aGlzLm9wdGlvbnMgPSBvcHRpb25zO1xuICAgICAgICB0aGlzLiN1cmwgPSBvcHRpb25zLmJhc2VVcmwgPz8gYGh0dHBzOi8vYXBpLm9wZW5haS5jb20vdjEvcmVhbHRpbWUvY2FsbHNgO1xuICAgICAgICB0aGlzLiN1c2VJbnNlY3VyZUFwaUtleSA9IG9wdGlvbnMudXNlSW5zZWN1cmVBcGlLZXkgPz8gZmFsc2U7XG4gICAgfVxuICAgIC8qKlxuICAgICAqIFRoZSBjdXJyZW50IGNhbGwgSUQgb2YgdGhlIFdlYlJUQyBjb25uZWN0aW9uLlxuICAgICAqL1xuICAgIGdldCBjYWxsSWQoKSB7XG4gICAgICAgIHJldHVybiB0aGlzLiNzdGF0ZS5jYWxsSWQ7XG4gICAgfVxuICAgIC8qKlxuICAgICAqIFRoZSBjdXJyZW50IHN0YXR1cyBvZiB0aGUgV2ViUlRDIGNvbm5lY3Rpb24uXG4gICAgICovXG4gICAgZ2V0IHN0YXR1cygpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuI3N0YXRlLnN0YXR1cztcbiAgICB9XG4gICAgLyoqXG4gICAgICogVGhlIGN1cnJlbnQgY29ubmVjdGlvbiBzdGF0ZSBvZiB0aGUgV2ViUlRDIGNvbm5lY3Rpb24gaW5jbHVkaW5nIHRoZSBwZWVyIGNvbm5lY3Rpb24gYW5kIGRhdGFcbiAgICAgKiBjaGFubmVsLlxuICAgICAqL1xuICAgIGdldCBjb25uZWN0aW9uU3RhdGUoKSB7XG4gICAgICAgIHJldHVybiB0aGlzLiNzdGF0ZTtcbiAgICB9XG4gICAgLyoqXG4gICAgICogV2hldGhlciB0aGUgc2Vzc2lvbiBpcyBtdXRlZC5cbiAgICAgKi9cbiAgICBnZXQgbXV0ZWQoKSB7XG4gICAgICAgIHJldHVybiB0aGlzLiNtdXRlZDtcbiAgICB9XG4gICAgLyoqXG4gICAgICogQ29ubmVjdCB0byB0aGUgUmVhbHRpbWUgQVBJLiBUaGlzIHdpbGwgZXN0YWJsaXNoIHRoZSBjb25uZWN0aW9uIHRvIHRoZSBPcGVuQUkgUmVhbHRpbWUgQVBJXG4gICAgICogdmlhIFdlYlJUQy5cbiAgICAgKlxuICAgICAqIElmIHlvdSBhcmUgdXNpbmcgYSBicm93c2VyLCB0aGUgdHJhbnNwb3J0IGxheWVyIHdpbGwgYWxzbyBhdXRvbWF0aWNhbGx5IGNvbmZpZ3VyZSB0aGVcbiAgICAgKiBtaWNyb3Bob25lIGFuZCBhdWRpbyBvdXRwdXQgdG8gYmUgdXNlZCBieSB0aGUgc2Vzc2lvbi5cbiAgICAgKlxuICAgICAqIEBwYXJhbSBvcHRpb25zIC0gVGhlIG9wdGlvbnMgZm9yIHRoZSBjb25uZWN0aW9uLlxuICAgICAqL1xuICAgIGFzeW5jIGNvbm5lY3Qob3B0aW9ucykge1xuICAgICAgICBpZiAodGhpcy4jc3RhdGUuc3RhdHVzID09PSAnY29ubmVjdGVkJykge1xuICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICB9XG4gICAgICAgIGlmICh0aGlzLiNzdGF0ZS5zdGF0dXMgPT09ICdjb25uZWN0aW5nJykge1xuICAgICAgICAgICAgbG9nZ2VyLndhcm4oJ1JlYWx0aW1lIGNvbm5lY3Rpb24gYWxyZWFkeSBpbiBwcm9ncmVzcy4gUGxlYXNlIGF3YWl0IG9yaWdpbmFsIHByb21pc2UnKTtcbiAgICAgICAgfVxuICAgICAgICBjb25zdCBtb2RlbCA9IG9wdGlvbnMubW9kZWwgPz8gdGhpcy5jdXJyZW50TW9kZWw7XG4gICAgICAgIHRoaXMuY3VycmVudE1vZGVsID0gbW9kZWw7XG4gICAgICAgIGNvbnN0IGJhc2VVcmwgPSBvcHRpb25zLnVybCA/PyB0aGlzLiN1cmw7XG4gICAgICAgIGNvbnN0IGFwaUtleSA9IGF3YWl0IHRoaXMuX2dldEFwaUtleShvcHRpb25zKTtcbiAgICAgICAgY29uc3QgaXNDbGllbnRLZXkgPSB0eXBlb2YgYXBpS2V5ID09PSAnc3RyaW5nJyAmJiBhcGlLZXkuc3RhcnRzV2l0aCgnZWtfJyk7XG4gICAgICAgIGlmIChpc0Jyb3dzZXJFbnZpcm9ubWVudCgpICYmICF0aGlzLiN1c2VJbnNlY3VyZUFwaUtleSAmJiAhaXNDbGllbnRLZXkpIHtcbiAgICAgICAgICAgIHRocm93IG5ldyBVc2VyRXJyb3IoJ1VzaW5nIHRoZSBXZWJSVEMgY29ubmVjdGlvbiBpbiBhIGJyb3dzZXIgZW52aXJvbm1lbnQgcmVxdWlyZXMgYW4gZXBoZW1lcmFsIGNsaWVudCBrZXkuIElmIHlvdSBuZWVkIHRvIHVzZSBhIHJlZ3VsYXIgQVBJIGtleSwgdXNlIHRoZSBXZWJTb2NrZXQgdHJhbnNwb3J0IG9yIHNldCB0aGUgYHVzZUluc2VjdXJlQXBpS2V5YCBvcHRpb24gdG8gdHJ1ZS4nKTtcbiAgICAgICAgfVxuICAgICAgICAvLyBlc2xpbnQtZGlzYWJsZS1uZXh0LWxpbmUgbm8tYXN5bmMtcHJvbWlzZS1leGVjdXRvclxuICAgICAgICByZXR1cm4gbmV3IFByb21pc2UoYXN5bmMgKHJlc29sdmUsIHJlamVjdCkgPT4ge1xuICAgICAgICAgICAgdHJ5IHtcbiAgICAgICAgICAgICAgICBjb25zdCB1c2VyU2Vzc2lvbkNvbmZpZyA9IHtcbiAgICAgICAgICAgICAgICAgICAgLi4uKG9wdGlvbnMuaW5pdGlhbFNlc3Npb25Db25maWcgfHwge30pLFxuICAgICAgICAgICAgICAgICAgICBtb2RlbDogdGhpcy5jdXJyZW50TW9kZWwsXG4gICAgICAgICAgICAgICAgfTtcbiAgICAgICAgICAgICAgICBjb25zdCBjb25uZWN0aW9uVXJsID0gbmV3IFVSTChiYXNlVXJsKTtcbiAgICAgICAgICAgICAgICBsZXQgcGVlckNvbm5lY3Rpb24gPSBuZXcgUlRDUGVlckNvbm5lY3Rpb24oKTtcbiAgICAgICAgICAgICAgICBjb25zdCBkYXRhQ2hhbm5lbCA9IHBlZXJDb25uZWN0aW9uLmNyZWF0ZURhdGFDaGFubmVsKCdvYWktZXZlbnRzJyk7XG4gICAgICAgICAgICAgICAgbGV0IGNhbGxJZCA9IHVuZGVmaW5lZDtcbiAgICAgICAgICAgICAgICBjb25zdCBhdHRhY2hDb25uZWN0aW9uU3RhdGVIYW5kbGVyID0gKGNvbm5lY3Rpb24pID0+IHtcbiAgICAgICAgICAgICAgICAgICAgY29ubmVjdGlvbi5vbmNvbm5lY3Rpb25zdGF0ZWNoYW5nZSA9ICgpID0+IHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHN3aXRjaCAoY29ubmVjdGlvbi5jb25uZWN0aW9uU3RhdGUpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBjYXNlICdkaXNjb25uZWN0ZWQnOlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNhc2UgJ2ZhaWxlZCc6XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgY2FzZSAnY2xvc2VkJzpcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5jbG9zZSgpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAvLyAnY29ubmVjdGVkJyBzdGF0ZSBpcyBoYW5kbGVkIGJ5IGRhdGFDaGFubmVsLm9ub3Blbi4gU28gd2UgZG9uJ3QgbmVlZCB0byBoYW5kbGUgaXQgaGVyZS5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAvLyAnbmV3JyBhbmQgJ2Nvbm5lY3RpbmcnIGFyZSBpbnRlcm1lZGlhdGUgc3RhdGVzIGFuZCBkbyBub3QgcmVxdWlyZSBhY3Rpb24gaGVyZS5cbiAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgfTtcbiAgICAgICAgICAgICAgICB9O1xuICAgICAgICAgICAgICAgIGF0dGFjaENvbm5lY3Rpb25TdGF0ZUhhbmRsZXIocGVlckNvbm5lY3Rpb24pO1xuICAgICAgICAgICAgICAgIHRoaXMuI3N0YXRlID0ge1xuICAgICAgICAgICAgICAgICAgICBzdGF0dXM6ICdjb25uZWN0aW5nJyxcbiAgICAgICAgICAgICAgICAgICAgcGVlckNvbm5lY3Rpb24sXG4gICAgICAgICAgICAgICAgICAgIGRhdGFDaGFubmVsLFxuICAgICAgICAgICAgICAgICAgICBjYWxsSWQsXG4gICAgICAgICAgICAgICAgfTtcbiAgICAgICAgICAgICAgICB0aGlzLmVtaXQoJ2Nvbm5lY3Rpb25fY2hhbmdlJywgdGhpcy4jc3RhdGUuc3RhdHVzKTtcbiAgICAgICAgICAgICAgICBkYXRhQ2hhbm5lbC5hZGRFdmVudExpc3RlbmVyKCdvcGVuJywgKCkgPT4ge1xuICAgICAgICAgICAgICAgICAgICB0aGlzLiNzdGF0ZSA9IHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHN0YXR1czogJ2Nvbm5lY3RlZCcsXG4gICAgICAgICAgICAgICAgICAgICAgICBwZWVyQ29ubmVjdGlvbixcbiAgICAgICAgICAgICAgICAgICAgICAgIGRhdGFDaGFubmVsLFxuICAgICAgICAgICAgICAgICAgICAgICAgY2FsbElkLFxuICAgICAgICAgICAgICAgICAgICB9O1xuICAgICAgICAgICAgICAgICAgICAvLyBTZW5kaW5nIHRoZSBzZXNzaW9uIGNvbmZpZyBhZ2FpbiBoZXJlIG9uY2UgdGhlIGNoYW5uZWwgaXMgY29ubmVjdGVkIHRvIGVuc3VyZVxuICAgICAgICAgICAgICAgICAgICAvLyB0aGF0IHRoZSBzZXNzaW9uIGNvbmZpZyBpcyBzZW50IHRvIHRoZSBzZXJ2ZXIgYmVmb3JlIHRoZSBmaXJzdCByZXNwb25zZSBpcyByZWNlaXZlZFxuICAgICAgICAgICAgICAgICAgICAvLyBTZXR0aW5nIGl0IG9uIGNvbm5lY3Rpb24gc2hvdWxkIHdvcmsgYnV0IHRoZSBjb25maWcgaXMgbm90IGJlaW5nIHZhbGlkYXRlZCBvbiB0aGVcbiAgICAgICAgICAgICAgICAgICAgLy8gc2VydmVyLiBUaGlzIHRyaWdnZXJzIGEgdmFsaWRhdGlvbiBlcnJvciBpZiB0aGUgY29uZmlnIGlzIG5vdCB2YWxpZC5cbiAgICAgICAgICAgICAgICAgICAgdGhpcy51cGRhdGVTZXNzaW9uQ29uZmlnKHVzZXJTZXNzaW9uQ29uZmlnKTtcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5lbWl0KCdjb25uZWN0aW9uX2NoYW5nZScsIHRoaXMuI3N0YXRlLnN0YXR1cyk7XG4gICAgICAgICAgICAgICAgICAgIHRoaXMuX29uT3BlbigpO1xuICAgICAgICAgICAgICAgICAgICByZXNvbHZlKCk7XG4gICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICAgICAgZGF0YUNoYW5uZWwuYWRkRXZlbnRMaXN0ZW5lcignZXJyb3InLCAoZXZlbnQpID0+IHtcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5jbG9zZSgpO1xuICAgICAgICAgICAgICAgICAgICB0aGlzLl9vbkVycm9yKGV2ZW50KTtcbiAgICAgICAgICAgICAgICAgICAgcmVqZWN0KGV2ZW50KTtcbiAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgICAgICBkYXRhQ2hhbm5lbC5hZGRFdmVudExpc3RlbmVyKCdtZXNzYWdlJywgKGV2ZW50KSA9PiB7XG4gICAgICAgICAgICAgICAgICAgIHRoaXMuX29uTWVzc2FnZShldmVudCk7XG4gICAgICAgICAgICAgICAgICAgIGNvbnN0IHsgZGF0YTogcGFyc2VkLCBpc0dlbmVyaWMgfSA9IHBhcnNlUmVhbHRpbWVFdmVudChldmVudCk7XG4gICAgICAgICAgICAgICAgICAgIGlmICghcGFyc2VkIHx8IGlzR2VuZXJpYykge1xuICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIGlmIChwYXJzZWQudHlwZSA9PT0gJ3Jlc3BvbnNlLmNyZWF0ZWQnKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICB0aGlzLiNvbmdvaW5nUmVzcG9uc2UgPSB0cnVlO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIGVsc2UgaWYgKHBhcnNlZC50eXBlID09PSAncmVzcG9uc2UuZG9uZScpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMuI29uZ29pbmdSZXNwb25zZSA9IGZhbHNlO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIGlmIChwYXJzZWQudHlwZSA9PT0gJ3Nlc3Npb24uY3JlYXRlZCcpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMuX3RyYWNpbmdDb25maWcgPSBwYXJzZWQuc2Vzc2lvbi50cmFjaW5nO1xuICAgICAgICAgICAgICAgICAgICAgICAgLy8gVHJ5aW5nIHRvIHR1cm4gb24gdHJhY2luZyBhZnRlciB0aGUgc2Vzc2lvbiBpcyBjcmVhdGVkXG4gICAgICAgICAgICAgICAgICAgICAgICBjb25zdCB0cmFjaW5nQ29uZmlnID0gdHlwZW9mIHVzZXJTZXNzaW9uQ29uZmlnLnRyYWNpbmcgPT09ICd1bmRlZmluZWQnXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgPyAnYXV0bydcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICA6IHVzZXJTZXNzaW9uQ29uZmlnLnRyYWNpbmc7XG4gICAgICAgICAgICAgICAgICAgICAgICB0aGlzLl91cGRhdGVUcmFjaW5nQ29uZmlnKHRyYWNpbmdDb25maWcpO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICAgICAgLy8gc2V0IHVwIGF1ZGlvIHBsYXliYWNrXG4gICAgICAgICAgICAgICAgY29uc3QgYXVkaW9FbGVtZW50ID0gdGhpcy5vcHRpb25zLmF1ZGlvRWxlbWVudCA/PyBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdhdWRpbycpO1xuICAgICAgICAgICAgICAgIGF1ZGlvRWxlbWVudC5hdXRvcGxheSA9IHRydWU7XG4gICAgICAgICAgICAgICAgcGVlckNvbm5lY3Rpb24ub250cmFjayA9IChldmVudCkgPT4ge1xuICAgICAgICAgICAgICAgICAgICBhdWRpb0VsZW1lbnQuc3JjT2JqZWN0ID0gZXZlbnQuc3RyZWFtc1swXTtcbiAgICAgICAgICAgICAgICB9O1xuICAgICAgICAgICAgICAgIC8vIGdldCBtaWNyb3Bob25lIHN0cmVhbVxuICAgICAgICAgICAgICAgIGNvbnN0IHN0cmVhbSA9IHRoaXMub3B0aW9ucy5tZWRpYVN0cmVhbSA/P1xuICAgICAgICAgICAgICAgICAgICAoYXdhaXQgbmF2aWdhdG9yLm1lZGlhRGV2aWNlcy5nZXRVc2VyTWVkaWEoe1xuICAgICAgICAgICAgICAgICAgICAgICAgYXVkaW86IHRydWUsXG4gICAgICAgICAgICAgICAgICAgIH0pKTtcbiAgICAgICAgICAgICAgICBwZWVyQ29ubmVjdGlvbi5hZGRUcmFjayhzdHJlYW0uZ2V0QXVkaW9UcmFja3MoKVswXSk7XG4gICAgICAgICAgICAgICAgaWYgKHRoaXMub3B0aW9ucy5jaGFuZ2VQZWVyQ29ubmVjdGlvbikge1xuICAgICAgICAgICAgICAgICAgICBjb25zdCBvcmlnaW5hbFBlZXJDb25uZWN0aW9uID0gcGVlckNvbm5lY3Rpb247XG4gICAgICAgICAgICAgICAgICAgIHBlZXJDb25uZWN0aW9uID1cbiAgICAgICAgICAgICAgICAgICAgICAgIGF3YWl0IHRoaXMub3B0aW9ucy5jaGFuZ2VQZWVyQ29ubmVjdGlvbihwZWVyQ29ubmVjdGlvbik7XG4gICAgICAgICAgICAgICAgICAgIGlmIChvcmlnaW5hbFBlZXJDb25uZWN0aW9uICE9PSBwZWVyQ29ubmVjdGlvbikge1xuICAgICAgICAgICAgICAgICAgICAgICAgb3JpZ2luYWxQZWVyQ29ubmVjdGlvbi5vbmNvbm5lY3Rpb25zdGF0ZWNoYW5nZSA9IG51bGw7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgYXR0YWNoQ29ubmVjdGlvblN0YXRlSGFuZGxlcihwZWVyQ29ubmVjdGlvbik7XG4gICAgICAgICAgICAgICAgICAgIHRoaXMuI3N0YXRlID0geyAuLi50aGlzLiNzdGF0ZSwgcGVlckNvbm5lY3Rpb24gfTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgY29uc3Qgb2ZmZXIgPSBhd2FpdCBwZWVyQ29ubmVjdGlvbi5jcmVhdGVPZmZlcigpO1xuICAgICAgICAgICAgICAgIGF3YWl0IHBlZXJDb25uZWN0aW9uLnNldExvY2FsRGVzY3JpcHRpb24ob2ZmZXIpO1xuICAgICAgICAgICAgICAgIGlmICghb2ZmZXIuc2RwKSB7XG4gICAgICAgICAgICAgICAgICAgIHRocm93IG5ldyBFcnJvcignRmFpbGVkIHRvIGNyZWF0ZSBvZmZlcicpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBjb25zdCBzZHBSZXNwb25zZSA9IGF3YWl0IGZldGNoKGNvbm5lY3Rpb25VcmwsIHtcbiAgICAgICAgICAgICAgICAgICAgbWV0aG9kOiAnUE9TVCcsXG4gICAgICAgICAgICAgICAgICAgIGJvZHk6IG9mZmVyLnNkcCxcbiAgICAgICAgICAgICAgICAgICAgaGVhZGVyczoge1xuICAgICAgICAgICAgICAgICAgICAgICAgJ0NvbnRlbnQtVHlwZSc6ICdhcHBsaWNhdGlvbi9zZHAnLFxuICAgICAgICAgICAgICAgICAgICAgICAgQXV0aG9yaXphdGlvbjogYEJlYXJlciAke2FwaUtleX1gLFxuICAgICAgICAgICAgICAgICAgICAgICAgJ1gtT3BlbkFJLUFnZW50cy1TREsnOiBIRUFERVJTWydYLU9wZW5BSS1BZ2VudHMtU0RLJ10sXG4gICAgICAgICAgICAgICAgICAgIH0sXG4gICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICAgICAgY2FsbElkID0gc2RwUmVzcG9uc2UuaGVhZGVycz8uZ2V0KCdMb2NhdGlvbicpPy5zcGxpdCgnLycpLnBvcCgpO1xuICAgICAgICAgICAgICAgIHRoaXMuI3N0YXRlID0geyAuLi50aGlzLiNzdGF0ZSwgY2FsbElkIH07XG4gICAgICAgICAgICAgICAgY29uc3QgYW5zd2VyID0ge1xuICAgICAgICAgICAgICAgICAgICB0eXBlOiAnYW5zd2VyJyxcbiAgICAgICAgICAgICAgICAgICAgc2RwOiBhd2FpdCBzZHBSZXNwb25zZS50ZXh0KCksXG4gICAgICAgICAgICAgICAgfTtcbiAgICAgICAgICAgICAgICBhd2FpdCBwZWVyQ29ubmVjdGlvbi5zZXRSZW1vdGVEZXNjcmlwdGlvbihhbnN3ZXIpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgY2F0Y2ggKGVycm9yKSB7XG4gICAgICAgICAgICAgICAgdGhpcy5jbG9zZSgpO1xuICAgICAgICAgICAgICAgIHRoaXMuX29uRXJyb3IoZXJyb3IpO1xuICAgICAgICAgICAgICAgIHJlamVjdChlcnJvcik7XG4gICAgICAgICAgICB9XG4gICAgICAgIH0pO1xuICAgIH1cbiAgICAvKipcbiAgICAgKiBTZW5kIGFuIGV2ZW50IHRvIHRoZSBSZWFsdGltZSBBUEkuIFRoaXMgd2lsbCBzdHJpbmdpZnkgdGhlIGV2ZW50IGFuZCBzZW5kIGl0IGRpcmVjdGx5IHRvIHRoZVxuICAgICAqIEFQSS4gVGhpcyBjYW4gYmUgdXNlZCBpZiB5b3Ugd2FudCB0byB0YWtlIGNvbnRyb2wgb3ZlciB0aGUgY29ubmVjdGlvbiBhbmQgc2VuZCBldmVudHMgbWFudWFsbHkuXG4gICAgICpcbiAgICAgKiBAcGFyYW0gZXZlbnQgLSBUaGUgZXZlbnQgdG8gc2VuZC5cbiAgICAgKi9cbiAgICBzZW5kRXZlbnQoZXZlbnQpIHtcbiAgICAgICAgaWYgKCF0aGlzLiNzdGF0ZS5kYXRhQ2hhbm5lbCB8fFxuICAgICAgICAgICAgdGhpcy4jc3RhdGUuZGF0YUNoYW5uZWwucmVhZHlTdGF0ZSAhPT0gJ29wZW4nKSB7XG4gICAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoJ1dlYlJUQyBkYXRhIGNoYW5uZWwgaXMgbm90IGNvbm5lY3RlZC4gTWFrZSBzdXJlIHlvdSBjYWxsIGBjb25uZWN0KClgIGJlZm9yZSBzZW5kaW5nIGV2ZW50cy4nKTtcbiAgICAgICAgfVxuICAgICAgICB0aGlzLiNzdGF0ZS5kYXRhQ2hhbm5lbC5zZW5kKEpTT04uc3RyaW5naWZ5KGV2ZW50KSk7XG4gICAgfVxuICAgIC8qKlxuICAgICAqIE11dGUgb3IgdW5tdXRlIHRoZSBzZXNzaW9uLlxuICAgICAqIEBwYXJhbSBtdXRlZCAtIFdoZXRoZXIgdG8gbXV0ZSB0aGUgc2Vzc2lvbi5cbiAgICAgKi9cbiAgICBtdXRlKG11dGVkKSB7XG4gICAgICAgIHRoaXMuI211dGVkID0gbXV0ZWQ7XG4gICAgICAgIGlmICh0aGlzLiNzdGF0ZS5wZWVyQ29ubmVjdGlvbikge1xuICAgICAgICAgICAgY29uc3QgcGVlckNvbm5lY3Rpb24gPSB0aGlzLiNzdGF0ZS5wZWVyQ29ubmVjdGlvbjtcbiAgICAgICAgICAgIHBlZXJDb25uZWN0aW9uLmdldFNlbmRlcnMoKS5mb3JFYWNoKChzZW5kZXIpID0+IHtcbiAgICAgICAgICAgICAgICBpZiAoc2VuZGVyLnRyYWNrKSB7XG4gICAgICAgICAgICAgICAgICAgIHNlbmRlci50cmFjay5lbmFibGVkID0gIW11dGVkO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH0pO1xuICAgICAgICB9XG4gICAgfVxuICAgIF9hZnRlckF1ZGlvRG9uZUV2ZW50KCkge1xuICAgICAgICB0aGlzLiNvbmdvaW5nUmVzcG9uc2UgPSBmYWxzZTtcbiAgICB9XG4gICAgLyoqXG4gICAgICogQ2xvc2UgdGhlIGNvbm5lY3Rpb24gdG8gdGhlIFJlYWx0aW1lIEFQSSBhbmQgZGlzY29ubmVjdHMgdGhlIHVuZGVybHlpbmcgV2ViUlRDIGNvbm5lY3Rpb24uXG4gICAgICovXG4gICAgY2xvc2UoKSB7XG4gICAgICAgIGlmICh0aGlzLiNzdGF0ZS5kYXRhQ2hhbm5lbCkge1xuICAgICAgICAgICAgdGhpcy4jc3RhdGUuZGF0YUNoYW5uZWwuY2xvc2UoKTtcbiAgICAgICAgfVxuICAgICAgICBpZiAodGhpcy4jc3RhdGUucGVlckNvbm5lY3Rpb24pIHtcbiAgICAgICAgICAgIGNvbnN0IHBlZXJDb25uZWN0aW9uID0gdGhpcy4jc3RhdGUucGVlckNvbm5lY3Rpb247XG4gICAgICAgICAgICBwZWVyQ29ubmVjdGlvbi5vbmNvbm5lY3Rpb25zdGF0ZWNoYW5nZSA9IG51bGw7XG4gICAgICAgICAgICBwZWVyQ29ubmVjdGlvbi5nZXRTZW5kZXJzKCkuZm9yRWFjaCgoc2VuZGVyKSA9PiB7XG4gICAgICAgICAgICAgICAgc2VuZGVyLnRyYWNrPy5zdG9wKCk7XG4gICAgICAgICAgICB9KTtcbiAgICAgICAgICAgIHBlZXJDb25uZWN0aW9uLmNsb3NlKCk7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKHRoaXMuI3N0YXRlLnN0YXR1cyAhPT0gJ2Rpc2Nvbm5lY3RlZCcpIHtcbiAgICAgICAgICAgIHRoaXMuI3N0YXRlID0ge1xuICAgICAgICAgICAgICAgIHN0YXR1czogJ2Rpc2Nvbm5lY3RlZCcsXG4gICAgICAgICAgICAgICAgcGVlckNvbm5lY3Rpb246IHVuZGVmaW5lZCxcbiAgICAgICAgICAgICAgICBkYXRhQ2hhbm5lbDogdW5kZWZpbmVkLFxuICAgICAgICAgICAgICAgIGNhbGxJZDogdW5kZWZpbmVkLFxuICAgICAgICAgICAgfTtcbiAgICAgICAgICAgIHRoaXMuZW1pdCgnY29ubmVjdGlvbl9jaGFuZ2UnLCB0aGlzLiNzdGF0ZS5zdGF0dXMpO1xuICAgICAgICAgICAgdGhpcy5fb25DbG9zZSgpO1xuICAgICAgICB9XG4gICAgfVxuICAgIC8qKlxuICAgICAqIEludGVycnVwdCB0aGUgY3VycmVudCByZXNwb25zZSBpZiBvbmUgaXMgb25nb2luZyBhbmQgY2xlYXIgdGhlIGF1ZGlvIGJ1ZmZlciBzbyB0aGF0IHRoZSBhZ2VudFxuICAgICAqIHN0b3BzIHRhbGtpbmcuXG4gICAgICovXG4gICAgaW50ZXJydXB0KCkge1xuICAgICAgICBpZiAodGhpcy4jb25nb2luZ1Jlc3BvbnNlKSB7XG4gICAgICAgICAgICB0aGlzLnNlbmRFdmVudCh7XG4gICAgICAgICAgICAgICAgdHlwZTogJ3Jlc3BvbnNlLmNhbmNlbCcsXG4gICAgICAgICAgICB9KTtcbiAgICAgICAgICAgIHRoaXMuI29uZ29pbmdSZXNwb25zZSA9IGZhbHNlO1xuICAgICAgICB9XG4gICAgICAgIHRoaXMuc2VuZEV2ZW50KHtcbiAgICAgICAgICAgIHR5cGU6ICdvdXRwdXRfYXVkaW9fYnVmZmVyLmNsZWFyJyxcbiAgICAgICAgfSk7XG4gICAgfVxufVxuLy8jIHNvdXJjZU1hcHBpbmdVUkw9b3BlbmFpUmVhbHRpbWVXZWJSdGMubWpzLm1hcCIsIi8vLyA8cmVmZXJlbmNlIGxpYj1cImRvbVwiIC8+XG5leHBvcnQgY29uc3QgV2ViU29ja2V0ID0gZ2xvYmFsVGhpcy5XZWJTb2NrZXQ7XG5leHBvcnQgZnVuY3Rpb24gaXNCcm93c2VyRW52aXJvbm1lbnQoKSB7XG4gICAgcmV0dXJuIHRydWU7XG59XG5leHBvcnQgY29uc3QgdXNlV2ViU29ja2V0UHJvdG9jb2xzID0gdHJ1ZTtcbi8vIyBzb3VyY2VNYXBwaW5nVVJMPXNoaW1zLWJyb3dzZXIubWpzLm1hcCIsImltcG9ydCB7IGlzQnJvd3NlckVudmlyb25tZW50LCB1c2VXZWJTb2NrZXRQcm90b2NvbHMsIFdlYlNvY2tldCwgfSBmcm9tICdAb3BlbmFpL2FnZW50cy1yZWFsdGltZS9fc2hpbXMnO1xuaW1wb3J0IHsgT3BlbkFJUmVhbHRpbWVCYXNlLCB9IGZyb20gXCIuL29wZW5haVJlYWx0aW1lQmFzZS5tanNcIjtcbmltcG9ydCB7IGJhc2U2NFRvQXJyYXlCdWZmZXIsIEhFQURFUlMsIFdFQlNPQ0tFVF9NRVRBIH0gZnJvbSBcIi4vdXRpbHMubWpzXCI7XG5pbXBvcnQgeyBVc2VyRXJyb3IgfSBmcm9tICdAb3BlbmFpL2FnZW50cy1jb3JlJztcbmltcG9ydCB7IHBhcnNlUmVhbHRpbWVFdmVudCB9IGZyb20gXCIuL29wZW5haVJlYWx0aW1lRXZlbnRzLm1qc1wiO1xuLyoqXG4gKiBUcmFuc3BvcnQgbGF5ZXIgdGhhdCdzIGhhbmRsaW5nIHRoZSBjb25uZWN0aW9uIGJldHdlZW4gdGhlIGNsaWVudCBhbmQgT3BlbkFJJ3MgUmVhbHRpbWUgQVBJXG4gKiB2aWEgV2ViU29ja2V0cy4gV2hpbGUgdGhpcyB0cmFuc3BvcnQgbGF5ZXIgaXMgZGVzaWduZWQgdG8gYmUgdXNlZCB3aXRoaW4gYSBSZWFsdGltZVNlc3Npb24sIGl0XG4gKiBjYW4gYWxzbyBiZSB1c2VkIHN0YW5kYWxvbmUgaWYgeW91IHdhbnQgdG8gaGF2ZSBhIGRpcmVjdCBjb25uZWN0aW9uIHRvIHRoZSBSZWFsdGltZSBBUEkuXG4gKi9cbmV4cG9ydCBjbGFzcyBPcGVuQUlSZWFsdGltZVdlYlNvY2tldCBleHRlbmRzIE9wZW5BSVJlYWx0aW1lQmFzZSB7XG4gICAgI2FwaUtleTtcbiAgICAjdXJsO1xuICAgICNkZWZhdWx0VXJsO1xuICAgICNzdGF0ZSA9IHtcbiAgICAgICAgc3RhdHVzOiAnZGlzY29ubmVjdGVkJyxcbiAgICAgICAgd2Vic29ja2V0OiB1bmRlZmluZWQsXG4gICAgfTtcbiAgICAjdXNlSW5zZWN1cmVBcGlLZXk7XG4gICAgI2N1cnJlbnRJdGVtSWQ7XG4gICAgI2N1cnJlbnRBdWRpb0NvbnRlbnRJbmRleDtcbiAgICAvKipcbiAgICAgKiBUaW1lc3RhbXAgbWFpbnRhaW5lZCBieSB0aGUgdHJhbnNwb3J0IGxheWVyIHRvIGFpZCB3aXRoIHRoZSBjYWxjdWxhdGlvbiBvZiB0aGUgZWxhcHNlZCB0aW1lXG4gICAgICogc2luY2UgdGhlIHJlc3BvbnNlIHN0YXJ0ZWQgdG8gY29tcHV0ZSB0aGUgcmlnaHQgaW50ZXJydXB0aW9uIHRpbWUuXG4gICAgICpcbiAgICAgKiBNb3N0bHkgaW50ZXJuYWwgYnV0IG1pZ2h0IGJlIHVzZWQgYnkgZXh0ZW5kZWQgdHJhbnNwb3J0IGxheWVycyBmb3IgdGhlaXIgaW50ZXJydXB0aW9uXG4gICAgICogY2FsY3VsYXRpb24uXG4gICAgICovXG4gICAgX2ZpcnN0QXVkaW9UaW1lc3RhbXA7XG4gICAgX2F1ZGlvTGVuZ3RoTXMgPSAwO1xuICAgICNvbmdvaW5nUmVzcG9uc2UgPSBmYWxzZTtcbiAgICAjY3JlYXRlV2ViU29ja2V0O1xuICAgICNza2lwT3BlbkV2ZW50TGlzdGVuZXJzO1xuICAgICNyZXNldEF1ZGlvUGxheWJhY2tTdGF0ZSgpIHtcbiAgICAgICAgdGhpcy4jY3VycmVudEl0ZW1JZCA9IHVuZGVmaW5lZDtcbiAgICAgICAgdGhpcy5fZmlyc3RBdWRpb1RpbWVzdGFtcCA9IHVuZGVmaW5lZDtcbiAgICAgICAgdGhpcy5fYXVkaW9MZW5ndGhNcyA9IDA7XG4gICAgICAgIHRoaXMuI2N1cnJlbnRBdWRpb0NvbnRlbnRJbmRleCA9IHVuZGVmaW5lZDtcbiAgICB9XG4gICAgY29uc3RydWN0b3Iob3B0aW9ucyA9IHt9KSB7XG4gICAgICAgIHN1cGVyKG9wdGlvbnMpO1xuICAgICAgICB0aGlzLiN1cmwgPSBvcHRpb25zLnVybDtcbiAgICAgICAgdGhpcy4jZGVmYXVsdFVybCA9IG9wdGlvbnMudXJsO1xuICAgICAgICB0aGlzLiN1c2VJbnNlY3VyZUFwaUtleSA9IG9wdGlvbnMudXNlSW5zZWN1cmVBcGlLZXkgPz8gZmFsc2U7XG4gICAgICAgIHRoaXMuI2NyZWF0ZVdlYlNvY2tldCA9IG9wdGlvbnMuY3JlYXRlV2ViU29ja2V0O1xuICAgICAgICB0aGlzLiNza2lwT3BlbkV2ZW50TGlzdGVuZXJzID0gb3B0aW9ucy5za2lwT3BlbkV2ZW50TGlzdGVuZXJzID8/IGZhbHNlO1xuICAgIH1cbiAgICBnZXRDb21tb25SZXF1ZXN0SGVhZGVycygpIHtcbiAgICAgICAgcmV0dXJuIEhFQURFUlM7XG4gICAgfVxuICAgIC8qKlxuICAgICAqIFRoZSBjdXJyZW50IHN0YXR1cyBvZiB0aGUgV2ViU29ja2V0IGNvbm5lY3Rpb24uXG4gICAgICovXG4gICAgZ2V0IHN0YXR1cygpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuI3N0YXRlLnN0YXR1cztcbiAgICB9XG4gICAgLyoqXG4gICAgICogVGhlIGN1cnJlbnQgY29ubmVjdGlvbiBzdGF0ZSBvZiB0aGUgV2ViU29ja2V0IGNvbm5lY3Rpb24uXG4gICAgICovXG4gICAgZ2V0IGNvbm5lY3Rpb25TdGF0ZSgpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuI3N0YXRlO1xuICAgIH1cbiAgICAvKipcbiAgICAgKiBBbHdheXMgcmV0dXJucyBgbnVsbGAgYXMgdGhlIFdlYlNvY2tldCB0cmFuc3BvcnQgbGF5ZXIgZG9lcyBub3QgaGFuZGxlIG11dGluZy4gSW5zdGVhZCxcbiAgICAgKiB0aGlzIHNob3VsZCBiZSBoYW5kbGVkIGJ5IHRoZSBjbGllbnQgYnkgbm90IHRyaWdnZXJpbmcgdGhlIGBzZW5kQXVkaW9gIG1ldGhvZC5cbiAgICAgKi9cbiAgICBnZXQgbXV0ZWQoKSB7XG4gICAgICAgIHJldHVybiBudWxsO1xuICAgIH1cbiAgICAvKipcbiAgICAgKiBUaGUgY3VycmVudCBpdGVtIElEIG9mIHRoZSBvbmdvaW5nIHJlc3BvbnNlLlxuICAgICAqL1xuICAgIGdldCBjdXJyZW50SXRlbUlkKCkge1xuICAgICAgICByZXR1cm4gdGhpcy4jY3VycmVudEl0ZW1JZDtcbiAgICB9XG4gICAgLyoqXG4gICAgICogVHJpZ2dlcnMgdGhlIGBhdWRpb2AgZXZlbnQgdGhhdCBhIGNsaWVudCBtaWdodCBsaXN0ZW4gdG8gdG8gcmVjZWl2ZSB0aGUgYXVkaW8gYnVmZmVyLlxuICAgICAqIFByb3RlY3RlZCBmb3IgeW91IHRvIGJlIGFibGUgdG8gb3ZlcnJpZGUgYW5kIGRpc2FibGUgZW1pdHRpbmcgdGhpcyBldmVudCBpbiBjYXNlIHlvdXIgZXh0ZW5kZWRcbiAgICAgKiB0cmFuc3BvcnQgbGF5ZXIgaGFuZGxlcyBhdWRpbyBpbnRlcm5hbGx5LlxuICAgICAqXG4gICAgICogQHBhcmFtIGF1ZGlvRXZlbnQgLSBUaGUgYXVkaW8gZXZlbnQgdG8gZW1pdC5cbiAgICAgKi9cbiAgICBfb25BdWRpbyhhdWRpb0V2ZW50KSB7XG4gICAgICAgIHRoaXMuZW1pdCgnYXVkaW8nLCBhdWRpb0V2ZW50KTtcbiAgICB9XG4gICAgX2FmdGVyQXVkaW9Eb25lRXZlbnQoKSB7XG4gICAgICAgIHRoaXMuI3Jlc2V0QXVkaW9QbGF5YmFja1N0YXRlKCk7XG4gICAgfVxuICAgIGFzeW5jICNzZXR1cFdlYlNvY2tldChyZXNvbHZlLCByZWplY3QsIHNlc3Npb25Db25maWcpIHtcbiAgICAgICAgaWYgKHRoaXMuI3N0YXRlLndlYnNvY2tldCkge1xuICAgICAgICAgICAgcmVzb2x2ZSgpO1xuICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICB9XG4gICAgICAgIGlmICghdGhpcy4jYXBpS2V5KSB7XG4gICAgICAgICAgICB0aHJvdyBuZXcgVXNlckVycm9yKCdBUEkga2V5IGlzIG5vdCBzZXQuIFBsZWFzZSBjYWxsIGBjb25uZWN0KClgIHdpdGggYW4gQVBJIGtleSBmaXJzdC4nKTtcbiAgICAgICAgfVxuICAgICAgICBpZiAoaXNCcm93c2VyRW52aXJvbm1lbnQoKSAmJlxuICAgICAgICAgICAgIXRoaXMuI2FwaUtleS5zdGFydHNXaXRoKCdla18nKSAmJlxuICAgICAgICAgICAgIXRoaXMuI3VzZUluc2VjdXJlQXBpS2V5KSB7XG4gICAgICAgICAgICB0aHJvdyBuZXcgVXNlckVycm9yKCdVc2luZyB0aGUgV2ViU29ja2V0IGNvbm5lY3Rpb24gaW4gYSBicm93c2VyIGVudmlyb25tZW50IHJlcXVpcmVzIGFuIGVwaGVtZXJhbCBjbGllbnQga2V5LiBJZiB5b3UgaGF2ZSB0byB1c2UgYSByZWd1bGFyIEFQSSBrZXksIHNldCB0aGUgYHVzZUluc2VjdXJlQXBpS2V5YCBvcHRpb24gdG8gdHJ1ZS4nKTtcbiAgICAgICAgfVxuICAgICAgICBsZXQgd3MgPSBudWxsO1xuICAgICAgICBpZiAodGhpcy4jY3JlYXRlV2ViU29ja2V0KSB7XG4gICAgICAgICAgICB3cyA9IGF3YWl0IHRoaXMuI2NyZWF0ZVdlYlNvY2tldCh7XG4gICAgICAgICAgICAgICAgdXJsOiB0aGlzLiN1cmwsXG4gICAgICAgICAgICAgICAgYXBpS2V5OiB0aGlzLiNhcGlLZXksXG4gICAgICAgICAgICB9KTtcbiAgICAgICAgfVxuICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgIC8vIGJyb3dzZXJzIGFuZCB3b3JrZXJkIHNob3VsZCB1c2UgdGhlIHByb3RvY29scyBhcmd1bWVudCwgbm9kZSBzaG91bGQgdXNlIHRoZSBoZWFkZXJzIGFyZ3VtZW50XG4gICAgICAgICAgICBjb25zdCB3ZWJzb2NrZXRBcmd1bWVudHMgPSB1c2VXZWJTb2NrZXRQcm90b2NvbHNcbiAgICAgICAgICAgICAgICA/IFtcbiAgICAgICAgICAgICAgICAgICAgJ3JlYWx0aW1lJyxcbiAgICAgICAgICAgICAgICAgICAgLy8gQXV0aFxuICAgICAgICAgICAgICAgICAgICAnb3BlbmFpLWluc2VjdXJlLWFwaS1rZXkuJyArIHRoaXMuI2FwaUtleSxcbiAgICAgICAgICAgICAgICAgICAgLy8gVmVyc2lvbiBoZWFkZXJcbiAgICAgICAgICAgICAgICAgICAgV0VCU09DS0VUX01FVEEsXG4gICAgICAgICAgICAgICAgXVxuICAgICAgICAgICAgICAgIDoge1xuICAgICAgICAgICAgICAgICAgICBoZWFkZXJzOiB7XG4gICAgICAgICAgICAgICAgICAgICAgICBBdXRob3JpemF0aW9uOiBgQmVhcmVyICR7dGhpcy4jYXBpS2V5fWAsXG4gICAgICAgICAgICAgICAgICAgICAgICAuLi50aGlzLmdldENvbW1vblJlcXVlc3RIZWFkZXJzKCksXG4gICAgICAgICAgICAgICAgICAgIH0sXG4gICAgICAgICAgICAgICAgfTtcbiAgICAgICAgICAgIHdzID0gbmV3IFdlYlNvY2tldCh0aGlzLiN1cmwsIHdlYnNvY2tldEFyZ3VtZW50cyk7XG4gICAgICAgIH1cbiAgICAgICAgdGhpcy4jc3RhdGUgPSB7XG4gICAgICAgICAgICBzdGF0dXM6ICdjb25uZWN0aW5nJyxcbiAgICAgICAgICAgIHdlYnNvY2tldDogd3MsXG4gICAgICAgIH07XG4gICAgICAgIHRoaXMuZW1pdCgnY29ubmVjdGlvbl9jaGFuZ2UnLCB0aGlzLiNzdGF0ZS5zdGF0dXMpO1xuICAgICAgICBjb25zdCBvblNvY2tldE9wZW5SZWFkeSA9ICgpID0+IHtcbiAgICAgICAgICAgIHRoaXMuI3N0YXRlID0ge1xuICAgICAgICAgICAgICAgIHN0YXR1czogJ2Nvbm5lY3RlZCcsXG4gICAgICAgICAgICAgICAgd2Vic29ja2V0OiB3cyxcbiAgICAgICAgICAgIH07XG4gICAgICAgICAgICB0aGlzLmVtaXQoJ2Nvbm5lY3Rpb25fY2hhbmdlJywgdGhpcy4jc3RhdGUuc3RhdHVzKTtcbiAgICAgICAgICAgIHRoaXMuX29uT3BlbigpO1xuICAgICAgICAgICAgcmVzb2x2ZSgpO1xuICAgICAgICB9O1xuICAgICAgICBpZiAodGhpcy4jc2tpcE9wZW5FdmVudExpc3RlbmVycyA9PT0gdHJ1ZSkge1xuICAgICAgICAgICAgb25Tb2NrZXRPcGVuUmVhZHkoKTtcbiAgICAgICAgfVxuICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgIHdzLmFkZEV2ZW50TGlzdGVuZXIoJ29wZW4nLCBvblNvY2tldE9wZW5SZWFkeSk7XG4gICAgICAgIH1cbiAgICAgICAgd3MuYWRkRXZlbnRMaXN0ZW5lcignZXJyb3InLCAoZXJyb3IpID0+IHtcbiAgICAgICAgICAgIHRoaXMuX29uRXJyb3IoZXJyb3IpO1xuICAgICAgICAgICAgdGhpcy4jc3RhdGUgPSB7XG4gICAgICAgICAgICAgICAgc3RhdHVzOiAnZGlzY29ubmVjdGVkJyxcbiAgICAgICAgICAgICAgICB3ZWJzb2NrZXQ6IHVuZGVmaW5lZCxcbiAgICAgICAgICAgIH07XG4gICAgICAgICAgICB0aGlzLmVtaXQoJ2Nvbm5lY3Rpb25fY2hhbmdlJywgdGhpcy4jc3RhdGUuc3RhdHVzKTtcbiAgICAgICAgICAgIHJlamVjdChlcnJvcik7XG4gICAgICAgIH0pO1xuICAgICAgICB3cy5hZGRFdmVudExpc3RlbmVyKCdtZXNzYWdlJywgKG1lc3NhZ2UpID0+IHtcbiAgICAgICAgICAgIHRoaXMuX29uTWVzc2FnZShtZXNzYWdlKTtcbiAgICAgICAgICAgIGNvbnN0IHsgZGF0YTogcGFyc2VkLCBpc0dlbmVyaWMgfSA9IHBhcnNlUmVhbHRpbWVFdmVudChtZXNzYWdlKTtcbiAgICAgICAgICAgIGlmICghcGFyc2VkIHx8IGlzR2VuZXJpYykge1xuICAgICAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGlmIChwYXJzZWQudHlwZSA9PT0gJ3Jlc3BvbnNlLm91dHB1dF9hdWRpby5kZWx0YScpIHtcbiAgICAgICAgICAgICAgICB0aGlzLiNjdXJyZW50QXVkaW9Db250ZW50SW5kZXggPSBwYXJzZWQuY29udGVudF9pbmRleDtcbiAgICAgICAgICAgICAgICB0aGlzLiNjdXJyZW50SXRlbUlkID0gcGFyc2VkLml0ZW1faWQ7XG4gICAgICAgICAgICAgICAgaWYgKHRoaXMuX2ZpcnN0QXVkaW9UaW1lc3RhbXAgPT09IHVuZGVmaW5lZCkge1xuICAgICAgICAgICAgICAgICAgICAvLyBJZiB0aGUgcmVzcG9uc2Ugc3RhcnQgdGltZXN0YW1wIGlzIG5vdCBzZXQsIHdlIHNldCBpdCB0byB0aGUgY3VycmVudCB0aW1lLlxuICAgICAgICAgICAgICAgICAgICAvLyBUaGlzIGlzIHVzZWQgdG8gY2FsY3VsYXRlIHRoZSBlbGFwc2VkIHRpbWUgZm9yIGludGVycnVwdGlvbi5cbiAgICAgICAgICAgICAgICAgICAgdGhpcy5fZmlyc3RBdWRpb1RpbWVzdGFtcCA9IERhdGUubm93KCk7XG4gICAgICAgICAgICAgICAgICAgIHRoaXMuX2F1ZGlvTGVuZ3RoTXMgPSAwO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBjb25zdCBidWZmID0gYmFzZTY0VG9BcnJheUJ1ZmZlcihwYXJzZWQuZGVsdGEpO1xuICAgICAgICAgICAgICAgIC8vIGNhbGN1bGF0ZSB0aGUgYXVkaW8gbGVuZ3RoIGluIG1pbGxpc2Vjb25kc1xuICAgICAgICAgICAgICAgIC8vIEdBIGZvcm1hdDogc2Vzc2lvbi5hdWRpby5vdXRwdXQuZm9ybWF0IHN1cHBvcnRzIHN0cnVjdHVyZWQgeyB0eXBlOiBcImF1ZGlvL3BjbVwiLCByYXRlIH0gb3IgXCJhdWRpby9wY211XCIgZXRjLlxuICAgICAgICAgICAgICAgIGNvbnN0IGZtdCA9IHRoaXMuX3Jhd1Nlc3Npb25Db25maWc/LmF1ZGlvPy5vdXRwdXQ/LmZvcm1hdDtcbiAgICAgICAgICAgICAgICBpZiAoZm10ICYmIHR5cGVvZiBmbXQgPT09ICdvYmplY3QnKSB7XG4gICAgICAgICAgICAgICAgICAgIC8vIFN0cnVjdHVyZWQgZm9ybWF0XG4gICAgICAgICAgICAgICAgICAgIGNvbnN0IHQgPSBmbXQudHlwZTtcbiAgICAgICAgICAgICAgICAgICAgaWYgKHQgPT09ICdhdWRpby9wY211JyB8fCB0ID09PSAnYXVkaW8vcGNtYScpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIC8vIDhrSHosIDEgYnl0ZSBwZXIgc2FtcGxlXG4gICAgICAgICAgICAgICAgICAgICAgICB0aGlzLl9hdWRpb0xlbmd0aE1zICs9IGJ1ZmYuYnl0ZUxlbmd0aCAvIDg7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgZWxzZSBpZiAodCA9PT0gJ2F1ZGlvL3BjbScpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGNvbnN0IHJhdGUgPSBmbXQucmF0ZSA/PyAyNDAwMDtcbiAgICAgICAgICAgICAgICAgICAgICAgIC8vIGJ5dGVzIC0+IHNhbXBsZXMgKDIgYnl0ZXMgcGVyIHNhbXBsZSkgLT4gbXNcbiAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMuX2F1ZGlvTGVuZ3RoTXMgKz0gKGJ1ZmYuYnl0ZUxlbmd0aCAvIDIgLyByYXRlKSAqIDEwMDA7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAvLyBGYWxsYmFjayBhc3N1bXB0aW9uIHNpbWlsYXIgdG8gbGVnYWN5XG4gICAgICAgICAgICAgICAgICAgICAgICB0aGlzLl9hdWRpb0xlbmd0aE1zICs9IGJ1ZmYuYnl0ZUxlbmd0aCAvIDI0IC8gMjtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBlbHNlIGlmICh0eXBlb2YgZm10ID09PSAnc3RyaW5nJykge1xuICAgICAgICAgICAgICAgICAgICBpZiAoZm10LnN0YXJ0c1dpdGgoJ2c3MTFfJykpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMuX2F1ZGlvTGVuZ3RoTXMgKz0gYnVmZi5ieXRlTGVuZ3RoIC8gODtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIC8vIEFzc3VtZSAyNGtIeiBQQ00xNlxuICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5fYXVkaW9MZW5ndGhNcyArPSBidWZmLmJ5dGVMZW5ndGggLyAyNCAvIDI7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgIC8vIERlZmF1bHQgdG8gMjRrSHogUENNMTYgYmVoYXZpb3IgaWYgdW5zcGVjaWZpZWRcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5fYXVkaW9MZW5ndGhNcyArPSBidWZmLmJ5dGVMZW5ndGggLyAyNCAvIDI7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGNvbnN0IGF1ZGlvRXZlbnQgPSB7XG4gICAgICAgICAgICAgICAgICAgIHR5cGU6ICdhdWRpbycsXG4gICAgICAgICAgICAgICAgICAgIGRhdGE6IGJ1ZmYsXG4gICAgICAgICAgICAgICAgICAgIHJlc3BvbnNlSWQ6IHBhcnNlZC5yZXNwb25zZV9pZCxcbiAgICAgICAgICAgICAgICB9O1xuICAgICAgICAgICAgICAgIHRoaXMuX29uQXVkaW8oYXVkaW9FdmVudCk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBlbHNlIGlmIChwYXJzZWQudHlwZSA9PT0gJ2lucHV0X2F1ZGlvX2J1ZmZlci5zcGVlY2hfc3RhcnRlZCcpIHtcbiAgICAgICAgICAgICAgICBjb25zdCBhdXRvbWF0aWNSZXNwb25zZUNhbmNlbGxhdGlvbkVuYWJsZWQgPSB0aGlzLl9yYXdTZXNzaW9uQ29uZmlnPy5hdWRpbz8uaW5wdXQ/LnR1cm5fZGV0ZWN0aW9uXG4gICAgICAgICAgICAgICAgICAgID8uaW50ZXJydXB0X3Jlc3BvbnNlID8/IGZhbHNlO1xuICAgICAgICAgICAgICAgIHRoaXMuaW50ZXJydXB0KCFhdXRvbWF0aWNSZXNwb25zZUNhbmNlbGxhdGlvbkVuYWJsZWQpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgZWxzZSBpZiAocGFyc2VkLnR5cGUgPT09ICdyZXNwb25zZS5jcmVhdGVkJykge1xuICAgICAgICAgICAgICAgIHRoaXMuI29uZ29pbmdSZXNwb25zZSA9IHRydWU7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBlbHNlIGlmIChwYXJzZWQudHlwZSA9PT0gJ3Jlc3BvbnNlLmRvbmUnKSB7XG4gICAgICAgICAgICAgICAgdGhpcy4jb25nb2luZ1Jlc3BvbnNlID0gZmFsc2U7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBlbHNlIGlmIChwYXJzZWQudHlwZSA9PT0gJ3Nlc3Npb24uY3JlYXRlZCcpIHtcbiAgICAgICAgICAgICAgICB0aGlzLl90cmFjaW5nQ29uZmlnID0gcGFyc2VkLnNlc3Npb24udHJhY2luZztcbiAgICAgICAgICAgICAgICAvLyBUcnlpbmcgdG8gdHVybiBvbiB0cmFjaW5nIGFmdGVyIHRoZSBzZXNzaW9uIGlzIGNyZWF0ZWRcbiAgICAgICAgICAgICAgICBjb25zdCB0cmFjaW5nQ29uZmlnID0gdHlwZW9mIHNlc3Npb25Db25maWcudHJhY2luZyA9PT0gJ3VuZGVmaW5lZCdcbiAgICAgICAgICAgICAgICAgICAgPyAnYXV0bydcbiAgICAgICAgICAgICAgICAgICAgOiBzZXNzaW9uQ29uZmlnLnRyYWNpbmc7XG4gICAgICAgICAgICAgICAgdGhpcy5fdXBkYXRlVHJhY2luZ0NvbmZpZyh0cmFjaW5nQ29uZmlnKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfSk7XG4gICAgICAgIHdzLmFkZEV2ZW50TGlzdGVuZXIoJ2Nsb3NlJywgKCkgPT4ge1xuICAgICAgICAgICAgdGhpcy4jc3RhdGUgPSB7XG4gICAgICAgICAgICAgICAgc3RhdHVzOiAnZGlzY29ubmVjdGVkJyxcbiAgICAgICAgICAgICAgICB3ZWJzb2NrZXQ6IHVuZGVmaW5lZCxcbiAgICAgICAgICAgIH07XG4gICAgICAgICAgICB0aGlzLmVtaXQoJ2Nvbm5lY3Rpb25fY2hhbmdlJywgdGhpcy4jc3RhdGUuc3RhdHVzKTtcbiAgICAgICAgICAgIHRoaXMuX29uQ2xvc2UoKTtcbiAgICAgICAgfSk7XG4gICAgfVxuICAgIGFzeW5jIGNvbm5lY3Qob3B0aW9ucykge1xuICAgICAgICBjb25zdCBtb2RlbCA9IG9wdGlvbnMubW9kZWwgPz8gdGhpcy5jdXJyZW50TW9kZWw7XG4gICAgICAgIHRoaXMuY3VycmVudE1vZGVsID0gbW9kZWw7XG4gICAgICAgIHRoaXMuI2FwaUtleSA9IGF3YWl0IHRoaXMuX2dldEFwaUtleShvcHRpb25zKTtcbiAgICAgICAgY29uc3QgY2FsbElkID0gb3B0aW9ucy5jYWxsSWQ7XG4gICAgICAgIGxldCB1cmw7XG4gICAgICAgIGlmIChvcHRpb25zLnVybCkge1xuICAgICAgICAgICAgdXJsID0gb3B0aW9ucy51cmw7XG4gICAgICAgICAgICB0aGlzLiNkZWZhdWx0VXJsID0gb3B0aW9ucy51cmw7XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSBpZiAoY2FsbElkKSB7XG4gICAgICAgICAgICB1cmwgPSBgd3NzOi8vYXBpLm9wZW5haS5jb20vdjEvcmVhbHRpbWU/Y2FsbF9pZD0ke2NhbGxJZH1gO1xuICAgICAgICB9XG4gICAgICAgIGVsc2UgaWYgKHRoaXMuI2RlZmF1bHRVcmwpIHtcbiAgICAgICAgICAgIHVybCA9IHRoaXMuI2RlZmF1bHRVcmw7XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICB1cmwgPSBgd3NzOi8vYXBpLm9wZW5haS5jb20vdjEvcmVhbHRpbWU/bW9kZWw9JHt0aGlzLmN1cnJlbnRNb2RlbH1gO1xuICAgICAgICB9XG4gICAgICAgIHRoaXMuI3VybCA9IHVybDtcbiAgICAgICAgY29uc3Qgc2Vzc2lvbkNvbmZpZyA9IHtcbiAgICAgICAgICAgIC4uLihvcHRpb25zLmluaXRpYWxTZXNzaW9uQ29uZmlnIHx8IHt9KSxcbiAgICAgICAgICAgIG1vZGVsOiB0aGlzLmN1cnJlbnRNb2RlbCxcbiAgICAgICAgfTtcbiAgICAgICAgYXdhaXQgbmV3IFByb21pc2UoKHJlc29sdmUsIHJlamVjdCkgPT4ge1xuICAgICAgICAgICAgdGhpcy4jc2V0dXBXZWJTb2NrZXQocmVzb2x2ZSwgcmVqZWN0LCBzZXNzaW9uQ29uZmlnKS5jYXRjaChyZWplY3QpO1xuICAgICAgICB9KTtcbiAgICAgICAgYXdhaXQgdGhpcy51cGRhdGVTZXNzaW9uQ29uZmlnKHNlc3Npb25Db25maWcpO1xuICAgIH1cbiAgICAvKipcbiAgICAgKiBTZW5kIGFuIGV2ZW50IHRvIHRoZSBSZWFsdGltZSBBUEkuIFRoaXMgd2lsbCBzdHJpbmdpZnkgdGhlIGV2ZW50IGFuZCBzZW5kIGl0IGRpcmVjdGx5IHRvIHRoZVxuICAgICAqIEFQSS4gVGhpcyBjYW4gYmUgdXNlZCBpZiB5b3Ugd2FudCB0byB0YWtlIGNvbnRyb2wgb3ZlciB0aGUgY29ubmVjdGlvbiBhbmQgc2VuZCBldmVudHMgbWFudWFsbHkuXG4gICAgICpcbiAgICAgKiBAcGFyYW0gZXZlbnQgLSBUaGUgZXZlbnQgdG8gc2VuZC5cbiAgICAgKi9cbiAgICBzZW5kRXZlbnQoZXZlbnQpIHtcbiAgICAgICAgaWYgKCF0aGlzLiNzdGF0ZS53ZWJzb2NrZXQpIHtcbiAgICAgICAgICAgIHRocm93IG5ldyBFcnJvcignV2ViU29ja2V0IGlzIG5vdCBjb25uZWN0ZWQuIE1ha2Ugc3VyZSB5b3UgY2FsbCBgY29ubmVjdCgpYCBiZWZvcmUgc2VuZGluZyBldmVudHMuJyk7XG4gICAgICAgIH1cbiAgICAgICAgdGhpcy4jc3RhdGUud2Vic29ja2V0LnNlbmQoSlNPTi5zdHJpbmdpZnkoZXZlbnQpKTtcbiAgICB9XG4gICAgLyoqXG4gICAgICogQ2xvc2UgdGhlIFdlYlNvY2tldCBjb25uZWN0aW9uLlxuICAgICAqXG4gICAgICogVGhpcyB3aWxsIGFsc28gcmVzZXQgYW55IGludGVybmFsIGNvbm5lY3Rpb24gdHJhY2tpbmcgdXNlZCBmb3IgaW50ZXJydXB0aW9uIGhhbmRsaW5nLlxuICAgICAqL1xuICAgIGNsb3NlKCkge1xuICAgICAgICB0aGlzLiNzdGF0ZS53ZWJzb2NrZXQ/LmNsb3NlKCk7XG4gICAgICAgIHRoaXMuI2N1cnJlbnRJdGVtSWQgPSB1bmRlZmluZWQ7XG4gICAgICAgIHRoaXMuX2ZpcnN0QXVkaW9UaW1lc3RhbXAgPSB1bmRlZmluZWQ7XG4gICAgICAgIHRoaXMuX2F1ZGlvTGVuZ3RoTXMgPSAwO1xuICAgICAgICB0aGlzLiNjdXJyZW50QXVkaW9Db250ZW50SW5kZXggPSB1bmRlZmluZWQ7XG4gICAgfVxuICAgIC8qKlxuICAgICAqIFdpbGwgdGhyb3cgYW4gZXJyb3IgYXMgdGhlIFdlYlNvY2tldCB0cmFuc3BvcnQgbGF5ZXIgZG9lcyBub3Qgc3VwcG9ydCBtdXRpbmcuXG4gICAgICovXG4gICAgbXV0ZShfbXV0ZWQpIHtcbiAgICAgICAgdGhyb3cgbmV3IEVycm9yKCdNdXRlIGlzIG5vdCBzdXBwb3J0ZWQgZm9yIHRoZSBXZWJTb2NrZXQgdHJhbnNwb3J0LiBZb3UgaGF2ZSB0byBtdXRlIHRoZSBhdWRpbyBpbnB1dCB5b3Vyc2VsZi4nKTtcbiAgICB9XG4gICAgLyoqXG4gICAgICogU2VuZCBhbiBhdWRpbyBidWZmZXIgdG8gdGhlIFJlYWx0aW1lIEFQSS4gVGhpcyBpcyB1c2VkIGZvciB5b3VyIGNsaWVudCB0byBzZW5kIGF1ZGlvIHRvIHRoZVxuICAgICAqIG1vZGVsIHRvIHJlc3BvbmQuXG4gICAgICpcbiAgICAgKiBAcGFyYW0gYXVkaW8gLSBUaGUgYXVkaW8gYnVmZmVyIHRvIHNlbmQuXG4gICAgICogQHBhcmFtIG9wdGlvbnMgLSBUaGUgb3B0aW9ucyBmb3IgdGhlIGF1ZGlvIGJ1ZmZlci5cbiAgICAgKi9cbiAgICBzZW5kQXVkaW8oYXVkaW8sIG9wdGlvbnMgPSB7fSkge1xuICAgICAgICBpZiAodGhpcy4jc3RhdGUuc3RhdHVzID09PSAnY29ubmVjdGVkJykge1xuICAgICAgICAgICAgc3VwZXIuc2VuZEF1ZGlvKGF1ZGlvLCBvcHRpb25zKTtcbiAgICAgICAgfVxuICAgIH1cbiAgICAvKipcbiAgICAgKiBTZW5kIGEgY2FuY2VsIHJlc3BvbnNlIGV2ZW50IHRvIHRoZSBSZWFsdGltZSBBUEkuIFRoaXMgaXMgdXNlZCB0byBjYW5jZWwgYW4gb25nb2luZ1xuICAgICAqICByZXNwb25zZSB0aGF0IHRoZSBtb2RlbCBpcyBjdXJyZW50bHkgZ2VuZXJhdGluZy5cbiAgICAgKi9cbiAgICBfY2FuY2VsUmVzcG9uc2UoKSB7XG4gICAgICAgIC8vIGNhbmNlbCB0aGUgb25nb2luZyByZXNwb25zZVxuICAgICAgICBpZiAodGhpcy4jb25nb2luZ1Jlc3BvbnNlKSB7XG4gICAgICAgICAgICB0aGlzLnNlbmRFdmVudCh7XG4gICAgICAgICAgICAgICAgdHlwZTogJ3Jlc3BvbnNlLmNhbmNlbCcsXG4gICAgICAgICAgICB9KTtcbiAgICAgICAgICAgIHRoaXMuI29uZ29pbmdSZXNwb25zZSA9IGZhbHNlO1xuICAgICAgICB9XG4gICAgfVxuICAgIC8qKlxuICAgICAqIERvIE5PVCBjYWxsIHRoaXMgbWV0aG9kIGRpcmVjdGx5LiBDYWxsIGBpbnRlcnJ1cHQoKWAgaW5zdGVhZCBmb3IgcHJvcGVyIGludGVycnVwdGlvbiBoYW5kbGluZy5cbiAgICAgKlxuICAgICAqIFRoaXMgbWV0aG9kIGlzIHVzZWQgdG8gc2VuZCB0aGUgcmlnaHQgZXZlbnRzIHRvIHRoZSBBUEkgdG8gaW5mb3JtIHRoZSBtb2RlbCB0aGF0IHRoZSB1c2VyIGhhc1xuICAgICAqIGludGVycnVwdGVkIHRoZSByZXNwb25zZS4gSXQgbWlnaHQgYmUgb3ZlcnJpZGRlbi9leHRlbmRlZCBieSBhbiBleHRlbmRlZCB0cmFuc3BvcnQgbGF5ZXIuIFNlZVxuICAgICAqIHRoZSBgVHdpbGlvUmVhbHRpbWVUcmFuc3BvcnRMYXllcmAgZm9yIGFuIGV4YW1wbGUuXG4gICAgICpcbiAgICAgKiBAcGFyYW0gZWxhcHNlZFRpbWUgLSBUaGUgZWxhcHNlZCB0aW1lIHNpbmNlIHRoZSByZXNwb25zZSBzdGFydGVkLlxuICAgICAqL1xuICAgIF9pbnRlcnJ1cHQoZWxhcHNlZFRpbWUsIGNhbmNlbE9uZ29pbmdSZXNwb25zZSA9IHRydWUpIHtcbiAgICAgICAgaWYgKGVsYXBzZWRUaW1lIDwgMCkge1xuICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICB9XG4gICAgICAgIC8vIGltbWVkaWF0ZWx5IGVtaXQgdGhpcyBldmVudCBzbyB0aGUgY2xpZW50IGNhbiBzdG9wIHBsYXlpbmcgYXVkaW9cbiAgICAgICAgaWYgKGNhbmNlbE9uZ29pbmdSZXNwb25zZSkge1xuICAgICAgICAgICAgdGhpcy5fY2FuY2VsUmVzcG9uc2UoKTtcbiAgICAgICAgfVxuICAgICAgICBjb25zdCBsZW5ndGggPSB0aGlzLl9hdWRpb0xlbmd0aE1zID8/IE51bWJlci5QT1NJVElWRV9JTkZJTklUWTtcbiAgICAgICAgLy8gYXVkaW9fZW5kX21zIG11c3QgYmUgYW4gaW50ZWdlclxuICAgICAgICBjb25zdCBhdWRpb19lbmRfbXMgPSBNYXRoLm1heCgwLCBNYXRoLmZsb29yKE1hdGgubWluKGVsYXBzZWRUaW1lLCBsZW5ndGgpKSk7XG4gICAgICAgIHRoaXMuZW1pdCgnYXVkaW9faW50ZXJydXB0ZWQnKTtcbiAgICAgICAgdGhpcy5zZW5kRXZlbnQoe1xuICAgICAgICAgICAgdHlwZTogJ2NvbnZlcnNhdGlvbi5pdGVtLnRydW5jYXRlJyxcbiAgICAgICAgICAgIGl0ZW1faWQ6IHRoaXMuI2N1cnJlbnRJdGVtSWQsXG4gICAgICAgICAgICBjb250ZW50X2luZGV4OiB0aGlzLiNjdXJyZW50QXVkaW9Db250ZW50SW5kZXgsXG4gICAgICAgICAgICBhdWRpb19lbmRfbXMsXG4gICAgICAgIH0pO1xuICAgIH1cbiAgICAvKipcbiAgICAgKiBJbnRlcnJ1cHQgdGhlIG9uZ29pbmcgcmVzcG9uc2UuIFRoaXMgbWV0aG9kIGlzIHRyaWdnZXJlZCBhdXRvbWF0aWNhbGx5IGJ5IHRoZSBjbGllbnQgd2hlblxuICAgICAqIHZvaWNlIGFjdGl2aXR5IGRldGVjdGlvbiAoVkFEKSBpcyBlbmFibGVkIChkZWZhdWx0KSBhcyB3ZWxsIGFzIHdoZW4gYW4gb3V0cHV0IGd1YXJkcmFpbCBnb3RcbiAgICAgKiB0cmlnZ2VyZWQuXG4gICAgICpcbiAgICAgKiBZb3UgY2FuIGFsc28gY2FsbCB0aGlzIG1ldGhvZCBkaXJlY3RseSBpZiB5b3Ugd2FudCB0byBpbnRlcnJ1cHQgdGhlIGNvbnZlcnNhdGlvbiBmb3IgZXhhbXBsZVxuICAgICAqIGJhc2VkIG9uIGFuIGV2ZW50IGluIHRoZSBjbGllbnQuXG4gICAgICovXG4gICAgaW50ZXJydXB0KGNhbmNlbE9uZ29pbmdSZXNwb25zZSA9IHRydWUpIHtcbiAgICAgICAgaWYgKCF0aGlzLiNjdXJyZW50SXRlbUlkIHx8IHR5cGVvZiB0aGlzLl9maXJzdEF1ZGlvVGltZXN0YW1wICE9PSAnbnVtYmVyJykge1xuICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICB9XG4gICAgICAgIGNvbnN0IGVsYXBzZWRUaW1lID0gRGF0ZS5ub3coKSAtIHRoaXMuX2ZpcnN0QXVkaW9UaW1lc3RhbXA7XG4gICAgICAgIGlmIChlbGFwc2VkVGltZSA+PSAwKSB7XG4gICAgICAgICAgICB0aGlzLl9pbnRlcnJ1cHQoZWxhcHNlZFRpbWUsIGNhbmNlbE9uZ29pbmdSZXNwb25zZSk7XG4gICAgICAgIH1cbiAgICAgICAgdGhpcy4jcmVzZXRBdWRpb1BsYXliYWNrU3RhdGUoKTtcbiAgICB9XG59XG4vLyMgc291cmNlTWFwcGluZ1VSTD1vcGVuYWlSZWFsdGltZVdlYnNvY2tldC5tanMubWFwIiwiaW1wb3J0IHsgVXNlckVycm9yLCB9IGZyb20gJ0BvcGVuYWkvYWdlbnRzLWNvcmUnO1xuZXhwb3J0IGNvbnN0IEJBQ0tHUk9VTkRfUkVTVUxUX1NZTUJPTCA9IFN5bWJvbCgnYmFja2dyb3VuZFJlc3VsdCcpO1xuZXhwb3J0IGZ1bmN0aW9uIGJhY2tncm91bmRSZXN1bHQoY29udGVudCkge1xuICAgIHJldHVybiB7XG4gICAgICAgIFtCQUNLR1JPVU5EX1JFU1VMVF9TWU1CT0xdOiB0cnVlLFxuICAgICAgICBjb250ZW50LFxuICAgIH07XG59XG5leHBvcnQgZnVuY3Rpb24gaXNCYWNrZ3JvdW5kUmVzdWx0KHJlc3VsdCkge1xuICAgIHJldHVybiAodHlwZW9mIHJlc3VsdCA9PT0gJ29iamVjdCcgJiZcbiAgICAgICAgcmVzdWx0ICE9PSBudWxsICYmXG4gICAgICAgIEJBQ0tHUk9VTkRfUkVTVUxUX1NZTUJPTCBpbiByZXN1bHQpO1xufVxuZXhwb3J0IGZ1bmN0aW9uIGlzVmFsaWRSZWFsdGltZVRvb2wodG9vbCkge1xuICAgIHJldHVybiAodG9vbC50eXBlID09PSAnZnVuY3Rpb24nIHx8XG4gICAgICAgICh0b29sLnR5cGUgPT09ICdob3N0ZWRfdG9vbCcgJiYgdG9vbC5uYW1lID09PSAnaG9zdGVkX21jcCcpKTtcbn1cbmV4cG9ydCBmdW5jdGlvbiB0b1JlYWx0aW1lVG9vbERlZmluaXRpb24odG9vbCkge1xuICAgIGlmICh0b29sLnR5cGUgPT09ICdmdW5jdGlvbicpIHtcbiAgICAgICAgcmV0dXJuIHRvb2w7XG4gICAgfVxuICAgIGlmICh0b29sLnR5cGUgPT09ICdob3N0ZWRfdG9vbCcgJiYgdG9vbC5uYW1lID09PSAnaG9zdGVkX21jcCcpIHtcbiAgICAgICAgY29uc3Qgc2VydmVyVXJsID0gdG9vbC5wcm92aWRlckRhdGEuc2VydmVyX3VybCAmJiB0b29sLnByb3ZpZGVyRGF0YS5zZXJ2ZXJfdXJsLmxlbmd0aCA+IDBcbiAgICAgICAgICAgID8gdG9vbC5wcm92aWRlckRhdGEuc2VydmVyX3VybFxuICAgICAgICAgICAgOiB1bmRlZmluZWQ7XG4gICAgICAgIHJldHVybiB7XG4gICAgICAgICAgICB0eXBlOiAnbWNwJyxcbiAgICAgICAgICAgIHNlcnZlcl9sYWJlbDogdG9vbC5wcm92aWRlckRhdGEuc2VydmVyX2xhYmVsLFxuICAgICAgICAgICAgc2VydmVyX3VybDogc2VydmVyVXJsLFxuICAgICAgICAgICAgaGVhZGVyczogdG9vbC5wcm92aWRlckRhdGEuaGVhZGVycyxcbiAgICAgICAgICAgIGFsbG93ZWRfdG9vbHM6IHRvb2wucHJvdmlkZXJEYXRhLmFsbG93ZWRfdG9vbHMsXG4gICAgICAgICAgICByZXF1aXJlX2FwcHJvdmFsOiB0b29sLnByb3ZpZGVyRGF0YS5yZXF1aXJlX2FwcHJvdmFsLFxuICAgICAgICB9O1xuICAgIH1cbiAgICB0aHJvdyBuZXcgVXNlckVycm9yKGBJbnZhbGlkIHRvb2wgdHlwZTogJHt0b29sfWApO1xufVxuLy8jIHNvdXJjZU1hcHBpbmdVUkw9dG9vbC5tanMubWFwIiwiaW1wb3J0IHsgZ2V0VHJhbnNmZXJNZXNzYWdlLCBNb2RlbEJlaGF2aW9yRXJyb3IsIE91dHB1dEd1YXJkcmFpbFRyaXB3aXJlVHJpZ2dlcmVkLCBSdW5Db250ZXh0LCBSdW5Ub29sQXBwcm92YWxJdGVtLCB9IGZyb20gJ0BvcGVuYWkvYWdlbnRzLWNvcmUnO1xuaW1wb3J0IHsgUnVudGltZUV2ZW50RW1pdHRlciB9IGZyb20gJ0BvcGVuYWkvYWdlbnRzLWNvcmUvX3NoaW1zJztcbmltcG9ydCB7IGlzWm9kT2JqZWN0LCB0b1NtYXJ0U3RyaW5nIH0gZnJvbSAnQG9wZW5haS9hZ2VudHMtY29yZS91dGlscyc7XG5pbXBvcnQgeyBkZWZpbmVSZWFsdGltZU91dHB1dEd1YXJkcmFpbCwgZ2V0UmVhbHRpbWVHdWFyZHJhaWxGZWVkYmFja01lc3NhZ2UsIGdldFJlYWx0aW1lR3VhcmRyYWlsU2V0dGluZ3MsIH0gZnJvbSBcIi4vZ3VhcmRyYWlsLm1qc1wiO1xuaW1wb3J0IHsgREVGQVVMVF9PUEVOQUlfUkVBTFRJTUVfU0VTU0lPTl9DT05GSUcsIH0gZnJvbSBcIi4vb3BlbmFpUmVhbHRpbWVCYXNlLm1qc1wiO1xuaW1wb3J0IHsgT3BlbkFJUmVhbHRpbWVXZWJSVEMgfSBmcm9tIFwiLi9vcGVuYWlSZWFsdGltZVdlYlJ0Yy5tanNcIjtcbmltcG9ydCB7IE9wZW5BSVJlYWx0aW1lV2ViU29ja2V0IH0gZnJvbSBcIi4vb3BlbmFpUmVhbHRpbWVXZWJzb2NrZXQubWpzXCI7XG5pbXBvcnQgeyBhcHByb3ZhbEl0ZW1Ub1JlYWx0aW1lQXBwcm92YWxJdGVtLCBnZXRMYXN0VGV4dEZyb21BdWRpb091dHB1dE1lc3NhZ2UsIGhhc1dlYlJUQ1N1cHBvcnQsIHJlYWx0aW1lQXBwcm92YWxJdGVtVG9BcHByb3ZhbEl0ZW0sIHVwZGF0ZVJlYWx0aW1lSGlzdG9yeSwgfSBmcm9tIFwiLi91dGlscy5tanNcIjtcbmltcG9ydCBsb2dnZXIgZnJvbSBcIi4vbG9nZ2VyLm1qc1wiO1xuaW1wb3J0IHsgaXNCYWNrZ3JvdW5kUmVzdWx0LCBpc1ZhbGlkUmVhbHRpbWVUb29sLCB0b1JlYWx0aW1lVG9vbERlZmluaXRpb24sIH0gZnJvbSBcIi4vdG9vbC5tanNcIjtcbmZ1bmN0aW9uIGNsb25lRGVmYXVsdFNlc3Npb25Db25maWcoKSB7XG4gICAgcmV0dXJuIEpTT04ucGFyc2UoSlNPTi5zdHJpbmdpZnkoREVGQVVMVF9PUEVOQUlfUkVBTFRJTUVfU0VTU0lPTl9DT05GSUcpKTtcbn1cbi8qKlxuICogQSBgUmVhbHRpbWVTZXNzaW9uYCBpcyB0aGUgY29ybmVyc3RvbmUgb2YgYnVpbGRpbmcgVm9pY2UgQWdlbnRzLiBJdCdzIHRoZSBlcXVpdmFsZW50IG9mIGFcbiAqIFJ1bm5lciBpbiB0ZXh0LWJhc2VkIGFnZW50cyBleGNlcHQgdGhhdCBpdCBhdXRvbWF0aWNhbGx5IGhhbmRsZXMgbXVsdGlwbGUgdHVybnMgYnkgbWFpbnRhaW5pbmcgYVxuICogY29ubmVjdGlvbiB3aXRoIHRoZSB1bmRlcmx5aW5nIHRyYW5zcG9ydCBsYXllci5cbiAqXG4gKiBUaGUgc2Vzc2lvbiBoYW5kbGVzIG1hbmFnaW5nIHRoZSBsb2NhbCBoaXN0b3J5IGNvcHksIGV4ZWN1dGVzIHRvb2xzLCBydW5zIG91dHB1dCBndWFyZHJhaWxzLCBhbmRcbiAqIGZhY2lsaXRhdGVzIGhhbmRvZmZzLlxuICpcbiAqIFRoZSBhY3R1YWwgYXVkaW8gaGFuZGxpbmcgYW5kIGdlbmVyYXRpb24gb2YgbW9kZWwgcmVzcG9uc2VzIGlzIGhhbmRsZWQgYnkgdGhlIHVuZGVybHlpbmdcbiAqIHRyYW5zcG9ydCBsYXllci4gQnkgZGVmYXVsdCBpZiB5b3UgYXJlIHVzaW5nIGEgYnJvd3NlciB3aXRoIFdlYlJUQyBzdXBwb3J0LCB0aGUgc2Vzc2lvbiB3aWxsXG4gKiBhdXRvbWF0aWNhbGx5IHVzZSB0aGUgV2ViUlRDIHZlcnNpb24gb2YgdGhlIE9wZW5BSSBSZWFsdGltZSBBUEkuIE9uIHRoZSBzZXJ2ZXIgb3IgaWYgeW91IHBhc3NcbiAqIGB3ZWJzb2NrZXRgIGFzIHRoZSB0cmFuc3BvcnQgbGF5ZXIsIHRoZSBzZXNzaW9uIHdpbGwgZXN0YWJsaXNoIGEgY29ubmVjdGlvbiB1c2luZyBXZWJTb2NrZXRzLlxuICpcbiAqIEluIHRoZSBjYXNlIG9mIFdlYlJUQywgaW4gdGhlIGJyb3dzZXIsIHRoZSB0cmFuc3BvcnQgbGF5ZXIgd2lsbCBhbHNvIGF1dG9tYXRpY2FsbHkgY29uZmlndXJlIHRoZVxuICogbWljcm9waG9uZSBhbmQgYXVkaW8gb3V0cHV0IHRvIGJlIHVzZWQgYnkgdGhlIHNlc3Npb24uXG4gKlxuICogWW91IGNhbiBhbHNvIGNyZWF0ZSBhIHRyYW5zcG9ydCBsYXllciBpbnN0YW5jZSB5b3Vyc2VsZiBhbmQgcGFzcyBpdCBpbiB0byBoYXZlIG1vcmUgY29udHJvbCBvdmVyXG4gKiB0aGUgY29uZmlndXJhdGlvbiBvciBldmVuIGV4dGVuZCB0aGUgZXhpc3Rpbmcgb25lcy4gQ2hlY2sgb3V0IHRoZSBgVHdpbGlvUmVhbHRpbWVUcmFuc3BvcnRMYXllcmBcbiAqIGZvciBhbiBleGFtcGxlIG9mIGhvdyB0byBjcmVhdGUgYSBjdXN0b20gdHJhbnNwb3J0IGxheWVyLlxuICpcbiAqIEBleGFtcGxlXG4gKiBgYGB0c1xuICogY29uc3QgYWdlbnQgPSBuZXcgUmVhbHRpbWVBZ2VudCh7XG4gKiAgIG5hbWU6ICdteS1hZ2VudCcsXG4gKiAgIGluc3RydWN0aW9uczogJ1lvdSBhcmUgYSBoZWxwZnVsIGFzc2lzdGFudCB0aGF0IGNhbiBhbnN3ZXIgcXVlc3Rpb25zIGFuZCBoZWxwIHdpdGggdGFza3MuJyxcbiAqIH0pXG4gKlxuICogY29uc3Qgc2Vzc2lvbiA9IG5ldyBSZWFsdGltZVNlc3Npb24oYWdlbnQpO1xuICogc2Vzc2lvbi5jb25uZWN0KHtcbiAqICAgYXBpS2V5OiAneW91ci1hcGkta2V5JyxcbiAqIH0pO1xuICogYGBgXG4gKi9cbmV4cG9ydCBjbGFzcyBSZWFsdGltZVNlc3Npb24gZXh0ZW5kcyBSdW50aW1lRXZlbnRFbWl0dGVyIHtcbiAgICBpbml0aWFsQWdlbnQ7XG4gICAgb3B0aW9ucztcbiAgICAjdHJhbnNwb3J0O1xuICAgICNjdXJyZW50QWdlbnQ7XG4gICAgI2N1cnJlbnRUb29scztcbiAgICAjY29udGV4dDtcbiAgICAjb3V0cHV0R3VhcmRyYWlscyA9IFtdO1xuICAgICNvdXRwdXRHdWFyZHJhaWxTZXR0aW5ncztcbiAgICAjdHJhbnNjcmliZWRUZXh0RGVsdGFzID0ge307XG4gICAgI2hpc3RvcnkgPSBbXTtcbiAgICAjc2hvdWxkSW5jbHVkZUF1ZGlvRGF0YTtcbiAgICAjaW50ZXJydXB0ZWRCeUd1YXJkcmFpbCA9IHt9O1xuICAgICNhdWRpb1N0YXJ0ZWQgPSBmYWxzZTtcbiAgICAvLyBUcmFja3MgYWxsIE1DUCB0b29scyBmZXRjaGVkIHBlciBzZXJ2ZXIgbGFiZWwgKGZyb20gbWNwX2xpc3RfdG9vbHMgcmVzdWx0cykuXG4gICAgI2FsbE1jcFRvb2xzQnlTZXJ2ZXIgPSBuZXcgTWFwKCk7XG4gICAgLy8gVHJhY2tzIGN1cnJlbnRseSBhdmFpbGFibGUgTUNQIHRvb2xzIGJhc2VkIG9uIHRoZSBhY3RpdmUgYWdlbnQncyBjb25maWd1cmVkIHNlcnZlcl9sYWJlbHMuXG4gICAgI2F2YWlsYWJsZU1jcFRvb2xzID0gW107XG4gICAgLy8gS2VlcHMgdHJhY2sgb2YgdGhlIGxhc3QgZnVsbCBzZXNzaW9uIGNvbmZpZyB3ZSBzZW50IChjYW1lbENhc2Uga2V5cykgc28gdGhhdFxuICAgIC8vIHN1YnNlcXVlbnQgdXBkYXRlcyAoZS5nLiBkdXJpbmcgYWdlbnQgaGFuZG9mZnMpIHByZXNlcnZlIHByb3BlcnRpZXMgdGhhdCBhcmVcbiAgICAvLyBub3QgZXhwbGljaXRseSByZWNhbGN1bGF0ZWQgaGVyZSAoc3VjaCBhcyBpbnB1dEF1ZGlvRm9ybWF0LCBvdXRwdXRBdWRpb0Zvcm1hdCxcbiAgICAvLyBtb2RhbGl0aWVzLCBzcGVlZCwgdG9vbENob2ljZSwgdHVybkRldGVjdGlvbiwgZXRjLikuIFdpdGhvdXQgdGhpcywgdXBkYXRpbmdcbiAgICAvLyB0aGUgYWdlbnQgd291bGQgZHJvcCBhdWRpbyBmb3JtYXQgb3ZlcnJpZGVzIChlLmcuIGc3MTFfdWxhdykgYW5kIHJldmVydCB0b1xuICAgIC8vIHRyYW5zcG9ydCBkZWZhdWx0cyBjYXVzaW5nIGlzc3VlcyBmb3IgaW50ZWdyYXRpb25zIGxpa2UgVHdpbGlvLlxuICAgICNsYXN0U2Vzc2lvbkNvbmZpZyA9IGNsb25lRGVmYXVsdFNlc3Npb25Db25maWcoKTtcbiAgICAjYXV0b21hdGljYWxseVRyaWdnZXJSZXNwb25zZUZvck1jcFRvb2xDYWxscyA9IHRydWU7XG4gICAgY29uc3RydWN0b3IoaW5pdGlhbEFnZW50LCBvcHRpb25zID0ge30pIHtcbiAgICAgICAgc3VwZXIoKTtcbiAgICAgICAgdGhpcy5pbml0aWFsQWdlbnQgPSBpbml0aWFsQWdlbnQ7XG4gICAgICAgIHRoaXMub3B0aW9ucyA9IG9wdGlvbnM7XG4gICAgICAgIGlmICgodHlwZW9mIG9wdGlvbnMudHJhbnNwb3J0ID09PSAndW5kZWZpbmVkJyAmJiBoYXNXZWJSVENTdXBwb3J0KCkpIHx8XG4gICAgICAgICAgICBvcHRpb25zLnRyYW5zcG9ydCA9PT0gJ3dlYnJ0YycpIHtcbiAgICAgICAgICAgIHRoaXMuI3RyYW5zcG9ydCA9IG5ldyBPcGVuQUlSZWFsdGltZVdlYlJUQygpO1xuICAgICAgICB9XG4gICAgICAgIGVsc2UgaWYgKG9wdGlvbnMudHJhbnNwb3J0ID09PSAnd2Vic29ja2V0JyB8fFxuICAgICAgICAgICAgdHlwZW9mIG9wdGlvbnMudHJhbnNwb3J0ID09PSAndW5kZWZpbmVkJykge1xuICAgICAgICAgICAgdGhpcy4jdHJhbnNwb3J0ID0gbmV3IE9wZW5BSVJlYWx0aW1lV2ViU29ja2V0KCk7XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICB0aGlzLiN0cmFuc3BvcnQgPSBvcHRpb25zLnRyYW5zcG9ydDtcbiAgICAgICAgfVxuICAgICAgICB0aGlzLiNjdXJyZW50QWdlbnQgPSBpbml0aWFsQWdlbnQ7XG4gICAgICAgIHRoaXMuI2NvbnRleHQgPSBuZXcgUnVuQ29udGV4dCh7XG4gICAgICAgICAgICAuLi4ob3B0aW9ucy5jb250ZXh0ID8/IHt9KSxcbiAgICAgICAgICAgIGhpc3Rvcnk6IHRoaXMuI2hpc3RvcnksXG4gICAgICAgIH0pO1xuICAgICAgICB0aGlzLiNvdXRwdXRHdWFyZHJhaWxzID0gKG9wdGlvbnMub3V0cHV0R3VhcmRyYWlscyA/PyBbXSkubWFwKGRlZmluZVJlYWx0aW1lT3V0cHV0R3VhcmRyYWlsKTtcbiAgICAgICAgdGhpcy4jb3V0cHV0R3VhcmRyYWlsU2V0dGluZ3MgPSBnZXRSZWFsdGltZUd1YXJkcmFpbFNldHRpbmdzKG9wdGlvbnMub3V0cHV0R3VhcmRyYWlsU2V0dGluZ3MgPz8ge30pO1xuICAgICAgICB0aGlzLiNzaG91bGRJbmNsdWRlQXVkaW9EYXRhID0gb3B0aW9ucy5oaXN0b3J5U3RvcmVBdWRpbyA/PyBmYWxzZTtcbiAgICAgICAgdGhpcy4jYXV0b21hdGljYWxseVRyaWdnZXJSZXNwb25zZUZvck1jcFRvb2xDYWxscyA9XG4gICAgICAgICAgICBvcHRpb25zLmF1dG9tYXRpY2FsbHlUcmlnZ2VyUmVzcG9uc2VGb3JNY3BUb29sQ2FsbHMgPz8gdHJ1ZTtcbiAgICB9XG4gICAgLyoqXG4gICAgICogVGhlIHRyYW5zcG9ydCBsYXllciB1c2VkIGJ5IHRoZSBzZXNzaW9uLlxuICAgICAqL1xuICAgIGdldCB0cmFuc3BvcnQoKSB7XG4gICAgICAgIHJldHVybiB0aGlzLiN0cmFuc3BvcnQ7XG4gICAgfVxuICAgIC8qKlxuICAgICAqIFRoZSBjdXJyZW50IGFnZW50IGluIHRoZSBzZXNzaW9uLlxuICAgICAqL1xuICAgIGdldCBjdXJyZW50QWdlbnQoKSB7XG4gICAgICAgIHJldHVybiB0aGlzLiNjdXJyZW50QWdlbnQ7XG4gICAgfVxuICAgIC8qKlxuICAgICAqIFRoZSBjdXJyZW50IHVzYWdlIG9mIHRoZSBzZXNzaW9uLlxuICAgICAqL1xuICAgIGdldCB1c2FnZSgpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuI2NvbnRleHQudXNhZ2U7XG4gICAgfVxuICAgIC8qKlxuICAgICAqIFRoZSBjdXJyZW50IGNvbnRleHQgb2YgdGhlIHNlc3Npb24uXG4gICAgICovXG4gICAgZ2V0IGNvbnRleHQoKSB7XG4gICAgICAgIHJldHVybiB0aGlzLiNjb250ZXh0O1xuICAgIH1cbiAgICAvKipcbiAgICAgKiBXaGV0aGVyIHRoZSBzZXNzaW9uIGlzIG11dGVkLiBNaWdodCBiZSBgbnVsbGAgaWYgdGhlIHVuZGVybHlpbmcgdHJhbnNwb3J0IGxheWVyIGRvZXMgbm90XG4gICAgICogc3VwcG9ydCBtdXRpbmcuXG4gICAgICovXG4gICAgZ2V0IG11dGVkKCkge1xuICAgICAgICByZXR1cm4gdGhpcy4jdHJhbnNwb3J0Lm11dGVkO1xuICAgIH1cbiAgICAvKipcbiAgICAgKiBUaGUgaGlzdG9yeSBvZiB0aGUgc2Vzc2lvbi5cbiAgICAgKi9cbiAgICBnZXQgaGlzdG9yeSgpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuI2hpc3Rvcnk7XG4gICAgfVxuICAgIGdldCBhdmFpbGFibGVNY3BUb29scygpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuI2F2YWlsYWJsZU1jcFRvb2xzO1xuICAgIH1cbiAgICBhc3luYyAjc2V0Q3VycmVudEFnZW50KGFnZW50KSB7XG4gICAgICAgIHRoaXMuI2N1cnJlbnRBZ2VudCA9IGFnZW50O1xuICAgICAgICBjb25zdCBoYW5kb2ZmcyA9IGF3YWl0IHRoaXMuI2N1cnJlbnRBZ2VudC5nZXRFbmFibGVkSGFuZG9mZnModGhpcy4jY29udGV4dCk7XG4gICAgICAgIGNvbnN0IGhhbmRvZmZUb29scyA9IGhhbmRvZmZzLm1hcCgoaGFuZG9mZikgPT4gaGFuZG9mZi5nZXRIYW5kb2ZmQXNGdW5jdGlvblRvb2woKSk7XG4gICAgICAgIGNvbnN0IGFsbFRvb2xzID0gKGF3YWl0IHRoaXMuI2N1cnJlbnRBZ2VudC5nZXRBbGxUb29scyh0aGlzLiNjb250ZXh0KSlcbiAgICAgICAgICAgIC5maWx0ZXIoaXNWYWxpZFJlYWx0aW1lVG9vbClcbiAgICAgICAgICAgIC5tYXAodG9SZWFsdGltZVRvb2xEZWZpbml0aW9uKTtcbiAgICAgICAgY29uc3QgaGFzVG9vbHNEZWZpbmVkID0gdHlwZW9mIHRoaXMuI2N1cnJlbnRBZ2VudC50b29scyAhPT0gJ3VuZGVmaW5lZCcgfHxcbiAgICAgICAgICAgIHR5cGVvZiB0aGlzLiNjdXJyZW50QWdlbnQubWNwU2VydmVycyAhPT0gJ3VuZGVmaW5lZCc7XG4gICAgICAgIGNvbnN0IGhhc0hhbmRvZmZzRGVmaW5lZCA9IGhhbmRvZmZzLmxlbmd0aCA+IDA7XG4gICAgICAgIHRoaXMuI2N1cnJlbnRUb29scyA9XG4gICAgICAgICAgICBoYXNUb29sc0RlZmluZWQgfHwgaGFzSGFuZG9mZnNEZWZpbmVkXG4gICAgICAgICAgICAgICAgPyBbLi4uYWxsVG9vbHMsIC4uLmhhbmRvZmZUb29sc11cbiAgICAgICAgICAgICAgICA6IHVuZGVmaW5lZDtcbiAgICAgICAgLy8gUmVjb21wdXRlIGN1cnJlbnRseSBhdmFpbGFibGUgTUNQIHRvb2xzIGJhc2VkIG9uIHRoZSBuZXcgYWdlbnQncyBhY3RpdmUgc2VydmVyIGxhYmVscy5cbiAgICAgICAgdGhpcy4jdXBkYXRlQXZhaWxhYmxlTWNwVG9vbHMoKTtcbiAgICB9XG4gICAgYXN5bmMgI2dldFNlc3Npb25Db25maWcoYWRkaXRpb25hbENvbmZpZyA9IHt9KSB7XG4gICAgICAgIGNvbnN0IG92ZXJyaWRlc0NvbmZpZyA9IGFkZGl0aW9uYWxDb25maWcgPz8ge307XG4gICAgICAgIGNvbnN0IG9wdGlvbnNDb25maWcgPSB0aGlzLm9wdGlvbnMuY29uZmlnID8/IHt9O1xuICAgICAgICBjb25zdCBpbnN0cnVjdGlvbnMgPSBhd2FpdCB0aGlzLiNjdXJyZW50QWdlbnQuZ2V0U3lzdGVtUHJvbXB0KHRoaXMuI2NvbnRleHQpO1xuICAgICAgICBjb25zdCBnZXRBdWRpb091dHB1dFZvaWNlT3ZlcnJpZGUgPSAoY29uZmlnKSA9PiB7XG4gICAgICAgICAgICBjb25zdCBhdWRpb0NvbmZpZyA9IGNvbmZpZ1xuICAgICAgICAgICAgICAgIC5hdWRpbztcbiAgICAgICAgICAgIHJldHVybiBhdWRpb0NvbmZpZz8ub3V0cHV0Py52b2ljZTtcbiAgICAgICAgfTtcbiAgICAgICAgLy8gUmVhbHRpbWUgZXhwZWN0cyB0cmFjaW5nIHRvIGJlIGV4cGxpY2l0bHkgbnVsbCB0byBkaXNhYmxlIGl0OyBsZWF2aW5nIHRoZSBwcmV2aW91cyBjb25maWdcbiAgICAgICAgLy8gaW4gcGxhY2Ugd291bGQgb3RoZXJ3aXNlIGNvbnRpbnVlIGVtaXR0aW5nIHNwYW5zLlxuICAgICAgICBjb25zdCB0cmFjaW5nQ29uZmlnID0gdGhpcy5vcHRpb25zXG4gICAgICAgICAgICAudHJhY2luZ0Rpc2FibGVkXG4gICAgICAgICAgICA/IG51bGxcbiAgICAgICAgICAgIDogdGhpcy5vcHRpb25zLndvcmtmbG93TmFtZVxuICAgICAgICAgICAgICAgID8ge1xuICAgICAgICAgICAgICAgICAgICB3b3JrZmxvd19uYW1lOiB0aGlzLm9wdGlvbnMud29ya2Zsb3dOYW1lLFxuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICA6ICdhdXRvJztcbiAgICAgICAgaWYgKHRyYWNpbmdDb25maWcgIT09IG51bGwgJiYgdHJhY2luZ0NvbmZpZyAhPT0gJ2F1dG8nKSB7XG4gICAgICAgICAgICBpZiAodGhpcy5vcHRpb25zLmdyb3VwSWQpIHtcbiAgICAgICAgICAgICAgICB0cmFjaW5nQ29uZmlnLmdyb3VwX2lkID0gdGhpcy5vcHRpb25zLmdyb3VwSWQ7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBpZiAodGhpcy5vcHRpb25zLnRyYWNlTWV0YWRhdGEpIHtcbiAgICAgICAgICAgICAgICB0cmFjaW5nQ29uZmlnLm1ldGFkYXRhID0gdGhpcy5vcHRpb25zLnRyYWNlTWV0YWRhdGE7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSBpZiAodGhpcy5vcHRpb25zLmdyb3VwSWQgfHwgdGhpcy5vcHRpb25zLnRyYWNlTWV0YWRhdGEpIHtcbiAgICAgICAgICAgIGxvZ2dlci53YXJuKCdJbiBvcmRlciB0byBzZXQgdHJhY2VNZXRhZGF0YSBvciBhIGdyb3VwSWQgeW91IG5lZWQgdG8gc3BlY2lmeSBhIHdvcmtmbG93TmFtZS4nKTtcbiAgICAgICAgfVxuICAgICAgICBjb25zdCBhdWRpb091dHB1dFZvaWNlT3ZlcnJpZGUgPSBnZXRBdWRpb091dHB1dFZvaWNlT3ZlcnJpZGUob3ZlcnJpZGVzQ29uZmlnKSA/P1xuICAgICAgICAgICAgZ2V0QXVkaW9PdXRwdXRWb2ljZU92ZXJyaWRlKG9wdGlvbnNDb25maWcpO1xuICAgICAgICBjb25zdCB0b3BMZXZlbFZvaWNlT3ZlcnJpZGUgPSBvdmVycmlkZXNDb25maWcudm9pY2UgPz8gb3B0aW9uc0NvbmZpZy52b2ljZTtcbiAgICAgICAgY29uc3QgcmVzb2x2ZWRWb2ljZSA9IHR5cGVvZiBhdWRpb091dHB1dFZvaWNlT3ZlcnJpZGUgIT09ICd1bmRlZmluZWQnXG4gICAgICAgICAgICA/IGF1ZGlvT3V0cHV0Vm9pY2VPdmVycmlkZVxuICAgICAgICAgICAgOiB0eXBlb2YgdG9wTGV2ZWxWb2ljZU92ZXJyaWRlICE9PSAndW5kZWZpbmVkJ1xuICAgICAgICAgICAgICAgID8gdG9wTGV2ZWxWb2ljZU92ZXJyaWRlXG4gICAgICAgICAgICAgICAgOiB0aGlzLiNjdXJyZW50QWdlbnQudm9pY2U7XG4gICAgICAgIC8vIFN0YXJ0IGZyb20gYW55IHByZXZpb3VzbHktc2VudCBjb25maWcgKHNvIHdlIHByZXNlcnZlIHZhbHVlcyBsaWtlIGF1ZGlvIGZvcm1hdHMpXG4gICAgICAgIC8vIGFuZCB0aGUgb3JpZ2luYWwgb3B0aW9ucy5jb25maWcgcHJvdmlkZWQgYnkgdGhlIHVzZXIuIFByZWZlcmVuY2Ugb3JkZXI6XG4gICAgICAgIC8vIDEuIExhc3Qgc2Vzc2lvbiBjb25maWcgd2Ugc2VudCAoI2xhc3RTZXNzaW9uQ29uZmlnKVxuICAgICAgICAvLyAyLiBPcmlnaW5hbCBvcHRpb25zLmNvbmZpZ1xuICAgICAgICAvLyAzLiBBZGRpdGlvbmFsIGNvbmZpZyBwYXNzZWQgaW50byB0aGlzIGludm9jYXRpb24gKGV4cGxpY2l0IG92ZXJyaWRlcylcbiAgICAgICAgLy8gRmluYWxseSB3ZSBvdmVyd3JpdGUgZHluYW1pYyBmaWVsZHMgKGluc3RydWN0aW9ucywgdm9pY2UsIG1vZGVsLCB0b29scywgdHJhY2luZylcbiAgICAgICAgLy8gdG8gZW5zdXJlIHRoZXkgYWx3YXlzIHJlZmxlY3QgdGhlIGN1cnJlbnQgYWdlbnQgJiBydW50aW1lIHN0YXRlLlxuICAgICAgICBjb25zdCBiYXNlID0ge1xuICAgICAgICAgICAgLi4uKHRoaXMuI2xhc3RTZXNzaW9uQ29uZmlnID8/IHt9KSxcbiAgICAgICAgICAgIC4uLm9wdGlvbnNDb25maWcsXG4gICAgICAgICAgICAuLi5vdmVycmlkZXNDb25maWcsXG4gICAgICAgIH07XG4gICAgICAgIC8vIE5vdGU6IENlcnRhaW4gZmllbGRzIGNhbm5vdCBiZSB1cGRhdGVkIGFmdGVyIHRoZSBzZXNzaW9uIGJlZ2lucywgc3VjaCBhcyB2b2ljZSBhbmQgbW9kZWxcbiAgICAgICAgY29uc3QgZnVsbENvbmZpZyA9IHtcbiAgICAgICAgICAgIC4uLmJhc2UsXG4gICAgICAgICAgICBpbnN0cnVjdGlvbnMsXG4gICAgICAgICAgICB2b2ljZTogcmVzb2x2ZWRWb2ljZSxcbiAgICAgICAgICAgIG1vZGVsOiB0aGlzLm9wdGlvbnMubW9kZWwsXG4gICAgICAgICAgICB0b29sczogdGhpcy4jY3VycmVudFRvb2xzLFxuICAgICAgICAgICAgdHJhY2luZzogdHJhY2luZ0NvbmZpZyxcbiAgICAgICAgICAgIHByb21wdDogdHlwZW9mIHRoaXMuI2N1cnJlbnRBZ2VudC5wcm9tcHQgPT09ICdmdW5jdGlvbidcbiAgICAgICAgICAgICAgICA/IGF3YWl0IHRoaXMuI2N1cnJlbnRBZ2VudC5wcm9tcHQodGhpcy4jY29udGV4dCwgdGhpcy4jY3VycmVudEFnZW50KVxuICAgICAgICAgICAgICAgIDogdGhpcy4jY3VycmVudEFnZW50LnByb21wdCxcbiAgICAgICAgfTtcbiAgICAgICAgLy8gVXBkYXRlIG91ciBjYWNoZSBzbyBzdWJzZXF1ZW50IHVwZGF0ZXMgaW5oZXJpdCB0aGUgZnVsbCBzZXQgaW5jbHVkaW5nIGFueVxuICAgICAgICAvLyBkeW5hbWljIGZpZWxkcyB3ZSBqdXN0IG92ZXJ3cm90ZS5cbiAgICAgICAgdGhpcy4jbGFzdFNlc3Npb25Db25maWcgPSBmdWxsQ29uZmlnO1xuICAgICAgICByZXR1cm4gZnVsbENvbmZpZztcbiAgICB9XG4gICAgLyoqXG4gICAgICogQ29tcHV0ZSB0aGUgaW5pdGlhbCBzZXNzaW9uIGNvbmZpZyB0aGF0IHRoZSBjdXJyZW50IHNlc3Npb24gd2lsbCB1c2Ugd2hlbiBjb25uZWN0aW5nLlxuICAgICAqXG4gICAgICogVGhpcyBtaXJyb3JzIHRoZSBjb25maWd1cmF0aW9uIHBheWxvYWQgd2Ugc2VuZCBkdXJpbmcgYGNvbm5lY3RgLCBpbmNsdWRpbmcgZHluYW1pYyB2YWx1ZXNcbiAgICAgKiBzdWNoIGFzIHRoZSB1cHN0cmVhbSBhZ2VudCBpbnN0cnVjdGlvbnMsIHRvb2wgZGVmaW5pdGlvbnMsIGFuZCBwcm9tcHQgY29udGVudCBnZW5lcmF0ZWQgYXRcbiAgICAgKiBydW50aW1lLiBLZWVwaW5nIHRoaXMgaGVscGVyIGV4cG9zZWQgYWxsb3dzIHRyYW5zcG9ydHMgb3Igb3JjaGVzdHJhdGlvbiBsYXllcnMgdG8gcHJlY29tcHV0ZVxuICAgICAqIGEgQ2FsbEFjY2VwdC1jb21wYXRpYmxlIHBheWxvYWQgd2l0aG91dCBvcGVuaW5nIGEgc29ja2V0LlxuICAgICAqXG4gICAgICogQHBhcmFtIG92ZXJyaWRlcyAtIEFkZGl0aW9uYWwgY29uZmlnIG92ZXJyaWRlcyBhcHBsaWVkIG9uIHRvcCBvZiB0aGUgc2Vzc2lvbiBvcHRpb25zLlxuICAgICAqL1xuICAgIGFzeW5jIGdldEluaXRpYWxTZXNzaW9uQ29uZmlnKG92ZXJyaWRlcyA9IHt9KSB7XG4gICAgICAgIGF3YWl0IHRoaXMuI3NldEN1cnJlbnRBZ2VudCh0aGlzLmluaXRpYWxBZ2VudCk7XG4gICAgICAgIHJldHVybiB0aGlzLiNnZXRTZXNzaW9uQ29uZmlnKHtcbiAgICAgICAgICAgIC4uLih0aGlzLm9wdGlvbnMuY29uZmlnID8/IHt9KSxcbiAgICAgICAgICAgIC4uLihvdmVycmlkZXMgPz8ge30pLFxuICAgICAgICB9KTtcbiAgICB9XG4gICAgLyoqXG4gICAgICogQ29udmVuaWVuY2UgaGVscGVyIHRvIGNvbXB1dGUgdGhlIGluaXRpYWwgc2Vzc2lvbiBjb25maWcgd2l0aG91dCBtYW51YWxseSBpbnN0YW50aWF0aW5nIGFuZCBjb25uZWN0aW5nIGEgc2Vzc2lvbi5cbiAgICAgKlxuICAgICAqIFRoaXMgaXMgcHJpbWFyaWx5IHVzZWZ1bCBmb3IgaW50ZWdyYXRpb25zIHRoYXQgbXVzdCBwcm92aWRlIHRoZSBzZXNzaW9uIGNvbmZpZ3VyYXRpb24gdG8gYVxuICAgICAqIHRoaXJkIHBhcnR5IChmb3IgZXhhbXBsZSB0aGUgU0lQIGBjYWxscy5hY2NlcHRgIGVuZHBvaW50KSBiZWZvcmUgdGhlIGFjdHVhbCByZWFsdGltZSBzZXNzaW9uXG4gICAgICogaXMgYXR0YWNoZWQuIFRoZSBoZWxwZXIgaW5zdGFudGlhdGVzIGEgdGhyb3dhd2F5IHNlc3Npb24gc28gYWxsIGFnZW50LWRyaXZlbiBkeW5hbWljIGZpZWxkc1xuICAgICAqIHJlc29sdmUgaW4gZXhhY3RseSB0aGUgc2FtZSB3YXkgYXMgdGhlIGxpdmUgc2Vzc2lvbiBwYXRoLlxuICAgICAqXG4gICAgICogQHBhcmFtIGFnZW50IC0gVGhlIHN0YXJ0aW5nIGFnZW50IGZvciB0aGUgc2Vzc2lvbi5cbiAgICAgKiBAcGFyYW0gb3B0aW9ucyAtIFNlc3Npb24gb3B0aW9ucyB1c2VkIHRvIHNlZWQgdGhlIGNvbmZpZyBjYWxjdWxhdGlvbi5cbiAgICAgKiBAcGFyYW0gb3ZlcnJpZGVzIC0gQWRkaXRpb25hbCBjb25maWcgb3ZlcnJpZGVzIGFwcGxpZWQgb24gdG9wIG9mIHRoZSBwcm92aWRlZCBvcHRpb25zLlxuICAgICAqL1xuICAgIHN0YXRpYyBhc3luYyBjb21wdXRlSW5pdGlhbFNlc3Npb25Db25maWcoYWdlbnQsIG9wdGlvbnMgPSB7fSwgb3ZlcnJpZGVzID0ge30pIHtcbiAgICAgICAgY29uc3Qgc2Vzc2lvbiA9IG5ldyBSZWFsdGltZVNlc3Npb24oYWdlbnQsIG9wdGlvbnMpO1xuICAgICAgICB0cnkge1xuICAgICAgICAgICAgcmV0dXJuIGF3YWl0IHNlc3Npb24uZ2V0SW5pdGlhbFNlc3Npb25Db25maWcob3ZlcnJpZGVzKTtcbiAgICAgICAgfVxuICAgICAgICBmaW5hbGx5IHtcbiAgICAgICAgICAgIHNlc3Npb24uY2xvc2UoKTtcbiAgICAgICAgfVxuICAgIH1cbiAgICBhc3luYyB1cGRhdGVBZ2VudChuZXdBZ2VudCkge1xuICAgICAgICB0aGlzLiNjdXJyZW50QWdlbnQuZW1pdCgnYWdlbnRfaGFuZG9mZicsIHRoaXMuI2NvbnRleHQsIG5ld0FnZW50KTtcbiAgICAgICAgdGhpcy5lbWl0KCdhZ2VudF9oYW5kb2ZmJywgdGhpcy4jY29udGV4dCwgdGhpcy4jY3VycmVudEFnZW50LCBuZXdBZ2VudCk7XG4gICAgICAgIGF3YWl0IHRoaXMuI3NldEN1cnJlbnRBZ2VudChuZXdBZ2VudCk7XG4gICAgICAgIGF3YWl0IHRoaXMuI3RyYW5zcG9ydC51cGRhdGVTZXNzaW9uQ29uZmlnKGF3YWl0IHRoaXMuI2dldFNlc3Npb25Db25maWcoKSk7XG4gICAgICAgIHJldHVybiBuZXdBZ2VudDtcbiAgICB9XG4gICAgYXN5bmMgI2hhbmRsZUhhbmRvZmYodG9vbENhbGwsIGhhbmRvZmYpIHtcbiAgICAgICAgY29uc3QgbmV3QWdlbnQgPSAoYXdhaXQgaGFuZG9mZi5vbkludm9rZUhhbmRvZmYodGhpcy4jY29udGV4dCwgdG9vbENhbGwuYXJndW1lbnRzKSk7XG4gICAgICAgIHRoaXMuI2N1cnJlbnRBZ2VudC5lbWl0KCdhZ2VudF9oYW5kb2ZmJywgdGhpcy4jY29udGV4dCwgbmV3QWdlbnQpO1xuICAgICAgICB0aGlzLmVtaXQoJ2FnZW50X2hhbmRvZmYnLCB0aGlzLiNjb250ZXh0LCB0aGlzLiNjdXJyZW50QWdlbnQsIG5ld0FnZW50KTtcbiAgICAgICAgLy8gdXBkYXRlIHNlc3Npb24gd2l0aCBuZXcgYWdlbnRcbiAgICAgICAgYXdhaXQgdGhpcy4jc2V0Q3VycmVudEFnZW50KG5ld0FnZW50KTtcbiAgICAgICAgYXdhaXQgdGhpcy4jdHJhbnNwb3J0LnVwZGF0ZVNlc3Npb25Db25maWcoYXdhaXQgdGhpcy4jZ2V0U2Vzc2lvbkNvbmZpZygpKTtcbiAgICAgICAgY29uc3Qgb3V0cHV0ID0gZ2V0VHJhbnNmZXJNZXNzYWdlKG5ld0FnZW50KTtcbiAgICAgICAgdGhpcy4jdHJhbnNwb3J0LnNlbmRGdW5jdGlvbkNhbGxPdXRwdXQodG9vbENhbGwsIG91dHB1dCwgdHJ1ZSk7XG4gICAgICAgIHJldHVybiBuZXdBZ2VudDtcbiAgICB9XG4gICAgYXN5bmMgI2hhbmRsZUZ1bmN0aW9uVG9vbENhbGwodG9vbENhbGwsIHRvb2wpIHtcbiAgICAgICAgdGhpcy4jY29udGV4dC5jb250ZXh0Lmhpc3RvcnkgPSBKU09OLnBhcnNlKEpTT04uc3RyaW5naWZ5KHRoaXMuI2hpc3RvcnkpKTsgLy8gZGVlcCBjb3B5IG9mIHRoZSBoaXN0b3J5XG4gICAgICAgIGxldCBwYXJzZWRBcmdzID0gdG9vbENhbGwuYXJndW1lbnRzO1xuICAgICAgICBpZiAodG9vbC5wYXJhbWV0ZXJzKSB7XG4gICAgICAgICAgICBpZiAoaXNab2RPYmplY3QodG9vbC5wYXJhbWV0ZXJzKSkge1xuICAgICAgICAgICAgICAgIHBhcnNlZEFyZ3MgPSB0b29sLnBhcmFtZXRlcnMucGFyc2UocGFyc2VkQXJncyk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgICAgICBwYXJzZWRBcmdzID0gSlNPTi5wYXJzZShwYXJzZWRBcmdzKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICBjb25zdCBuZWVkc0FwcHJvdmFsID0gYXdhaXQgdG9vbC5uZWVkc0FwcHJvdmFsKHRoaXMuI2NvbnRleHQsIHBhcnNlZEFyZ3MsIHRvb2xDYWxsLmNhbGxJZCk7XG4gICAgICAgIGlmIChuZWVkc0FwcHJvdmFsKSB7XG4gICAgICAgICAgICBjb25zdCBhcHByb3ZhbCA9IHRoaXMuY29udGV4dC5pc1Rvb2xBcHByb3ZlZCh7XG4gICAgICAgICAgICAgICAgdG9vbE5hbWU6IHRvb2wubmFtZSxcbiAgICAgICAgICAgICAgICBjYWxsSWQ6IHRvb2xDYWxsLmNhbGxJZCxcbiAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgaWYgKGFwcHJvdmFsID09PSBmYWxzZSkge1xuICAgICAgICAgICAgICAgIHRoaXMuZW1pdCgnYWdlbnRfdG9vbF9zdGFydCcsIHRoaXMuI2NvbnRleHQsIHRoaXMuI2N1cnJlbnRBZ2VudCwgdG9vbCwge1xuICAgICAgICAgICAgICAgICAgICB0b29sQ2FsbCxcbiAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgICAgICB0aGlzLiNjdXJyZW50QWdlbnQuZW1pdCgnYWdlbnRfdG9vbF9zdGFydCcsIHRoaXMuI2NvbnRleHQsIHRvb2wsIHtcbiAgICAgICAgICAgICAgICAgICAgdG9vbENhbGwsXG4gICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICAgICAgY29uc3QgcmVzdWx0ID0gJ1Rvb2wgZXhlY3V0aW9uIHdhcyBub3QgYXBwcm92ZWQuJztcbiAgICAgICAgICAgICAgICB0aGlzLiN0cmFuc3BvcnQuc2VuZEZ1bmN0aW9uQ2FsbE91dHB1dCh0b29sQ2FsbCwgcmVzdWx0LCB0cnVlKTtcbiAgICAgICAgICAgICAgICB0aGlzLmVtaXQoJ2FnZW50X3Rvb2xfZW5kJywgdGhpcy4jY29udGV4dCwgdGhpcy4jY3VycmVudEFnZW50LCB0b29sLCByZXN1bHQsIHsgdG9vbENhbGwgfSk7XG4gICAgICAgICAgICAgICAgdGhpcy4jY3VycmVudEFnZW50LmVtaXQoJ2FnZW50X3Rvb2xfZW5kJywgdGhpcy4jY29udGV4dCwgdG9vbCwgcmVzdWx0LCB7XG4gICAgICAgICAgICAgICAgICAgIHRvb2xDYWxsLFxuICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGVsc2UgaWYgKHR5cGVvZiBhcHByb3ZhbCA9PT0gJ3VuZGVmaW5lZCcpIHtcbiAgICAgICAgICAgICAgICB0aGlzLmVtaXQoJ3Rvb2xfYXBwcm92YWxfcmVxdWVzdGVkJywgdGhpcy4jY29udGV4dCwgdGhpcy4jY3VycmVudEFnZW50LCB7XG4gICAgICAgICAgICAgICAgICAgIHR5cGU6ICdmdW5jdGlvbl9hcHByb3ZhbCcsXG4gICAgICAgICAgICAgICAgICAgIHRvb2wsXG4gICAgICAgICAgICAgICAgICAgIGFwcHJvdmFsSXRlbTogbmV3IFJ1blRvb2xBcHByb3ZhbEl0ZW0odG9vbENhbGwsIHRoaXMuI2N1cnJlbnRBZ2VudCksXG4gICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIHRoaXMuZW1pdCgnYWdlbnRfdG9vbF9zdGFydCcsIHRoaXMuI2NvbnRleHQsIHRoaXMuI2N1cnJlbnRBZ2VudCwgdG9vbCwge1xuICAgICAgICAgICAgdG9vbENhbGwsXG4gICAgICAgIH0pO1xuICAgICAgICB0aGlzLiNjdXJyZW50QWdlbnQuZW1pdCgnYWdlbnRfdG9vbF9zdGFydCcsIHRoaXMuI2NvbnRleHQsIHRvb2wsIHtcbiAgICAgICAgICAgIHRvb2xDYWxsLFxuICAgICAgICB9KTtcbiAgICAgICAgdGhpcy4jY29udGV4dC5jb250ZXh0Lmhpc3RvcnkgPSBKU09OLnBhcnNlKEpTT04uc3RyaW5naWZ5KHRoaXMuI2hpc3RvcnkpKTsgLy8gZGVlcCBjb3B5IG9mIHRoZSBoaXN0b3J5XG4gICAgICAgIGNvbnN0IHJlc3VsdCA9IGF3YWl0IHRvb2wuaW52b2tlKHRoaXMuI2NvbnRleHQsIHRvb2xDYWxsLmFyZ3VtZW50cywge1xuICAgICAgICAgICAgdG9vbENhbGwsXG4gICAgICAgIH0pO1xuICAgICAgICBsZXQgc3RyaW5nUmVzdWx0O1xuICAgICAgICBpZiAoaXNCYWNrZ3JvdW5kUmVzdWx0KHJlc3VsdCkpIHtcbiAgICAgICAgICAgIC8vIERvbid0IGdlbmVyYXRlIGEgbmV3IHJlc3BvbnNlLCBqdXN0IHNlbmQgdGhlIHJlc3VsdFxuICAgICAgICAgICAgc3RyaW5nUmVzdWx0ID0gdG9TbWFydFN0cmluZyhyZXN1bHQuY29udGVudCk7XG4gICAgICAgICAgICB0aGlzLiN0cmFuc3BvcnQuc2VuZEZ1bmN0aW9uQ2FsbE91dHB1dCh0b29sQ2FsbCwgc3RyaW5nUmVzdWx0LCBmYWxzZSk7XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICBzdHJpbmdSZXN1bHQgPSB0b1NtYXJ0U3RyaW5nKHJlc3VsdCk7XG4gICAgICAgICAgICB0aGlzLiN0cmFuc3BvcnQuc2VuZEZ1bmN0aW9uQ2FsbE91dHB1dCh0b29sQ2FsbCwgc3RyaW5nUmVzdWx0LCB0cnVlKTtcbiAgICAgICAgfVxuICAgICAgICB0aGlzLmVtaXQoJ2FnZW50X3Rvb2xfZW5kJywgdGhpcy4jY29udGV4dCwgdGhpcy4jY3VycmVudEFnZW50LCB0b29sLCBzdHJpbmdSZXN1bHQsIHsgdG9vbENhbGwgfSk7XG4gICAgICAgIHRoaXMuI2N1cnJlbnRBZ2VudC5lbWl0KCdhZ2VudF90b29sX2VuZCcsIHRoaXMuI2NvbnRleHQsIHRvb2wsIHN0cmluZ1Jlc3VsdCwgeyB0b29sQ2FsbCB9KTtcbiAgICB9XG4gICAgYXN5bmMgI2hhbmRsZUZ1bmN0aW9uQ2FsbCh0b29sQ2FsbCkge1xuICAgICAgICBjb25zdCBlbmFibGVkSGFuZG9mZnMgPSBhd2FpdCB0aGlzLiNjdXJyZW50QWdlbnQuZ2V0RW5hYmxlZEhhbmRvZmZzKHRoaXMuI2NvbnRleHQpO1xuICAgICAgICBjb25zdCBoYW5kb2ZmTWFwID0gbmV3IE1hcChlbmFibGVkSGFuZG9mZnMubWFwKChoYW5kb2ZmKSA9PiBbaGFuZG9mZi50b29sTmFtZSwgaGFuZG9mZl0pKTtcbiAgICAgICAgY29uc3QgYWxsVG9vbHMgPSBhd2FpdCB0aGlzLiNjdXJyZW50QWdlbnQuZ2V0QWxsVG9vbHModGhpcy4jY29udGV4dCk7XG4gICAgICAgIGNvbnN0IGZ1bmN0aW9uVG9vbE1hcCA9IG5ldyBNYXAoYWxsVG9vbHMubWFwKCh0b29sKSA9PiBbdG9vbC5uYW1lLCB0b29sXSkpO1xuICAgICAgICBjb25zdCBwb3NzaWJsZUhhbmRvZmYgPSBoYW5kb2ZmTWFwLmdldCh0b29sQ2FsbC5uYW1lKTtcbiAgICAgICAgaWYgKHBvc3NpYmxlSGFuZG9mZikge1xuICAgICAgICAgICAgYXdhaXQgdGhpcy4jaGFuZGxlSGFuZG9mZih0b29sQ2FsbCwgcG9zc2libGVIYW5kb2ZmKTtcbiAgICAgICAgfVxuICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgIGNvbnN0IGZ1bmN0aW9uVG9vbCA9IGZ1bmN0aW9uVG9vbE1hcC5nZXQodG9vbENhbGwubmFtZSk7XG4gICAgICAgICAgICBpZiAoZnVuY3Rpb25Ub29sICYmIGZ1bmN0aW9uVG9vbC50eXBlID09PSAnZnVuY3Rpb24nKSB7XG4gICAgICAgICAgICAgICAgYXdhaXQgdGhpcy4jaGFuZGxlRnVuY3Rpb25Ub29sQ2FsbCh0b29sQ2FsbCwgZnVuY3Rpb25Ub29sKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgICAgIHRocm93IG5ldyBNb2RlbEJlaGF2aW9yRXJyb3IoYFRvb2wgJHt0b29sQ2FsbC5uYW1lfSBub3QgZm91bmRgKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgIH1cbiAgICBhc3luYyAjcnVuT3V0cHV0R3VhcmRyYWlscyhvdXRwdXQsIHJlc3BvbnNlSWQsIGl0ZW1JZCkge1xuICAgICAgICBpZiAodGhpcy4jb3V0cHV0R3VhcmRyYWlscy5sZW5ndGggPT09IDApIHtcbiAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgfVxuICAgICAgICBjb25zdCBndWFyZHJhaWxBcmdzID0ge1xuICAgICAgICAgICAgYWdlbnQ6IHRoaXMuI2N1cnJlbnRBZ2VudCxcbiAgICAgICAgICAgIGFnZW50T3V0cHV0OiBvdXRwdXQsXG4gICAgICAgICAgICBjb250ZXh0OiB0aGlzLiNjb250ZXh0LFxuICAgICAgICB9O1xuICAgICAgICBjb25zdCByZXN1bHRzID0gYXdhaXQgUHJvbWlzZS5hbGwodGhpcy4jb3V0cHV0R3VhcmRyYWlscy5tYXAoKGd1YXJkcmFpbCkgPT4gZ3VhcmRyYWlsLnJ1bihndWFyZHJhaWxBcmdzKSkpO1xuICAgICAgICBjb25zdCBmaXJzdFRyaXB3aXJlVHJpZ2dlcmVkID0gcmVzdWx0cy5maW5kKChyZXN1bHQpID0+IHJlc3VsdC5vdXRwdXQudHJpcHdpcmVUcmlnZ2VyZWQpO1xuICAgICAgICBpZiAoZmlyc3RUcmlwd2lyZVRyaWdnZXJlZCkge1xuICAgICAgICAgICAgLy8gdGhpcyBlbnN1cmVzIHRoYXQgaWYgb25lIGd1YXJkcmFpbCBhbHJlYWR5IHRyaXBzIGFuZCB3ZSBhcmUgaW4gdGhlIG1pZGRsZSBvZiBhbm90aGVyXG4gICAgICAgICAgICAvLyBndWFyZHJhaWwgcnVuLCB3ZSBkb24ndCB0cmlwIGFnYWluXG4gICAgICAgICAgICBpZiAodGhpcy4jaW50ZXJydXB0ZWRCeUd1YXJkcmFpbFtyZXNwb25zZUlkXSkge1xuICAgICAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHRoaXMuI2ludGVycnVwdGVkQnlHdWFyZHJhaWxbcmVzcG9uc2VJZF0gPSB0cnVlO1xuICAgICAgICAgICAgY29uc3QgZXJyb3IgPSBuZXcgT3V0cHV0R3VhcmRyYWlsVHJpcHdpcmVUcmlnZ2VyZWQoYE91dHB1dCBndWFyZHJhaWwgdHJpZ2dlcmVkOiAke0pTT04uc3RyaW5naWZ5KGZpcnN0VHJpcHdpcmVUcmlnZ2VyZWQub3V0cHV0Lm91dHB1dEluZm8pfWAsIGZpcnN0VHJpcHdpcmVUcmlnZ2VyZWQpO1xuICAgICAgICAgICAgdGhpcy5lbWl0KCdndWFyZHJhaWxfdHJpcHBlZCcsIHRoaXMuI2NvbnRleHQsIHRoaXMuI2N1cnJlbnRBZ2VudCwgZXJyb3IsIHtcbiAgICAgICAgICAgICAgICBpdGVtSWQsXG4gICAgICAgICAgICB9KTtcbiAgICAgICAgICAgIHRoaXMuaW50ZXJydXB0KCk7XG4gICAgICAgICAgICBjb25zdCBmZWVkYmFja1RleHQgPSBnZXRSZWFsdGltZUd1YXJkcmFpbEZlZWRiYWNrTWVzc2FnZShmaXJzdFRyaXB3aXJlVHJpZ2dlcmVkKTtcbiAgICAgICAgICAgIHRoaXMuc2VuZE1lc3NhZ2UoZmVlZGJhY2tUZXh0KTtcbiAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgfVxuICAgIH1cbiAgICAjc2V0RXZlbnRMaXN0ZW5lcnMoKSB7XG4gICAgICAgIHRoaXMuI3RyYW5zcG9ydC5vbignKicsIChldmVudCkgPT4ge1xuICAgICAgICAgICAgdGhpcy5lbWl0KCd0cmFuc3BvcnRfZXZlbnQnLCBldmVudCk7XG4gICAgICAgICAgICAvLyBIYW5kbGUgY29tcGxldGVkIHVzZXIgdHJhbnNjcmlwdGlvbiBldmVudHNcbiAgICAgICAgICAgIGlmIChldmVudC50eXBlID09PSAnY29udmVyc2F0aW9uLml0ZW0uaW5wdXRfYXVkaW9fdHJhbnNjcmlwdGlvbi5jb21wbGV0ZWQnKSB7XG4gICAgICAgICAgICAgICAgdHJ5IHtcbiAgICAgICAgICAgICAgICAgICAgY29uc3QgY29tcGxldGVkRXZlbnQgPSBldmVudDtcbiAgICAgICAgICAgICAgICAgICAgdGhpcy4jaGlzdG9yeSA9IHVwZGF0ZVJlYWx0aW1lSGlzdG9yeSh0aGlzLiNoaXN0b3J5LCBjb21wbGV0ZWRFdmVudCwgdGhpcy4jc2hvdWxkSW5jbHVkZUF1ZGlvRGF0YSk7XG4gICAgICAgICAgICAgICAgICAgIHRoaXMuI2NvbnRleHQuY29udGV4dC5oaXN0b3J5ID0gdGhpcy4jaGlzdG9yeTtcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5lbWl0KCdoaXN0b3J5X3VwZGF0ZWQnLCB0aGlzLiNoaXN0b3J5KTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgY2F0Y2ggKGVycikge1xuICAgICAgICAgICAgICAgICAgICB0aGlzLmVtaXQoJ2Vycm9yJywge1xuICAgICAgICAgICAgICAgICAgICAgICAgdHlwZTogJ2Vycm9yJyxcbiAgICAgICAgICAgICAgICAgICAgICAgIGVycm9yOiBlcnIsXG4gICAgICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgfSk7XG4gICAgICAgIHRoaXMuI3RyYW5zcG9ydC5vbignbWNwX3Rvb2xzX2xpc3RlZCcsICh7IHNlcnZlckxhYmVsLCB0b29scyB9KSA9PiB7XG4gICAgICAgICAgICB0cnkge1xuICAgICAgICAgICAgICAgIHRoaXMuI2FsbE1jcFRvb2xzQnlTZXJ2ZXIuc2V0KHNlcnZlckxhYmVsLCB0b29scyA/PyBbXSk7XG4gICAgICAgICAgICAgICAgdGhpcy4jdXBkYXRlQXZhaWxhYmxlTWNwVG9vbHMoKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGNhdGNoIChlcnIpIHtcbiAgICAgICAgICAgICAgICB0aGlzLmVtaXQoJ2Vycm9yJywgeyB0eXBlOiAnZXJyb3InLCBlcnJvcjogZXJyIH0pO1xuICAgICAgICAgICAgfVxuICAgICAgICB9KTtcbiAgICAgICAgdGhpcy4jdHJhbnNwb3J0Lm9uKCdhdWRpbycsIChldmVudCkgPT4ge1xuICAgICAgICAgICAgaWYgKCF0aGlzLiNhdWRpb1N0YXJ0ZWQpIHtcbiAgICAgICAgICAgICAgICB0aGlzLiNhdWRpb1N0YXJ0ZWQgPSB0cnVlO1xuICAgICAgICAgICAgICAgIHRoaXMuZW1pdCgnYXVkaW9fc3RhcnQnLCB0aGlzLiNjb250ZXh0LCB0aGlzLiNjdXJyZW50QWdlbnQpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgdGhpcy5lbWl0KCdhdWRpbycsIGV2ZW50KTtcbiAgICAgICAgfSk7XG4gICAgICAgIHRoaXMuI3RyYW5zcG9ydC5vbigndHVybl9zdGFydGVkJywgKCkgPT4ge1xuICAgICAgICAgICAgdGhpcy4jYXVkaW9TdGFydGVkID0gZmFsc2U7XG4gICAgICAgICAgICB0aGlzLmVtaXQoJ2FnZW50X3N0YXJ0JywgdGhpcy4jY29udGV4dCwgdGhpcy4jY3VycmVudEFnZW50KTtcbiAgICAgICAgICAgIHRoaXMuI2N1cnJlbnRBZ2VudC5lbWl0KCdhZ2VudF9zdGFydCcsIHRoaXMuI2NvbnRleHQsIHRoaXMuI2N1cnJlbnRBZ2VudCk7XG4gICAgICAgIH0pO1xuICAgICAgICB0aGlzLiN0cmFuc3BvcnQub24oJ3R1cm5fZG9uZScsIChldmVudCkgPT4ge1xuICAgICAgICAgICAgY29uc3QgaXRlbSA9IGV2ZW50LnJlc3BvbnNlLm91dHB1dFtldmVudC5yZXNwb25zZS5vdXRwdXQubGVuZ3RoIC0gMV07XG4gICAgICAgICAgICBjb25zdCB0ZXh0T3V0cHV0ID0gZ2V0TGFzdFRleHRGcm9tQXVkaW9PdXRwdXRNZXNzYWdlKGl0ZW0pID8/ICcnO1xuICAgICAgICAgICAgY29uc3QgaXRlbUlkID0gaXRlbT8uaWQgPz8gJyc7XG4gICAgICAgICAgICB0aGlzLmVtaXQoJ2FnZW50X2VuZCcsIHRoaXMuI2NvbnRleHQsIHRoaXMuI2N1cnJlbnRBZ2VudCwgdGV4dE91dHB1dCk7XG4gICAgICAgICAgICB0aGlzLiNjdXJyZW50QWdlbnQuZW1pdCgnYWdlbnRfZW5kJywgdGhpcy4jY29udGV4dCwgdGV4dE91dHB1dCk7XG4gICAgICAgICAgICB0aGlzLiNydW5PdXRwdXRHdWFyZHJhaWxzKHRleHRPdXRwdXQsIGV2ZW50LnJlc3BvbnNlLmlkLCBpdGVtSWQpO1xuICAgICAgICB9KTtcbiAgICAgICAgdGhpcy4jdHJhbnNwb3J0Lm9uKCdhdWRpb19kb25lJywgKCkgPT4ge1xuICAgICAgICAgICAgaWYgKHRoaXMuI2F1ZGlvU3RhcnRlZCkge1xuICAgICAgICAgICAgICAgIHRoaXMuI2F1ZGlvU3RhcnRlZCA9IGZhbHNlO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgdGhpcy5lbWl0KCdhdWRpb19zdG9wcGVkJywgdGhpcy4jY29udGV4dCwgdGhpcy4jY3VycmVudEFnZW50KTtcbiAgICAgICAgfSk7XG4gICAgICAgIGxldCBsYXN0UnVuSW5kZXggPSAwO1xuICAgICAgICBsZXQgbGFzdEl0ZW1JZDtcbiAgICAgICAgdGhpcy4jdHJhbnNwb3J0Lm9uKCdhdWRpb190cmFuc2NyaXB0X2RlbHRhJywgKGV2ZW50KSA9PiB7XG4gICAgICAgICAgICB0cnkge1xuICAgICAgICAgICAgICAgIGNvbnN0IGRlbHRhID0gZXZlbnQuZGVsdGE7XG4gICAgICAgICAgICAgICAgY29uc3QgaXRlbUlkID0gZXZlbnQuaXRlbUlkO1xuICAgICAgICAgICAgICAgIGNvbnN0IHJlc3BvbnNlSWQgPSBldmVudC5yZXNwb25zZUlkO1xuICAgICAgICAgICAgICAgIGlmIChsYXN0SXRlbUlkICE9PSBpdGVtSWQpIHtcbiAgICAgICAgICAgICAgICAgICAgbGFzdEl0ZW1JZCA9IGl0ZW1JZDtcbiAgICAgICAgICAgICAgICAgICAgbGFzdFJ1bkluZGV4ID0gMDtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgY29uc3QgY3VycmVudFRleHQgPSB0aGlzLiN0cmFuc2NyaWJlZFRleHREZWx0YXNbaXRlbUlkXSA/PyAnJztcbiAgICAgICAgICAgICAgICBjb25zdCBuZXdUZXh0ID0gY3VycmVudFRleHQgKyBkZWx0YTtcbiAgICAgICAgICAgICAgICB0aGlzLiN0cmFuc2NyaWJlZFRleHREZWx0YXNbaXRlbUlkXSA9IG5ld1RleHQ7XG4gICAgICAgICAgICAgICAgaWYgKHRoaXMuI291dHB1dEd1YXJkcmFpbFNldHRpbmdzLmRlYm91bmNlVGV4dExlbmd0aCA8IDApIHtcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBjb25zdCBuZXdSdW5JbmRleCA9IE1hdGguZmxvb3IobmV3VGV4dC5sZW5ndGggLyB0aGlzLiNvdXRwdXRHdWFyZHJhaWxTZXR0aW5ncy5kZWJvdW5jZVRleHRMZW5ndGgpO1xuICAgICAgICAgICAgICAgIGlmIChuZXdSdW5JbmRleCA+IGxhc3RSdW5JbmRleCkge1xuICAgICAgICAgICAgICAgICAgICBsYXN0UnVuSW5kZXggPSBuZXdSdW5JbmRleDtcbiAgICAgICAgICAgICAgICAgICAgLy8gV2UgZG9uJ3QgY2FuY2VsIGV4aXN0aW5nIHJ1bnMgYmVjYXVzZSB3ZSB3YW50IHRoZSBmaXJzdCBvbmUgdG8gZmFpbCB0byBmYWlsXG4gICAgICAgICAgICAgICAgICAgIC8vIFRoZSB0cmFuc3BvcnQgbGF5ZXIgc2hvdWxkIHVwb24gZmFpbHVyZSBoYW5kbGUgdGhlIGludGVycnVwdGlvbiBhbmQgc3RvcCB0aGUgbW9kZWxcbiAgICAgICAgICAgICAgICAgICAgLy8gZnJvbSBnZW5lcmF0aW5nIGZ1cnRoZXJcbiAgICAgICAgICAgICAgICAgICAgdGhpcy4jcnVuT3V0cHV0R3VhcmRyYWlscyhuZXdUZXh0LCByZXNwb25zZUlkLCBpdGVtSWQpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGNhdGNoIChlcnIpIHtcbiAgICAgICAgICAgICAgICB0aGlzLmVtaXQoJ2Vycm9yJywge1xuICAgICAgICAgICAgICAgICAgICB0eXBlOiAnZXJyb3InLFxuICAgICAgICAgICAgICAgICAgICBlcnJvcjogZXJyLFxuICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgfVxuICAgICAgICB9KTtcbiAgICAgICAgdGhpcy4jdHJhbnNwb3J0Lm9uKCdpdGVtX3VwZGF0ZScsIChldmVudCkgPT4ge1xuICAgICAgICAgICAgdHJ5IHtcbiAgICAgICAgICAgICAgICBjb25zdCBpc05ldyA9ICF0aGlzLiNoaXN0b3J5LnNvbWUoKGl0ZW0pID0+IGl0ZW0uaXRlbUlkID09PSBldmVudC5pdGVtSWQpO1xuICAgICAgICAgICAgICAgIHRoaXMuI2hpc3RvcnkgPSB1cGRhdGVSZWFsdGltZUhpc3RvcnkodGhpcy4jaGlzdG9yeSwgZXZlbnQsIHRoaXMuI3Nob3VsZEluY2x1ZGVBdWRpb0RhdGEpO1xuICAgICAgICAgICAgICAgIHRoaXMuI2NvbnRleHQuY29udGV4dC5oaXN0b3J5ID0gdGhpcy4jaGlzdG9yeTtcbiAgICAgICAgICAgICAgICBpZiAoaXNOZXcpIHtcbiAgICAgICAgICAgICAgICAgICAgY29uc3QgYWRkZWRJdGVtID0gdGhpcy4jaGlzdG9yeS5maW5kKChpdGVtKSA9PiBpdGVtLml0ZW1JZCA9PT0gZXZlbnQuaXRlbUlkKTtcbiAgICAgICAgICAgICAgICAgICAgaWYgKGFkZGVkSXRlbSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5lbWl0KCdoaXN0b3J5X2FkZGVkJywgYWRkZWRJdGVtKTtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB0aGlzLmVtaXQoJ2hpc3RvcnlfdXBkYXRlZCcsIHRoaXMuI2hpc3RvcnkpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgY2F0Y2ggKGVycikge1xuICAgICAgICAgICAgICAgIHRoaXMuZW1pdCgnZXJyb3InLCB7XG4gICAgICAgICAgICAgICAgICAgIHR5cGU6ICdlcnJvcicsXG4gICAgICAgICAgICAgICAgICAgIGVycm9yOiBlcnIsXG4gICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH0pO1xuICAgICAgICB0aGlzLiN0cmFuc3BvcnQub24oJ2l0ZW1fZGVsZXRlZCcsIChldmVudCkgPT4ge1xuICAgICAgICAgICAgdHJ5IHtcbiAgICAgICAgICAgICAgICB0aGlzLiNoaXN0b3J5ID0gdGhpcy4jaGlzdG9yeS5maWx0ZXIoKGl0ZW0pID0+IGl0ZW0uaXRlbUlkICE9PSBldmVudC5pdGVtSWQpO1xuICAgICAgICAgICAgICAgIHRoaXMuI2NvbnRleHQuY29udGV4dC5oaXN0b3J5ID0gdGhpcy4jaGlzdG9yeTtcbiAgICAgICAgICAgICAgICB0aGlzLmVtaXQoJ2hpc3RvcnlfdXBkYXRlZCcsIHRoaXMuI2hpc3RvcnkpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgY2F0Y2ggKGVycikge1xuICAgICAgICAgICAgICAgIHRoaXMuZW1pdCgnZXJyb3InLCB7XG4gICAgICAgICAgICAgICAgICAgIHR5cGU6ICdlcnJvcicsXG4gICAgICAgICAgICAgICAgICAgIGVycm9yOiBlcnIsXG4gICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH0pO1xuICAgICAgICB0aGlzLiN0cmFuc3BvcnQub24oJ2Z1bmN0aW9uX2NhbGwnLCBhc3luYyAoZXZlbnQpID0+IHtcbiAgICAgICAgICAgIHRyeSB7XG4gICAgICAgICAgICAgICAgYXdhaXQgdGhpcy4jaGFuZGxlRnVuY3Rpb25DYWxsKGV2ZW50KTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGNhdGNoIChlcnJvcikge1xuICAgICAgICAgICAgICAgIGxvZ2dlci5lcnJvcignRXJyb3IgaGFuZGxpbmcgZnVuY3Rpb24gY2FsbCcsIGVycm9yKTtcbiAgICAgICAgICAgICAgICB0aGlzLmVtaXQoJ2Vycm9yJywge1xuICAgICAgICAgICAgICAgICAgICB0eXBlOiAnZXJyb3InLFxuICAgICAgICAgICAgICAgICAgICBlcnJvcixcbiAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfSk7XG4gICAgICAgIHRoaXMuI3RyYW5zcG9ydC5vbigndXNhZ2VfdXBkYXRlJywgKHVzYWdlKSA9PiB7XG4gICAgICAgICAgICB0aGlzLiNjb250ZXh0LnVzYWdlLmFkZCh1c2FnZSk7XG4gICAgICAgIH0pO1xuICAgICAgICB0aGlzLiN0cmFuc3BvcnQub24oJ2F1ZGlvX2ludGVycnVwdGVkJywgKCkgPT4ge1xuICAgICAgICAgICAgaWYgKHRoaXMuI2F1ZGlvU3RhcnRlZCkge1xuICAgICAgICAgICAgICAgIHRoaXMuI2F1ZGlvU3RhcnRlZCA9IGZhbHNlO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgdGhpcy5lbWl0KCdhdWRpb19pbnRlcnJ1cHRlZCcsIHRoaXMuI2NvbnRleHQsIHRoaXMuI2N1cnJlbnRBZ2VudCk7XG4gICAgICAgIH0pO1xuICAgICAgICB0aGlzLiN0cmFuc3BvcnQub24oJ2Vycm9yJywgKGVycm9yKSA9PiB7XG4gICAgICAgICAgICB0aGlzLmVtaXQoJ2Vycm9yJywgZXJyb3IpO1xuICAgICAgICB9KTtcbiAgICAgICAgdGhpcy4jdHJhbnNwb3J0Lm9uKCdtY3BfdG9vbF9jYWxsX2NvbXBsZXRlZCcsICh0b29sQ2FsbCkgPT4ge1xuICAgICAgICAgICAgdGhpcy5lbWl0KCdtY3BfdG9vbF9jYWxsX2NvbXBsZXRlZCcsIHRoaXMuI2NvbnRleHQsIHRoaXMuI2N1cnJlbnRBZ2VudCwgdG9vbENhbGwpO1xuICAgICAgICAgICAgaWYgKHRoaXMuI2F1dG9tYXRpY2FsbHlUcmlnZ2VyUmVzcG9uc2VGb3JNY3BUb29sQ2FsbHMpIHtcbiAgICAgICAgICAgICAgICB0aGlzLiN0cmFuc3BvcnQuc2VuZEV2ZW50KHtcbiAgICAgICAgICAgICAgICAgICAgdHlwZTogJ3Jlc3BvbnNlLmNyZWF0ZScsXG4gICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH0pO1xuICAgICAgICB0aGlzLiN0cmFuc3BvcnQub24oJ21jcF9hcHByb3ZhbF9yZXF1ZXN0JywgKGFwcHJvdmFsUmVxdWVzdCkgPT4ge1xuICAgICAgICAgICAgdGhpcy5lbWl0KCd0b29sX2FwcHJvdmFsX3JlcXVlc3RlZCcsIHRoaXMuI2NvbnRleHQsIHRoaXMuI2N1cnJlbnRBZ2VudCwge1xuICAgICAgICAgICAgICAgIHR5cGU6ICdtY3BfYXBwcm92YWxfcmVxdWVzdCcsXG4gICAgICAgICAgICAgICAgYXBwcm92YWxJdGVtOiByZWFsdGltZUFwcHJvdmFsSXRlbVRvQXBwcm92YWxJdGVtKHRoaXMuI2N1cnJlbnRBZ2VudCwgYXBwcm92YWxSZXF1ZXN0KSxcbiAgICAgICAgICAgIH0pO1xuICAgICAgICB9KTtcbiAgICB9XG4gICAgLyoqXG4gICAgICogUmVjb21wdXRlcyB0aGUgY3VycmVudGx5IGF2YWlsYWJsZSBNQ1AgdG9vbHMgYmFzZWQgb24gdGhlIGN1cnJlbnQgYWdlbnQncyBhY3RpdmVcbiAgICAgKiBNQ1Agc2VydmVyIGNvbmZpZ3VyYXRpb25zIGFuZCB0aGUgY2FjaGVkIHBlci1zZXJ2ZXIgdG9vbCBsaXN0aW5ncy4gRW1pdHNcbiAgICAgKiBgbWNwX3Rvb2xzX2NoYW5nZWRgIGlmIHRoZSBzZXQgY2hhbmdlZC5cbiAgICAgKi9cbiAgICAjdXBkYXRlQXZhaWxhYmxlTWNwVG9vbHMoKSB7XG4gICAgICAgIC8vIENvbGxlY3QgYWN0aXZlIE1DUCBzZXJ2ZXIgbGFiZWxzIGFuZCBvcHRpb25hbCBhbGxvd2VkIGZpbHRlcnMgZnJvbSB0aGUgY3VycmVudCBhZ2VudFxuICAgICAgICBjb25zdCBhY3RpdmVNY3BDb25maWdzID0gdGhpcy4jY3VycmVudFRvb2xzPy5maWx0ZXIoKHQpID0+IHQudHlwZSA9PT0gJ21jcCcpO1xuICAgICAgICBjb25zdCBhbGxvd2VkRnJvbUNvbmZpZyA9IChjZmcpID0+IHtcbiAgICAgICAgICAgIGNvbnN0IGFsbG93ZWQgPSBjZmcuYWxsb3dlZF90b29scztcbiAgICAgICAgICAgIGlmICghYWxsb3dlZClcbiAgICAgICAgICAgICAgICByZXR1cm4gdW5kZWZpbmVkO1xuICAgICAgICAgICAgaWYgKEFycmF5LmlzQXJyYXkoYWxsb3dlZCkpXG4gICAgICAgICAgICAgICAgcmV0dXJuIGFsbG93ZWQ7XG4gICAgICAgICAgICBpZiAoYWxsb3dlZCAmJiBBcnJheS5pc0FycmF5KGFsbG93ZWQudG9vbF9uYW1lcykpXG4gICAgICAgICAgICAgICAgcmV0dXJuIGFsbG93ZWQudG9vbF9uYW1lcztcbiAgICAgICAgICAgIHJldHVybiB1bmRlZmluZWQ7XG4gICAgICAgIH07XG4gICAgICAgIGNvbnN0IGRlZHVwQnlOYW1lID0gbmV3IE1hcCgpO1xuICAgICAgICBmb3IgKGNvbnN0IGNmZyBvZiBhY3RpdmVNY3BDb25maWdzKSB7XG4gICAgICAgICAgICBjb25zdCB0b29scyA9IHRoaXMuI2FsbE1jcFRvb2xzQnlTZXJ2ZXIuZ2V0KGNmZy5zZXJ2ZXJfbGFiZWwpID8/IFtdO1xuICAgICAgICAgICAgY29uc3QgYWxsb3dlZCA9IGFsbG93ZWRGcm9tQ29uZmlnKGNmZyk7XG4gICAgICAgICAgICBmb3IgKGNvbnN0IHRvb2wgb2YgdG9vbHMpIHtcbiAgICAgICAgICAgICAgICBpZiAoYWxsb3dlZCAmJiAhYWxsb3dlZC5pbmNsdWRlcyh0b29sLm5hbWUpKVxuICAgICAgICAgICAgICAgICAgICBjb250aW51ZTtcbiAgICAgICAgICAgICAgICBpZiAoIWRlZHVwQnlOYW1lLmhhcyh0b29sLm5hbWUpKSB7XG4gICAgICAgICAgICAgICAgICAgIGRlZHVwQnlOYW1lLnNldCh0b29sLm5hbWUsIHRvb2wpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICBjb25zdCBuZXh0ID0gQXJyYXkuZnJvbShkZWR1cEJ5TmFtZS52YWx1ZXMoKSk7XG4gICAgICAgIGNvbnN0IHByZXYgPSB0aGlzLiNhdmFpbGFibGVNY3BUb29scztcbiAgICAgICAgY29uc3QgY2hhbmdlZCA9IHByZXYubGVuZ3RoICE9PSBuZXh0Lmxlbmd0aCB8fFxuICAgICAgICAgICAgSlNPTi5zdHJpbmdpZnkocHJldi5tYXAoKHQpID0+IHQubmFtZSkuc29ydCgpKSAhPT1cbiAgICAgICAgICAgICAgICBKU09OLnN0cmluZ2lmeShuZXh0Lm1hcCgodCkgPT4gdC5uYW1lKS5zb3J0KCkpO1xuICAgICAgICBpZiAoY2hhbmdlZCkge1xuICAgICAgICAgICAgdGhpcy4jYXZhaWxhYmxlTWNwVG9vbHMgPSBuZXh0O1xuICAgICAgICAgICAgdGhpcy5lbWl0KCdtY3BfdG9vbHNfY2hhbmdlZCcsIHRoaXMuI2F2YWlsYWJsZU1jcFRvb2xzKTtcbiAgICAgICAgfVxuICAgIH1cbiAgICAvKipcbiAgICAgKiBDb25uZWN0IHRvIHRoZSBzZXNzaW9uLiBUaGlzIHdpbGwgZXN0YWJsaXNoIHRoZSBjb25uZWN0aW9uIHRvIHRoZSB1bmRlcmx5aW5nIHRyYW5zcG9ydCBsYXllclxuICAgICAqIGFuZCBzdGFydCB0aGUgc2Vzc2lvbi5cbiAgICAgKlxuICAgICAqIEFmdGVyIGNvbm5lY3RpbmcsIHRoZSBzZXNzaW9uIHdpbGwgYWxzbyBlbWl0IGEgYGhpc3RvcnlfdXBkYXRlZGAgZXZlbnQgd2l0aCBhbiBlbXB0eSBoaXN0b3J5LlxuICAgICAqXG4gICAgICogQHBhcmFtIG9wdGlvbnMgLSBUaGUgb3B0aW9ucyBmb3IgdGhlIGNvbm5lY3Rpb24uXG4gICAgICovXG4gICAgYXN5bmMgY29ubmVjdChvcHRpb25zKSB7XG4gICAgICAgIC8vIG1ha2VzIHN1cmUgdGhlIGN1cnJlbnQgYWdlbnQgaXMgY29ycmVjdGx5IHNldCBhbmQgbG9hZHMgdGhlIHRvb2xzXG4gICAgICAgIGF3YWl0IHRoaXMuI3NldEN1cnJlbnRBZ2VudCh0aGlzLmluaXRpYWxBZ2VudCk7XG4gICAgICAgIHRoaXMuI3NldEV2ZW50TGlzdGVuZXJzKCk7XG4gICAgICAgIGF3YWl0IHRoaXMuI3RyYW5zcG9ydC5jb25uZWN0KHtcbiAgICAgICAgICAgIGFwaUtleTogb3B0aW9ucy5hcGlLZXkgPz8gdGhpcy5vcHRpb25zLmFwaUtleSxcbiAgICAgICAgICAgIG1vZGVsOiB0aGlzLm9wdGlvbnMubW9kZWwsXG4gICAgICAgICAgICB1cmw6IG9wdGlvbnMudXJsLFxuICAgICAgICAgICAgY2FsbElkOiBvcHRpb25zLmNhbGxJZCxcbiAgICAgICAgICAgIGluaXRpYWxTZXNzaW9uQ29uZmlnOiBhd2FpdCB0aGlzLiNnZXRTZXNzaW9uQ29uZmlnKHRoaXMub3B0aW9ucy5jb25maWcpLFxuICAgICAgICB9KTtcbiAgICAgICAgLy8gRW5zdXJlIHRoZSBjYWNoZWQgbGFzdFNlc3Npb25Db25maWcgaW5jbHVkZXMgZXZlcnl0aGluZyBwYXNzZWQgYXMgdGhlIGluaXRpYWwgc2Vzc2lvbiBjb25maWdcbiAgICAgICAgLy8gKHRoZSBjYWxsIGFib3ZlIGFscmVhZHkgc2V0IGl0IHZpYSAjZ2V0U2Vzc2lvbkNvbmZpZyBidXQgaW4gY2FzZSBhZGRpdGlvbmFsIG92ZXJyaWRlcyB3ZXJlXG4gICAgICAgIC8vIHBhc3NlZCBkaXJlY3RseSBoZXJlIGluIHRoZSBmdXR1cmUgd2UgY291bGQgbWVyZ2UgdGhlbSkuIEZvciBub3cgaXQncyBhIG5vLW9wLlxuICAgICAgICB0aGlzLiNoaXN0b3J5ID0gW107XG4gICAgICAgIHRoaXMuZW1pdCgnaGlzdG9yeV91cGRhdGVkJywgdGhpcy4jaGlzdG9yeSk7XG4gICAgfVxuICAgIC8qKlxuICAgICAqIFVwZGF0ZSB0aGUgaGlzdG9yeSBvZiB0aGUgc2Vzc2lvbi5cbiAgICAgKiBAcGFyYW0gbmV3SGlzdG9yeSAtIFRoZSBuZXcgaGlzdG9yeSB0byBzZXQuXG4gICAgICovXG4gICAgdXBkYXRlSGlzdG9yeShuZXdIaXN0b3J5KSB7XG4gICAgICAgIGxldCB1cGRhdGVkSGlzdG9yeTtcbiAgICAgICAgaWYgKHR5cGVvZiBuZXdIaXN0b3J5ID09PSAnZnVuY3Rpb24nKSB7XG4gICAgICAgICAgICB1cGRhdGVkSGlzdG9yeSA9IG5ld0hpc3RvcnkodGhpcy4jaGlzdG9yeSk7XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICB1cGRhdGVkSGlzdG9yeSA9IG5ld0hpc3Rvcnk7XG4gICAgICAgIH1cbiAgICAgICAgdGhpcy4jdHJhbnNwb3J0LnJlc2V0SGlzdG9yeSh0aGlzLiNoaXN0b3J5LCB1cGRhdGVkSGlzdG9yeSk7XG4gICAgfVxuICAgIC8qKlxuICAgICAqIFNlbmQgYSBtZXNzYWdlIHRvIHRoZSBzZXNzaW9uLlxuICAgICAqIEBwYXJhbSBtZXNzYWdlIC0gVGhlIG1lc3NhZ2UgdG8gc2VuZC5cbiAgICAgKiBAcGFyYW0gb3RoZXJFdmVudERhdGEgLSBBZGRpdGlvbmFsIGV2ZW50IGRhdGEgdG8gc2VuZC5cbiAgICAgKi9cbiAgICBzZW5kTWVzc2FnZShtZXNzYWdlLCBvdGhlckV2ZW50RGF0YSA9IHt9KSB7XG4gICAgICAgIHRoaXMuI3RyYW5zcG9ydC5zZW5kTWVzc2FnZShtZXNzYWdlLCBvdGhlckV2ZW50RGF0YSk7XG4gICAgfVxuICAgIC8qKlxuICAgICAqIEFkZCBpbWFnZSB0byB0aGUgc2Vzc2lvblxuICAgICAqIEBwYXJhbSBpbWFnZSAtIFRoZSBpbWFnZSB0byBhZGQuXG4gICAgICovXG4gICAgYWRkSW1hZ2UoaW1hZ2UsIHsgdHJpZ2dlclJlc3BvbnNlID0gdHJ1ZSB9ID0ge30pIHtcbiAgICAgICAgdGhpcy4jdHJhbnNwb3J0LmFkZEltYWdlKGltYWdlLCB7IHRyaWdnZXJSZXNwb25zZSB9KTtcbiAgICB9XG4gICAgLyoqXG4gICAgICogTXV0ZSB0aGUgc2Vzc2lvbi5cbiAgICAgKiBAcGFyYW0gbXV0ZWQgLSBXaGV0aGVyIHRvIG11dGUgdGhlIHNlc3Npb24uXG4gICAgICovXG4gICAgbXV0ZShtdXRlZCkge1xuICAgICAgICB0aGlzLiN0cmFuc3BvcnQubXV0ZShtdXRlZCk7XG4gICAgfVxuICAgIC8qKlxuICAgICAqIERpc2Nvbm5lY3QgZnJvbSB0aGUgc2Vzc2lvbi5cbiAgICAgKi9cbiAgICBjbG9zZSgpIHtcbiAgICAgICAgdGhpcy4jaW50ZXJydXB0ZWRCeUd1YXJkcmFpbCA9IHt9O1xuICAgICAgICB0aGlzLiN0cmFuc3BvcnQuY2xvc2UoKTtcbiAgICB9XG4gICAgLyoqXG4gICAgICogU2VuZCBhdWRpbyB0byB0aGUgc2Vzc2lvbi5cbiAgICAgKiBAcGFyYW0gYXVkaW8gLSBUaGUgYXVkaW8gdG8gc2VuZC5cbiAgICAgKiBAcGFyYW0gb3B0aW9ucyAtIEFkZGl0aW9uYWwgb3B0aW9ucy5cbiAgICAgKiBAcGFyYW0gb3B0aW9ucy5jb21taXQgLSBXaGV0aGVyIHRvIGZpbmlzaCB0aGUgdHVybiB3aXRoIHRoaXMgYXVkaW8uXG4gICAgICovXG4gICAgc2VuZEF1ZGlvKGF1ZGlvLCBvcHRpb25zID0ge30pIHtcbiAgICAgICAgdGhpcy4jdHJhbnNwb3J0LnNlbmRBdWRpbyhhdWRpbywgb3B0aW9ucyk7XG4gICAgfVxuICAgIC8qKlxuICAgICAqIEludGVycnVwdCB0aGUgc2Vzc2lvbiBhcnRpZmljaWFsbHkgZm9yIGV4YW1wbGUgaWYgeW91IHdhbnQgdG8gYnVpbGQgYSBcInN0b3AgdGFsa2luZ1wiXG4gICAgICogYnV0dG9uLlxuICAgICAqL1xuICAgIGludGVycnVwdCgpIHtcbiAgICAgICAgdGhpcy4jdHJhbnNwb3J0LmludGVycnVwdCgpO1xuICAgIH1cbiAgICAvKipcbiAgICAgKiBBcHByb3ZlIGEgdG9vbCBjYWxsLiBUaGlzIHdpbGwgYWxzbyB0cmlnZ2VyIHRoZSB0b29sIGNhbGwgdG8gdGhlIGFnZW50LlxuICAgICAqIEBwYXJhbSBhcHByb3ZhbEl0ZW0gLSBUaGUgYXBwcm92YWwgaXRlbSB0byBhcHByb3ZlLlxuICAgICAqIEBwYXJhbSBvcHRpb25zIC0gQWRkaXRpb25hbCBvcHRpb25zLlxuICAgICAqIEBwYXJhbSBvcHRpb25zLmFsd2F5c0FwcHJvdmUgLSBXaGV0aGVyIHRvIGFsd2F5cyBhcHByb3ZlIHRoZSB0b29sIGNhbGwuXG4gICAgICovXG4gICAgYXN5bmMgYXBwcm92ZShhcHByb3ZhbEl0ZW0sIG9wdGlvbnMgPSB7IGFsd2F5c0FwcHJvdmU6IGZhbHNlIH0pIHtcbiAgICAgICAgdGhpcy4jY29udGV4dC5hcHByb3ZlVG9vbChhcHByb3ZhbEl0ZW0sIG9wdGlvbnMpO1xuICAgICAgICBjb25zdCB0b29sTmFtZSA9IGFwcHJvdmFsSXRlbS50b29sTmFtZSA/PyBhcHByb3ZhbEl0ZW0ucmF3SXRlbS5uYW1lO1xuICAgICAgICBjb25zdCB0b29sID0gdGhpcy4jY3VycmVudEFnZW50LnRvb2xzLmZpbmQoKHRvb2wpID0+IHRvb2wubmFtZSA9PT0gdG9vbE5hbWUpO1xuICAgICAgICBpZiAodG9vbCAmJlxuICAgICAgICAgICAgdG9vbC50eXBlID09PSAnZnVuY3Rpb24nICYmXG4gICAgICAgICAgICBhcHByb3ZhbEl0ZW0ucmF3SXRlbS50eXBlID09PSAnZnVuY3Rpb25fY2FsbCcpIHtcbiAgICAgICAgICAgIGF3YWl0IHRoaXMuI2hhbmRsZUZ1bmN0aW9uVG9vbENhbGwoYXBwcm92YWxJdGVtLnJhd0l0ZW0sIHRvb2wpO1xuICAgICAgICB9XG4gICAgICAgIGVsc2UgaWYgKGFwcHJvdmFsSXRlbS5yYXdJdGVtLnR5cGUgPT09ICdob3N0ZWRfdG9vbF9jYWxsJykge1xuICAgICAgICAgICAgaWYgKG9wdGlvbnMuYWx3YXlzQXBwcm92ZSkge1xuICAgICAgICAgICAgICAgIGxvZ2dlci53YXJuKCdBbHdheXMgYXBwcm92aW5nIE1DUCB0b29scyBpcyBub3Qgc3VwcG9ydGVkLiBVc2UgdGhlIGFsbG93ZWQgdG9vbHMgY29uZmlndXJhdGlvbiBpbnN0ZWFkLicpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgY29uc3QgbWNwQXBwcm92YWxSZXF1ZXN0ID0gYXBwcm92YWxJdGVtVG9SZWFsdGltZUFwcHJvdmFsSXRlbShhcHByb3ZhbEl0ZW0pO1xuICAgICAgICAgICAgdGhpcy4jdHJhbnNwb3J0LnNlbmRNY3BSZXNwb25zZShtY3BBcHByb3ZhbFJlcXVlc3QsIHRydWUpO1xuICAgICAgICB9XG4gICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgdGhyb3cgbmV3IE1vZGVsQmVoYXZpb3JFcnJvcihgVG9vbCAke3Rvb2xOYW1lID8/ICd1bmtub3duJ30gbm90IGZvdW5kYCk7XG4gICAgICAgIH1cbiAgICB9XG4gICAgLyoqXG4gICAgICogUmVqZWN0IGEgdG9vbCBjYWxsLiBUaGlzIHdpbGwgYWxzbyB0cmlnZ2VyIHRoZSB0b29sIGNhbGwgdG8gdGhlIGFnZW50LlxuICAgICAqIEBwYXJhbSBhcHByb3ZhbEl0ZW0gLSBUaGUgYXBwcm92YWwgaXRlbSB0byByZWplY3QuXG4gICAgICogQHBhcmFtIG9wdGlvbnMgLSBBZGRpdGlvbmFsIG9wdGlvbnMuXG4gICAgICogQHBhcmFtIG9wdGlvbnMuYWx3YXlzUmVqZWN0IC0gV2hldGhlciB0byBhbHdheXMgcmVqZWN0IHRoZSB0b29sIGNhbGwuXG4gICAgICovXG4gICAgYXN5bmMgcmVqZWN0KGFwcHJvdmFsSXRlbSwgb3B0aW9ucyA9IHsgYWx3YXlzUmVqZWN0OiBmYWxzZSB9KSB7XG4gICAgICAgIHRoaXMuI2NvbnRleHQucmVqZWN0VG9vbChhcHByb3ZhbEl0ZW0sIG9wdGlvbnMpO1xuICAgICAgICAvLyB3ZSBzdGlsbCBuZWVkIHRvIHNpbXVsYXRlIGEgdG9vbCBjYWxsIHRvIHRoZSBhZ2VudCB0byBsZXQgdGhlIGFnZW50IGtub3dcbiAgICAgICAgY29uc3QgdG9vbE5hbWUgPSBhcHByb3ZhbEl0ZW0udG9vbE5hbWUgPz8gYXBwcm92YWxJdGVtLnJhd0l0ZW0ubmFtZTtcbiAgICAgICAgY29uc3QgdG9vbCA9IHRoaXMuI2N1cnJlbnRBZ2VudC50b29scy5maW5kKCh0b29sKSA9PiB0b29sLm5hbWUgPT09IHRvb2xOYW1lKTtcbiAgICAgICAgaWYgKHRvb2wgJiZcbiAgICAgICAgICAgIHRvb2wudHlwZSA9PT0gJ2Z1bmN0aW9uJyAmJlxuICAgICAgICAgICAgYXBwcm92YWxJdGVtLnJhd0l0ZW0udHlwZSA9PT0gJ2Z1bmN0aW9uX2NhbGwnKSB7XG4gICAgICAgICAgICBhd2FpdCB0aGlzLiNoYW5kbGVGdW5jdGlvblRvb2xDYWxsKGFwcHJvdmFsSXRlbS5yYXdJdGVtLCB0b29sKTtcbiAgICAgICAgfVxuICAgICAgICBlbHNlIGlmIChhcHByb3ZhbEl0ZW0ucmF3SXRlbS50eXBlID09PSAnaG9zdGVkX3Rvb2xfY2FsbCcpIHtcbiAgICAgICAgICAgIGlmIChvcHRpb25zLmFsd2F5c1JlamVjdCkge1xuICAgICAgICAgICAgICAgIGxvZ2dlci53YXJuKCdBbHdheXMgcmVqZWN0aW5nIE1DUCB0b29scyBpcyBub3Qgc3VwcG9ydGVkLiBVc2UgdGhlIGFsbG93ZWQgdG9vbHMgY29uZmlndXJhdGlvbiBpbnN0ZWFkLicpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgY29uc3QgbWNwQXBwcm92YWxSZXF1ZXN0ID0gYXBwcm92YWxJdGVtVG9SZWFsdGltZUFwcHJvdmFsSXRlbShhcHByb3ZhbEl0ZW0pO1xuICAgICAgICAgICAgdGhpcy4jdHJhbnNwb3J0LnNlbmRNY3BSZXNwb25zZShtY3BBcHByb3ZhbFJlcXVlc3QsIGZhbHNlKTtcbiAgICAgICAgfVxuICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgIHRocm93IG5ldyBNb2RlbEJlaGF2aW9yRXJyb3IoYFRvb2wgJHt0b29sTmFtZSA/PyAndW5rbm93bid9IG5vdCBmb3VuZGApO1xuICAgICAgICB9XG4gICAgfVxufVxuLy8jIHNvdXJjZU1hcHBpbmdVUkw9cmVhbHRpbWVTZXNzaW9uLm1qcy5tYXAiLCJpbXBvcnQgeyBVc2VyRXJyb3IgfSBmcm9tICdAb3BlbmFpL2FnZW50cy1jb3JlJztcbmltcG9ydCB7IE9wZW5BSVJlYWx0aW1lV2ViU29ja2V0LCB9IGZyb20gXCIuL29wZW5haVJlYWx0aW1lV2Vic29ja2V0Lm1qc1wiO1xuaW1wb3J0IHsgUmVhbHRpbWVTZXNzaW9uLCB9IGZyb20gXCIuL3JlYWx0aW1lU2Vzc2lvbi5tanNcIjtcbi8qKlxuICogVHJhbnNwb3J0IGxheWVyIHRoYXQgY29ubmVjdHMgdG8gYW4gZXhpc3RpbmcgU0lQLWluaXRpYXRlZCBSZWFsdGltZSBjYWxsIHZpYSBjYWxsIElELlxuICovXG5leHBvcnQgY2xhc3MgT3BlbkFJUmVhbHRpbWVTSVAgZXh0ZW5kcyBPcGVuQUlSZWFsdGltZVdlYlNvY2tldCB7XG4gICAgY29uc3RydWN0b3Iob3B0aW9ucyA9IHt9KSB7XG4gICAgICAgIHN1cGVyKG9wdGlvbnMpO1xuICAgIH1cbiAgICAvKipcbiAgICAgKiBCdWlsZCB0aGUgaW5pdGlhbCBzZXNzaW9uIHBheWxvYWQgZm9yIGEgU0lQLWF0dGFjaGVkIHNlc3Npb24sIG1hdGNoaW5nIHRoZSBjb25maWcgdGhhdCBhIFJlYWx0aW1lU2Vzc2lvbiB3b3VsZCBzZW5kIG9uIGNvbm5lY3QuXG4gICAgICpcbiAgICAgKiBUaGlzIGVuYWJsZXMgU0lQIGRlcGxveW1lbnRzIHRvIGFjY2VwdCBhbiBpbmNvbWluZyBjYWxsIHdpdGggYSBwYXlsb2FkIHRoYXQgYWxyZWFkeSByZWZsZWN0c1xuICAgICAqIHRoZSBhY3RpdmUgYWdlbnQncyBpbnN0cnVjdGlvbnMsIHRvb2xzLCBwcm9tcHQsIGFuZCB0cmFjaW5nIG1ldGFkYXRhIHdpdGhvdXQgZHVwbGljYXRpbmcgdGhlXG4gICAgICogc2Vzc2lvbiBsb2dpYyBvdXRzaWRlIG9mIHRoZSBTREsuIFRoZSByZXR1cm5lZCBvYmplY3Qgc3RydWN0dXJhbGx5IG1hdGNoZXMgdGhlIFJFU1RcbiAgICAgKiBgQ2FsbEFjY2VwdFBhcmFtc2AgaW50ZXJmYWNlLCBzbyBpdCBjYW4gYmUgZm9yd2FyZGVkIGRpcmVjdGx5IHRvXG4gICAgICogYG9wZW5haS5yZWFsdGltZS5jYWxscy5hY2NlcHQoLi4uKWAuXG4gICAgICpcbiAgICAgKiBAcGFyYW0gYWdlbnQgLSBUaGUgc3RhcnRpbmcgYWdlbnQgdXNlZCB0byBzZWVkIHRoZSBzZXNzaW9uIGluc3RydWN0aW9ucywgdG9vbHMsIGFuZCBwcm9tcHQuXG4gICAgICogQHBhcmFtIG9wdGlvbnMgLSBPcHRpb25hbCBzZXNzaW9uIG9wdGlvbnMgdGhhdCBtaXJyb3IgdGhlIG9uZXMgcGFzc2VkIHRvIHRoZSBSZWFsdGltZVNlc3Npb24gY29uc3RydWN0b3IuXG4gICAgICogQHBhcmFtIG92ZXJyaWRlcyAtIEFkZGl0aW9uYWwgY29uZmlnIG92ZXJyaWRlcyBhcHBsaWVkIG9uIHRvcCBvZiB0aGUgc2Vzc2lvbiBvcHRpb25zLlxuICAgICAqL1xuICAgIHN0YXRpYyBhc3luYyBidWlsZEluaXRpYWxDb25maWcoYWdlbnQsIG9wdGlvbnMgPSB7fSwgb3ZlcnJpZGVzID0ge30pIHtcbiAgICAgICAgY29uc3Qgc2Vzc2lvbkNvbmZpZyA9IGF3YWl0IFJlYWx0aW1lU2Vzc2lvbi5jb21wdXRlSW5pdGlhbFNlc3Npb25Db25maWcoYWdlbnQsIG9wdGlvbnMsIG92ZXJyaWRlcyk7XG4gICAgICAgIGNvbnN0IHRyYW5zcG9ydCA9IG5ldyBPcGVuQUlSZWFsdGltZVNJUCgpO1xuICAgICAgICByZXR1cm4gdHJhbnNwb3J0LmJ1aWxkU2Vzc2lvblBheWxvYWQoc2Vzc2lvbkNvbmZpZyk7XG4gICAgfVxuICAgIHNlbmRBdWRpbyhfYXVkaW8sIF9vcHRpb25zID0ge30pIHtcbiAgICAgICAgLy8gU0lQIGludGVncmF0aW9ucyBzdHJlYW0gYXVkaW8gdG8gT3BlbkFJIGRpcmVjdGx5IHRocm91Z2ggdGhlIHRlbGVwaG9ueSBwcm92aWRlciwgc28gdGhlXG4gICAgICAgIC8vIHRyYW5zcG9ydCBkZWxpYmVyYXRlbHkgcHJldmVudHMgdXNlcmxhbmQgY29kZSBmcm9tIHNlbmRpbmcgZHVwbGljYXRlIGJ1ZmZlcnMuXG4gICAgICAgIHRocm93IG5ldyBFcnJvcignT3BlbkFJUmVhbHRpbWVTSVAgZG9lcyBub3Qgc3VwcG9ydCBzZW5kaW5nIGF1ZGlvIGJ1ZmZlcnM7IGF1ZGlvIGlzIGhhbmRsZWQgYnkgdGhlIFNJUCBjYWxsLicpO1xuICAgIH1cbiAgICBhc3luYyBjb25uZWN0KG9wdGlvbnMpIHtcbiAgICAgICAgaWYgKCFvcHRpb25zLmNhbGxJZCkge1xuICAgICAgICAgICAgdGhyb3cgbmV3IFVzZXJFcnJvcignT3BlbkFJUmVhbHRpbWVTSVAgcmVxdWlyZXMgYGNhbGxJZGAgaW4gdGhlIGNvbm5lY3Qgb3B0aW9ucy4nKTtcbiAgICAgICAgfVxuICAgICAgICBhd2FpdCBzdXBlci5jb25uZWN0KG9wdGlvbnMpO1xuICAgIH1cbn1cbi8vIyBzb3VyY2VNYXBwaW5nVVJMPW9wZW5haVJlYWx0aW1lU2lwLm1qcy5tYXAiLCJpbXBvcnQgKiBhcyB1dGlsSW1wb3J0IGZyb20gXCIuL3V0aWxzLm1qc1wiO1xuZXhwb3J0IHsgUmVhbHRpbWVBZ2VudCB9IGZyb20gXCIuL3JlYWx0aW1lQWdlbnQubWpzXCI7XG5leHBvcnQgeyBSZWFsdGltZVNlc3Npb24sIH0gZnJvbSBcIi4vcmVhbHRpbWVTZXNzaW9uLm1qc1wiO1xuZXhwb3J0IHsgT3BlbkFJUmVhbHRpbWVXZWJSVEMsIH0gZnJvbSBcIi4vb3BlbmFpUmVhbHRpbWVXZWJSdGMubWpzXCI7XG5leHBvcnQgeyBPcGVuQUlSZWFsdGltZVdlYlNvY2tldCwgfSBmcm9tIFwiLi9vcGVuYWlSZWFsdGltZVdlYnNvY2tldC5tanNcIjtcbmV4cG9ydCB7IE9wZW5BSVJlYWx0aW1lU0lQIH0gZnJvbSBcIi4vb3BlbmFpUmVhbHRpbWVTaXAubWpzXCI7XG5leHBvcnQgeyBPcGVuQUlSZWFsdGltZUJhc2UsIERFRkFVTFRfT1BFTkFJX1JFQUxUSU1FX01PREVMLCBERUZBVUxUX09QRU5BSV9SRUFMVElNRV9TRVNTSU9OX0NPTkZJRywgfSBmcm9tIFwiLi9vcGVuYWlSZWFsdGltZUJhc2UubWpzXCI7XG5leHBvcnQgY29uc3QgdXRpbHMgPSB7XG4gICAgYmFzZTY0VG9BcnJheUJ1ZmZlcjogdXRpbEltcG9ydC5iYXNlNjRUb0FycmF5QnVmZmVyLFxuICAgIGFycmF5QnVmZmVyVG9CYXNlNjQ6IHV0aWxJbXBvcnQuYXJyYXlCdWZmZXJUb0Jhc2U2NCxcbiAgICBnZXRMYXN0VGV4dEZyb21BdWRpb091dHB1dE1lc3NhZ2U6IHV0aWxJbXBvcnQuZ2V0TGFzdFRleHRGcm9tQXVkaW9PdXRwdXRNZXNzYWdlLFxufTtcbmV4cG9ydCB7IE1vZGVsQmVoYXZpb3JFcnJvciwgT3V0cHV0R3VhcmRyYWlsVHJpcHdpcmVUcmlnZ2VyZWQsIHRvb2wsIFVzZXJFcnJvciwgfSBmcm9tICdAb3BlbmFpL2FnZW50cy1jb3JlJztcbmV4cG9ydCB7IGJhY2tncm91bmRSZXN1bHQsIGlzQmFja2dyb3VuZFJlc3VsdCB9IGZyb20gXCIuL3Rvb2wubWpzXCI7XG4vLyMgc291cmNlTWFwcGluZ1VSTD1pbmRleC5tanMubWFwIl0sIm5hbWVzIjpbIk1FVEFEQVRBIiwic2FmZUV4ZWN1dGUiLCJmbiIsImVycm9yIiwiZ2V0RW51bVZhbHVlcyIsImVudHJpZXMiLCJudW1lcmljVmFsdWVzIiwidiIsImsiLCJfIiwiJFpvZFJlZ2lzdHJ5Iiwic2NoZW1hIiwiX21ldGEiLCJtZXRhIiwicCIsInBtIiwicmVnaXN0cnkiLCJnbG9iYWxSZWdpc3RyeSIsIkpTT05TY2hlbWFHZW5lcmF0b3IiLCJwYXJhbXMiLCJfcGFyYW1zIiwiX2EiLCJkZWYiLCJmb3JtYXRNYXAiLCJzZWVuIiwicmVzdWx0Iiwib3ZlcnJpZGVTY2hlbWEiLCJfYiIsInBhcmVudCIsIl9qc29uIiwianNvbiIsIm1pbmltdW0iLCJtYXhpbXVtIiwiZm9ybWF0IiwicGF0dGVybnMiLCJjb250ZW50RW5jb2RpbmciLCJyZWdleGVzIiwicmVnZXgiLCJtdWx0aXBsZU9mIiwiZXhjbHVzaXZlTWF4aW11bSIsImV4Y2x1c2l2ZU1pbmltdW0iLCJzaGFwZSIsImtleSIsImFsbEtleXMiLCJyZXF1aXJlZEtleXMiLCJfYyIsIngiLCJpIiwiYSIsImIiLCJpc1NpbXBsZUludGVyc2VjdGlvbiIsInZhbCIsImFsbE9mIiwicHJlZml4SXRlbXMiLCJyZXN0IiwidmFsdWVzIiwidmFscyIsImZpbGUiLCJtaW1lIiwibSIsImlubmVyIiwiY2F0Y2hWYWx1ZSIsInBhdHRlcm4iLCJpbm5lclR5cGUiLCJpc1RyYW5zZm9ybWluZyIsInJvb3QiLCJtYWtlVVJJIiwiZW50cnkiLCJkZWZzU2VnbWVudCIsImV4dGVybmFsSWQiLCJ1cmlHZW5lcmF0b3IiLCJpZCIsImRlZlVyaVByZWZpeCIsImRlZklkIiwiZXh0cmFjdFRvRGVmIiwicmVmIiwiZXh0IiwiZmxhdHRlblJlZiIsInpvZFNjaGVtYSIsIl9jYWNoZWQiLCJyZWZTY2hlbWEiLCJfZCIsIl9lIiwiZGVmcyIsIl9mIiwidG9KU09OU2NoZW1hIiwiaW5wdXQiLCJnZW4iLCJzY2hlbWFzIiwiZXh0ZXJuYWwiLCJfc2NoZW1hIiwiX2N0eCIsImN0eCIsIm9wdGlvbiIsIml0ZW0iLCJtYWtlUGFyc2VhYmxlVGV4dEZvcm1hdCIsInJlc3BvbnNlX2Zvcm1hdCIsInBhcnNlciIsIm9iaiIsImlnbm9yZU92ZXJyaWRlIiwiZGVmYXVsdE9wdGlvbnMiLCJnZXREZWZhdWx0T3B0aW9ucyIsIm9wdGlvbnMiLCJ6b2REZWYiLCJpc0VtcHR5T2JqIiwiX2siLCJnZXRSZWZzIiwiX29wdGlvbnMiLCJjdXJyZW50UGF0aCIsIm5hbWUiLCJhZGRFcnJvck1lc3NhZ2UiLCJyZXMiLCJlcnJvck1lc3NhZ2UiLCJyZWZzIiwic2V0UmVzcG9uc2VWYWx1ZUFuZEVycm9ycyIsInZhbHVlIiwidXRpbCIsImFzc2VydElzIiwiX2FyZyIsImFzc2VydE5ldmVyIiwiX3giLCJpdGVtcyIsInZhbGlkS2V5cyIsImZpbHRlcmVkIiwiZSIsIm9iamVjdCIsImtleXMiLCJhcnIiLCJjaGVja2VyIiwiam9pblZhbHVlcyIsImFycmF5Iiwic2VwYXJhdG9yIiwib2JqZWN0VXRpbCIsImZpcnN0Iiwic2Vjb25kIiwiWm9kUGFyc2VkVHlwZSIsImdldFBhcnNlZFR5cGUiLCJkYXRhIiwiWm9kSXNzdWVDb2RlIiwiWm9kRXJyb3IiLCJpc3N1ZXMiLCJzdWIiLCJzdWJzIiwiYWN0dWFsUHJvdG8iLCJfbWFwcGVyIiwibWFwcGVyIiwiaXNzdWUiLCJmaWVsZEVycm9ycyIsInByb2Nlc3NFcnJvciIsImN1cnIiLCJlbCIsImZvcm1FcnJvcnMiLCJmaXJzdEVsIiwiZXJyb3JNYXAiLCJtZXNzYWdlIiwib3ZlcnJpZGVFcnJvck1hcCIsImRlZmF1bHRFcnJvck1hcCIsImdldEVycm9yTWFwIiwibWFrZUlzc3VlIiwicGF0aCIsImVycm9yTWFwcyIsImlzc3VlRGF0YSIsImZ1bGxQYXRoIiwiZnVsbElzc3VlIiwibWFwcyIsIm1hcCIsImFkZElzc3VlVG9Db250ZXh0Iiwib3ZlcnJpZGVNYXAiLCJQYXJzZVN0YXR1cyIsInN0YXR1cyIsInJlc3VsdHMiLCJhcnJheVZhbHVlIiwiSU5WQUxJRCIsInBhaXJzIiwic3luY1BhaXJzIiwicGFpciIsImZpbmFsT2JqZWN0IiwiRElSVFkiLCJPSyIsImlzQWJvcnRlZCIsImlzRGlydHkiLCJpc1ZhbGlkIiwiaXNBc3luYyIsImVycm9yVXRpbCIsIlBhcnNlSW5wdXRMYXp5UGF0aCIsImhhbmRsZVJlc3VsdCIsInByb2Nlc3NDcmVhdGVQYXJhbXMiLCJpbnZhbGlkX3R5cGVfZXJyb3IiLCJyZXF1aXJlZF9lcnJvciIsImRlc2NyaXB0aW9uIiwiaXNzIiwiWm9kVHlwZSIsImVyciIsIm1heWJlQXN5bmNSZXN1bHQiLCJjaGVjayIsImdldElzc3VlUHJvcGVydGllcyIsInNldEVycm9yIiwicmVmaW5lbWVudERhdGEiLCJyZWZpbmVtZW50IiwiWm9kRWZmZWN0cyIsIlpvZEZpcnN0UGFydHlUeXBlS2luZCIsIlpvZE9wdGlvbmFsIiwiWm9kTnVsbGFibGUiLCJab2RBcnJheSIsIlpvZFByb21pc2UiLCJab2RVbmlvbiIsImluY29taW5nIiwiWm9kSW50ZXJzZWN0aW9uIiwidHJhbnNmb3JtIiwiZGVmYXVsdFZhbHVlRnVuYyIsIlpvZERlZmF1bHQiLCJab2RCcmFuZGVkIiwiY2F0Y2hWYWx1ZUZ1bmMiLCJab2RDYXRjaCIsIlRoaXMiLCJ0YXJnZXQiLCJab2RQaXBlbGluZSIsIlpvZFJlYWRvbmx5IiwiY3VpZFJlZ2V4IiwiY3VpZDJSZWdleCIsInVsaWRSZWdleCIsInV1aWRSZWdleCIsIm5hbm9pZFJlZ2V4Iiwiand0UmVnZXgiLCJkdXJhdGlvblJlZ2V4IiwiZW1haWxSZWdleCIsIl9lbW9qaVJlZ2V4IiwiZW1vamlSZWdleCIsImlwdjRSZWdleCIsImlwdjRDaWRyUmVnZXgiLCJpcHY2UmVnZXgiLCJpcHY2Q2lkclJlZ2V4IiwiYmFzZTY0UmVnZXgiLCJiYXNlNjR1cmxSZWdleCIsImRhdGVSZWdleFNvdXJjZSIsImRhdGVSZWdleCIsInRpbWVSZWdleFNvdXJjZSIsImFyZ3MiLCJzZWNvbmRzUmVnZXhTb3VyY2UiLCJzZWNvbmRzUXVhbnRpZmllciIsInRpbWVSZWdleCIsImRhdGV0aW1lUmVnZXgiLCJvcHRzIiwiaXNWYWxpZElQIiwiaXAiLCJ2ZXJzaW9uIiwiaXNWYWxpZEpXVCIsImp3dCIsImFsZyIsImhlYWRlciIsImJhc2U2NCIsImRlY29kZWQiLCJpc1ZhbGlkQ2lkciIsIlpvZFN0cmluZyIsInRvb0JpZyIsInRvb1NtYWxsIiwidmFsaWRhdGlvbiIsIm1pbkxlbmd0aCIsIm1heExlbmd0aCIsImxlbiIsImNoIiwibWluIiwibWF4IiwiZmxvYXRTYWZlUmVtYWluZGVyIiwic3RlcCIsInZhbERlY0NvdW50Iiwic3RlcERlY0NvdW50IiwiZGVjQ291bnQiLCJ2YWxJbnQiLCJzdGVwSW50IiwiWm9kTnVtYmVyIiwia2luZCIsImluY2x1c2l2ZSIsIlpvZEJpZ0ludCIsIlpvZEJvb2xlYW4iLCJab2REYXRlIiwibWluRGF0ZSIsIm1heERhdGUiLCJab2RTeW1ib2wiLCJab2RVbmRlZmluZWQiLCJab2ROdWxsIiwiWm9kQW55IiwiWm9kVW5rbm93biIsIlpvZE5ldmVyIiwiWm9kVm9pZCIsImRlZXBQYXJ0aWFsaWZ5IiwiWm9kT2JqZWN0IiwibmV3U2hhcGUiLCJmaWVsZFNjaGVtYSIsIlpvZFR1cGxlIiwic2hhcGVLZXlzIiwiZXh0cmFLZXlzIiwia2V5VmFsaWRhdG9yIiwidW5rbm93bktleXMiLCJjYXRjaGFsbCIsImRlZmF1bHRFcnJvciIsImF1Z21lbnRhdGlvbiIsIm1lcmdpbmciLCJpbmRleCIsIm1hc2siLCJuZXdGaWVsZCIsImNyZWF0ZVpvZEVudW0iLCJoYW5kbGVSZXN1bHRzIiwidW5pb25FcnJvcnMiLCJjaGlsZEN0eCIsImRpcnR5IiwidHlwZXMiLCJnZXREaXNjcmltaW5hdG9yIiwidHlwZSIsIlpvZExhenkiLCJab2RMaXRlcmFsIiwiWm9kRW51bSIsIlpvZE5hdGl2ZUVudW0iLCJab2REaXNjcmltaW5hdGVkVW5pb24iLCJkaXNjcmltaW5hdG9yIiwiZGlzY3JpbWluYXRvclZhbHVlIiwib3B0aW9uc01hcCIsImRpc2NyaW1pbmF0b3JWYWx1ZXMiLCJtZXJnZVZhbHVlcyIsImFUeXBlIiwiYlR5cGUiLCJiS2V5cyIsInNoYXJlZEtleXMiLCJuZXdPYmoiLCJzaGFyZWRWYWx1ZSIsIm5ld0FycmF5IiwiaXRlbUEiLCJpdGVtQiIsImhhbmRsZVBhcnNlZCIsInBhcnNlZExlZnQiLCJwYXJzZWRSaWdodCIsIm1lcmdlZCIsImxlZnQiLCJyaWdodCIsIml0ZW1JbmRleCIsIlpvZFJlY29yZCIsImtleVR5cGUiLCJ2YWx1ZVR5cGUiLCJ0aGlyZCIsIlpvZE1hcCIsImZpbmFsTWFwIiwiWm9kU2V0IiwiZmluYWxpemVTZXQiLCJlbGVtZW50cyIsInBhcnNlZFNldCIsImVsZW1lbnQiLCJtaW5TaXplIiwibWF4U2l6ZSIsInNpemUiLCJnZXR0ZXIiLCJleHBlY3RlZFZhbHVlcyIsImVudW1WYWx1ZXMiLCJuZXdEZWYiLCJvcHQiLCJuYXRpdmVFbnVtVmFsdWVzIiwicHJvbWlzaWZpZWQiLCJlZmZlY3QiLCJjaGVja0N0eCIsImFyZyIsInByb2Nlc3NlZCIsImV4ZWN1dGVSZWZpbmVtZW50IiwiYWNjIiwiYmFzZSIsInByZXByb2Nlc3MiLCJuZXdDdHgiLCJab2ROYU4iLCJpblJlc3VsdCIsImZyZWV6ZSIsImNsZWFuUGFyYW1zIiwiY3VzdG9tIiwiZmF0YWwiLCJyIiwiX2ZhdGFsIiwiaW5zdGFuY2VPZlR5cGUiLCJjbHMiLCJzdHJpbmdUeXBlIiwibnVtYmVyVHlwZSIsImJvb2xlYW5UeXBlIiwiYW55VHlwZSIsImFycmF5VHlwZSIsIm9iamVjdFR5cGUiLCJ1bmlvblR5cGUiLCJkaXNjcmltaW5hdGVkVW5pb25UeXBlIiwicmVjb3JkVHlwZSIsImxhenlUeXBlIiwibGl0ZXJhbFR5cGUiLCJlbnVtVHlwZSIsInBhcnNlQW55RGVmIiwicGFyc2VBcnJheURlZiIsInBhcnNlRGVmIiwicGFyc2VCaWdpbnREZWYiLCJwYXJzZUJvb2xlYW5EZWYiLCJwYXJzZUJyYW5kZWREZWYiLCJfZGVmIiwicGFyc2VDYXRjaERlZiIsInBhcnNlRGF0ZURlZiIsIm92ZXJyaWRlRGF0ZVN0cmF0ZWd5Iiwic3RyYXRlZ3kiLCJpbnRlZ2VyRGF0ZVBhcnNlciIsInBhcnNlRGVmYXVsdERlZiIsInBhcnNlRWZmZWN0c0RlZiIsImZvcmNlUmVzb2x1dGlvbiIsInBhcnNlRW51bURlZiIsImlzSnNvblNjaGVtYTdBbGxPZlR5cGUiLCJwYXJzZUludGVyc2VjdGlvbkRlZiIsInVuZXZhbHVhdGVkUHJvcGVydGllcyIsIm1lcmdlZEFsbE9mIiwibmVzdGVkU2NoZW1hIiwiYWRkaXRpb25hbFByb3BlcnRpZXMiLCJwYXJzZUxpdGVyYWxEZWYiLCJwYXJzZWRUeXBlIiwiem9kUGF0dGVybnMiLCJwYXJzZVN0cmluZ0RlZiIsInByb2Nlc3NQYXR0ZXJuIiwiZXNjYXBlTm9uQWxwaGFOdW1lcmljIiwiYWRkRm9ybWF0IiwiYWRkUGF0dGVybiIsImMiLCJwcm9jZXNzUmVnRXhwIiwicmVnZXhPckZ1bmN0aW9uIiwiZmxhZ3MiLCJzb3VyY2UiLCJpc0VzY2FwZWQiLCJpbkNoYXJHcm91cCIsImluQ2hhclJhbmdlIiwicmVnZXhUZXN0IiwicGFyc2VSZWNvcmREZWYiLCJwYXJzZU1hcERlZiIsInBhcnNlTmF0aXZlRW51bURlZiIsImFjdHVhbFZhbHVlcyIsInBhcnNlZFR5cGVzIiwicGFyc2VOZXZlckRlZiIsInBhcnNlTnVsbERlZiIsInByaW1pdGl2ZU1hcHBpbmdzIiwicGFyc2VVbmlvbkRlZiIsImFzQW55T2YiLCJ1bmlxdWVUeXBlcyIsImFueU9mIiwicGFyc2VOdWxsYWJsZURlZiIsInBhcnNlTnVtYmVyRGVmIiwiZGVjaWRlQWRkaXRpb25hbFByb3BlcnRpZXMiLCJwYXJzZU9iamVjdERlZiIsInByb3BOYW1lIiwicHJvcERlZiIsInByb3BlcnR5UGF0aCIsInBhcnNlZERlZiIsInBhcnNlT3B0aW9uYWxEZWYiLCJpbm5lclNjaGVtYSIsInBhcnNlUGlwZWxpbmVEZWYiLCJwYXJzZVByb21pc2VEZWYiLCJwYXJzZVNldERlZiIsInBhcnNlVHVwbGVEZWYiLCJwYXJzZVVuZGVmaW5lZERlZiIsInBhcnNlVW5rbm93bkRlZiIsInBhcnNlUmVhZG9ubHlEZWYiLCJzZWVuSXRlbSIsIm92ZXJyaWRlUmVzdWx0Iiwic2VlblNjaGVtYSIsImdldCRyZWYiLCJuZXdJdGVtIiwianNvblNjaGVtYSIsInNlbGVjdFBhcnNlciIsImFkZE1ldGEiLCJnZXRSZWxhdGl2ZVBhdGgiLCJwYXRoQSIsInBhdGhCIiwidHlwZU5hbWUiLCJ6b2RUb0pzb25TY2hlbWEiLCJtYWluIiwidGl0bGUiLCJkZWZpbml0aW9ucyIsInByb2Nlc3NlZERlZmluaXRpb25zIiwibmV3RGVmaW5pdGlvbnMiLCJjb21iaW5lZCIsIm1ha2VQYXJzZWFibGVSZXNwb25zZVRvb2wiLCJ0b29sIiwiY2FsbGJhY2siLCJ0b1N0cmljdEpzb25TY2hlbWEiLCJzY2hlbWFDb3B5IiwiZW5zdXJlU3RyaWN0SnNvblNjaGVtYSIsImlzTnVsbGFibGUiLCJvbmVPZlZhcmlhbnQiLCJhbGxPZlZhcmlhbnQiLCJpc09iamVjdCIsImRlZk5hbWUiLCJkZWZTY2hlbWEiLCJkZWZpbml0aW9uTmFtZSIsImRlZmluaXRpb25TY2hlbWEiLCJyZXF1aXJlZCIsInByb3BlcnRpZXMiLCJwcm9wU2NoZW1hIiwidmFyaWFudCIsInJlc29sdmVkIiwiaGFzTW9yZVRoYW5OS2V5cyIsInJlc29sdmVSZWYiLCJwYXRoUGFydHMiLCJuIiwiem9kVjNUb0pzb25TY2hlbWEiLCJfem9kVG9Kc29uU2NoZW1hIiwiem9kVjRUb0pzb25TY2hlbWEiLCJ6NC50b0pTT05TY2hlbWEiLCJpc1pvZFY0Iiwiem9kT2JqZWN0Iiwiem9kVGV4dEZvcm1hdCIsInByb3BzIiwiY29udGVudCIsInpvZFJlc3BvbnNlc0Z1bmN0aW9uIiwiQWdlbnRzRXJyb3IiLCJzdGF0ZSIsIl9fcHVibGljRmllbGQiLCJTeXN0ZW1FcnJvciIsIk1heFR1cm5zRXhjZWVkZWRFcnJvciIsIk1vZGVsQmVoYXZpb3JFcnJvciIsIlVzZXJFcnJvciIsIkd1YXJkcmFpbEV4ZWN1dGlvbkVycm9yIiwiVG9vbENhbGxFcnJvciIsIklucHV0R3VhcmRyYWlsVHJpcHdpcmVUcmlnZ2VyZWQiLCJPdXRwdXRHdWFyZHJhaWxUcmlwd2lyZVRyaWdnZXJlZCIsInJlYWRab2REZWZpbml0aW9uIiwiY2FuZGlkYXRlIiwicmVhZFpvZFR5cGUiLCJyYXdUeXBlIiwibG93ZXIiLCJpc1pvZE9iamVjdCIsImlzQWdlbnRUb29sSW5wdXQiLCJKU09OX1NDSEVNQV9EUkFGVF8wNyIsIk9QVElPTkFMX1dSQVBQRVJTIiwiREVDT1JBVE9SX1dSQVBQRVJTIiwiU0lNUExFX1RZUEVfTUFQUElORyIsImhhc0pzb25TY2hlbWFPYmplY3RTaGFwZSIsInpvZEpzb25TY2hlbWFDb21wYXQiLCJidWlsZE9iamVjdFNjaGVtYSIsInJlYWRTaGFwZSIsImZpZWxkIiwib3B0aW9uYWwiLCJjb252ZXJ0UHJvcGVydHkiLCJjdXJyZW50IiwidW53cmFwRGVjb3JhdG9ycyIsIm5leHQiLCJjb252ZXJ0U2NoZW1hIiwidW53cmFwcGVkIiwiYnVpbGRBcnJheVNjaGVtYSIsImJ1aWxkVHVwbGVTY2hlbWEiLCJidWlsZFVuaW9uU2NoZW1hIiwiYnVpbGRJbnRlcnNlY3Rpb25TY2hlbWEiLCJidWlsZExpdGVyYWwiLCJidWlsZEVudW0iLCJidWlsZFJlY29yZFNjaGVtYSIsImJ1aWxkTWFwU2NoZW1hIiwiYnVpbGRTZXRTY2hlbWEiLCJidWlsZE51bGxhYmxlU2NoZW1hIiwiZXh0cmFjdEZpcnN0IiwiY29lcmNlQXJyYXkiLCJ2YWx1ZVNjaGVtYSIsImxpdGVyYWwiLCJ6b2RSZXNwb25zZXNGdW5jdGlvbkNvbXBhdCIsInpvZFRleHRGb3JtYXRDb21wYXQiLCJidWlsZEpzb25TY2hlbWFGcm9tWm9kIiwiaW5wdXRUeXBlIiwidG9GdW5jdGlvblRvb2xOYW1lIiwiZ2V0U2NoZW1hQW5kUGFyc2VyRnJvbUlucHV0VHlwZSIsInVzZUZhbGxiYWNrIiwib3JpZ2luYWxFcnJvciIsImZhbGxiYWNrU2NoZW1hIiwicmF3SW5wdXQiLCJmb3JtYXR0ZWRGdW5jdGlvbiIsImNvbnZlcnRBZ2VudE91dHB1dFR5cGVUb1NlcmlhbGl6YWJsZSIsIm91dHB1dFR5cGUiLCJleGlzdGluZyIsIm91dHB1dCIsInMiLCJoIiwiZCIsInciLCJ5IiwibXMiLCJwYXJzZSIsImZtdExvbmciLCJmbXRTaG9ydCIsInN0ciIsIm1hdGNoIiwibXNBYnMiLCJwbHVyYWwiLCJpc1BsdXJhbCIsInNldHVwIiwiZW52IiwiY3JlYXRlRGVidWciLCJjb2VyY2UiLCJkaXNhYmxlIiwiZW5hYmxlIiwiZW5hYmxlZCIsInJlcXVpcmUkJDAiLCJkZXN0cm95Iiwic2VsZWN0Q29sb3IiLCJuYW1lc3BhY2UiLCJoYXNoIiwicHJldlRpbWUiLCJlbmFibGVPdmVycmlkZSIsIm5hbWVzcGFjZXNDYWNoZSIsImVuYWJsZWRDYWNoZSIsImRlYnVnIiwic2VsZiIsImZvcm1hdHRlciIsImV4dGVuZCIsImRlbGltaXRlciIsIm5ld0RlYnVnIiwibmFtZXNwYWNlcyIsInNwbGl0IiwibnMiLCJtYXRjaGVzVGVtcGxhdGUiLCJzZWFyY2giLCJ0ZW1wbGF0ZSIsInNlYXJjaEluZGV4IiwidGVtcGxhdGVJbmRleCIsInN0YXJJbmRleCIsIm1hdGNoSW5kZXgiLCJza2lwIiwiY29tbW9uIiwiZXhwb3J0cyIsImZvcm1hdEFyZ3MiLCJzYXZlIiwibG9hZCIsInVzZUNvbG9ycyIsImxvY2Fsc3RvcmFnZSIsIndhcm5lZCIsIm1vZHVsZSIsImxhc3RDIiwiZm9ybWF0dGVycyIsImxvYWRFbnYiLCJfbG9hZEVudiIsImlzRW5hYmxlZCIsImZsYWdOYW1lIiwidHJhY2luZyIsImxvZ2dpbmciLCJkb250TG9nTW9kZWxEYXRhIiwiZG9udExvZ1Rvb2xEYXRhIiwiZ2V0TG9nZ2VyIiwibG9nZ2VyIiwiQllURV9QUkVWSUVXX0xJTUlUIiwidG9TbWFydFN0cmluZyIsImlzQXJyYXlCdWZmZXJMaWtlIiwiZm9ybWF0Qnl0ZUFycmF5IiwiaXNBcnJheUJ1ZmZlclZpZXciLCJ2aWV3Iiwic21hcnRTdHJpbmdSZXBsYWNlciIsInNoYXJlZEFycmF5QnVmZmVyQ3RvciIsImlzU2VyaWFsaXplZEJ1ZmZlclNuYXBzaG90IiwiaXNOb2RlQnVmZmVyIiwiYnVmZmVyQ3RvciIsImJ5dGVzIiwicHJldmlld0xlbmd0aCIsInByZXZpZXdQYXJ0cyIsImZvcm1hdEJ5dGUiLCJlbGxpcHNpcyIsImJ5dGUiLCJfa2V5IiwibmVzdGVkVmFsdWUiLCJkZWZhdWx0VG9vbEVycm9yRnVuY3Rpb24iLCJjb250ZXh0IiwidG9vbEVycm9yRnVuY3Rpb24iLCJzdHJpY3RNb2RlIiwicGFyYW1ldGVycyIsIl9pbnZva2UiLCJydW5Db250ZXh0IiwiZGV0YWlscyIsInBhcnNlZCIsInN0cmluZ1Jlc3VsdCIsImludm9rZSIsImN1cnJlbnRTcGFuIiwiZ2V0Q3VycmVudFNwYW4iLCJuZWVkc0FwcHJvdmFsIiwiYWdlbnQiLCJwcmVkaWNhdGUiLCJ6Lm9iamVjdCIsInouc3RyaW5nIiwiei5saXRlcmFsIiwiei5yZWNvcmQiLCJ6LmFueSIsInouYXJyYXkiLCJ6LmJvb2xlYW4iLCJfY2FjaGVkVG9vbHMiLCJfY2FjaGVkVG9vbEtleXNCeVNlcnZlciIsImRlZmF1bHRNQ1BUb29sQ2FjaGVLZXkiLCJzZXJ2ZXIiLCJnZXRGdW5jdGlvblRvb2xzRnJvbVNlcnZlciIsImNvbnZlcnRTY2hlbWFzVG9TdHJpY3QiLCJnZW5lcmF0ZU1DUFRvb2xDYWNoZUtleSIsImNhY2hlS2V5IiwidCIsIm1jcFRvRnVuY3Rpb25Ub29sIiwibGlzdFRvb2xzRm9yU2VydmVyIiwic3BhbiIsImZldGNoZWRNY3BUb29scyIsIm1jcFRvb2xzIiwiZmlsdGVyZWRUb29scyIsImZpbHRlciIsImdsb2JhbExvZ2dlciIsImFsbG93ZWRUb29sTmFtZXMiLCJibG9ja2VkVG9vbE5hbWVzIiwiYWxsb3dlZCIsImJsb2NrZWQiLCJ0b29scyIsImdldEN1cnJlbnRUcmFjZSIsIndpdGhNQ1BMaXN0VG9vbHNTcGFuIiwiZ2V0QWxsTWNwVG9vbHMiLCJtY3BTZXJ2ZXJzT3JPcHRzIiwibWNwU2VydmVycyIsImNvbnZlcnRTY2hlbWFzVG9TdHJpY3RGcm9tT3B0cyIsInJ1bkNvbnRleHRGcm9tT3B0cyIsImFnZW50RnJvbU9wdHMiLCJhbGxUb29scyIsInRvb2xOYW1lcyIsInNlcnZlclRvb2xzIiwiaW50ZXJzZWN0aW9uIiwibWNwVG9vbCIsIl9jb250ZXh0Iiwic3RyaWN0U2NoZW1hIiwibm9uU3RyaWN0U2NoZW1hIiwib3V0IiwiQnJvd3NlckV2ZW50RW1pdHRlciIsIl9fcHJpdmF0ZUFkZCIsIl90YXJnZXQiLCJfbGlzdGVuZXJXcmFwcGVycyIsImxpc3RlbmVyIiwiZXZlbnRUeXBlIiwibGlzdGVuZXJzRm9yVHlwZSIsIl9fcHJpdmF0ZUdldCIsIndyYXBwZXJzIiwid3JhcHBlciIsImV2ZW50IiwiaGFuZGxlciIsInJhbmRvbVVVSUQiLCJSZWFkYWJsZSIsIl9kZXN0aW5hdGlvbiIsIl90cmFuc2Zvcm0iLCJSZWFkYWJsZVN0cmVhbSIsIlRyYW5zZm9ybVN0cmVhbSIsIkFzeW5jTG9jYWxTdG9yYWdlIiwiQnJvd3NlclRpbWVyIiwidGltZW91dCIsInRpbWVvdXRJZCIsInRpbWVyIiwiRXZlbnRFbWl0dGVyRGVsZWdhdGUiLCJBZ2VudEhvb2tzIiwiUnVudGltZUV2ZW50RW1pdHRlciIsIlJ1bkhvb2tzIiwiT1BFTkFJX0RFRkFVTFRfTU9ERUxfRU5WX1ZBUklBQkxFX05BTUUiLCJncHQ1UmVhc29uaW5nU2V0dGluZ3NSZXF1aXJlZCIsIm1vZGVsTmFtZSIsImlzR3B0NURlZmF1bHQiLCJnZXREZWZhdWx0TW9kZWwiLCJnZXREZWZhdWx0TW9kZWxTZXR0aW5ncyIsIm1vZGVsIiwiX21vZGVsIiwiZ2V0VHJhbnNmZXJNZXNzYWdlIiwiZGVmYXVsdEhhbmRvZmZUb29sTmFtZSIsImRlZmF1bHRIYW5kb2ZmVG9vbERlc2NyaXB0aW9uIiwiSGFuZG9mZiIsIm9uSW52b2tlSGFuZG9mZiIsImhhbmRvZmYiLCJjb25maWciLCJoYXNPbkhhbmRvZmYiLCJoYXNJbnB1dFR5cGUiLCJpbnB1dEpzb25TdHJpbmciLCJhZGRFcnJvclRvQ3VycmVudFNwYW4iLCJnZXRIYW5kb2ZmIiwiZ2V0TGFzdFRleHRGcm9tT3V0cHV0TWVzc2FnZSIsIm91dHB1dE1lc3NhZ2UiLCJsYXN0SXRlbSIsImdldE91dHB1dFRleHQiLCJhZ2VudFRvb2xSdW5SZXN1bHRzIiwic2F2ZUFnZW50VG9vbFJ1blJlc3VsdCIsInRvb2xDYWxsIiwicnVuUmVzdWx0IiwiY29uc3VtZUFnZW50VG9vbFJ1blJlc3VsdCIsIkFnZW50QXNUb29sTmVlZEFwcHJvdmFsU2NoYW1lIiwiX0FnZW50Iiwib3V0cHV0VHlwZXMiLCJ0b29sTmFtZSIsInRvb2xEZXNjcmlwdGlvbiIsImN1c3RvbU91dHB1dEV4dHJhY3RvciIsInJ1bkNvbmZpZyIsInJ1bk9wdGlvbnMiLCJjb21wbGV0ZWRSZXN1bHQiLCJSdW5uZXIiLCJ1c2VzU3RvcEF0VG9vbE5hbWVzIiwib3V0cHV0VGV4dCIsImVuYWJsZWRUb29scyIsIm1heWJlSXNFbmFibGVkIiwiaGFuZG9mZnMiLCJBZ2VudCIsImRlZmluZUlucHV0R3VhcmRyYWlsIiwiZXhlY3V0ZSIsInJ1bkluUGFyYWxsZWwiLCJkZWZpbmVPdXRwdXRHdWFyZHJhaWwiLCJnZXREZWZhdWx0TW9kZWxQcm92aWRlciIsIlNoYXJlZEJhc2UiLCJJdGVtQmFzZSIsIlJlZnVzYWwiLCJPdXRwdXRUZXh0IiwiSW5wdXRUZXh0IiwiUmVhc29uaW5nVGV4dCIsIklucHV0SW1hZ2UiLCJ6XG4gICAgICAgIC8vIDEuIGltYWdlIGRhdGFcbiAgICAgICAgLnN0cmluZyIsIklucHV0RmlsZSIsInpcbiAgICAgICAgLy8gMS4gZmlsZSBkYXRhXG4gICAgICAgIC5zdHJpbmciLCJBdWRpb0NvbnRlbnQiLCJ6XG4gICAgICAgIC5zdHJpbmciLCJJbWFnZUNvbnRlbnQiLCJUb29sT3V0cHV0VGV4dCIsIkltYWdlRGF0YU9iamVjdFNjaGVtYSIsInpcbiAgICAgICAgLnVuaW9uIiwiei5pbnN0YW5jZW9mIiwiSW1hZ2VVcmxPYmplY3RTY2hlbWEiLCJJbWFnZUZpbGVJZE9iamVjdFNjaGVtYSIsIkltYWdlT2JqZWN0U2NoZW1hIiwielxuICAgIC51bmlvbiIsIkZpbGVEYXRhT2JqZWN0U2NoZW1hIiwiRmlsZVVybE9iamVjdFNjaGVtYSIsIkZpbGVJZE9iamVjdFNjaGVtYSIsIkZpbGVSZWZlcmVuY2VTY2hlbWEiLCJ6U3RyaW5nV2l0aEhpbnRzIiwiX2hpbnRzIiwiVG9vbE91dHB1dEltYWdlIiwiVG9vbE91dHB1dEZpbGVDb250ZW50IiwiQ29tcHV0ZXJUb29sT3V0cHV0IiwiY29tcHV0ZXJBY3Rpb25zIiwiei5kaXNjcmltaW5hdGVkVW5pb24iLCJ6Lm51bWJlciIsInouZW51bSIsIkFzc2lzdGFudENvbnRlbnQiLCJNZXNzYWdlQmFzZSIsIkFzc2lzdGFudE1lc3NhZ2VJdGVtIiwiVXNlckNvbnRlbnQiLCJVc2VyTWVzc2FnZUl0ZW0iLCJTeXN0ZW1NZXNzYWdlSXRlbSIsIkhvc3RlZFRvb2xDYWxsSXRlbSIsIkZ1bmN0aW9uQ2FsbEl0ZW0iLCJUb29sQ2FsbE91dHB1dENvbnRlbnQiLCJUb29sQ2FsbFN0cnVjdHVyZWRPdXRwdXQiLCJGdW5jdGlvbkNhbGxSZXN1bHRJdGVtIiwiQ29tcHV0ZXJVc2VDYWxsSXRlbSIsIkNvbXB1dGVyQ2FsbFJlc3VsdEl0ZW0iLCJTaGVsbEFjdGlvbiIsIlNoZWxsQ2FsbEl0ZW0iLCJTaGVsbENhbGxPdXRjb21lIiwiU2hlbGxDYWxsT3V0cHV0Q29udGVudCIsInpcbiAgICAub2JqZWN0IiwiU2hlbGxDYWxsUmVzdWx0SXRlbSIsIkFwcGx5UGF0Y2hPcGVyYXRpb25DcmVhdGVGaWxlIiwiQXBwbHlQYXRjaE9wZXJhdGlvblVwZGF0ZUZpbGUiLCJBcHBseVBhdGNoT3BlcmF0aW9uRGVsZXRlRmlsZSIsIkFwcGx5UGF0Y2hPcGVyYXRpb24iLCJBcHBseVBhdGNoQ2FsbEl0ZW0iLCJBcHBseVBhdGNoQ2FsbFJlc3VsdEl0ZW0iLCJUb29sQ2FsbEl0ZW0iLCJSZWFzb25pbmdJdGVtIiwiVW5rbm93bkl0ZW0iLCJPdXRwdXRNb2RlbEl0ZW0iLCJNb2RlbEl0ZW0iLCJ6LnVuaW9uIiwiUmVxdWVzdFVzYWdlRGF0YSIsIlVzYWdlRGF0YSIsIlN0cmVhbUV2ZW50VGV4dFN0cmVhbSIsIlN0cmVhbUV2ZW50UmVzcG9uc2VTdGFydGVkIiwiU3RyZWFtRXZlbnRSZXNwb25zZUNvbXBsZXRlZCIsIlN0cmVhbUV2ZW50R2VuZXJpY0l0ZW0iLCJSZXF1ZXN0VXNhZ2UiLCJpbnB1dFRva2Vuc0RldGFpbHMiLCJvdXRwdXRUb2tlbnNEZXRhaWxzIiwiVXNhZ2UiLCJyZXF1ZXN0VXNhZ2VFbnRyaWVzIiwibm9ybWFsaXplZFJlcXVlc3RVc2FnZUVudHJpZXMiLCJuZXdVc2FnZSIsIlJ1bkNvbnRleHQiLCJfYXBwcm92YWxzIiwiX19wcml2YXRlU2V0IiwiYXBwcm92YWxzIiwiYXBwcm92YWwiLCJjYWxsSWQiLCJhcHByb3ZhbEVudHJ5IiwiaW5kaXZpZHVhbENhbGxBcHByb3ZhbCIsImluZGl2aWR1YWxDYWxsUmVqZWN0aW9uIiwiYXBwcm92YWxJdGVtIiwiYWx3YXlzQXBwcm92ZSIsImFsd2F5c1JlamVjdCIsInNlcmlhbGl6ZVRvb2wiLCJzZXJpYWxpemVIYW5kb2ZmIiwiUnVuSXRlbUJhc2UiLCJSdW5NZXNzYWdlT3V0cHV0SXRlbSIsInJhd0l0ZW0iLCJwYXJ0IiwiUnVuVG9vbENhbGxJdGVtIiwiUnVuVG9vbENhbGxPdXRwdXRJdGVtIiwiUnVuUmVhc29uaW5nSXRlbSIsIlJ1bkhhbmRvZmZDYWxsSXRlbSIsIlJ1bkhhbmRvZmZPdXRwdXRJdGVtIiwic291cmNlQWdlbnQiLCJ0YXJnZXRBZ2VudCIsIlJ1blRvb2xBcHByb3ZhbEl0ZW0iLCJfd2l0aFNwYW5GYWN0b3J5IiwiY3JlYXRlU3BhbiIsIndpdGhOZXdTcGFuQ29udGV4dCIsInNldEN1cnJlbnRTcGFuIiwicmVzZXRDdXJyZW50U3BhbiIsImNyZWF0ZUFnZW50U3BhbiIsImdldEdsb2JhbFRyYWNlUHJvdmlkZXIiLCJjcmVhdGVGdW5jdGlvblNwYW4iLCJ3aXRoRnVuY3Rpb25TcGFuIiwiY3JlYXRlSGFuZG9mZlNwYW4iLCJ3aXRoSGFuZG9mZlNwYW4iLCJjcmVhdGVHdWFyZHJhaWxTcGFuIiwid2l0aEd1YXJkcmFpbFNwYW4iLCJjcmVhdGVNQ1BMaXN0VG9vbHNTcGFuIiwiZW5jb2RlVWludDhBcnJheVRvQmFzZTY0IiwiZ2xvYmFsQnVmZmVyIiwiYmluYXJ5IiwiY2hhcnMiLCJjMSIsImMyIiwiYzMiLCJlbmMxIiwiZW5jMiIsImVuYzMiLCJlbmM0IiwiUnVuUmF3TW9kZWxTdHJlYW1FdmVudCIsIlJ1bkl0ZW1TdHJlYW1FdmVudCIsIlJ1bkFnZW50VXBkYXRlZFN0cmVhbUV2ZW50IiwiaXNBcHByb3ZhbEl0ZW1MaWtlIiwiaXRlbVR5cGUiLCJnZXRBcHByb3ZhbElkZW50aXR5IiwicHJvdmlkZXJEYXRhIiwiYWdlbnROYW1lIiwiZm9ybWF0RmluYWxPdXRwdXRUeXBlRXJyb3IiLCJ6LlpvZEVycm9yIiwiaXNzdWVQYXRoUGFydHMiLCJpc3N1ZVBhdGgiLCJ0cnVuY2F0ZUZvckRldmVsb3BlciIsInRyaW1tZWQiLCJwcm9jZXNzTW9kZWxSZXNwb25zZSIsIm1vZGVsUmVzcG9uc2UiLCJydW5IYW5kb2ZmcyIsInJ1bkZ1bmN0aW9ucyIsInJ1bkNvbXB1dGVyQWN0aW9ucyIsInJ1blNoZWxsQWN0aW9ucyIsInJ1bkFwcGx5UGF0Y2hBY3Rpb25zIiwicnVuTUNQQXBwcm92YWxSZXF1ZXN0cyIsInRvb2xzVXNlZCIsImhhbmRvZmZNYXAiLCJmdW5jdGlvbk1hcCIsImNvbXB1dGVyVG9vbCIsInNoZWxsVG9vbCIsImFwcGx5UGF0Y2hUb29sIiwibWNwVG9vbE1hcCIsIm1jcFNlcnZlckxhYmVsIiwibWNwU2VydmVyVG9vbCIsImZ1bmN0aW9uVG9vbCIsIm5leHRTdGVwU2NoZW1hIiwiU2luZ2xlU3RlcFJlc3VsdCIsIm9yaWdpbmFsSW5wdXQiLCJwcmVTdGVwSXRlbXMiLCJuZXdTdGVwSXRlbXMiLCJuZXh0U3RlcCIsIm1heWJlUmVzZXRUb29sQ2hvaWNlIiwidG9vbFVzZVRyYWNrZXIiLCJtb2RlbFNldHRpbmdzIiwicmVzb2x2ZUludGVycnVwdGVkVHVybiIsIm9yaWdpbmFsUHJlU3RlcEl0ZW1zIiwibmV3UmVzcG9uc2UiLCJwcm9jZXNzZWRSZXNwb25zZSIsInJ1bm5lciIsImZ1bmN0aW9uQ2FsbElkcyIsInBlbmRpbmdBcHByb3ZhbEl0ZW1zIiwicGVuZGluZ0FwcHJvdmFsSWRlbnRpdGllcyIsImlkZW50aXR5IiwicmV3aW5kQ291bnQiLCJmdW5jdGlvblRvb2xSdW5zIiwicnVuIiwiZnVuY3Rpb25SZXN1bHRzIiwiZXhlY3V0ZUZ1bmN0aW9uVG9vbENhbGxzIiwiY29tcHV0ZXJSZXN1bHRzIiwiZXhlY3V0ZUNvbXB1dGVyQWN0aW9ucyIsIm9yaWdpbmFsUHJlU3RlcEl0ZW1TZXQiLCJuZXdJdGVtcyIsIm5ld0l0ZW1zU2V0IiwiYXBwZW5kSWZOZXciLCJtY3BBcHByb3ZhbFJ1bnMiLCJwZW5kaW5nSG9zdGVkTUNQQXBwcm92YWxzIiwicGVuZGluZ0hvc3RlZE1DUEFwcHJvdmFsSWRzIiwiYXBwcm92YWxSZXF1ZXN0SWQiLCJhcHByb3ZlZCIsInJlc3BvbnNlSXRlbSIsImNvbXBsZXRlZFN0ZXAiLCJtYXliZUNvbXBsZXRlVHVybkZyb21Ub29sUmVzdWx0cyIsInJlc29sdmVUdXJuQWZ0ZXJNb2RlbFJlc3BvbnNlIiwic2Vlbkl0ZW1zIiwic2hlbGxSZXN1bHRzIiwiYXBwbHlQYXRjaFJlc3VsdHMiLCJleGVjdXRlU2hlbGxBY3Rpb25zIiwiZXhlY3V0ZUFwcGx5UGF0Y2hPcGVyYXRpb25zIiwiYXBwcm92YWxSZXF1ZXN0IiwidG9vbERhdGEiLCJyZXF1ZXN0RGF0YSIsImFwcHJvdmFsUmVzdWx0IiwiYXBwcm92YWxSZXNwb25zZURhdGEiLCJleGVjdXRlSGFuZG9mZkNhbGxzIiwibWVzc2FnZUl0ZW1zIiwicG90ZW50aWFsRmluYWxPdXRwdXQiLCJvdXRwdXRFcnJvck1lc3NhZ2UiLCJ0b29sT3V0Y29tZSIsImNoZWNrRm9yRmluYWxPdXRwdXRGcm9tVG9vbHMiLCJnZXRUb29sQ2FsbE91dHB1dEl0ZW0iLCJtYXliZVN0cnVjdHVyZWRPdXRwdXRzIiwibm9ybWFsaXplU3RydWN0dXJlZFRvb2xPdXRwdXRzIiwic3RydWN0dXJlZEl0ZW1zIiwiY29udmVydFN0cnVjdHVyZWRUb29sT3V0cHV0VG9JbnB1dEl0ZW0iLCJub3JtYWxpemVGaWxlVmFsdWUiLCJkaXJlY3RGaWxlIiwibm9ybWFsaXplZE9iamVjdCIsIm5vcm1hbGl6ZUZpbGVPYmplY3RDYW5kaWRhdGUiLCJsZWdhY3lWYWx1ZSIsIm5vcm1hbGl6ZUxlZ2FjeUZpbGVWYWx1ZSIsImlzUmVjb3JkIiwiZGF0YVZhbHVlIiwiaGFzU3RyaW5nRGF0YSIsImhhc0JpbmFyeURhdGEiLCJpc05vbkVtcHR5U3RyaW5nIiwicmVmZXJlbmNlZElkIiwiZmlsZW5hbWUiLCJtZWRpYVR5cGUiLCJ0b0lubGluZUltYWdlU3RyaW5nIiwiYXNEYXRhVXJsIiwidG9vbFJ1bnMiLCJydW5TaW5nbGVUb29sIiwidG9vbFJ1biIsInBhcnNlZEFyZ3MiLCJyZXNwb25zZSIsInRvb2xPdXRwdXQiLCJmdW5jdGlvblJlc3VsdCIsIm5lc3RlZFJ1blJlc3VsdCIsIm5lc3RlZEludGVycnVwdGlvbnMiLCJfcnVuQ29tcHV0ZXJBY3Rpb25BbmRTY3JlZW5zaG90IiwiY29tcHV0ZXIiLCJhY3Rpb24iLCJzY3JlZW5zaG90IiwidG9FcnJvck1lc3NhZ2UiLCJhY3Rpb25zIiwiY3VzdG9tTG9nZ2VyIiwiX2xvZ2dlciIsImRlY2lzaW9uIiwicmVqZWN0aW9uT3V0cHV0Iiwic2hlbGxPdXRwdXRzIiwicHJvdmlkZXJNZXRhIiwibWF4T3V0cHV0TGVuZ3RoIiwic2hlbGxSZXN1bHQiLCJpbWFnZVVybCIsImFjdHVhbEhhbmRvZmYiLCJoYW5kb2ZmU3BhbiIsIm5ld0FnZW50IiwicmVxdWVzdGVkQWdlbnRzIiwiaW5wdXRGaWx0ZXIiLCJoYW5kb2ZmSW5wdXREYXRhIiwiTk9UX0ZJTkFMX09VVFBVVCIsInRvb2xSZXN1bHRzIiwiaW50ZXJydXB0aW9ucyIsImZpcnN0VG9vbFJlc3VsdCIsInRvb2xVc2VCZWhhdmlvciIsInN0b3BwaW5nVG9vbCIsImdldFJ1bkl0ZW1TdHJlYW1FdmVudE5hbWUiLCJlbnF1ZXVlUnVuSXRlbVN0cmVhbUV2ZW50IiwiaXRlbU5hbWUiLCJzdHJlYW1TdGVwSXRlbXNUb1J1blJlc3VsdCIsImFkZFN0ZXBUb1J1blJlc3VsdCIsInNraXBwZWRJdGVtcyIsIkFnZW50VG9vbFVzZVRyYWNrZXIiLCJfYWdlbnRUb1Rvb2xzIiwidG9JbnB1dEl0ZW1MaXN0IiwiZXh0cmFjdE91dHB1dEl0ZW1zRnJvbVJ1bkl0ZW1zIiwibm9ybWFsaXplSXRlbXNGb3JTZXNzaW9uUGVyc2lzdGVuY2UiLCJzYW5pdGl6ZVZhbHVlRm9yU2Vzc2lvbiIsInN0cmlwVHJhbnNpZW50Q2FsbElkcyIsInRvVWludDhBcnJheUlmQmluYXJ5IiwidG9EYXRhVXJsRnJvbUJ5dGVzIiwiaXNQbGFpbk9iamVjdCIsInJlY29yZCIsIm5leHRDb250ZXh0Iiwic25hcHNob3QiLCJwcm90byIsInNob3VsZFN0cmlwSWQiLCJzaG91bGRTdHJpcElkRm9yVHlwZSIsInNhdmVUb1Nlc3Npb24iLCJzZXNzaW9uIiwic2Vzc2lvbklucHV0SXRlbXMiLCJpbnB1dEl0ZW1zIiwiYWxyZWFkeVBlcnNpc3RlZCIsIm5ld1J1bkl0ZW1zIiwib3V0cHV0SXRlbXMiLCJpdGVtc1RvU2F2ZSIsInNhbml0aXplZEl0ZW1zIiwic2F2ZVN0cmVhbUlucHV0VG9TZXNzaW9uIiwic2FuaXRpemVkSW5wdXQiLCJzYXZlU3RyZWFtUmVzdWx0VG9TZXNzaW9uIiwicHJlcGFyZUlucHV0SXRlbXNXaXRoU2Vzc2lvbiIsInNlc3Npb25JbnB1dENhbGxiYWNrIiwiaW5jbHVkZUhpc3RvcnlJblByZXBhcmVkSW5wdXQiLCJwcmVzZXJ2ZURyb3BwZWROZXdJdGVtcyIsImhpc3RvcnkiLCJuZXdJbnB1dEl0ZW1zIiwiaGlzdG9yeVNuYXBzaG90IiwibmV3SW5wdXRTbmFwc2hvdCIsImhpc3RvcnlDb3VudHMiLCJidWlsZEl0ZW1GcmVxdWVuY3lNYXAiLCJuZXdJbnB1dENvdW50cyIsImhpc3RvcnlSZWZzIiwiYnVpbGRJdGVtUmVmZXJlbmNlTWFwIiwibmV3SW5wdXRSZWZzIiwiYXBwZW5kZWQiLCJzZXNzaW9uSXRlbUtleSIsImNvbnN1bWVSZWZlcmVuY2UiLCJkZWNyZW1lbnRDb3VudCIsImhpc3RvcnlSZW1haW5pbmciLCJuZXdSZW1haW5pbmciLCJzdHJ1Y3R1cmVkIiwibm9ybWFsaXplZCIsIm5vcm1hbGl6ZVN0cnVjdHVyZWRUb29sT3V0cHV0IiwiaW1hZ2VTdHJpbmciLCJpbWFnZUZpbGVJZCIsImZhbGxiYWNrSW1hZ2VNZWRpYVR5cGUiLCJpbWFnZUZpZWxkIiwiaW1hZ2VPYmoiLCJpbmxpbmVNZWRpYVR5cGUiLCJjYW5kaWRhdGVJZCIsImZpbGVWYWx1ZSIsImNvdW50cyIsImxpc3QiLCJjYW5kaWRhdGVzIiwicmVtYWluaW5nIiwic2Vzc2lvblNlcmlhbGl6YXRpb25SZXBsYWNlciIsIkNVUlJFTlRfU0NIRU1BX1ZFUlNJT04iLCIkc2NoZW1hVmVyc2lvbiIsInNlcmlhbGl6ZWRBZ2VudFNjaGVtYSIsInNlcmlhbGl6ZWRTcGFuQmFzZSIsInpcbiAgICAgICAgLm9iamVjdCIsIlNlcmlhbGl6ZWRTcGFuIiwiei5sYXp5IiwicmVxdWVzdFVzYWdlU2NoZW1hIiwidXNhZ2VTY2hlbWEiLCJtb2RlbFJlc3BvbnNlU2NoZW1hIiwicHJvdG9jb2wuT3V0cHV0TW9kZWxJdGVtIiwiaXRlbVNjaGVtYSIsInByb3RvY29sLkFzc2lzdGFudE1lc3NhZ2VJdGVtIiwicHJvdG9jb2wuVG9vbENhbGxJdGVtIiwicHJvdG9jb2wuSG9zdGVkVG9vbENhbGxJdGVtIiwicHJvdG9jb2wuRnVuY3Rpb25DYWxsUmVzdWx0SXRlbSIsInByb3RvY29sLlJlYXNvbmluZ0l0ZW0iLCJwcm90b2NvbC5GdW5jdGlvbkNhbGxJdGVtIiwicHJvdG9jb2wuU2hlbGxDYWxsSXRlbSIsInByb3RvY29sLkFwcGx5UGF0Y2hDYWxsSXRlbSIsInNlcmlhbGl6ZWRUcmFjZVNjaGVtYSIsInNlcmlhbGl6ZWRQcm9jZXNzZWRSZXNwb25zZVNjaGVtYSIsInpcbiAgICAgICAgLmFycmF5IiwiZ3VhcmRyYWlsRnVuY3Rpb25PdXRwdXRTY2hlbWEiLCJpbnB1dEd1YXJkcmFpbFJlc3VsdFNjaGVtYSIsIm91dHB1dEd1YXJkcmFpbFJlc3VsdFNjaGVtYSIsIlNlcmlhbGl6ZWRSdW5TdGF0ZSIsInByb3RvY29sLk1vZGVsSXRlbSIsIlJ1blN0YXRlIiwic3RhcnRpbmdBZ2VudCIsIm1heFR1cm5zIiwiZ2V0VHVybklucHV0IiwiaW5pdGlhbEFnZW50IiwicGFyc2luZ0Vycm9yIiwianNvblJlc3VsdCIsImN1cnJlbnRTY2hlbWFWZXJzaW9uIiwic3RhdGVKc29uIiwiYWdlbnRNYXAiLCJidWlsZEFnZW50TWFwIiwiY3VycmVudEFnZW50IiwidHJhY2UiLCJkZXNlcmlhbGl6ZVNwYW4iLCJkZXNlcmlhbGl6ZU1vZGVsUmVzcG9uc2UiLCJkZXNlcmlhbGl6ZUl0ZW0iLCJkZXNlcmlhbGl6ZVByb2Nlc3NlZFJlc3BvbnNlIiwicXVldWUiLCJzZXJpYWxpemVkU3BhbiIsInNwYW5EYXRhIiwicHJldmlvdXNTcGFuIiwic2VyaWFsaXplZE1vZGVsUmVzcG9uc2UiLCJzZXJpYWxpemVkSXRlbSIsInNlcmlhbGl6ZWRQcm9jZXNzZWRSZXNwb25zZSIsImNvbXB1dGVyVG9vbHMiLCJzaGVsbFRvb2xzIiwiYXBwbHlQYXRjaFRvb2xzIiwiZnVuY3Rpb25DYWxsIiwiY29tcHV0ZXJBY3Rpb24iLCJzaGVsbEFjdGlvbiIsImFwcGx5UGF0Y2hBY3Rpb24iLCJfUnVubmVyX2luc3RhbmNlcyIsInJlc29sdmVkT3B0aW9ucyIsImNhbGxNb2RlbElucHV0RmlsdGVyIiwiaGFzQ2FsbE1vZGVsSW5wdXRGaWx0ZXIiLCJlZmZlY3RpdmVPcHRpb25zIiwic2VydmVyTWFuYWdlc0NvbnZlcnNhdGlvbiIsInJlc3VtaW5nRnJvbVN0YXRlIiwic2Vzc2lvbklucHV0T3JpZ2luYWxTbmFwc2hvdCIsInNlc3Npb25JbnB1dEZpbHRlcmVkU25hcHNob3QiLCJzZXNzaW9uSW5wdXRQZW5kaW5nV3JpdGVDb3VudHMiLCJyZWNvcmRTZXNzaW9uSXRlbXNGb3JQZXJzaXN0ZW5jZSIsInNvdXJjZUl0ZW1zIiwiZmlsdGVyZWRJdGVtcyIsInBlbmRpbmdXcml0ZUNvdW50cyIsInBlcnNpc3RhYmxlSXRlbXMiLCJzb3VyY2VPY2N1cnJlbmNlQ291bnRzIiwibmV4dENvdW50IiwiY29uc3VtZUFueVBlbmRpbmdXcml0ZVNsb3QiLCJmaWx0ZXJlZEl0ZW0iLCJhbGxvY2F0ZWQiLCJwZW5kaW5nT2NjdXJyZW5jZXMiLCJzb3VyY2VLZXkiLCJnZXRBZ2VudElucHV0SXRlbUtleSIsImZpbHRlcmVkS2V5IiwiZmlsdGVyZWRSZW1haW5pbmciLCJyZXNvbHZlU2Vzc2lvbkl0ZW1zRm9yUGVyc2lzdGVuY2UiLCJwcmVwYXJlZElucHV0IiwicHJlcGFyZWQiLCJzZXNzaW9uSXRlbXMiLCJlbnN1cmVTdHJlYW1JbnB1dFBlcnNpc3RlZCIsInBlcnNpc3RlZCIsIml0ZW1zVG9QZXJzaXN0IiwiZXhlY3V0ZVJ1biIsIl9fcHJpdmF0ZU1ldGhvZCIsInJ1bkluZGl2aWR1YWxTdHJlYW1fZm4iLCJydW5JbmRpdmlkdWFsTm9uU3RyZWFtX2ZuIiwid2l0aFRyYWNlIiwiZ2V0T3JDcmVhdGVUcmFjZSIsImdldElucHV0R3VhcmRyYWlsRGVmaW5pdGlvbnNfZm4iLCJzcGxpdElucHV0R3VhcmRyYWlsc19mbiIsImd1YXJkcmFpbHMiLCJibG9ja2luZyIsInBhcmFsbGVsIiwiZ3VhcmRyYWlsIiwicmVzb2x2ZU1vZGVsRm9yQWdlbnRfZm4iLCJleHBsaWN0bHlNb2RlbFNldCIsInJlc29sdmVkTW9kZWwiLCJzZWxlY3RNb2RlbCIsInNlc3Npb25JbnB1dFVwZGF0ZSIsImlzUmVzdW1lZFN0YXRlIiwiREVGQVVMVF9NQVhfVFVSTlMiLCJzZXJ2ZXJDb252ZXJzYXRpb25UcmFja2VyIiwiU2VydmVyQ29udmVyc2F0aW9uVHJhY2tlciIsInR1cm5SZXN1bHQiLCJSdW5SZXN1bHQiLCJhcnRpZmFjdHMiLCJwcmVwYXJlQWdlbnRBcnRpZmFjdHMiLCJwYXJhbGxlbEd1YXJkcmFpbFByb21pc2UiLCJydW5JbnB1dEd1YXJkcmFpbHNfZm4iLCJ0dXJuSW5wdXQiLCJwcmVwYXJlZENhbGwiLCJwcmVwYXJlTW9kZWxDYWxsX2ZuIiwiZ2V0VHJhY2luZyIsInJ1bk91dHB1dEd1YXJkcmFpbHNfZm4iLCJydW5TdHJlYW1Mb29wX2ZuIiwiaGFuZGVkSW5wdXRUb01vZGVsIiwic3RyZWFtSW5wdXRQZXJzaXN0ZWQiLCJwZXJzaXN0U3RyZWFtSW5wdXRJZk5lZWRlZCIsImd1YXJkcmFpbEVycm9yIiwiZmluYWxSZXNwb25zZSIsInByZVRvb2xJdGVtcyIsIlN0cmVhbWVkUnVuUmVzdWx0Iiwic3RyZWFtTG9vcFByb21pc2UiLCJndWFyZHJhaWxzT3ZlcnJpZGUiLCJndWFyZHJhaWxBcmdzIiwiYWdlbnRPdXRwdXQiLCJydW5PdXRwdXQiLCJhZGp1c3RNb2RlbFNldHRpbmdzRm9yTm9uR1BUNVJ1bm5lck1vZGVsIiwic3lzdGVtSW5zdHJ1Y3Rpb25zIiwicHJvbXB0IiwibW9kZWxJbnB1dCIsInBlcnNpc3RlZEl0ZW1zIiwiZmlsdGVyQXBwbGllZCIsImFwcGx5Q2FsbE1vZGVsSW5wdXRGaWx0ZXIiLCJwcmV2aW91c1Jlc3BvbnNlSWQiLCJjb252ZXJzYXRpb25JZCIsImdlbmVyYXRlZEl0ZW1zIiwicmF3SXRlbXMiLCJ0b0FnZW50SW5wdXRMaXN0IiwiYWdlbnRNb2RlbCIsInJ1bkNvbmZpZ01vZGVsIiwidHJhY2luZ0Rpc2FibGVkIiwidHJhY2VJbmNsdWRlU2Vuc2l0aXZlRGF0YSIsImNsb25lSW5wdXRJdGVtcyIsImNsb25lZCIsImNsb25lTWFwIiwib3JpZ2luYWxQb29sIiwiYnVpbGRBZ2VudElucHV0UG9vbCIsImZhbGxiYWNrT3JpZ2luYWxzIiwicmVtb3ZlRnJvbUZhbGxiYWNrIiwib3JpZ2luYWwiLCJ0YWtlRmFsbGJhY2tPcmlnaW5hbCIsInJlbW92ZUFnZW50SW5wdXRGcm9tUG9vbCIsIm1hdGNoZWRCeUNvbnRlbnQiLCJ0YWtlQWdlbnRJbnB1dEZyb21Qb29sIiwiZmFsbGJhY2siLCJjbG9uZWRGaWx0ZXJlZElucHV0IiwibW9kZWxSZXNwb25zZXMiLCJsYXRlc3RSZXNwb25zZSIsImluaXRpYWxJdGVtcyIsImRlbGl2ZXJlZCIsImFnZW50TW9kZWxTZXR0aW5ncyIsInJ1bm5lck1vZGVsIiwiY29waWVkTW9kZWxTZXR0aW5ncyIsIl9nIiwiX2giLCJoYW5kb2ZmTmFtZXMiLCJhZ2VudElucHV0U2VyaWFsaXphdGlvblJlcGxhY2VyIiwicG9vbCIsIlJ1blJlc3VsdEJhc2UiLCJyZXNwb25zZXMiLCJfZXJyb3IiLCJfc2lnbmFsIiwiX3JlYWRhYmxlQ29udHJvbGxlciIsIl9yZWFkYWJsZVN0cmVhbSIsIl9jb21wbGV0ZWRQcm9taXNlIiwiX2NvbXBsZXRlZFByb21pc2VSZXNvbHZlIiwiX2NvbXBsZXRlZFByb21pc2VSZWplY3QiLCJfY2FuY2VsbGVkIiwiX3N0cmVhbUxvb3BQcm9taXNlIiwiX1JlYWRhYmxlU3RyZWFtIiwiY29udHJvbGxlciIsInJlc29sdmUiLCJyZWplY3QiLCJoYW5kbGVBYm9ydCIsInN0cmVhbSIsInByb21pc2UiLCJfY29udGV4dEFzeW5jTG9jYWxTdG9yYWdlIiwiZ2V0Q29udGV4dEFzeW5jTG9jYWxTdG9yYWdlIiwiY3VycmVudFRyYWNlIiwiX3dyYXBGdW5jdGlvbldpdGhUcmFjZUxpZmVjeWNsZSIsIm5ld1RyYWNlIiwic3BhbkVycm9yIiwiY2xvbmVDdXJyZW50Q29udGV4dCIsImN1cnJlbnRDb250ZXh0IiwiY29weU9mQ29udGV4dCIsIkNvbnNvbGVTcGFuRXhwb3J0ZXIiLCJCYXRjaFRyYWNlUHJvY2Vzc29yIiwiZXhwb3J0ZXIiLCJtYXhRdWV1ZVNpemUiLCJtYXhCYXRjaFNpemUiLCJzY2hlZHVsZURlbGF5IiwiZXhwb3J0VHJpZ2dlclJhdGlvIiwiX0JhdGNoVHJhY2VQcm9jZXNzb3JfaW5zdGFuY2VzIiwiX21heFF1ZXVlU2l6ZSIsIl9tYXhCYXRjaFNpemUiLCJfc2NoZWR1bGVEZWxheSIsIl9leHBvcnRUcmlnZ2VyU2l6ZSIsIl9leHBvcnRlciIsIl9idWZmZXIiLCJfdGltZXIiLCJfdGltZW91dCIsIl9leHBvcnRJblByb2dyZXNzIiwiX3RpbWVvdXRBYm9ydENvbnRyb2xsZXIiLCJydW5FeHBvcnRMb29wX2ZuIiwic2FmZUFkZEl0ZW1fZm4iLCJfdHJhY2UiLCJfc3BhbiIsImV4cG9ydEJhdGNoZXNfZm4iLCJmb3JjZSIsInRvRXhwb3J0IiwiYmF0Y2giLCJNdWx0aVRyYWNpbmdQcm9jZXNzb3IiLCJfcHJvY2Vzc29ycyIsInByb2Nlc3NvciIsInByb2Nlc3NvcnMiLCJfZGVmYXVsdEV4cG9ydGVyIiwiX2RlZmF1bHRQcm9jZXNzb3IiLCJkZWZhdWx0RXhwb3J0ZXIiLCJkZWZhdWx0UHJvY2Vzc29yIiwidGltZUlzbyIsImdlbmVyYXRlVHJhY2VJZCIsImdlbmVyYXRlU3BhbklkIiwicmVtb3ZlUHJpdmF0ZUZpZWxkcyIsIl9TcGFuIiwiX2RhdGEiLCJfdHJhY2VJZCIsIl9zcGFuSWQiLCJfcGFyZW50SWQiLCJfcHJvY2Vzc29yIiwiX3N0YXJ0ZWRBdCIsIl9lbmRlZEF0IiwiX3ByZXZpb3VzU3BhbiIsIlNwYW4iLCJOb29wU3BhbiIsIl9UcmFjZSIsIl9zdGFydGVkIiwiVHJhY2UiLCJOb29wVHJhY2UiLCJUcmFjZVByb3ZpZGVyIiwiX1RyYWNlUHJvdmlkZXJfaW5zdGFuY2VzIiwiX211bHRpUHJvY2Vzc29yIiwiX2Rpc2FibGVkIiwiYWRkQ2xlYW51cExpc3RlbmVyc19mbiIsImRpc2FibGVkIiwidHJhY2VPcHRpb25zIiwidHJhY2VJZCIsInNwYW5PcHRpb25zIiwicGFyZW50SWQiLCJjbGVhbnVwIiwiaGFzT3RoZXJMaXN0ZW5lcnNGb3JTaWduYWxzIiwicmVhc29uIiwiaGFzT3RoZXJMaXN0ZW5lcnNGb3JFdmVudHMiLCJHTE9CQUxfVFJBQ0VfUFJPVklERVIiLCJhZGRUcmFjZVByb2Nlc3NvciIsImJhc2U2NFRvQXJyYXlCdWZmZXIiLCJiaW5hcnlTdHJpbmciLCJhcnJheUJ1ZmZlclRvQmFzZTY0IiwiYXJyYXlCdWZmZXIiLCJnZXRMYXN0VGV4dEZyb21BdWRpb091dHB1dE1lc3NhZ2UiLCJsYXN0Q29udGVudEl0ZW0iLCJkaWZmUmVhbHRpbWVIaXN0b3J5Iiwib2xkSGlzdG9yeSIsIm5ld0hpc3RvcnkiLCJyZW1vdmFscyIsImFkZGl0aW9ucyIsIm9sZEl0ZW0iLCJ1cGRhdGVzIiwiaGFzV2ViUlRDU3VwcG9ydCIsInJlbW92ZUF1ZGlvRnJvbUNvbnRlbnQiLCJwcmVzZXJ2ZUFzc2lzdGFudEF1ZGlvVHJhbnNjcmlwdHMiLCJtZXJnZWRDb250ZW50IiwicHJldmlvdXNFbnRyeSIsInVwZGF0ZVJlYWx0aW1lSGlzdG9yeSIsInNob3VsZEluY2x1ZGVBdWRpb0RhdGEiLCJ1cGRhdGVkQ29udGVudCIsIm5ld0V2ZW50IiwiZXhpc3RpbmdJbmRleCIsImV4aXN0aW5nSXRlbSIsIm1lcmdlZEV2ZW50IiwiaWR4IiwicHJldkluZGV4IiwiSEVBREVSUyIsIldFQlNPQ0tFVF9NRVRBIiwicmVhbHRpbWVBcHByb3ZhbEl0ZW1Ub0FwcHJvdmFsSXRlbSIsImFwcHJvdmFsSXRlbVRvUmVhbHRpbWVBcHByb3ZhbEl0ZW0iLCJpdGVtSWQiLCJzZXJ2ZXJMYWJlbCIsIlJlYWx0aW1lQWdlbnQiLCJnZXRSZWFsdGltZUd1YXJkcmFpbFNldHRpbmdzIiwic2V0dGluZ3MiLCJkZWZpbmVSZWFsdGltZU91dHB1dEd1YXJkcmFpbCIsInBvbGljeUhpbnRJbnB1dCIsImJhc2VHdWFyZHJhaWwiLCJwb2xpY3lIaW50IiwiZ2V0UmVhbHRpbWVHdWFyZHJhaWxGZWVkYmFja01lc3NhZ2UiLCJpc0RlZmluZWQiLCJpc0RlcHJlY2F0ZWRDb25maWciLCJ0b05ld1Nlc3Npb25Db25maWciLCJpbnB1dENvbmZpZyIsIm5vcm1hbGl6ZUF1ZGlvRm9ybWF0IiwicmVxdWVzdGVkT3V0cHV0Vm9pY2UiLCJvdXRwdXRDb25maWciLCJmIiwicmVhbHRpbWVNZXNzYWdlSXRlbVNjaGVtYSIsInJlYWx0aW1lVG9vbENhbGxJdGVtIiwicmVhbHRpbWVNY3BDYWxsSXRlbSIsInJlYWx0aW1lTWNwQ2FsbEFwcHJvdmFsUmVxdWVzdEl0ZW0iLCJyZWFsdGltZVJlc3BvbnNlIiwielxuICAgICAgICAgICAgLm9iamVjdCIsInpcbiAgICAgICAgLmVudW0iLCJjb252ZXJzYXRpb25JdGVtQ29udGVudFNjaGVtYSIsImNvbnZlcnNhdGlvbkl0ZW1TY2hlbWEiLCJjb252ZXJzYXRpb25DcmVhdGVkRXZlbnRTY2hlbWEiLCJjb252ZXJzYXRpb25JdGVtQWRkZWRFdmVudFNjaGVtYSIsImNvbnZlcnNhdGlvbkl0ZW1Eb25lRXZlbnRTY2hlbWEiLCJjb252ZXJzYXRpb25JdGVtRGVsZXRlZEV2ZW50U2NoZW1hIiwiY29udmVyc2F0aW9uSXRlbUlucHV0QXVkaW9UcmFuc2NyaXB0aW9uQ29tcGxldGVkRXZlbnRTY2hlbWEiLCJjb252ZXJzYXRpb25JdGVtSW5wdXRBdWRpb1RyYW5zY3JpcHRpb25EZWx0YUV2ZW50U2NoZW1hIiwiY29udmVyc2F0aW9uSXRlbUlucHV0QXVkaW9UcmFuc2NyaXB0aW9uRmFpbGVkRXZlbnRTY2hlbWEiLCJjb252ZXJzYXRpb25JdGVtUmV0cmlldmVkRXZlbnRTY2hlbWEiLCJjb252ZXJzYXRpb25JdGVtVHJ1bmNhdGVkRXZlbnRTY2hlbWEiLCJjb252ZXJzYXRpb25JdGVtQ3JlYXRlRXZlbnRTY2hlbWEiLCJjb252ZXJzYXRpb25JdGVtRGVsZXRlRXZlbnRTY2hlbWEiLCJjb252ZXJzYXRpb25JdGVtUmV0cmlldmVFdmVudFNjaGVtYSIsImNvbnZlcnNhdGlvbkl0ZW1UcnVuY2F0ZUV2ZW50U2NoZW1hIiwiZXJyb3JFdmVudFNjaGVtYSIsImlucHV0QXVkaW9CdWZmZXJDbGVhcmVkRXZlbnRTY2hlbWEiLCJpbnB1dEF1ZGlvQnVmZmVyQXBwZW5kRXZlbnRTY2hlbWEiLCJpbnB1dEF1ZGlvQnVmZmVyQ2xlYXJFdmVudFNjaGVtYSIsImlucHV0QXVkaW9CdWZmZXJDb21taXRFdmVudFNjaGVtYSIsImlucHV0QXVkaW9CdWZmZXJDb21taXR0ZWRFdmVudFNjaGVtYSIsImlucHV0QXVkaW9CdWZmZXJTcGVlY2hTdGFydGVkRXZlbnRTY2hlbWEiLCJpbnB1dEF1ZGlvQnVmZmVyU3BlZWNoU3RvcHBlZEV2ZW50U2NoZW1hIiwib3V0cHV0QXVkaW9CdWZmZXJTdGFydGVkRXZlbnRTY2hlbWEiLCJvdXRwdXRBdWRpb0J1ZmZlclN0b3BwZWRFdmVudFNjaGVtYSIsIm91dHB1dEF1ZGlvQnVmZmVyQ2xlYXJlZEV2ZW50U2NoZW1hIiwicmF0ZUxpbWl0c1VwZGF0ZWRFdmVudFNjaGVtYSIsInJlc3BvbnNlQXVkaW9EZWx0YUV2ZW50U2NoZW1hIiwicmVzcG9uc2VBdWRpb0RvbmVFdmVudFNjaGVtYSIsInJlc3BvbnNlQXVkaW9UcmFuc2NyaXB0RGVsdGFFdmVudFNjaGVtYSIsInJlc3BvbnNlQXVkaW9UcmFuc2NyaXB0RG9uZUV2ZW50U2NoZW1hIiwicmVzcG9uc2VDb250ZW50UGFydEFkZGVkRXZlbnRTY2hlbWEiLCJyZXNwb25zZUNvbnRlbnRQYXJ0RG9uZUV2ZW50U2NoZW1hIiwicmVzcG9uc2VDcmVhdGVkRXZlbnRTY2hlbWEiLCJyZXNwb25zZURvbmVFdmVudFNjaGVtYSIsInJlc3BvbnNlRnVuY3Rpb25DYWxsQXJndW1lbnRzRGVsdGFFdmVudFNjaGVtYSIsInJlc3BvbnNlRnVuY3Rpb25DYWxsQXJndW1lbnRzRG9uZUV2ZW50U2NoZW1hIiwicmVzcG9uc2VPdXRwdXRJdGVtQWRkZWRFdmVudFNjaGVtYSIsInJlc3BvbnNlT3V0cHV0SXRlbURvbmVFdmVudFNjaGVtYSIsInJlc3BvbnNlVGV4dERlbHRhRXZlbnRTY2hlbWEiLCJyZXNwb25zZVRleHREb25lRXZlbnRTY2hlbWEiLCJzZXNzaW9uQ3JlYXRlZEV2ZW50U2NoZW1hIiwic2Vzc2lvblVwZGF0ZWRFdmVudFNjaGVtYSIsInJlc3BvbnNlQ2FuY2VsRXZlbnRTY2hlbWEiLCJyZXNwb25zZUNyZWF0ZUV2ZW50U2NoZW1hIiwic2Vzc2lvblVwZGF0ZUV2ZW50U2NoZW1hIiwibWNwTGlzdFRvb2xzSW5Qcm9ncmVzc0V2ZW50U2NoZW1hIiwibWNwTGlzdFRvb2xzQ29tcGxldGVkRXZlbnRTY2hlbWEiLCJyZXNwb25zZU1jcENhbGxBcmd1bWVudHNEZWx0YUV2ZW50U2NoZW1hIiwicmVzcG9uc2VNY3BDYWxsQXJndW1lbnRzRG9uZUV2ZW50U2NoZW1hIiwicmVzcG9uc2VNY3BDYWxsSW5Qcm9ncmVzc0V2ZW50U2NoZW1hIiwicmVzcG9uc2VNY3BDYWxsQ29tcGxldGVkRXZlbnRTY2hlbWEiLCJtY3BMaXN0VG9vbHNGYWlsZWRFdmVudFNjaGVtYSIsImdlbmVyaWNFdmVudFNjaGVtYSIsInJlYWx0aW1lU2VydmVyRXZlbnRTY2hlbWEiLCJwYXJzZVJlYWx0aW1lRXZlbnQiLCJyYXciLCJnZW5lcmljUGFyc2VkIiwiREVGQVVMVF9PUEVOQUlfUkVBTFRJTUVfTU9ERUwiLCJERUZBVUxUX09QRU5BSV9SRUFMVElNRV9TRVNTSU9OX0NPTkZJRyIsIl9PcGVuQUlSZWFsdGltZUJhc2UiLCJfYXBpS2V5IiwiX3RyYWNpbmdDb25maWciLCJfcmF3U2Vzc2lvbkNvbmZpZyIsImFwaUtleSIsImlzR2VuZXJpYyIsImlucHV0VG9rZW5zIiwib3V0cHV0VG9rZW5zIiwidG90YWxUb2tlbnMiLCJ1c2FnZSIsInByZXZpb3VzSXRlbUlkIiwibWNwQXBwcm92YWxSZXF1ZXN0IiwibWNwQ2FsbCIsInJlYWx0aW1lSXRlbSIsIm90aGVyRXZlbnREYXRhIiwidHJpZ2dlclJlc3BvbnNlIiwiaW1hZ2UiLCJuZXdDb25maWciLCJzZXNzaW9uRGF0YSIsIl9qIiwiX2kiLCJfbCIsIl9uIiwiX20iLCJfcCIsIl9vIiwiX3IiLCJfcSIsIl90IiwiX3MiLCJfdiIsIl91IiwiX3ciLCJfeiIsIl95IiwiX0IiLCJfQSIsImNyZWF0ZVJlc3BvbnNlIiwiY3JlYXRlX3Jlc3BvbnNlIiwiZWFnZXJuZXNzIiwiaW50ZXJydXB0UmVzcG9uc2UiLCJpbnRlcnJ1cHRfcmVzcG9uc2UiLCJwcmVmaXhQYWRkaW5nTXMiLCJwcmVmaXhfcGFkZGluZ19tcyIsInNpbGVuY2VEdXJhdGlvbk1zIiwic2lsZW5jZV9kdXJhdGlvbl9tcyIsInRocmVzaG9sZCIsImlkbGVUaW1lb3V0TXMiLCJpZGxlX3RpbWVvdXRfbXMiLCJ0cmFjaW5nQ29uZmlnIiwic3RhcnRSZXNwb25zZSIsImF1ZGlvIiwiY29tbWl0IiwicmVtb3ZhbElkcyIsInVwZGF0ZSIsImFkZGl0aW9uc0FuZFVwZGF0ZXMiLCJhZGRpdGlvbiIsIml0ZW1FbnRyeSIsIk9wZW5BSVJlYWx0aW1lQmFzZSIsIk9wZW5BSVJlYWx0aW1lV2ViUlRDIiwiX3VybCIsIl9zdGF0ZSIsIl91c2VJbnNlY3VyZUFwaUtleSIsIl9vbmdvaW5nUmVzcG9uc2UiLCJfbXV0ZWQiLCJiYXNlVXJsIiwiaXNDbGllbnRLZXkiLCJ1c2VyU2Vzc2lvbkNvbmZpZyIsImNvbm5lY3Rpb25VcmwiLCJwZWVyQ29ubmVjdGlvbiIsImRhdGFDaGFubmVsIiwiYXR0YWNoQ29ubmVjdGlvblN0YXRlSGFuZGxlciIsImNvbm5lY3Rpb24iLCJhdWRpb0VsZW1lbnQiLCJvcmlnaW5hbFBlZXJDb25uZWN0aW9uIiwib2ZmZXIiLCJzZHBSZXNwb25zZSIsImFuc3dlciIsIm11dGVkIiwic2VuZGVyIiwiV2ViU29ja2V0IiwiT3BlbkFJUmVhbHRpbWVXZWJTb2NrZXQiLCJfT3BlbkFJUmVhbHRpbWVXZWJTb2NrZXRfaW5zdGFuY2VzIiwiX2RlZmF1bHRVcmwiLCJfY3VycmVudEl0ZW1JZCIsIl9jdXJyZW50QXVkaW9Db250ZW50SW5kZXgiLCJfY3JlYXRlV2ViU29ja2V0IiwiX3NraXBPcGVuRXZlbnRMaXN0ZW5lcnMiLCJhdWRpb0V2ZW50IiwicmVzZXRBdWRpb1BsYXliYWNrU3RhdGVfZm4iLCJ1cmwiLCJzZXNzaW9uQ29uZmlnIiwic2V0dXBXZWJTb2NrZXRfZm4iLCJlbGFwc2VkVGltZSIsImNhbmNlbE9uZ29pbmdSZXNwb25zZSIsImxlbmd0aCIsImF1ZGlvX2VuZF9tcyIsIndzIiwid2Vic29ja2V0QXJndW1lbnRzIiwib25Tb2NrZXRPcGVuUmVhZHkiLCJidWZmIiwiZm10IiwicmF0ZSIsImF1dG9tYXRpY1Jlc3BvbnNlQ2FuY2VsbGF0aW9uRW5hYmxlZCIsIkJBQ0tHUk9VTkRfUkVTVUxUX1NZTUJPTCIsImJhY2tncm91bmRSZXN1bHQiLCJpc0JhY2tncm91bmRSZXN1bHQiLCJpc1ZhbGlkUmVhbHRpbWVUb29sIiwidG9SZWFsdGltZVRvb2xEZWZpbml0aW9uIiwic2VydmVyVXJsIiwiY2xvbmVEZWZhdWx0U2Vzc2lvbkNvbmZpZyIsIl9SZWFsdGltZVNlc3Npb24iLCJfUmVhbHRpbWVTZXNzaW9uX2luc3RhbmNlcyIsIl90cmFuc3BvcnQiLCJfY3VycmVudEFnZW50IiwiX2N1cnJlbnRUb29scyIsIl9vdXRwdXRHdWFyZHJhaWxzIiwiX291dHB1dEd1YXJkcmFpbFNldHRpbmdzIiwiX3RyYW5zY3JpYmVkVGV4dERlbHRhcyIsIl9oaXN0b3J5IiwiX3Nob3VsZEluY2x1ZGVBdWRpb0RhdGEiLCJfaW50ZXJydXB0ZWRCeUd1YXJkcmFpbCIsIl9hdWRpb1N0YXJ0ZWQiLCJfYWxsTWNwVG9vbHNCeVNlcnZlciIsIl9hdmFpbGFibGVNY3BUb29scyIsIl9sYXN0U2Vzc2lvbkNvbmZpZyIsIl9hdXRvbWF0aWNhbGx5VHJpZ2dlclJlc3BvbnNlRm9yTWNwVG9vbENhbGxzIiwib3ZlcnJpZGVzIiwic2V0Q3VycmVudEFnZW50X2ZuIiwiZ2V0U2Vzc2lvbkNvbmZpZ19mbiIsInNldEV2ZW50TGlzdGVuZXJzX2ZuIiwidXBkYXRlZEhpc3RvcnkiLCJoYW5kbGVGdW5jdGlvblRvb2xDYWxsX2ZuIiwiaGFuZG9mZlRvb2xzIiwiaGFzVG9vbHNEZWZpbmVkIiwiaGFzSGFuZG9mZnNEZWZpbmVkIiwidXBkYXRlQXZhaWxhYmxlTWNwVG9vbHNfZm4iLCJhZGRpdGlvbmFsQ29uZmlnIiwib3ZlcnJpZGVzQ29uZmlnIiwib3B0aW9uc0NvbmZpZyIsImluc3RydWN0aW9ucyIsImdldEF1ZGlvT3V0cHV0Vm9pY2VPdmVycmlkZSIsImF1ZGlvQ29uZmlnIiwiYXVkaW9PdXRwdXRWb2ljZU92ZXJyaWRlIiwidG9wTGV2ZWxWb2ljZU92ZXJyaWRlIiwicmVzb2x2ZWRWb2ljZSIsImZ1bGxDb25maWciLCJoYW5kbGVIYW5kb2ZmX2ZuIiwiaGFuZGxlRnVuY3Rpb25DYWxsX2ZuIiwiZW5hYmxlZEhhbmRvZmZzIiwiZnVuY3Rpb25Ub29sTWFwIiwicG9zc2libGVIYW5kb2ZmIiwicmVzcG9uc2VJZCIsImZpcnN0VHJpcHdpcmVUcmlnZ2VyZWQiLCJmZWVkYmFja1RleHQiLCJjb21wbGV0ZWRFdmVudCIsInRleHRPdXRwdXQiLCJsYXN0UnVuSW5kZXgiLCJsYXN0SXRlbUlkIiwiZGVsdGEiLCJuZXdUZXh0IiwibmV3UnVuSW5kZXgiLCJpc05ldyIsImFkZGVkSXRlbSIsImFjdGl2ZU1jcENvbmZpZ3MiLCJhbGxvd2VkRnJvbUNvbmZpZyIsImNmZyIsImRlZHVwQnlOYW1lIiwicHJldiIsIlJlYWx0aW1lU2Vzc2lvbiIsIk9wZW5BSVJlYWx0aW1lU0lQIiwiX2F1ZGlvIiwidXRpbHMiLCJ1dGlsSW1wb3J0LmJhc2U2NFRvQXJyYXlCdWZmZXIiLCJ1dGlsSW1wb3J0LmFycmF5QnVmZmVyVG9CYXNlNjQiLCJ1dGlsSW1wb3J0LmdldExhc3RUZXh0RnJvbUF1ZGlvT3V0cHV0TWVzc2FnZSJdLCJtYXBwaW5ncyI6Ijs7Ozs7OztBQUNPLE1BQU1BLEtBQVc7QUFBQSxFQUVwQixTQUFXO0FBS2Y7QUNSTyxlQUFlQyxHQUFZQyxHQUFJO0FBQ2xDLE1BQUk7QUFDQSxXQUFPLENBQUMsTUFBTSxNQUFNQSxHQUFJO0FBQUEsRUFDNUIsU0FDT0MsR0FBTztB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eUIsRUFBQSxNQUFLNjVCLElBQXFCLElBQUkyQyxFQUFJLFlBQVksS0FBSyxDQUFBLEdBQzNEbitCLElBQVVrK0IsRUFBa0JDLENBQUc7QUFDckMsZUFBV25zQyxLQUFRa087QUFDZixNQUFJRixLQUFXLENBQUNBLEVBQVEsU0FBU2hPLEVBQUssSUFBSSxLQUVyQ29zQyxFQUFZLElBQUlwc0MsRUFBSyxJQUFJLEtBQzFCb3NDLEVBQVksSUFBSXBzQyxFQUFLLE1BQU1BLENBQUk7QUFBQSxFQUczQztBQUNBLFFBQU0rRCxJQUFPLE1BQU0sS0FBS3FvQyxFQUFZLE9BQU0sQ0FBRSxHQUN0Q0MsSUFBTzE4QixFQUFBLE1BQUs4NUI7QUFJbEIsR0FIZ0I0QyxFQUFLLFdBQVd0b0MsRUFBSyxVQUNqQyxLQUFLLFVBQVVzb0MsRUFBSyxJQUFJLENBQUNoL0IsTUFBTUEsRUFBRSxJQUFJLEVBQUUsTUFBTSxNQUN6QyxLQUFLLFVBQVV0SixFQUFLLElBQUksQ0FBQ3NKLE1BQU1BLEVBQUUsSUFBSSxFQUFFLE1BQU0sT0FFakQ0TCxFQUFBLE1BQUt3d0IsSUFBcUIxbEMsSUFDMUIsS0FBSyxLQUFLLHFCQUFxQjRMLEVBQUEsTUFBSzg1QixHQUFrQjtBQUU5RDtBQTdoQkcsSUFBTTZDLEtBQU4xRDtBQ3hDQSxNQUFNMkQsV0FBMEJ6RixHQUF3QjtBQUFBLEVBQzNELFlBQVluK0MsSUFBVSxJQUFJO0FBQ3RCLFVBQU1BLENBQU87QUFBQSxFQUNqQjtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUEsRUFjQSxhQUFhLG1CQUFtQnlqQixHQUFPempCLElBQVUsQ0FBQSxHQUFJaWhELElBQVksQ0FBQSxHQUFJO0FBQ2pFLFVBQU1wQyxJQUFnQixNQUFNOEUsR0FBZ0IsNEJBQTRCbGdDLEdBQU96akIsR0FBU2loRCxDQUFTO0FBRWpHLFdBRGtCLElBQUkyQyxHQUFpQixFQUN0QixvQkFBb0IvRSxDQUFhO0FBQUEsRUFDdEQ7QUFBQSxFQUNBLFVBQVVnRixHQUFReGpELElBQVcsSUFBSTtBQUc3QixVQUFNLElBQUksTUFBTSw2RkFBNkY7QUFBQSxFQUNqSDtBQUFBLEVBQ0EsTUFBTSxRQUFRTCxHQUFTO0FBQ25CLFFBQUksQ0FBQ0EsRUFBUTtBQUNULFlBQU0sSUFBSTJaLEdBQVUsNkRBQTZEO0FBRXJGLFVBQU0sTUFBTSxRQUFRM1osQ0FBTztBQUFBLEVBQy9CO0FBQ0o7QUNoQ1ksTUFBQzhqRCxLQUFRO0FBQUEsRUFDakIscUJBQXFCQztBQUFBQSxFQUNyQixxQkFBcUJDO0FBQUFBLEVBQ3JCLG1DQUFtQ0M7QUFDdkM7IiwieF9nb29nbGVfaWdub3JlTGlzdCI6WzIsMyw0LDUsNiw3LDgsOSwxMCwxMSwxMiwxMywxNCwxNSwxNiwxNywxOCwxOSwyMCwyMSwyMiwyMywyNCwyNSwyNiwyNywyOCwyOSwzMCwzMSwzMiwzMywzNCwzNSwzNiwzNywzOCwzOSw0MCw0MSw0Miw0Myw0NCw0NSw0Niw0Nyw0OCw0OSw1MCw1MSw1Nyw1OCw1OV19
